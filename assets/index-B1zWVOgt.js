function kI(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function W_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Qh={exports:{}},Il={},Gh={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function DI(){if(v0)return Ue;v0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),w=Symbol.iterator;function g(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function I(U,Z,pe){this.props=U,this.context=Z,this.refs=S,this.updater=pe||T}I.prototype.isReactComponent={},I.prototype.setState=function(U,Z){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Z,"setState")},I.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function A(){}A.prototype=I.prototype;function k(U,Z,pe){this.props=U,this.context=Z,this.refs=S,this.updater=pe||T}var L=k.prototype=new A;L.constructor=k,C(L,I.prototype),L.isPureReactComponent=!0;var z=Array.isArray,W=Object.prototype.hasOwnProperty,X={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function N(U,Z,pe){var Ce,Re={},je=null,he=null;if(Z!=null)for(Ce in Z.ref!==void 0&&(he=Z.ref),Z.key!==void 0&&(je=""+Z.key),Z)W.call(Z,Ce)&&!D.hasOwnProperty(Ce)&&(Re[Ce]=Z[Ce]);var Ee=arguments.length-2;if(Ee===1)Re.children=pe;else if(1<Ee){for(var Le=Array(Ee),ke=0;ke<Ee;ke++)Le[ke]=arguments[ke+2];Re.children=Le}if(U&&U.defaultProps)for(Ce in Ee=U.defaultProps,Ee)Re[Ce]===void 0&&(Re[Ce]=Ee[Ce]);return{$$typeof:n,type:U,key:je,ref:he,props:Re,_owner:X.current}}function O(U,Z){return{$$typeof:n,type:U.type,key:Z,ref:U.ref,props:U.props,_owner:U._owner}}function V(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function F(U){var Z={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(pe){return Z[pe]})}var P=/\/+/g;function j(U,Z){return typeof U=="object"&&U!==null&&U.key!=null?F(""+U.key):Z.toString(36)}function ee(U,Z,pe,Ce,Re){var je=typeof U;(je==="undefined"||je==="boolean")&&(U=null);var he=!1;if(U===null)he=!0;else switch(je){case"string":case"number":he=!0;break;case"object":switch(U.$$typeof){case n:case e:he=!0}}if(he)return he=U,Re=Re(he),U=Ce===""?"."+j(he,0):Ce,z(Re)?(pe="",U!=null&&(pe=U.replace(P,"$&/")+"/"),ee(Re,Z,pe,"",function(ke){return ke})):Re!=null&&(V(Re)&&(Re=O(Re,pe+(!Re.key||he&&he.key===Re.key?"":(""+Re.key).replace(P,"$&/")+"/")+U)),Z.push(Re)),1;if(he=0,Ce=Ce===""?".":Ce+":",z(U))for(var Ee=0;Ee<U.length;Ee++){je=U[Ee];var Le=Ce+j(je,Ee);he+=ee(je,Z,pe,Le,Re)}else if(Le=g(U),typeof Le=="function")for(U=Le.call(U),Ee=0;!(je=U.next()).done;)je=je.value,Le=Ce+j(je,Ee++),he+=ee(je,Z,pe,Le,Re);else if(je==="object")throw Z=String(U),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return he}function se(U,Z,pe){if(U==null)return U;var Ce=[],Re=0;return ee(U,Ce,"","",function(je){return Z.call(pe,je,Re++)}),Ce}function ce(U){if(U._status===-1){var Z=U._result;Z=Z(),Z.then(function(pe){(U._status===0||U._status===-1)&&(U._status=1,U._result=pe)},function(pe){(U._status===0||U._status===-1)&&(U._status=2,U._result=pe)}),U._status===-1&&(U._status=0,U._result=Z)}if(U._status===1)return U._result.default;throw U._result}var de={current:null},G={transition:null},te={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:G,ReactCurrentOwner:X};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:se,forEach:function(U,Z,pe){se(U,function(){Z.apply(this,arguments)},pe)},count:function(U){var Z=0;return se(U,function(){Z++}),Z},toArray:function(U){return se(U,function(Z){return Z})||[]},only:function(U){if(!V(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ue.Component=I,Ue.Fragment=t,Ue.Profiler=i,Ue.PureComponent=k,Ue.StrictMode=r,Ue.Suspense=f,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Ue.act=le,Ue.cloneElement=function(U,Z,pe){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Ce=C({},U.props),Re=U.key,je=U.ref,he=U._owner;if(Z!=null){if(Z.ref!==void 0&&(je=Z.ref,he=X.current),Z.key!==void 0&&(Re=""+Z.key),U.type&&U.type.defaultProps)var Ee=U.type.defaultProps;for(Le in Z)W.call(Z,Le)&&!D.hasOwnProperty(Le)&&(Ce[Le]=Z[Le]===void 0&&Ee!==void 0?Ee[Le]:Z[Le])}var Le=arguments.length-2;if(Le===1)Ce.children=pe;else if(1<Le){Ee=Array(Le);for(var ke=0;ke<Le;ke++)Ee[ke]=arguments[ke+2];Ce.children=Ee}return{$$typeof:n,type:U.type,key:Re,ref:je,props:Ce,_owner:he}},Ue.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Ue.createElement=N,Ue.createFactory=function(U){var Z=N.bind(null,U);return Z.type=U,Z},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(U){return{$$typeof:c,render:U}},Ue.isValidElement=V,Ue.lazy=function(U){return{$$typeof:m,_payload:{_status:-1,_result:U},_init:ce}},Ue.memo=function(U,Z){return{$$typeof:h,type:U,compare:Z===void 0?null:Z}},Ue.startTransition=function(U){var Z=G.transition;G.transition={};try{U()}finally{G.transition=Z}},Ue.unstable_act=le,Ue.useCallback=function(U,Z){return de.current.useCallback(U,Z)},Ue.useContext=function(U){return de.current.useContext(U)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(U){return de.current.useDeferredValue(U)},Ue.useEffect=function(U,Z){return de.current.useEffect(U,Z)},Ue.useId=function(){return de.current.useId()},Ue.useImperativeHandle=function(U,Z,pe){return de.current.useImperativeHandle(U,Z,pe)},Ue.useInsertionEffect=function(U,Z){return de.current.useInsertionEffect(U,Z)},Ue.useLayoutEffect=function(U,Z){return de.current.useLayoutEffect(U,Z)},Ue.useMemo=function(U,Z){return de.current.useMemo(U,Z)},Ue.useReducer=function(U,Z,pe){return de.current.useReducer(U,Z,pe)},Ue.useRef=function(U){return de.current.useRef(U)},Ue.useState=function(U){return de.current.useState(U)},Ue.useSyncExternalStore=function(U,Z,pe){return de.current.useSyncExternalStore(U,Z,pe)},Ue.useTransition=function(){return de.current.useTransition()},Ue.version="18.3.1",Ue}var w0;function Vm(){return w0||(w0=1,Gh.exports=DI()),Gh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function MI(){if(_0)return Il;_0=1;var n=Vm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,h){var m,w={},g=null,T=null;h!==void 0&&(g=""+h),f.key!==void 0&&(g=""+f.key),f.ref!==void 0&&(T=f.ref);for(m in f)r.call(f,m)&&!a.hasOwnProperty(m)&&(w[m]=f[m]);if(c&&c.defaultProps)for(m in f=c.defaultProps,f)w[m]===void 0&&(w[m]=f[m]);return{$$typeof:e,type:c,key:g,ref:T,props:w,_owner:i.current}}return Il.Fragment=t,Il.jsx=l,Il.jsxs=l,Il}var x0;function OI(){return x0||(x0=1,Qh.exports=MI()),Qh.exports}var v=OI(),E=Vm();const nt=W_(E),K_=kI({__proto__:null,default:nt},[E]);var Lc={},Yh={exports:{}},mn={},Xh={exports:{}},Jh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function LI(){return E0||(E0=1,function(n){function e(G,te){var le=G.length;G.push(te);e:for(;0<le;){var U=le-1>>>1,Z=G[U];if(0<i(Z,te))G[U]=te,G[le]=Z,le=U;else break e}}function t(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var te=G[0],le=G.pop();if(le!==te){G[0]=le;e:for(var U=0,Z=G.length,pe=Z>>>1;U<pe;){var Ce=2*(U+1)-1,Re=G[Ce],je=Ce+1,he=G[je];if(0>i(Re,le))je<Z&&0>i(he,Re)?(G[U]=he,G[je]=le,U=je):(G[U]=Re,G[Ce]=le,U=Ce);else if(je<Z&&0>i(he,le))G[U]=he,G[je]=le,U=je;else break e}}return te}function i(G,te){var le=G.sortIndex-te.sortIndex;return le!==0?le:G.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],h=[],m=1,w=null,g=3,T=!1,C=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(G){for(var te=t(h);te!==null;){if(te.callback===null)r(h);else if(te.startTime<=G)r(h),te.sortIndex=te.expirationTime,e(f,te);else break;te=t(h)}}function z(G){if(S=!1,L(G),!C)if(t(f)!==null)C=!0,ce(W);else{var te=t(h);te!==null&&de(z,te.startTime-G)}}function W(G,te){C=!1,S&&(S=!1,A(N),N=-1),T=!0;var le=g;try{for(L(te),w=t(f);w!==null&&(!(w.expirationTime>te)||G&&!F());){var U=w.callback;if(typeof U=="function"){w.callback=null,g=w.priorityLevel;var Z=U(w.expirationTime<=te);te=n.unstable_now(),typeof Z=="function"?w.callback=Z:w===t(f)&&r(f),L(te)}else r(f);w=t(f)}if(w!==null)var pe=!0;else{var Ce=t(h);Ce!==null&&de(z,Ce.startTime-te),pe=!1}return pe}finally{w=null,g=le,T=!1}}var X=!1,D=null,N=-1,O=5,V=-1;function F(){return!(n.unstable_now()-V<O)}function P(){if(D!==null){var G=n.unstable_now();V=G;var te=!0;try{te=D(!0,G)}finally{te?j():(X=!1,D=null)}}else X=!1}var j;if(typeof k=="function")j=function(){k(P)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,se=ee.port2;ee.port1.onmessage=P,j=function(){se.postMessage(null)}}else j=function(){I(P,0)};function ce(G){D=G,X||(X=!0,j())}function de(G,te){N=I(function(){G(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){C||T||(C=!0,ce(W))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(G){switch(g){case 1:case 2:case 3:var te=3;break;default:te=g}var le=g;g=te;try{return G()}finally{g=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var le=g;g=G;try{return te()}finally{g=le}},n.unstable_scheduleCallback=function(G,te,le){var U=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?U+le:U):le=U,G){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=le+Z,G={id:m++,callback:te,priorityLevel:G,startTime:le,expirationTime:Z,sortIndex:-1},le>U?(G.sortIndex=le,e(h,G),t(f)===null&&G===t(h)&&(S?(A(N),N=-1):S=!0,de(z,le-U))):(G.sortIndex=Z,e(f,G),C||T||(C=!0,ce(W))),G},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(G){var te=g;return function(){var le=g;g=te;try{return G.apply(this,arguments)}finally{g=le}}}}(Jh)),Jh}var C0;function jI(){return C0||(C0=1,Xh.exports=LI()),Xh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function VI(){if(S0)return mn;S0=1;var n=Vm(),e=jI();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},w={};function g(s){return f.call(w,s)?!0:f.call(m,s)?!1:h.test(s)?w[s]=!0:(m[s]=!0,!1)}function T(s,o,u,p){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function C(s,o,u,p){if(o===null||typeof o>"u"||T(s,o,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(s,o,u,p,y,x,R){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=x,this.removeEmptyString=R}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){I[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];I[o]=new S(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){I[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){I[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){I[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){I[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){I[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){I[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){I[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function k(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(A,k);I[o]=new S(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(A,k);I[o]=new S(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(A,k);I[o]=new S(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){I[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),I.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){I[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function L(s,o,u,p){var y=I.hasOwnProperty(o)?I[o]:null;(y!==null?y.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(C(o,u,y,p)&&(u=null),p||y===null?g(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):y.mustUseProperty?s[y.propertyName]=u===null?y.type===3?!1:"":u:(o=y.attributeName,p=y.attributeNamespace,u===null?s.removeAttribute(o):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,p?s.setAttributeNS(p,o,u):s.setAttribute(o,u))))}var z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),X=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),F=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),G=Symbol.iterator;function te(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,U;function Z(s){if(U===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+s}var pe=!1;function Ce(s,o){if(!s||pe)return"";pe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var p=Y}Reflect.construct(s,[],o)}else{try{o.call()}catch(Y){p=Y}s.call(o.prototype)}else{try{throw Error()}catch(Y){p=Y}s()}}catch(Y){if(Y&&p&&typeof Y.stack=="string"){for(var y=Y.stack.split(`
`),x=p.stack.split(`
`),R=y.length-1,$=x.length-1;1<=R&&0<=$&&y[R]!==x[$];)$--;for(;1<=R&&0<=$;R--,$--)if(y[R]!==x[$]){if(R!==1||$!==1)do if(R--,$--,0>$||y[R]!==x[$]){var B=`
`+y[R].replace(" at new "," at ");return s.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",s.displayName)),B}while(1<=R&&0<=$);break}}}finally{pe=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?Z(s):""}function Re(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=Ce(s.type,!1),s;case 11:return s=Ce(s.type.render,!1),s;case 1:return s=Ce(s.type,!0),s;default:return""}}function je(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case X:return"Portal";case O:return"Profiler";case N:return"StrictMode";case j:return"Suspense";case ee:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case F:return(s.displayName||"Context")+".Consumer";case V:return(s._context.displayName||"Context")+".Provider";case P:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case se:return o=s.displayName||null,o!==null?o:je(s.type)||"Memo";case ce:o=s._payload,s=s._init;try{return je(s(o))}catch{}}return null}function he(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(o);case 8:return o===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ee(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Le(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ke(s){var o=Le(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),p=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,x=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(R){p=""+R,x.call(this,R)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(R){p=""+R},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function ze(s){s._valueTracker||(s._valueTracker=ke(s))}function Ke(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return s&&(p=Le(s)?s.checked?"true":"false":s.value),s=p,s!==u?(o.setValue(s),!0):!1}function vt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ot(s,o){var u=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Nn(s,o){var u=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;u=Ee(o.value!=null?o.value:u),s._wrapperState={initialChecked:p,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Bn(s,o){o=o.checked,o!=null&&L(s,"checked",o,!1)}function Hn(s,o){Bn(s,o);var u=Ee(o.value),p=o.type;if(u!=null)p==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Wn(s,o.type,u):o.hasOwnProperty("defaultValue")&&Wn(s,o.type,Ee(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function ro(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function Wn(s,o,u){(o!=="number"||vt(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Ur=Array.isArray;function Br(s,o,u,p){if(s=s.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=o.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&p&&(s[u].defaultSelected=!0)}else{for(u=""+Ee(u),o=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,p&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function Ma(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function so(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(Ur(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:Ee(u)}}function io(s,o){var u=Ee(o.value),p=Ee(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),p!=null&&(s.defaultValue=""+p)}function Oa(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Rt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Rt(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Hr,La=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,p,y){MSApp.execUnsafeLocalFunction(function(){return s(o,u,p,y)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Hr=Hr||document.createElement("div"),Hr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Hr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function ms(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pi=["Webkit","ms","Moz","O"];Object.keys(hi).forEach(function(s){pi.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),hi[o]=hi[s]})});function ja(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||hi.hasOwnProperty(s)&&hi[s]?(""+o).trim():o+"px"}function Va(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var p=u.indexOf("--")===0,y=ja(u,o[u],p);u==="float"&&(u="cssFloat"),p?s.setProperty(u,y):s[u]=y}}var Fa=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $a(s,o){if(o){if(Fa[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function za(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mi=null;function oo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ao=null,Pn=null,gr=null;function lo(s){if(s=dl(s)){if(typeof ao!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Xu(o),ao(s.stateNode,s.type,o))}}function yr(s){Pn?gr?gr.push(s):gr=[s]:Pn=s}function Ua(){if(Pn){var s=Pn,o=gr;if(gr=Pn=null,lo(s),o)for(s=0;s<o.length;s++)lo(o[s])}}function gi(s,o){return s(o)}function Ba(){}var Wr=!1;function Ha(s,o,u){if(Wr)return s(o,u);Wr=!0;try{return gi(s,o,u)}finally{Wr=!1,(Pn!==null||gr!==null)&&(Ba(),Ua())}}function Et(s,o){var u=s.stateNode;if(u===null)return null;var p=Xu(u);if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var uo=!1;if(c)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){uo=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{uo=!1}function yi(s,o,u,p,y,x,R,$,B){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(u,Y)}catch(oe){this.onError(oe)}}var vi=!1,co=null,qn=!1,Wa=null,Ef={onError:function(s){vi=!0,co=s}};function fo(s,o,u,p,y,x,R,$,B){vi=!1,co=null,yi.apply(Ef,arguments)}function Eu(s,o,u,p,y,x,R,$,B){if(fo.apply(this,arguments),vi){if(vi){var Y=co;vi=!1,co=null}else throw Error(t(198));qn||(qn=!0,Wa=Y)}}function Qn(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function wi(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Gn(s){if(Qn(s)!==s)throw Error(t(188))}function Cu(s){var o=s.alternate;if(!o){if(o=Qn(s),o===null)throw Error(t(188));return o!==s?null:s}for(var u=s,p=o;;){var y=u.return;if(y===null)break;var x=y.alternate;if(x===null){if(p=y.return,p!==null){u=p;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===u)return Gn(y),s;if(x===p)return Gn(y),o;x=x.sibling}throw Error(t(188))}if(u.return!==p.return)u=y,p=x;else{for(var R=!1,$=y.child;$;){if($===u){R=!0,u=y,p=x;break}if($===p){R=!0,p=y,u=x;break}$=$.sibling}if(!R){for($=x.child;$;){if($===u){R=!0,u=x,p=y;break}if($===p){R=!0,p=x,u=y;break}$=$.sibling}if(!R)throw Error(t(189))}}if(u.alternate!==p)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:o}function Ka(s){return s=Cu(s),s!==null?ho(s):null}function ho(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=ho(s);if(o!==null)return o;s=s.sibling}return null}var po=e.unstable_scheduleCallback,qa=e.unstable_cancelCallback,Su=e.unstable_shouldYield,Cf=e.unstable_requestPaint,rt=e.unstable_now,Tu=e.unstable_getCurrentPriorityLevel,_i=e.unstable_ImmediatePriority,gs=e.unstable_UserBlockingPriority,kn=e.unstable_NormalPriority,Qa=e.unstable_LowPriority,Iu=e.unstable_IdlePriority,xi=null,wn=null;function bu(s){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(xi,s,void 0,(s.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:Ru,Ga=Math.log,Au=Math.LN2;function Ru(s){return s>>>=0,s===0?32:31-(Ga(s)/Au|0)|0}var mo=64,go=4194304;function ys(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ei(s,o){var u=s.pendingLanes;if(u===0)return 0;var p=0,y=s.suspendedLanes,x=s.pingedLanes,R=u&268435455;if(R!==0){var $=R&~y;$!==0?p=ys($):(x&=R,x!==0&&(p=ys(x)))}else R=u&~y,R!==0?p=ys(R):x!==0&&(p=ys(x));if(p===0)return 0;if(o!==0&&o!==p&&(o&y)===0&&(y=p&-p,x=o&-o,y>=x||y===16&&(x&4194240)!==0))return o;if((p&4)!==0&&(p|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=p;0<o;)u=31-rn(o),y=1<<u,p|=s[u],o&=~y;return p}function Sf(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kr(s,o){for(var u=s.suspendedLanes,p=s.pingedLanes,y=s.expirationTimes,x=s.pendingLanes;0<x;){var R=31-rn(x),$=1<<R,B=y[R];B===-1?(($&u)===0||($&p)!==0)&&(y[R]=Sf($,o)):B<=o&&(s.expiredLanes|=$),x&=~$}}function _n(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ci(){var s=mo;return mo<<=1,(mo&4194240)===0&&(mo=64),s}function vs(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function ws(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-rn(o),s[o]=u}function tt(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<u;){var y=31-rn(u),x=1<<y;o[y]=0,p[y]=-1,s[y]=-1,u&=~x}}function _s(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var p=31-rn(u),y=1<<p;y&o|s[p]&o&&(s[p]|=o),u&=~y}}var qe=0;function xs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Nu,yo,Pu,ku,Du,Ya=!1,vr=[],zt=null,Yn=null,Xn=null,Es=new Map,Dn=new Map,wr=[],Tf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mu(s,o){switch(s){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":Es.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dn.delete(o.pointerId)}}function ln(s,o,u,p,y,x){return s===null||s.nativeEvent!==x?(s={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:x,targetContainers:[y]},o!==null&&(o=dl(o),o!==null&&yo(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function If(s,o,u,p,y){switch(o){case"focusin":return zt=ln(zt,s,o,u,p,y),!0;case"dragenter":return Yn=ln(Yn,s,o,u,p,y),!0;case"mouseover":return Xn=ln(Xn,s,o,u,p,y),!0;case"pointerover":var x=y.pointerId;return Es.set(x,ln(Es.get(x)||null,s,o,u,p,y)),!0;case"gotpointercapture":return x=y.pointerId,Dn.set(x,ln(Dn.get(x)||null,s,o,u,p,y)),!0}return!1}function Ou(s){var o=Ai(s.target);if(o!==null){var u=Qn(o);if(u!==null){if(o=u.tag,o===13){if(o=wi(u),o!==null){s.blockedOn=o,Du(s.priority,function(){Pu(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function qr(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=vo(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);mi=p,u.target.dispatchEvent(p),mi=null}else return o=dl(u),o!==null&&yo(o),s.blockedOn=u,!1;o.shift()}return!0}function Si(s,o,u){qr(s)&&u.delete(o)}function Lu(){Ya=!1,zt!==null&&qr(zt)&&(zt=null),Yn!==null&&qr(Yn)&&(Yn=null),Xn!==null&&qr(Xn)&&(Xn=null),Es.forEach(Si),Dn.forEach(Si)}function Jn(s,o){s.blockedOn===o&&(s.blockedOn=null,Ya||(Ya=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Lu)))}function Zn(s){function o(y){return Jn(y,s)}if(0<vr.length){Jn(vr[0],s);for(var u=1;u<vr.length;u++){var p=vr[u];p.blockedOn===s&&(p.blockedOn=null)}}for(zt!==null&&Jn(zt,s),Yn!==null&&Jn(Yn,s),Xn!==null&&Jn(Xn,s),Es.forEach(o),Dn.forEach(o),u=0;u<wr.length;u++)p=wr[u],p.blockedOn===s&&(p.blockedOn=null);for(;0<wr.length&&(u=wr[0],u.blockedOn===null);)Ou(u),u.blockedOn===null&&wr.shift()}var Qr=z.ReactCurrentBatchConfig,Cs=!0;function dt(s,o,u,p){var y=qe,x=Qr.transition;Qr.transition=null;try{qe=1,Xa(s,o,u,p)}finally{qe=y,Qr.transition=x}}function bf(s,o,u,p){var y=qe,x=Qr.transition;Qr.transition=null;try{qe=4,Xa(s,o,u,p)}finally{qe=y,Qr.transition=x}}function Xa(s,o,u,p){if(Cs){var y=vo(s,o,u,p);if(y===null)Vf(s,o,p,Ti,u),Mu(s,p);else if(If(y,s,o,u,p))p.stopPropagation();else if(Mu(s,p),o&4&&-1<Tf.indexOf(s)){for(;y!==null;){var x=dl(y);if(x!==null&&Nu(x),x=vo(s,o,u,p),x===null&&Vf(s,o,p,Ti,u),x===y)break;y=x}y!==null&&p.stopPropagation()}else Vf(s,o,p,null,u)}}var Ti=null;function vo(s,o,u,p){if(Ti=null,s=oo(p),s=Ai(s),s!==null)if(o=Qn(s),o===null)s=null;else if(u=o.tag,u===13){if(s=wi(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Ti=s,null}function Ja(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tu()){case _i:return 1;case gs:return 4;case kn:case Qa:return 16;case Iu:return 536870912;default:return 16}default:return 16}}var xn=null,wo=null,un=null;function Za(){if(un)return un;var s,o=wo,u=o.length,p,y="value"in xn?xn.value:xn.textContent,x=y.length;for(s=0;s<u&&o[s]===y[s];s++);var R=u-s;for(p=1;p<=R&&o[u-p]===y[x-p];p++);return un=y.slice(s,1<p?1-p:void 0)}function _o(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function _r(){return!0}function el(){return!1}function Ut(s){function o(u,p,y,x,R){this._reactName=u,this._targetInst=y,this.type=p,this.nativeEvent=x,this.target=R,this.currentTarget=null;for(var $ in s)s.hasOwnProperty($)&&(u=s[$],this[$]=u?u(x):x[$]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?_r:el,this.isPropagationStopped=el,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),o}var er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xo=Ut(er),xr=le({},er,{view:0,detail:0}),Af=Ut(xr),Eo,Gr,Ss,Ii=le({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ss&&(Ss&&s.type==="mousemove"?(Eo=s.screenX-Ss.screenX,Gr=s.screenY-Ss.screenY):Gr=Eo=0,Ss=s),Eo)},movementY:function(s){return"movementY"in s?s.movementY:Gr}}),Co=Ut(Ii),tl=le({},Ii,{dataTransfer:0}),ju=Ut(tl),So=le({},xr,{relatedTarget:0}),To=Ut(So),Vu=le({},er,{animationName:0,elapsedTime:0,pseudoElement:0}),Yr=Ut(Vu),Fu=le({},er,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$u=Ut(Fu),zu=le({},er,{data:0}),nl=Ut(zu),Io={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Uu[s])?!!o[s]:!1}function Er(){return Bu}var d=le({},xr,{key:function(s){if(s.key){var o=Io[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=_o(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?sn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(s){return s.type==="keypress"?_o(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?_o(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_=Ut(d),b=le({},Ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M=Ut(b),K=le({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),J=Ut(K),fe=le({},er,{propertyName:0,elapsedTime:0,pseudoElement:0}),et=Ut(fe),Pt=le({},Ii,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Qe=Ut(Pt),Lt=[9,13,27,32],Tt=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var En=c&&"TextEvent"in window&&!Mn,bi=c&&(!Tt||Mn&&8<Mn&&11>=Mn),bo=" ",fy=!1;function hy(s,o){switch(s){case"keyup":return Lt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function py(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ao=!1;function RT(s,o){switch(s){case"compositionend":return py(o);case"keypress":return o.which!==32?null:(fy=!0,bo);case"textInput":return s=o.data,s===bo&&fy?null:s;default:return null}}function NT(s,o){if(Ao)return s==="compositionend"||!Tt&&hy(s,o)?(s=Za(),un=wo=xn=null,Ao=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return bi&&o.locale!=="ko"?null:o.data;default:return null}}var PT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function my(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!PT[s.type]:o==="textarea"}function gy(s,o,u,p){yr(p),o=Qu(o,"onChange"),0<o.length&&(u=new xo("onChange","change",null,u,p),s.push({event:u,listeners:o}))}var rl=null,sl=null;function kT(s){My(s,0)}function Hu(s){var o=Do(s);if(Ke(o))return s}function DT(s,o){if(s==="change")return o}var yy=!1;if(c){var Rf;if(c){var Nf="oninput"in document;if(!Nf){var vy=document.createElement("div");vy.setAttribute("oninput","return;"),Nf=typeof vy.oninput=="function"}Rf=Nf}else Rf=!1;yy=Rf&&(!document.documentMode||9<document.documentMode)}function wy(){rl&&(rl.detachEvent("onpropertychange",_y),sl=rl=null)}function _y(s){if(s.propertyName==="value"&&Hu(sl)){var o=[];gy(o,sl,s,oo(s)),Ha(kT,o)}}function MT(s,o,u){s==="focusin"?(wy(),rl=o,sl=u,rl.attachEvent("onpropertychange",_y)):s==="focusout"&&wy()}function OT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Hu(sl)}function LT(s,o){if(s==="click")return Hu(o)}function jT(s,o){if(s==="input"||s==="change")return Hu(o)}function VT(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var tr=typeof Object.is=="function"?Object.is:VT;function il(s,o){if(tr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var y=u[p];if(!f.call(o,y)||!tr(s[y],o[y]))return!1}return!0}function xy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ey(s,o){var u=xy(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=o&&p>=o)return{node:u,offset:o-s};s=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=xy(u)}}function Cy(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Cy(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Sy(){for(var s=window,o=vt();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=vt(s.document)}return o}function Pf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function FT(s){var o=Sy(),u=s.focusedElem,p=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&Cy(u.ownerDocument.documentElement,u)){if(p!==null&&Pf(u)){if(o=p.start,s=p.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var y=u.textContent.length,x=Math.min(p.start,y);p=p.end===void 0?x:Math.min(p.end,y),!s.extend&&x>p&&(y=p,p=x,x=y),y=Ey(u,x);var R=Ey(u,p);y&&R&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==R.node||s.focusOffset!==R.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),s.removeAllRanges(),x>p?(s.addRange(o),s.extend(R.node,R.offset)):(o.setEnd(R.node,R.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var $T=c&&"documentMode"in document&&11>=document.documentMode,Ro=null,kf=null,ol=null,Df=!1;function Ty(s,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Df||Ro==null||Ro!==vt(p)||(p=Ro,"selectionStart"in p&&Pf(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ol&&il(ol,p)||(ol=p,p=Qu(kf,"onSelect"),0<p.length&&(o=new xo("onSelect","select",null,o,u),s.push({event:o,listeners:p}),o.target=Ro)))}function Wu(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var No={animationend:Wu("Animation","AnimationEnd"),animationiteration:Wu("Animation","AnimationIteration"),animationstart:Wu("Animation","AnimationStart"),transitionend:Wu("Transition","TransitionEnd")},Mf={},Iy={};c&&(Iy=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Ku(s){if(Mf[s])return Mf[s];if(!No[s])return s;var o=No[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in Iy)return Mf[s]=o[u];return s}var by=Ku("animationend"),Ay=Ku("animationiteration"),Ry=Ku("animationstart"),Ny=Ku("transitionend"),Py=new Map,ky="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ts(s,o){Py.set(s,o),a(o,[s])}for(var Of=0;Of<ky.length;Of++){var Lf=ky[Of],zT=Lf.toLowerCase(),UT=Lf[0].toUpperCase()+Lf.slice(1);Ts(zT,"on"+UT)}Ts(by,"onAnimationEnd"),Ts(Ay,"onAnimationIteration"),Ts(Ry,"onAnimationStart"),Ts("dblclick","onDoubleClick"),Ts("focusin","onFocus"),Ts("focusout","onBlur"),Ts(Ny,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BT=new Set("cancel close invalid load scroll toggle".split(" ").concat(al));function Dy(s,o,u){var p=s.type||"unknown-event";s.currentTarget=u,Eu(p,o,void 0,s),s.currentTarget=null}function My(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],y=p.event;p=p.listeners;e:{var x=void 0;if(o)for(var R=p.length-1;0<=R;R--){var $=p[R],B=$.instance,Y=$.currentTarget;if($=$.listener,B!==x&&y.isPropagationStopped())break e;Dy(y,$,Y),x=B}else for(R=0;R<p.length;R++){if($=p[R],B=$.instance,Y=$.currentTarget,$=$.listener,B!==x&&y.isPropagationStopped())break e;Dy(y,$,Y),x=B}}}if(qn)throw s=Wa,qn=!1,Wa=null,s}function ot(s,o){var u=o[Hf];u===void 0&&(u=o[Hf]=new Set);var p=s+"__bubble";u.has(p)||(Oy(o,s,2,!1),u.add(p))}function jf(s,o,u){var p=0;o&&(p|=4),Oy(u,s,p,o)}var qu="_reactListening"+Math.random().toString(36).slice(2);function ll(s){if(!s[qu]){s[qu]=!0,r.forEach(function(u){u!=="selectionchange"&&(BT.has(u)||jf(u,!1,s),jf(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[qu]||(o[qu]=!0,jf("selectionchange",!1,o))}}function Oy(s,o,u,p){switch(Ja(o)){case 1:var y=dt;break;case 4:y=bf;break;default:y=Xa}u=y.bind(null,o,u,s),y=void 0,!uo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),p?y!==void 0?s.addEventListener(o,u,{capture:!0,passive:y}):s.addEventListener(o,u,!0):y!==void 0?s.addEventListener(o,u,{passive:y}):s.addEventListener(o,u,!1)}function Vf(s,o,u,p,y){var x=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var R=p.tag;if(R===3||R===4){var $=p.stateNode.containerInfo;if($===y||$.nodeType===8&&$.parentNode===y)break;if(R===4)for(R=p.return;R!==null;){var B=R.tag;if((B===3||B===4)&&(B=R.stateNode.containerInfo,B===y||B.nodeType===8&&B.parentNode===y))return;R=R.return}for(;$!==null;){if(R=Ai($),R===null)return;if(B=R.tag,B===5||B===6){p=x=R;continue e}$=$.parentNode}}p=p.return}Ha(function(){var Y=x,oe=oo(u),ae=[];e:{var ie=Py.get(s);if(ie!==void 0){var me=xo,we=s;switch(s){case"keypress":if(_o(u)===0)break e;case"keydown":case"keyup":me=_;break;case"focusin":we="focus",me=To;break;case"focusout":we="blur",me=To;break;case"beforeblur":case"afterblur":me=To;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=J;break;case by:case Ay:case Ry:me=Yr;break;case Ny:me=et;break;case"scroll":me=Af;break;case"wheel":me=Qe;break;case"copy":case"cut":case"paste":me=$u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=M}var _e=(o&4)!==0,Ct=!_e&&s==="scroll",q=_e?ie!==null?ie+"Capture":null:ie;_e=[];for(var H=Y,Q;H!==null;){Q=H;var ue=Q.stateNode;if(Q.tag===5&&ue!==null&&(Q=ue,q!==null&&(ue=Et(H,q),ue!=null&&_e.push(ul(H,ue,Q)))),Ct)break;H=H.return}0<_e.length&&(ie=new me(ie,we,null,u,oe),ae.push({event:ie,listeners:_e}))}}if((o&7)===0){e:{if(ie=s==="mouseover"||s==="pointerover",me=s==="mouseout"||s==="pointerout",ie&&u!==mi&&(we=u.relatedTarget||u.fromElement)&&(Ai(we)||we[Xr]))break e;if((me||ie)&&(ie=oe.window===oe?oe:(ie=oe.ownerDocument)?ie.defaultView||ie.parentWindow:window,me?(we=u.relatedTarget||u.toElement,me=Y,we=we?Ai(we):null,we!==null&&(Ct=Qn(we),we!==Ct||we.tag!==5&&we.tag!==6)&&(we=null)):(me=null,we=Y),me!==we)){if(_e=Co,ue="onMouseLeave",q="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(_e=M,ue="onPointerLeave",q="onPointerEnter",H="pointer"),Ct=me==null?ie:Do(me),Q=we==null?ie:Do(we),ie=new _e(ue,H+"leave",me,u,oe),ie.target=Ct,ie.relatedTarget=Q,ue=null,Ai(oe)===Y&&(_e=new _e(q,H+"enter",we,u,oe),_e.target=Q,_e.relatedTarget=Ct,ue=_e),Ct=ue,me&&we)t:{for(_e=me,q=we,H=0,Q=_e;Q;Q=Po(Q))H++;for(Q=0,ue=q;ue;ue=Po(ue))Q++;for(;0<H-Q;)_e=Po(_e),H--;for(;0<Q-H;)q=Po(q),Q--;for(;H--;){if(_e===q||q!==null&&_e===q.alternate)break t;_e=Po(_e),q=Po(q)}_e=null}else _e=null;me!==null&&Ly(ae,ie,me,_e,!1),we!==null&&Ct!==null&&Ly(ae,Ct,we,_e,!0)}}e:{if(ie=Y?Do(Y):window,me=ie.nodeName&&ie.nodeName.toLowerCase(),me==="select"||me==="input"&&ie.type==="file")var xe=DT;else if(my(ie))if(yy)xe=jT;else{xe=OT;var Te=MT}else(me=ie.nodeName)&&me.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(xe=LT);if(xe&&(xe=xe(s,Y))){gy(ae,xe,u,oe);break e}Te&&Te(s,ie,Y),s==="focusout"&&(Te=ie._wrapperState)&&Te.controlled&&ie.type==="number"&&Wn(ie,"number",ie.value)}switch(Te=Y?Do(Y):window,s){case"focusin":(my(Te)||Te.contentEditable==="true")&&(Ro=Te,kf=Y,ol=null);break;case"focusout":ol=kf=Ro=null;break;case"mousedown":Df=!0;break;case"contextmenu":case"mouseup":case"dragend":Df=!1,Ty(ae,u,oe);break;case"selectionchange":if($T)break;case"keydown":case"keyup":Ty(ae,u,oe)}var Ie;if(Tt)e:{switch(s){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Ao?hy(s,u)&&(Ne="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ne="onCompositionStart");Ne&&(bi&&u.locale!=="ko"&&(Ao||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Ao&&(Ie=Za()):(xn=oe,wo="value"in xn?xn.value:xn.textContent,Ao=!0)),Te=Qu(Y,Ne),0<Te.length&&(Ne=new nl(Ne,s,null,u,oe),ae.push({event:Ne,listeners:Te}),Ie?Ne.data=Ie:(Ie=py(u),Ie!==null&&(Ne.data=Ie)))),(Ie=En?RT(s,u):NT(s,u))&&(Y=Qu(Y,"onBeforeInput"),0<Y.length&&(oe=new nl("onBeforeInput","beforeinput",null,u,oe),ae.push({event:oe,listeners:Y}),oe.data=Ie))}My(ae,o)})}function ul(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Qu(s,o){for(var u=o+"Capture",p=[];s!==null;){var y=s,x=y.stateNode;y.tag===5&&x!==null&&(y=x,x=Et(s,u),x!=null&&p.unshift(ul(s,x,y)),x=Et(s,o),x!=null&&p.push(ul(s,x,y))),s=s.return}return p}function Po(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ly(s,o,u,p,y){for(var x=o._reactName,R=[];u!==null&&u!==p;){var $=u,B=$.alternate,Y=$.stateNode;if(B!==null&&B===p)break;$.tag===5&&Y!==null&&($=Y,y?(B=Et(u,x),B!=null&&R.unshift(ul(u,B,$))):y||(B=Et(u,x),B!=null&&R.push(ul(u,B,$)))),u=u.return}R.length!==0&&s.push({event:o,listeners:R})}var HT=/\r\n?/g,WT=/\u0000|\uFFFD/g;function jy(s){return(typeof s=="string"?s:""+s).replace(HT,`
`).replace(WT,"")}function Gu(s,o,u){if(o=jy(o),jy(s)!==o&&u)throw Error(t(425))}function Yu(){}var Ff=null,$f=null;function zf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Uf=typeof setTimeout=="function"?setTimeout:void 0,KT=typeof clearTimeout=="function"?clearTimeout:void 0,Vy=typeof Promise=="function"?Promise:void 0,qT=typeof queueMicrotask=="function"?queueMicrotask:typeof Vy<"u"?function(s){return Vy.resolve(null).then(s).catch(QT)}:Uf;function QT(s){setTimeout(function(){throw s})}function Bf(s,o){var u=o,p=0;do{var y=u.nextSibling;if(s.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(p===0){s.removeChild(y),Zn(o);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=y}while(u);Zn(o)}function Is(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Fy(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var ko=Math.random().toString(36).slice(2),Cr="__reactFiber$"+ko,cl="__reactProps$"+ko,Xr="__reactContainer$"+ko,Hf="__reactEvents$"+ko,GT="__reactListeners$"+ko,YT="__reactHandles$"+ko;function Ai(s){var o=s[Cr];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Xr]||u[Cr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=Fy(s);s!==null;){if(u=s[Cr])return u;s=Fy(s)}return o}s=u,u=s.parentNode}return null}function dl(s){return s=s[Cr]||s[Xr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Do(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Xu(s){return s[cl]||null}var Wf=[],Mo=-1;function bs(s){return{current:s}}function at(s){0>Mo||(s.current=Wf[Mo],Wf[Mo]=null,Mo--)}function st(s,o){Mo++,Wf[Mo]=s.current,s.current=o}var As={},Gt=bs(As),cn=bs(!1),Ri=As;function Oo(s,o){var u=s.type.contextTypes;if(!u)return As;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var y={},x;for(x in u)y[x]=o[x];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=y),y}function dn(s){return s=s.childContextTypes,s!=null}function Ju(){at(cn),at(Gt)}function $y(s,o,u){if(Gt.current!==As)throw Error(t(168));st(Gt,o),st(cn,u)}function zy(s,o,u){var p=s.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var y in p)if(!(y in o))throw Error(t(108,he(s)||"Unknown",y));return le({},u,p)}function Zu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||As,Ri=Gt.current,st(Gt,s),st(cn,cn.current),!0}function Uy(s,o,u){var p=s.stateNode;if(!p)throw Error(t(169));u?(s=zy(s,o,Ri),p.__reactInternalMemoizedMergedChildContext=s,at(cn),at(Gt),st(Gt,s)):at(cn),st(cn,u)}var Jr=null,ec=!1,Kf=!1;function By(s){Jr===null?Jr=[s]:Jr.push(s)}function XT(s){ec=!0,By(s)}function Rs(){if(!Kf&&Jr!==null){Kf=!0;var s=0,o=qe;try{var u=Jr;for(qe=1;s<u.length;s++){var p=u[s];do p=p(!0);while(p!==null)}Jr=null,ec=!1}catch(y){throw Jr!==null&&(Jr=Jr.slice(s+1)),po(_i,Rs),y}finally{qe=o,Kf=!1}}return null}var Lo=[],jo=0,tc=null,nc=0,On=[],Ln=0,Ni=null,Zr=1,es="";function Pi(s,o){Lo[jo++]=nc,Lo[jo++]=tc,tc=s,nc=o}function Hy(s,o,u){On[Ln++]=Zr,On[Ln++]=es,On[Ln++]=Ni,Ni=s;var p=Zr;s=es;var y=32-rn(p)-1;p&=~(1<<y),u+=1;var x=32-rn(o)+y;if(30<x){var R=y-y%5;x=(p&(1<<R)-1).toString(32),p>>=R,y-=R,Zr=1<<32-rn(o)+y|u<<y|p,es=x+s}else Zr=1<<x|u<<y|p,es=s}function qf(s){s.return!==null&&(Pi(s,1),Hy(s,1,0))}function Qf(s){for(;s===tc;)tc=Lo[--jo],Lo[jo]=null,nc=Lo[--jo],Lo[jo]=null;for(;s===Ni;)Ni=On[--Ln],On[Ln]=null,es=On[--Ln],On[Ln]=null,Zr=On[--Ln],On[Ln]=null}var Cn=null,Sn=null,ft=!1,nr=null;function Wy(s,o){var u=$n(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function Ky(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Cn=s,Sn=Is(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Cn=s,Sn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Ni!==null?{id:Zr,overflow:es}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=$n(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,Cn=s,Sn=null,!0):!1;default:return!1}}function Gf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Yf(s){if(ft){var o=Sn;if(o){var u=o;if(!Ky(s,o)){if(Gf(s))throw Error(t(418));o=Is(u.nextSibling);var p=Cn;o&&Ky(s,o)?Wy(p,u):(s.flags=s.flags&-4097|2,ft=!1,Cn=s)}}else{if(Gf(s))throw Error(t(418));s.flags=s.flags&-4097|2,ft=!1,Cn=s}}}function qy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Cn=s}function rc(s){if(s!==Cn)return!1;if(!ft)return qy(s),ft=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!zf(s.type,s.memoizedProps)),o&&(o=Sn)){if(Gf(s))throw Qy(),Error(t(418));for(;o;)Wy(s,o),o=Is(o.nextSibling)}if(qy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){Sn=Is(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}Sn=null}}else Sn=Cn?Is(s.stateNode.nextSibling):null;return!0}function Qy(){for(var s=Sn;s;)s=Is(s.nextSibling)}function Vo(){Sn=Cn=null,ft=!1}function Xf(s){nr===null?nr=[s]:nr.push(s)}var JT=z.ReactCurrentBatchConfig;function fl(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var p=u.stateNode}if(!p)throw Error(t(147,s));var y=p,x=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===x?o.ref:(o=function(R){var $=y.refs;R===null?delete $[x]:$[x]=R},o._stringRef=x,o)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function sc(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Gy(s){var o=s._init;return o(s._payload)}function Yy(s){function o(q,H){if(s){var Q=q.deletions;Q===null?(q.deletions=[H],q.flags|=16):Q.push(H)}}function u(q,H){if(!s)return null;for(;H!==null;)o(q,H),H=H.sibling;return null}function p(q,H){for(q=new Map;H!==null;)H.key!==null?q.set(H.key,H):q.set(H.index,H),H=H.sibling;return q}function y(q,H){return q=js(q,H),q.index=0,q.sibling=null,q}function x(q,H,Q){return q.index=Q,s?(Q=q.alternate,Q!==null?(Q=Q.index,Q<H?(q.flags|=2,H):Q):(q.flags|=2,H)):(q.flags|=1048576,H)}function R(q){return s&&q.alternate===null&&(q.flags|=2),q}function $(q,H,Q,ue){return H===null||H.tag!==6?(H=Uh(Q,q.mode,ue),H.return=q,H):(H=y(H,Q),H.return=q,H)}function B(q,H,Q,ue){var xe=Q.type;return xe===D?oe(q,H,Q.props.children,ue,Q.key):H!==null&&(H.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ce&&Gy(xe)===H.type)?(ue=y(H,Q.props),ue.ref=fl(q,H,Q),ue.return=q,ue):(ue=Ac(Q.type,Q.key,Q.props,null,q.mode,ue),ue.ref=fl(q,H,Q),ue.return=q,ue)}function Y(q,H,Q,ue){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=Bh(Q,q.mode,ue),H.return=q,H):(H=y(H,Q.children||[]),H.return=q,H)}function oe(q,H,Q,ue,xe){return H===null||H.tag!==7?(H=Fi(Q,q.mode,ue,xe),H.return=q,H):(H=y(H,Q),H.return=q,H)}function ae(q,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number")return H=Uh(""+H,q.mode,Q),H.return=q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case W:return Q=Ac(H.type,H.key,H.props,null,q.mode,Q),Q.ref=fl(q,null,H),Q.return=q,Q;case X:return H=Bh(H,q.mode,Q),H.return=q,H;case ce:var ue=H._init;return ae(q,ue(H._payload),Q)}if(Ur(H)||te(H))return H=Fi(H,q.mode,Q,null),H.return=q,H;sc(q,H)}return null}function ie(q,H,Q,ue){var xe=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return xe!==null?null:$(q,H,""+Q,ue);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case W:return Q.key===xe?B(q,H,Q,ue):null;case X:return Q.key===xe?Y(q,H,Q,ue):null;case ce:return xe=Q._init,ie(q,H,xe(Q._payload),ue)}if(Ur(Q)||te(Q))return xe!==null?null:oe(q,H,Q,ue,null);sc(q,Q)}return null}function me(q,H,Q,ue,xe){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return q=q.get(Q)||null,$(H,q,""+ue,xe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case W:return q=q.get(ue.key===null?Q:ue.key)||null,B(H,q,ue,xe);case X:return q=q.get(ue.key===null?Q:ue.key)||null,Y(H,q,ue,xe);case ce:var Te=ue._init;return me(q,H,Q,Te(ue._payload),xe)}if(Ur(ue)||te(ue))return q=q.get(Q)||null,oe(H,q,ue,xe,null);sc(H,ue)}return null}function we(q,H,Q,ue){for(var xe=null,Te=null,Ie=H,Ne=H=0,Ft=null;Ie!==null&&Ne<Q.length;Ne++){Ie.index>Ne?(Ft=Ie,Ie=null):Ft=Ie.sibling;var Je=ie(q,Ie,Q[Ne],ue);if(Je===null){Ie===null&&(Ie=Ft);break}s&&Ie&&Je.alternate===null&&o(q,Ie),H=x(Je,H,Ne),Te===null?xe=Je:Te.sibling=Je,Te=Je,Ie=Ft}if(Ne===Q.length)return u(q,Ie),ft&&Pi(q,Ne),xe;if(Ie===null){for(;Ne<Q.length;Ne++)Ie=ae(q,Q[Ne],ue),Ie!==null&&(H=x(Ie,H,Ne),Te===null?xe=Ie:Te.sibling=Ie,Te=Ie);return ft&&Pi(q,Ne),xe}for(Ie=p(q,Ie);Ne<Q.length;Ne++)Ft=me(Ie,q,Ne,Q[Ne],ue),Ft!==null&&(s&&Ft.alternate!==null&&Ie.delete(Ft.key===null?Ne:Ft.key),H=x(Ft,H,Ne),Te===null?xe=Ft:Te.sibling=Ft,Te=Ft);return s&&Ie.forEach(function(Vs){return o(q,Vs)}),ft&&Pi(q,Ne),xe}function _e(q,H,Q,ue){var xe=te(Q);if(typeof xe!="function")throw Error(t(150));if(Q=xe.call(Q),Q==null)throw Error(t(151));for(var Te=xe=null,Ie=H,Ne=H=0,Ft=null,Je=Q.next();Ie!==null&&!Je.done;Ne++,Je=Q.next()){Ie.index>Ne?(Ft=Ie,Ie=null):Ft=Ie.sibling;var Vs=ie(q,Ie,Je.value,ue);if(Vs===null){Ie===null&&(Ie=Ft);break}s&&Ie&&Vs.alternate===null&&o(q,Ie),H=x(Vs,H,Ne),Te===null?xe=Vs:Te.sibling=Vs,Te=Vs,Ie=Ft}if(Je.done)return u(q,Ie),ft&&Pi(q,Ne),xe;if(Ie===null){for(;!Je.done;Ne++,Je=Q.next())Je=ae(q,Je.value,ue),Je!==null&&(H=x(Je,H,Ne),Te===null?xe=Je:Te.sibling=Je,Te=Je);return ft&&Pi(q,Ne),xe}for(Ie=p(q,Ie);!Je.done;Ne++,Je=Q.next())Je=me(Ie,q,Ne,Je.value,ue),Je!==null&&(s&&Je.alternate!==null&&Ie.delete(Je.key===null?Ne:Je.key),H=x(Je,H,Ne),Te===null?xe=Je:Te.sibling=Je,Te=Je);return s&&Ie.forEach(function(PI){return o(q,PI)}),ft&&Pi(q,Ne),xe}function Ct(q,H,Q,ue){if(typeof Q=="object"&&Q!==null&&Q.type===D&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case W:e:{for(var xe=Q.key,Te=H;Te!==null;){if(Te.key===xe){if(xe=Q.type,xe===D){if(Te.tag===7){u(q,Te.sibling),H=y(Te,Q.props.children),H.return=q,q=H;break e}}else if(Te.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ce&&Gy(xe)===Te.type){u(q,Te.sibling),H=y(Te,Q.props),H.ref=fl(q,Te,Q),H.return=q,q=H;break e}u(q,Te);break}else o(q,Te);Te=Te.sibling}Q.type===D?(H=Fi(Q.props.children,q.mode,ue,Q.key),H.return=q,q=H):(ue=Ac(Q.type,Q.key,Q.props,null,q.mode,ue),ue.ref=fl(q,H,Q),ue.return=q,q=ue)}return R(q);case X:e:{for(Te=Q.key;H!==null;){if(H.key===Te)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){u(q,H.sibling),H=y(H,Q.children||[]),H.return=q,q=H;break e}else{u(q,H);break}else o(q,H);H=H.sibling}H=Bh(Q,q.mode,ue),H.return=q,q=H}return R(q);case ce:return Te=Q._init,Ct(q,H,Te(Q._payload),ue)}if(Ur(Q))return we(q,H,Q,ue);if(te(Q))return _e(q,H,Q,ue);sc(q,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,H!==null&&H.tag===6?(u(q,H.sibling),H=y(H,Q),H.return=q,q=H):(u(q,H),H=Uh(Q,q.mode,ue),H.return=q,q=H),R(q)):u(q,H)}return Ct}var Fo=Yy(!0),Xy=Yy(!1),ic=bs(null),oc=null,$o=null,Jf=null;function Zf(){Jf=$o=oc=null}function eh(s){var o=ic.current;at(ic),s._currentValue=o}function th(s,o,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===u)break;s=s.return}}function zo(s,o){oc=s,Jf=$o=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(fn=!0),s.firstContext=null)}function jn(s){var o=s._currentValue;if(Jf!==s)if(s={context:s,memoizedValue:o,next:null},$o===null){if(oc===null)throw Error(t(308));$o=s,oc.dependencies={lanes:0,firstContext:s}}else $o=$o.next=s;return o}var ki=null;function nh(s){ki===null?ki=[s]:ki.push(s)}function Jy(s,o,u,p){var y=o.interleaved;return y===null?(u.next=u,nh(o)):(u.next=y.next,y.next=u),o.interleaved=u,ts(s,p)}function ts(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Ns=!1;function rh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zy(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ns(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ps(s,o,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(Xe&2)!==0){var y=p.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),p.pending=o,ts(s,u)}return y=p.interleaved,y===null?(o.next=o,nh(p)):(o.next=y.next,y.next=o),p.interleaved=o,ts(s,u)}function ac(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var p=o.lanes;p&=s.pendingLanes,u|=p,o.lanes=u,_s(s,u)}}function ev(s,o){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var y=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var R={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};x===null?y=x=R:x=x.next=R,u=u.next}while(u!==null);x===null?y=x=o:x=x.next=o}else y=x=o;u={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:p.shared,effects:p.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function lc(s,o,u,p){var y=s.updateQueue;Ns=!1;var x=y.firstBaseUpdate,R=y.lastBaseUpdate,$=y.shared.pending;if($!==null){y.shared.pending=null;var B=$,Y=B.next;B.next=null,R===null?x=Y:R.next=Y,R=B;var oe=s.alternate;oe!==null&&(oe=oe.updateQueue,$=oe.lastBaseUpdate,$!==R&&($===null?oe.firstBaseUpdate=Y:$.next=Y,oe.lastBaseUpdate=B))}if(x!==null){var ae=y.baseState;R=0,oe=Y=B=null,$=x;do{var ie=$.lane,me=$.eventTime;if((p&ie)===ie){oe!==null&&(oe=oe.next={eventTime:me,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var we=s,_e=$;switch(ie=o,me=u,_e.tag){case 1:if(we=_e.payload,typeof we=="function"){ae=we.call(me,ae,ie);break e}ae=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=_e.payload,ie=typeof we=="function"?we.call(me,ae,ie):we,ie==null)break e;ae=le({},ae,ie);break e;case 2:Ns=!0}}$.callback!==null&&$.lane!==0&&(s.flags|=64,ie=y.effects,ie===null?y.effects=[$]:ie.push($))}else me={eventTime:me,lane:ie,tag:$.tag,payload:$.payload,callback:$.callback,next:null},oe===null?(Y=oe=me,B=ae):oe=oe.next=me,R|=ie;if($=$.next,$===null){if($=y.shared.pending,$===null)break;ie=$,$=ie.next,ie.next=null,y.lastBaseUpdate=ie,y.shared.pending=null}}while(!0);if(oe===null&&(B=ae),y.baseState=B,y.firstBaseUpdate=Y,y.lastBaseUpdate=oe,o=y.shared.interleaved,o!==null){y=o;do R|=y.lane,y=y.next;while(y!==o)}else x===null&&(y.shared.lanes=0);Oi|=R,s.lanes=R,s.memoizedState=ae}}function tv(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var p=s[o],y=p.callback;if(y!==null){if(p.callback=null,p=u,typeof y!="function")throw Error(t(191,y));y.call(p)}}}var hl={},Sr=bs(hl),pl=bs(hl),ml=bs(hl);function Di(s){if(s===hl)throw Error(t(174));return s}function sh(s,o){switch(st(ml,o),st(pl,s),st(Sr,hl),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Nt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Nt(o,s)}at(Sr),st(Sr,o)}function Uo(){at(Sr),at(pl),at(ml)}function nv(s){Di(ml.current);var o=Di(Sr.current),u=Nt(o,s.type);o!==u&&(st(pl,s),st(Sr,u))}function ih(s){pl.current===s&&(at(Sr),at(pl))}var pt=bs(0);function uc(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var oh=[];function ah(){for(var s=0;s<oh.length;s++)oh[s]._workInProgressVersionPrimary=null;oh.length=0}var cc=z.ReactCurrentDispatcher,lh=z.ReactCurrentBatchConfig,Mi=0,mt=null,kt=null,jt=null,dc=!1,gl=!1,yl=0,ZT=0;function Yt(){throw Error(t(321))}function uh(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!tr(s[u],o[u]))return!1;return!0}function ch(s,o,u,p,y,x){if(Mi=x,mt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,cc.current=s===null||s.memoizedState===null?rI:sI,s=u(p,y),gl){x=0;do{if(gl=!1,yl=0,25<=x)throw Error(t(301));x+=1,jt=kt=null,o.updateQueue=null,cc.current=iI,s=u(p,y)}while(gl)}if(cc.current=pc,o=kt!==null&&kt.next!==null,Mi=0,jt=kt=mt=null,dc=!1,o)throw Error(t(300));return s}function dh(){var s=yl!==0;return yl=0,s}function Tr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?mt.memoizedState=jt=s:jt=jt.next=s,jt}function Vn(){if(kt===null){var s=mt.alternate;s=s!==null?s.memoizedState:null}else s=kt.next;var o=jt===null?mt.memoizedState:jt.next;if(o!==null)jt=o,kt=s;else{if(s===null)throw Error(t(310));kt=s,s={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},jt===null?mt.memoizedState=jt=s:jt=jt.next=s}return jt}function vl(s,o){return typeof o=="function"?o(s):o}function fh(s){var o=Vn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var p=kt,y=p.baseQueue,x=u.pending;if(x!==null){if(y!==null){var R=y.next;y.next=x.next,x.next=R}p.baseQueue=y=x,u.pending=null}if(y!==null){x=y.next,p=p.baseState;var $=R=null,B=null,Y=x;do{var oe=Y.lane;if((Mi&oe)===oe)B!==null&&(B=B.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),p=Y.hasEagerState?Y.eagerState:s(p,Y.action);else{var ae={lane:oe,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};B===null?($=B=ae,R=p):B=B.next=ae,mt.lanes|=oe,Oi|=oe}Y=Y.next}while(Y!==null&&Y!==x);B===null?R=p:B.next=$,tr(p,o.memoizedState)||(fn=!0),o.memoizedState=p,o.baseState=R,o.baseQueue=B,u.lastRenderedState=p}if(s=u.interleaved,s!==null){y=s;do x=y.lane,mt.lanes|=x,Oi|=x,y=y.next;while(y!==s)}else y===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function hh(s){var o=Vn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var p=u.dispatch,y=u.pending,x=o.memoizedState;if(y!==null){u.pending=null;var R=y=y.next;do x=s(x,R.action),R=R.next;while(R!==y);tr(x,o.memoizedState)||(fn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),u.lastRenderedState=x}return[x,p]}function rv(){}function sv(s,o){var u=mt,p=Vn(),y=o(),x=!tr(p.memoizedState,y);if(x&&(p.memoizedState=y,fn=!0),p=p.queue,ph(av.bind(null,u,p,s),[s]),p.getSnapshot!==o||x||jt!==null&&jt.memoizedState.tag&1){if(u.flags|=2048,wl(9,ov.bind(null,u,p,y,o),void 0,null),Vt===null)throw Error(t(349));(Mi&30)!==0||iv(u,o,y)}return y}function iv(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=mt.updateQueue,o===null?(o={lastEffect:null,stores:null},mt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function ov(s,o,u,p){o.value=u,o.getSnapshot=p,lv(o)&&uv(s)}function av(s,o,u){return u(function(){lv(o)&&uv(s)})}function lv(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!tr(s,u)}catch{return!0}}function uv(s){var o=ts(s,1);o!==null&&or(o,s,1,-1)}function cv(s){var o=Tr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:s},o.queue=s,s=s.dispatch=nI.bind(null,mt,s),[o.memoizedState,s]}function wl(s,o,u,p){return s={tag:s,create:o,destroy:u,deps:p,next:null},o=mt.updateQueue,o===null?(o={lastEffect:null,stores:null},mt.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,o.lastEffect=s)),s}function dv(){return Vn().memoizedState}function fc(s,o,u,p){var y=Tr();mt.flags|=s,y.memoizedState=wl(1|o,u,void 0,p===void 0?null:p)}function hc(s,o,u,p){var y=Vn();p=p===void 0?null:p;var x=void 0;if(kt!==null){var R=kt.memoizedState;if(x=R.destroy,p!==null&&uh(p,R.deps)){y.memoizedState=wl(o,u,x,p);return}}mt.flags|=s,y.memoizedState=wl(1|o,u,x,p)}function fv(s,o){return fc(8390656,8,s,o)}function ph(s,o){return hc(2048,8,s,o)}function hv(s,o){return hc(4,2,s,o)}function pv(s,o){return hc(4,4,s,o)}function mv(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function gv(s,o,u){return u=u!=null?u.concat([s]):null,hc(4,4,mv.bind(null,o,s),u)}function mh(){}function yv(s,o){var u=Vn();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&uh(o,p[1])?p[0]:(u.memoizedState=[s,o],s)}function vv(s,o){var u=Vn();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&uh(o,p[1])?p[0]:(s=s(),u.memoizedState=[s,o],s)}function wv(s,o,u){return(Mi&21)===0?(s.baseState&&(s.baseState=!1,fn=!0),s.memoizedState=u):(tr(u,o)||(u=Ci(),mt.lanes|=u,Oi|=u,s.baseState=!0),o)}function eI(s,o){var u=qe;qe=u!==0&&4>u?u:4,s(!0);var p=lh.transition;lh.transition={};try{s(!1),o()}finally{qe=u,lh.transition=p}}function _v(){return Vn().memoizedState}function tI(s,o,u){var p=Os(s);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},xv(s))Ev(o,u);else if(u=Jy(s,o,u,p),u!==null){var y=an();or(u,s,p,y),Cv(u,o,p)}}function nI(s,o,u){var p=Os(s),y={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(xv(s))Ev(o,y);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var R=o.lastRenderedState,$=x(R,u);if(y.hasEagerState=!0,y.eagerState=$,tr($,R)){var B=o.interleaved;B===null?(y.next=y,nh(o)):(y.next=B.next,B.next=y),o.interleaved=y;return}}catch{}finally{}u=Jy(s,o,y,p),u!==null&&(y=an(),or(u,s,p,y),Cv(u,o,p))}}function xv(s){var o=s.alternate;return s===mt||o!==null&&o===mt}function Ev(s,o){gl=dc=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function Cv(s,o,u){if((u&4194240)!==0){var p=o.lanes;p&=s.pendingLanes,u|=p,o.lanes=u,_s(s,u)}}var pc={readContext:jn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},rI={readContext:jn,useCallback:function(s,o){return Tr().memoizedState=[s,o===void 0?null:o],s},useContext:jn,useEffect:fv,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,fc(4194308,4,mv.bind(null,o,s),u)},useLayoutEffect:function(s,o){return fc(4194308,4,s,o)},useInsertionEffect:function(s,o){return fc(4,2,s,o)},useMemo:function(s,o){var u=Tr();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var p=Tr();return o=u!==void 0?u(o):o,p.memoizedState=p.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},p.queue=s,s=s.dispatch=tI.bind(null,mt,s),[p.memoizedState,s]},useRef:function(s){var o=Tr();return s={current:s},o.memoizedState=s},useState:cv,useDebugValue:mh,useDeferredValue:function(s){return Tr().memoizedState=s},useTransition:function(){var s=cv(!1),o=s[0];return s=eI.bind(null,s[1]),Tr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var p=mt,y=Tr();if(ft){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),Vt===null)throw Error(t(349));(Mi&30)!==0||iv(p,o,u)}y.memoizedState=u;var x={value:u,getSnapshot:o};return y.queue=x,fv(av.bind(null,p,x,s),[s]),p.flags|=2048,wl(9,ov.bind(null,p,x,u,o),void 0,null),u},useId:function(){var s=Tr(),o=Vt.identifierPrefix;if(ft){var u=es,p=Zr;u=(p&~(1<<32-rn(p)-1)).toString(32)+u,o=":"+o+"R"+u,u=yl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=ZT++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},sI={readContext:jn,useCallback:yv,useContext:jn,useEffect:ph,useImperativeHandle:gv,useInsertionEffect:hv,useLayoutEffect:pv,useMemo:vv,useReducer:fh,useRef:dv,useState:function(){return fh(vl)},useDebugValue:mh,useDeferredValue:function(s){var o=Vn();return wv(o,kt.memoizedState,s)},useTransition:function(){var s=fh(vl)[0],o=Vn().memoizedState;return[s,o]},useMutableSource:rv,useSyncExternalStore:sv,useId:_v,unstable_isNewReconciler:!1},iI={readContext:jn,useCallback:yv,useContext:jn,useEffect:ph,useImperativeHandle:gv,useInsertionEffect:hv,useLayoutEffect:pv,useMemo:vv,useReducer:hh,useRef:dv,useState:function(){return hh(vl)},useDebugValue:mh,useDeferredValue:function(s){var o=Vn();return kt===null?o.memoizedState=s:wv(o,kt.memoizedState,s)},useTransition:function(){var s=hh(vl)[0],o=Vn().memoizedState;return[s,o]},useMutableSource:rv,useSyncExternalStore:sv,useId:_v,unstable_isNewReconciler:!1};function rr(s,o){if(s&&s.defaultProps){o=le({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function gh(s,o,u,p){o=s.memoizedState,u=u(p,o),u=u==null?o:le({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var mc={isMounted:function(s){return(s=s._reactInternals)?Qn(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var p=an(),y=Os(s),x=ns(p,y);x.payload=o,u!=null&&(x.callback=u),o=Ps(s,x,y),o!==null&&(or(o,s,y,p),ac(o,s,y))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var p=an(),y=Os(s),x=ns(p,y);x.tag=1,x.payload=o,u!=null&&(x.callback=u),o=Ps(s,x,y),o!==null&&(or(o,s,y,p),ac(o,s,y))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=an(),p=Os(s),y=ns(u,p);y.tag=2,o!=null&&(y.callback=o),o=Ps(s,y,p),o!==null&&(or(o,s,p,u),ac(o,s,p))}};function Sv(s,o,u,p,y,x,R){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,x,R):o.prototype&&o.prototype.isPureReactComponent?!il(u,p)||!il(y,x):!0}function Tv(s,o,u){var p=!1,y=As,x=o.contextType;return typeof x=="object"&&x!==null?x=jn(x):(y=dn(o)?Ri:Gt.current,p=o.contextTypes,x=(p=p!=null)?Oo(s,y):As),o=new o(u,x),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=mc,s.stateNode=o,o._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=x),o}function Iv(s,o,u,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==s&&mc.enqueueReplaceState(o,o.state,null)}function yh(s,o,u,p){var y=s.stateNode;y.props=u,y.state=s.memoizedState,y.refs={},rh(s);var x=o.contextType;typeof x=="object"&&x!==null?y.context=jn(x):(x=dn(o)?Ri:Gt.current,y.context=Oo(s,x)),y.state=s.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(gh(s,o,x,u),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&mc.enqueueReplaceState(y,y.state,null),lc(s,u,y,p),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function Bo(s,o){try{var u="",p=o;do u+=Re(p),p=p.return;while(p);var y=u}catch(x){y=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:o,stack:y,digest:null}}function vh(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function wh(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var oI=typeof WeakMap=="function"?WeakMap:Map;function bv(s,o,u){u=ns(-1,u),u.tag=3,u.payload={element:null};var p=o.value;return u.callback=function(){Ec||(Ec=!0,Mh=p),wh(s,o)},u}function Av(s,o,u){u=ns(-1,u),u.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var y=o.value;u.payload=function(){return p(y)},u.callback=function(){wh(s,o)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(u.callback=function(){wh(s,o),typeof p!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var R=o.stack;this.componentDidCatch(o.value,{componentStack:R!==null?R:""})}),u}function Rv(s,o,u){var p=s.pingCache;if(p===null){p=s.pingCache=new oI;var y=new Set;p.set(o,y)}else y=p.get(o),y===void 0&&(y=new Set,p.set(o,y));y.has(u)||(y.add(u),s=_I.bind(null,s,o,u),o.then(s,s))}function Nv(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Pv(s,o,u,p,y){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=ns(-1,1),o.tag=2,Ps(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var aI=z.ReactCurrentOwner,fn=!1;function on(s,o,u,p){o.child=s===null?Xy(o,null,u,p):Fo(o,s.child,u,p)}function kv(s,o,u,p,y){u=u.render;var x=o.ref;return zo(o,y),p=ch(s,o,u,p,x,y),u=dh(),s!==null&&!fn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~y,rs(s,o,y)):(ft&&u&&qf(o),o.flags|=1,on(s,o,p,y),o.child)}function Dv(s,o,u,p,y){if(s===null){var x=u.type;return typeof x=="function"&&!zh(x)&&x.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=x,Mv(s,o,x,p,y)):(s=Ac(u.type,null,p,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(x=s.child,(s.lanes&y)===0){var R=x.memoizedProps;if(u=u.compare,u=u!==null?u:il,u(R,p)&&s.ref===o.ref)return rs(s,o,y)}return o.flags|=1,s=js(x,p),s.ref=o.ref,s.return=o,o.child=s}function Mv(s,o,u,p,y){if(s!==null){var x=s.memoizedProps;if(il(x,p)&&s.ref===o.ref)if(fn=!1,o.pendingProps=p=x,(s.lanes&y)!==0)(s.flags&131072)!==0&&(fn=!0);else return o.lanes=s.lanes,rs(s,o,y)}return _h(s,o,u,p,y)}function Ov(s,o,u){var p=o.pendingProps,y=p.children,x=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Wo,Tn),Tn|=u;else{if((u&1073741824)===0)return s=x!==null?x.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,st(Wo,Tn),Tn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=x!==null?x.baseLanes:u,st(Wo,Tn),Tn|=p}else x!==null?(p=x.baseLanes|u,o.memoizedState=null):p=u,st(Wo,Tn),Tn|=p;return on(s,o,y,u),o.child}function Lv(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function _h(s,o,u,p,y){var x=dn(u)?Ri:Gt.current;return x=Oo(o,x),zo(o,y),u=ch(s,o,u,p,x,y),p=dh(),s!==null&&!fn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~y,rs(s,o,y)):(ft&&p&&qf(o),o.flags|=1,on(s,o,u,y),o.child)}function jv(s,o,u,p,y){if(dn(u)){var x=!0;Zu(o)}else x=!1;if(zo(o,y),o.stateNode===null)yc(s,o),Tv(o,u,p),yh(o,u,p,y),p=!0;else if(s===null){var R=o.stateNode,$=o.memoizedProps;R.props=$;var B=R.context,Y=u.contextType;typeof Y=="object"&&Y!==null?Y=jn(Y):(Y=dn(u)?Ri:Gt.current,Y=Oo(o,Y));var oe=u.getDerivedStateFromProps,ae=typeof oe=="function"||typeof R.getSnapshotBeforeUpdate=="function";ae||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||($!==p||B!==Y)&&Iv(o,R,p,Y),Ns=!1;var ie=o.memoizedState;R.state=ie,lc(o,p,R,y),B=o.memoizedState,$!==p||ie!==B||cn.current||Ns?(typeof oe=="function"&&(gh(o,u,oe,p),B=o.memoizedState),($=Ns||Sv(o,u,$,p,ie,B,Y))?(ae||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(o.flags|=4194308)):(typeof R.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=B),R.props=p,R.state=B,R.context=Y,p=$):(typeof R.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{R=o.stateNode,Zy(s,o),$=o.memoizedProps,Y=o.type===o.elementType?$:rr(o.type,$),R.props=Y,ae=o.pendingProps,ie=R.context,B=u.contextType,typeof B=="object"&&B!==null?B=jn(B):(B=dn(u)?Ri:Gt.current,B=Oo(o,B));var me=u.getDerivedStateFromProps;(oe=typeof me=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||($!==ae||ie!==B)&&Iv(o,R,p,B),Ns=!1,ie=o.memoizedState,R.state=ie,lc(o,p,R,y);var we=o.memoizedState;$!==ae||ie!==we||cn.current||Ns?(typeof me=="function"&&(gh(o,u,me,p),we=o.memoizedState),(Y=Ns||Sv(o,u,Y,p,ie,we,B)||!1)?(oe||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(p,we,B),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(p,we,B)),typeof R.componentDidUpdate=="function"&&(o.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof R.componentDidUpdate!="function"||$===s.memoizedProps&&ie===s.memoizedState||(o.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&ie===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=we),R.props=p,R.state=we,R.context=B,p=Y):(typeof R.componentDidUpdate!="function"||$===s.memoizedProps&&ie===s.memoizedState||(o.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||$===s.memoizedProps&&ie===s.memoizedState||(o.flags|=1024),p=!1)}return xh(s,o,u,p,x,y)}function xh(s,o,u,p,y,x){Lv(s,o);var R=(o.flags&128)!==0;if(!p&&!R)return y&&Uy(o,u,!1),rs(s,o,x);p=o.stateNode,aI.current=o;var $=R&&typeof u.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,s!==null&&R?(o.child=Fo(o,s.child,null,x),o.child=Fo(o,null,$,x)):on(s,o,$,x),o.memoizedState=p.state,y&&Uy(o,u,!0),o.child}function Vv(s){var o=s.stateNode;o.pendingContext?$y(s,o.pendingContext,o.pendingContext!==o.context):o.context&&$y(s,o.context,!1),sh(s,o.containerInfo)}function Fv(s,o,u,p,y){return Vo(),Xf(y),o.flags|=256,on(s,o,u,p),o.child}var Eh={dehydrated:null,treeContext:null,retryLane:0};function Ch(s){return{baseLanes:s,cachePool:null,transitions:null}}function $v(s,o,u){var p=o.pendingProps,y=pt.current,x=!1,R=(o.flags&128)!==0,$;if(($=R)||($=s!==null&&s.memoizedState===null?!1:(y&2)!==0),$?(x=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),st(pt,y&1),s===null)return Yf(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(R=p.children,s=p.fallback,x?(p=o.mode,x=o.child,R={mode:"hidden",children:R},(p&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=R):x=Rc(R,p,0,null),s=Fi(s,p,u,null),x.return=o,s.return=o,x.sibling=s,o.child=x,o.child.memoizedState=Ch(u),o.memoizedState=Eh,s):Sh(o,R));if(y=s.memoizedState,y!==null&&($=y.dehydrated,$!==null))return lI(s,o,R,p,$,y,u);if(x){x=p.fallback,R=o.mode,y=s.child,$=y.sibling;var B={mode:"hidden",children:p.children};return(R&1)===0&&o.child!==y?(p=o.child,p.childLanes=0,p.pendingProps=B,o.deletions=null):(p=js(y,B),p.subtreeFlags=y.subtreeFlags&14680064),$!==null?x=js($,x):(x=Fi(x,R,u,null),x.flags|=2),x.return=o,p.return=o,p.sibling=x,o.child=p,p=x,x=o.child,R=s.child.memoizedState,R=R===null?Ch(u):{baseLanes:R.baseLanes|u,cachePool:null,transitions:R.transitions},x.memoizedState=R,x.childLanes=s.childLanes&~u,o.memoizedState=Eh,p}return x=s.child,s=x.sibling,p=js(x,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=u),p.return=o,p.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=p,o.memoizedState=null,p}function Sh(s,o){return o=Rc({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function gc(s,o,u,p){return p!==null&&Xf(p),Fo(o,s.child,null,u),s=Sh(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function lI(s,o,u,p,y,x,R){if(u)return o.flags&256?(o.flags&=-257,p=vh(Error(t(422))),gc(s,o,R,p)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(x=p.fallback,y=o.mode,p=Rc({mode:"visible",children:p.children},y,0,null),x=Fi(x,y,R,null),x.flags|=2,p.return=o,x.return=o,p.sibling=x,o.child=p,(o.mode&1)!==0&&Fo(o,s.child,null,R),o.child.memoizedState=Ch(R),o.memoizedState=Eh,x);if((o.mode&1)===0)return gc(s,o,R,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var $=p.dgst;return p=$,x=Error(t(419)),p=vh(x,p,void 0),gc(s,o,R,p)}if($=(R&s.childLanes)!==0,fn||$){if(p=Vt,p!==null){switch(R&-R){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|R))!==0?0:y,y!==0&&y!==x.retryLane&&(x.retryLane=y,ts(s,y),or(p,s,y,-1))}return $h(),p=vh(Error(t(421))),gc(s,o,R,p)}return y.data==="$?"?(o.flags|=128,o.child=s.child,o=xI.bind(null,s),y._reactRetry=o,null):(s=x.treeContext,Sn=Is(y.nextSibling),Cn=o,ft=!0,nr=null,s!==null&&(On[Ln++]=Zr,On[Ln++]=es,On[Ln++]=Ni,Zr=s.id,es=s.overflow,Ni=o),o=Sh(o,p.children),o.flags|=4096,o)}function zv(s,o,u){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),th(s.return,o,u)}function Th(s,o,u,p,y){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:y}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=u,x.tailMode=y)}function Uv(s,o,u){var p=o.pendingProps,y=p.revealOrder,x=p.tail;if(on(s,o,p.children,u),p=pt.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&zv(s,u,o);else if(s.tag===19)zv(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(st(pt,p),(o.mode&1)===0)o.memoizedState=null;else switch(y){case"forwards":for(u=o.child,y=null;u!==null;)s=u.alternate,s!==null&&uc(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),Th(o,!1,y,u,x);break;case"backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&uc(s)===null){o.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}Th(o,!0,u,null,x);break;case"together":Th(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function yc(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function rs(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),Oi|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,u=js(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=js(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function uI(s,o,u){switch(o.tag){case 3:Vv(o),Vo();break;case 5:nv(o);break;case 1:dn(o.type)&&Zu(o);break;case 4:sh(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,y=o.memoizedProps.value;st(ic,p._currentValue),p._currentValue=y;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(st(pt,pt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?$v(s,o,u):(st(pt,pt.current&1),s=rs(s,o,u),s!==null?s.sibling:null);st(pt,pt.current&1);break;case 19:if(p=(u&o.childLanes)!==0,(s.flags&128)!==0){if(p)return Uv(s,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),st(pt,pt.current),p)break;return null;case 22:case 23:return o.lanes=0,Ov(s,o,u)}return rs(s,o,u)}var Bv,Ih,Hv,Wv;Bv=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Ih=function(){},Hv=function(s,o,u,p){var y=s.memoizedProps;if(y!==p){s=o.stateNode,Di(Sr.current);var x=null;switch(u){case"input":y=Ot(s,y),p=Ot(s,p),x=[];break;case"select":y=le({},y,{value:void 0}),p=le({},p,{value:void 0}),x=[];break;case"textarea":y=Ma(s,y),p=Ma(s,p),x=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=Yu)}$a(u,p);var R;u=null;for(Y in y)if(!p.hasOwnProperty(Y)&&y.hasOwnProperty(Y)&&y[Y]!=null)if(Y==="style"){var $=y[Y];for(R in $)$.hasOwnProperty(R)&&(u||(u={}),u[R]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?x||(x=[]):(x=x||[]).push(Y,null));for(Y in p){var B=p[Y];if($=y!=null?y[Y]:void 0,p.hasOwnProperty(Y)&&B!==$&&(B!=null||$!=null))if(Y==="style")if($){for(R in $)!$.hasOwnProperty(R)||B&&B.hasOwnProperty(R)||(u||(u={}),u[R]="");for(R in B)B.hasOwnProperty(R)&&$[R]!==B[R]&&(u||(u={}),u[R]=B[R])}else u||(x||(x=[]),x.push(Y,u)),u=B;else Y==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,$=$?$.__html:void 0,B!=null&&$!==B&&(x=x||[]).push(Y,B)):Y==="children"?typeof B!="string"&&typeof B!="number"||(x=x||[]).push(Y,""+B):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?(B!=null&&Y==="onScroll"&&ot("scroll",s),x||$===B||(x=[])):(x=x||[]).push(Y,B))}u&&(x=x||[]).push("style",u);var Y=x;(o.updateQueue=Y)&&(o.flags|=4)}},Wv=function(s,o,u,p){u!==p&&(o.flags|=4)};function _l(s,o){if(!ft)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Xt(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(o)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=p,s.childLanes=u,o}function cI(s,o,u){var p=o.pendingProps;switch(Qf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(o),null;case 1:return dn(o.type)&&Ju(),Xt(o),null;case 3:return p=o.stateNode,Uo(),at(cn),at(Gt),ah(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(rc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,nr!==null&&(jh(nr),nr=null))),Ih(s,o),Xt(o),null;case 5:ih(o);var y=Di(ml.current);if(u=o.type,s!==null&&o.stateNode!=null)Hv(s,o,u,p,y),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(t(166));return Xt(o),null}if(s=Di(Sr.current),rc(o)){p=o.stateNode,u=o.type;var x=o.memoizedProps;switch(p[Cr]=o,p[cl]=x,s=(o.mode&1)!==0,u){case"dialog":ot("cancel",p),ot("close",p);break;case"iframe":case"object":case"embed":ot("load",p);break;case"video":case"audio":for(y=0;y<al.length;y++)ot(al[y],p);break;case"source":ot("error",p);break;case"img":case"image":case"link":ot("error",p),ot("load",p);break;case"details":ot("toggle",p);break;case"input":Nn(p,x),ot("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!x.multiple},ot("invalid",p);break;case"textarea":so(p,x),ot("invalid",p)}$a(u,x),y=null;for(var R in x)if(x.hasOwnProperty(R)){var $=x[R];R==="children"?typeof $=="string"?p.textContent!==$&&(x.suppressHydrationWarning!==!0&&Gu(p.textContent,$,s),y=["children",$]):typeof $=="number"&&p.textContent!==""+$&&(x.suppressHydrationWarning!==!0&&Gu(p.textContent,$,s),y=["children",""+$]):i.hasOwnProperty(R)&&$!=null&&R==="onScroll"&&ot("scroll",p)}switch(u){case"input":ze(p),ro(p,x,!0);break;case"textarea":ze(p),Oa(p);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(p.onclick=Yu)}p=y,o.updateQueue=p,p!==null&&(o.flags|=4)}else{R=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Rt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=R.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=R.createElement(u,{is:p.is}):(s=R.createElement(u),u==="select"&&(R=s,p.multiple?R.multiple=!0:p.size&&(R.size=p.size))):s=R.createElementNS(s,u),s[Cr]=o,s[cl]=p,Bv(s,o,!1,!1),o.stateNode=s;e:{switch(R=za(u,p),u){case"dialog":ot("cancel",s),ot("close",s),y=p;break;case"iframe":case"object":case"embed":ot("load",s),y=p;break;case"video":case"audio":for(y=0;y<al.length;y++)ot(al[y],s);y=p;break;case"source":ot("error",s),y=p;break;case"img":case"image":case"link":ot("error",s),ot("load",s),y=p;break;case"details":ot("toggle",s),y=p;break;case"input":Nn(s,p),y=Ot(s,p),ot("invalid",s);break;case"option":y=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},y=le({},p,{value:void 0}),ot("invalid",s);break;case"textarea":so(s,p),y=Ma(s,p),ot("invalid",s);break;default:y=p}$a(u,y),$=y;for(x in $)if($.hasOwnProperty(x)){var B=$[x];x==="style"?Va(s,B):x==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&La(s,B)):x==="children"?typeof B=="string"?(u!=="textarea"||B!=="")&&ms(s,B):typeof B=="number"&&ms(s,""+B):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(i.hasOwnProperty(x)?B!=null&&x==="onScroll"&&ot("scroll",s):B!=null&&L(s,x,B,R))}switch(u){case"input":ze(s),ro(s,p,!1);break;case"textarea":ze(s),Oa(s);break;case"option":p.value!=null&&s.setAttribute("value",""+Ee(p.value));break;case"select":s.multiple=!!p.multiple,x=p.value,x!=null?Br(s,!!p.multiple,x,!1):p.defaultValue!=null&&Br(s,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=Yu)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Xt(o),null;case 6:if(s&&o.stateNode!=null)Wv(s,o,s.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(t(166));if(u=Di(ml.current),Di(Sr.current),rc(o)){if(p=o.stateNode,u=o.memoizedProps,p[Cr]=o,(x=p.nodeValue!==u)&&(s=Cn,s!==null))switch(s.tag){case 3:Gu(p.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Gu(p.nodeValue,u,(s.mode&1)!==0)}x&&(o.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[Cr]=o,o.stateNode=p}return Xt(o),null;case 13:if(at(pt),p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ft&&Sn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Qy(),Vo(),o.flags|=98560,x=!1;else if(x=rc(o),p!==null&&p.dehydrated!==null){if(s===null){if(!x)throw Error(t(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[Cr]=o}else Vo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Xt(o),x=!1}else nr!==null&&(jh(nr),nr=null),x=!0;if(!x)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(pt.current&1)!==0?Dt===0&&(Dt=3):$h())),o.updateQueue!==null&&(o.flags|=4),Xt(o),null);case 4:return Uo(),Ih(s,o),s===null&&ll(o.stateNode.containerInfo),Xt(o),null;case 10:return eh(o.type._context),Xt(o),null;case 17:return dn(o.type)&&Ju(),Xt(o),null;case 19:if(at(pt),x=o.memoizedState,x===null)return Xt(o),null;if(p=(o.flags&128)!==0,R=x.rendering,R===null)if(p)_l(x,!1);else{if(Dt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(R=uc(s),R!==null){for(o.flags|=128,_l(x,!1),p=R.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=u,u=o.child;u!==null;)x=u,s=p,x.flags&=14680066,R=x.alternate,R===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=R.childLanes,x.lanes=R.lanes,x.child=R.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=R.memoizedProps,x.memoizedState=R.memoizedState,x.updateQueue=R.updateQueue,x.type=R.type,s=R.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return st(pt,pt.current&1|2),o.child}s=s.sibling}x.tail!==null&&rt()>Ko&&(o.flags|=128,p=!0,_l(x,!1),o.lanes=4194304)}else{if(!p)if(s=uc(R),s!==null){if(o.flags|=128,p=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),_l(x,!0),x.tail===null&&x.tailMode==="hidden"&&!R.alternate&&!ft)return Xt(o),null}else 2*rt()-x.renderingStartTime>Ko&&u!==1073741824&&(o.flags|=128,p=!0,_l(x,!1),o.lanes=4194304);x.isBackwards?(R.sibling=o.child,o.child=R):(u=x.last,u!==null?u.sibling=R:o.child=R,x.last=R)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=rt(),o.sibling=null,u=pt.current,st(pt,p?u&1|2:u&1),o):(Xt(o),null);case 22:case 23:return Fh(),p=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(Tn&1073741824)!==0&&(Xt(o),o.subtreeFlags&6&&(o.flags|=8192)):Xt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function dI(s,o){switch(Qf(o),o.tag){case 1:return dn(o.type)&&Ju(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Uo(),at(cn),at(Gt),ah(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return ih(o),null;case 13:if(at(pt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Vo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return at(pt),null;case 4:return Uo(),null;case 10:return eh(o.type._context),null;case 22:case 23:return Fh(),null;case 24:return null;default:return null}}var vc=!1,Jt=!1,fI=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Ho(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){wt(s,o,p)}else u.current=null}function bh(s,o,u){try{u()}catch(p){wt(s,o,p)}}var Kv=!1;function hI(s,o){if(Ff=Cs,s=Sy(),Pf(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var y=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var R=0,$=-1,B=-1,Y=0,oe=0,ae=s,ie=null;t:for(;;){for(var me;ae!==u||y!==0&&ae.nodeType!==3||($=R+y),ae!==x||p!==0&&ae.nodeType!==3||(B=R+p),ae.nodeType===3&&(R+=ae.nodeValue.length),(me=ae.firstChild)!==null;)ie=ae,ae=me;for(;;){if(ae===s)break t;if(ie===u&&++Y===y&&($=R),ie===x&&++oe===p&&(B=R),(me=ae.nextSibling)!==null)break;ae=ie,ie=ae.parentNode}ae=me}u=$===-1||B===-1?null:{start:$,end:B}}else u=null}u=u||{start:0,end:0}}else u=null;for($f={focusedElem:s,selectionRange:u},Cs=!1,ye=o;ye!==null;)if(o=ye,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ye=s;else for(;ye!==null;){o=ye;try{var we=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var _e=we.memoizedProps,Ct=we.memoizedState,q=o.stateNode,H=q.getSnapshotBeforeUpdate(o.elementType===o.type?_e:rr(o.type,_e),Ct);q.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ue){wt(o,o.return,ue)}if(s=o.sibling,s!==null){s.return=o.return,ye=s;break}ye=o.return}return we=Kv,Kv=!1,we}function xl(s,o,u){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&s)===s){var x=y.destroy;y.destroy=void 0,x!==void 0&&bh(o,u,x)}y=y.next}while(y!==p)}}function wc(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var p=u.create;u.destroy=p()}u=u.next}while(u!==o)}}function Ah(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function qv(s){var o=s.alternate;o!==null&&(s.alternate=null,qv(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Cr],delete o[cl],delete o[Hf],delete o[GT],delete o[YT])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Qv(s){return s.tag===5||s.tag===3||s.tag===4}function Gv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Qv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Rh(s,o,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Yu));else if(p!==4&&(s=s.child,s!==null))for(Rh(s,o,u),s=s.sibling;s!==null;)Rh(s,o,u),s=s.sibling}function Nh(s,o,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Nh(s,o,u),s=s.sibling;s!==null;)Nh(s,o,u),s=s.sibling}var Bt=null,sr=!1;function ks(s,o,u){for(u=u.child;u!==null;)Yv(s,o,u),u=u.sibling}function Yv(s,o,u){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(xi,u)}catch{}switch(u.tag){case 5:Jt||Ho(u,o);case 6:var p=Bt,y=sr;Bt=null,ks(s,o,u),Bt=p,sr=y,Bt!==null&&(sr?(s=Bt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Bt.removeChild(u.stateNode));break;case 18:Bt!==null&&(sr?(s=Bt,u=u.stateNode,s.nodeType===8?Bf(s.parentNode,u):s.nodeType===1&&Bf(s,u),Zn(s)):Bf(Bt,u.stateNode));break;case 4:p=Bt,y=sr,Bt=u.stateNode.containerInfo,sr=!0,ks(s,o,u),Bt=p,sr=y;break;case 0:case 11:case 14:case 15:if(!Jt&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var x=y,R=x.destroy;x=x.tag,R!==void 0&&((x&2)!==0||(x&4)!==0)&&bh(u,o,R),y=y.next}while(y!==p)}ks(s,o,u);break;case 1:if(!Jt&&(Ho(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch($){wt(u,o,$)}ks(s,o,u);break;case 21:ks(s,o,u);break;case 22:u.mode&1?(Jt=(p=Jt)||u.memoizedState!==null,ks(s,o,u),Jt=p):ks(s,o,u);break;default:ks(s,o,u)}}function Xv(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new fI),o.forEach(function(p){var y=EI.bind(null,s,p);u.has(p)||(u.add(p),p.then(y,y))})}}function ir(s,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var y=u[p];try{var x=s,R=o,$=R;e:for(;$!==null;){switch($.tag){case 5:Bt=$.stateNode,sr=!1;break e;case 3:Bt=$.stateNode.containerInfo,sr=!0;break e;case 4:Bt=$.stateNode.containerInfo,sr=!0;break e}$=$.return}if(Bt===null)throw Error(t(160));Yv(x,R,y),Bt=null,sr=!1;var B=y.alternate;B!==null&&(B.return=null),y.return=null}catch(Y){wt(y,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Jv(o,s),o=o.sibling}function Jv(s,o){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ir(o,s),Ir(s),p&4){try{xl(3,s,s.return),wc(3,s)}catch(_e){wt(s,s.return,_e)}try{xl(5,s,s.return)}catch(_e){wt(s,s.return,_e)}}break;case 1:ir(o,s),Ir(s),p&512&&u!==null&&Ho(u,u.return);break;case 5:if(ir(o,s),Ir(s),p&512&&u!==null&&Ho(u,u.return),s.flags&32){var y=s.stateNode;try{ms(y,"")}catch(_e){wt(s,s.return,_e)}}if(p&4&&(y=s.stateNode,y!=null)){var x=s.memoizedProps,R=u!==null?u.memoizedProps:x,$=s.type,B=s.updateQueue;if(s.updateQueue=null,B!==null)try{$==="input"&&x.type==="radio"&&x.name!=null&&Bn(y,x),za($,R);var Y=za($,x);for(R=0;R<B.length;R+=2){var oe=B[R],ae=B[R+1];oe==="style"?Va(y,ae):oe==="dangerouslySetInnerHTML"?La(y,ae):oe==="children"?ms(y,ae):L(y,oe,ae,Y)}switch($){case"input":Hn(y,x);break;case"textarea":io(y,x);break;case"select":var ie=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!x.multiple;var me=x.value;me!=null?Br(y,!!x.multiple,me,!1):ie!==!!x.multiple&&(x.defaultValue!=null?Br(y,!!x.multiple,x.defaultValue,!0):Br(y,!!x.multiple,x.multiple?[]:"",!1))}y[cl]=x}catch(_e){wt(s,s.return,_e)}}break;case 6:if(ir(o,s),Ir(s),p&4){if(s.stateNode===null)throw Error(t(162));y=s.stateNode,x=s.memoizedProps;try{y.nodeValue=x}catch(_e){wt(s,s.return,_e)}}break;case 3:if(ir(o,s),Ir(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Zn(o.containerInfo)}catch(_e){wt(s,s.return,_e)}break;case 4:ir(o,s),Ir(s);break;case 13:ir(o,s),Ir(s),y=s.child,y.flags&8192&&(x=y.memoizedState!==null,y.stateNode.isHidden=x,!x||y.alternate!==null&&y.alternate.memoizedState!==null||(Dh=rt())),p&4&&Xv(s);break;case 22:if(oe=u!==null&&u.memoizedState!==null,s.mode&1?(Jt=(Y=Jt)||oe,ir(o,s),Jt=Y):ir(o,s),Ir(s),p&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!oe&&(s.mode&1)!==0)for(ye=s,oe=s.child;oe!==null;){for(ae=ye=oe;ye!==null;){switch(ie=ye,me=ie.child,ie.tag){case 0:case 11:case 14:case 15:xl(4,ie,ie.return);break;case 1:Ho(ie,ie.return);var we=ie.stateNode;if(typeof we.componentWillUnmount=="function"){p=ie,u=ie.return;try{o=p,we.props=o.memoizedProps,we.state=o.memoizedState,we.componentWillUnmount()}catch(_e){wt(p,u,_e)}}break;case 5:Ho(ie,ie.return);break;case 22:if(ie.memoizedState!==null){t0(ae);continue}}me!==null?(me.return=ie,ye=me):t0(ae)}oe=oe.sibling}e:for(oe=null,ae=s;;){if(ae.tag===5){if(oe===null){oe=ae;try{y=ae.stateNode,Y?(x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):($=ae.stateNode,B=ae.memoizedProps.style,R=B!=null&&B.hasOwnProperty("display")?B.display:null,$.style.display=ja("display",R))}catch(_e){wt(s,s.return,_e)}}}else if(ae.tag===6){if(oe===null)try{ae.stateNode.nodeValue=Y?"":ae.memoizedProps}catch(_e){wt(s,s.return,_e)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===s)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===s)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===s)break e;oe===ae&&(oe=null),ae=ae.return}oe===ae&&(oe=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:ir(o,s),Ir(s),p&4&&Xv(s);break;case 21:break;default:ir(o,s),Ir(s)}}function Ir(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(Qv(u)){var p=u;break e}u=u.return}throw Error(t(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(ms(y,""),p.flags&=-33);var x=Gv(s);Nh(s,x,y);break;case 3:case 4:var R=p.stateNode.containerInfo,$=Gv(s);Rh(s,$,R);break;default:throw Error(t(161))}}catch(B){wt(s,s.return,B)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function pI(s,o,u){ye=s,Zv(s)}function Zv(s,o,u){for(var p=(s.mode&1)!==0;ye!==null;){var y=ye,x=y.child;if(y.tag===22&&p){var R=y.memoizedState!==null||vc;if(!R){var $=y.alternate,B=$!==null&&$.memoizedState!==null||Jt;$=vc;var Y=Jt;if(vc=R,(Jt=B)&&!Y)for(ye=y;ye!==null;)R=ye,B=R.child,R.tag===22&&R.memoizedState!==null?n0(y):B!==null?(B.return=R,ye=B):n0(y);for(;x!==null;)ye=x,Zv(x),x=x.sibling;ye=y,vc=$,Jt=Y}e0(s)}else(y.subtreeFlags&8772)!==0&&x!==null?(x.return=y,ye=x):e0(s)}}function e0(s){for(;ye!==null;){var o=ye;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Jt||wc(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!Jt)if(u===null)p.componentDidMount();else{var y=o.elementType===o.type?u.memoizedProps:rr(o.type,u.memoizedProps);p.componentDidUpdate(y,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var x=o.updateQueue;x!==null&&tv(o,x,p);break;case 3:var R=o.updateQueue;if(R!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}tv(o,R,u)}break;case 5:var $=o.stateNode;if(u===null&&o.flags&4){u=$;var B=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&u.focus();break;case"img":B.src&&(u.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var oe=Y.memoizedState;if(oe!==null){var ae=oe.dehydrated;ae!==null&&Zn(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Jt||o.flags&512&&Ah(o)}catch(ie){wt(o,o.return,ie)}}if(o===s){ye=null;break}if(u=o.sibling,u!==null){u.return=o.return,ye=u;break}ye=o.return}}function t0(s){for(;ye!==null;){var o=ye;if(o===s){ye=null;break}var u=o.sibling;if(u!==null){u.return=o.return,ye=u;break}ye=o.return}}function n0(s){for(;ye!==null;){var o=ye;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{wc(4,o)}catch(B){wt(o,u,B)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var y=o.return;try{p.componentDidMount()}catch(B){wt(o,y,B)}}var x=o.return;try{Ah(o)}catch(B){wt(o,x,B)}break;case 5:var R=o.return;try{Ah(o)}catch(B){wt(o,R,B)}}}catch(B){wt(o,o.return,B)}if(o===s){ye=null;break}var $=o.sibling;if($!==null){$.return=o.return,ye=$;break}ye=o.return}}var mI=Math.ceil,_c=z.ReactCurrentDispatcher,Ph=z.ReactCurrentOwner,Fn=z.ReactCurrentBatchConfig,Xe=0,Vt=null,It=null,Ht=0,Tn=0,Wo=bs(0),Dt=0,El=null,Oi=0,xc=0,kh=0,Cl=null,hn=null,Dh=0,Ko=1/0,ss=null,Ec=!1,Mh=null,Ds=null,Cc=!1,Ms=null,Sc=0,Sl=0,Oh=null,Tc=-1,Ic=0;function an(){return(Xe&6)!==0?rt():Tc!==-1?Tc:Tc=rt()}function Os(s){return(s.mode&1)===0?1:(Xe&2)!==0&&Ht!==0?Ht&-Ht:JT.transition!==null?(Ic===0&&(Ic=Ci()),Ic):(s=qe,s!==0||(s=window.event,s=s===void 0?16:Ja(s.type)),s)}function or(s,o,u,p){if(50<Sl)throw Sl=0,Oh=null,Error(t(185));ws(s,u,p),((Xe&2)===0||s!==Vt)&&(s===Vt&&((Xe&2)===0&&(xc|=u),Dt===4&&Ls(s,Ht)),pn(s,p),u===1&&Xe===0&&(o.mode&1)===0&&(Ko=rt()+500,ec&&Rs()))}function pn(s,o){var u=s.callbackNode;Kr(s,o);var p=Ei(s,s===Vt?Ht:0);if(p===0)u!==null&&qa(u),s.callbackNode=null,s.callbackPriority=0;else if(o=p&-p,s.callbackPriority!==o){if(u!=null&&qa(u),o===1)s.tag===0?XT(s0.bind(null,s)):By(s0.bind(null,s)),qT(function(){(Xe&6)===0&&Rs()}),u=null;else{switch(xs(p)){case 1:u=_i;break;case 4:u=gs;break;case 16:u=kn;break;case 536870912:u=Iu;break;default:u=kn}u=f0(u,r0.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function r0(s,o){if(Tc=-1,Ic=0,(Xe&6)!==0)throw Error(t(327));var u=s.callbackNode;if(qo()&&s.callbackNode!==u)return null;var p=Ei(s,s===Vt?Ht:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||o)o=bc(s,p);else{o=p;var y=Xe;Xe|=2;var x=o0();(Vt!==s||Ht!==o)&&(ss=null,Ko=rt()+500,ji(s,o));do try{vI();break}catch($){i0(s,$)}while(!0);Zf(),_c.current=x,Xe=y,It!==null?o=0:(Vt=null,Ht=0,o=Dt)}if(o!==0){if(o===2&&(y=_n(s),y!==0&&(p=y,o=Lh(s,y))),o===1)throw u=El,ji(s,0),Ls(s,p),pn(s,rt()),u;if(o===6)Ls(s,p);else{if(y=s.current.alternate,(p&30)===0&&!gI(y)&&(o=bc(s,p),o===2&&(x=_n(s),x!==0&&(p=x,o=Lh(s,x))),o===1))throw u=El,ji(s,0),Ls(s,p),pn(s,rt()),u;switch(s.finishedWork=y,s.finishedLanes=p,o){case 0:case 1:throw Error(t(345));case 2:Vi(s,hn,ss);break;case 3:if(Ls(s,p),(p&130023424)===p&&(o=Dh+500-rt(),10<o)){if(Ei(s,0)!==0)break;if(y=s.suspendedLanes,(y&p)!==p){an(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=Uf(Vi.bind(null,s,hn,ss),o);break}Vi(s,hn,ss);break;case 4:if(Ls(s,p),(p&4194240)===p)break;for(o=s.eventTimes,y=-1;0<p;){var R=31-rn(p);x=1<<R,R=o[R],R>y&&(y=R),p&=~x}if(p=y,p=rt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*mI(p/1960))-p,10<p){s.timeoutHandle=Uf(Vi.bind(null,s,hn,ss),p);break}Vi(s,hn,ss);break;case 5:Vi(s,hn,ss);break;default:throw Error(t(329))}}}return pn(s,rt()),s.callbackNode===u?r0.bind(null,s):null}function Lh(s,o){var u=Cl;return s.current.memoizedState.isDehydrated&&(ji(s,o).flags|=256),s=bc(s,o),s!==2&&(o=hn,hn=u,o!==null&&jh(o)),s}function jh(s){hn===null?hn=s:hn.push.apply(hn,s)}function gI(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var y=u[p],x=y.getSnapshot;y=y.value;try{if(!tr(x(),y))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ls(s,o){for(o&=~kh,o&=~xc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-rn(o),p=1<<u;s[u]=-1,o&=~p}}function s0(s){if((Xe&6)!==0)throw Error(t(327));qo();var o=Ei(s,0);if((o&1)===0)return pn(s,rt()),null;var u=bc(s,o);if(s.tag!==0&&u===2){var p=_n(s);p!==0&&(o=p,u=Lh(s,p))}if(u===1)throw u=El,ji(s,0),Ls(s,o),pn(s,rt()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Vi(s,hn,ss),pn(s,rt()),null}function Vh(s,o){var u=Xe;Xe|=1;try{return s(o)}finally{Xe=u,Xe===0&&(Ko=rt()+500,ec&&Rs())}}function Li(s){Ms!==null&&Ms.tag===0&&(Xe&6)===0&&qo();var o=Xe;Xe|=1;var u=Fn.transition,p=qe;try{if(Fn.transition=null,qe=1,s)return s()}finally{qe=p,Fn.transition=u,Xe=o,(Xe&6)===0&&Rs()}}function Fh(){Tn=Wo.current,at(Wo)}function ji(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,KT(u)),It!==null)for(u=It.return;u!==null;){var p=u;switch(Qf(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Ju();break;case 3:Uo(),at(cn),at(Gt),ah();break;case 5:ih(p);break;case 4:Uo();break;case 13:at(pt);break;case 19:at(pt);break;case 10:eh(p.type._context);break;case 22:case 23:Fh()}u=u.return}if(Vt=s,It=s=js(s.current,null),Ht=Tn=o,Dt=0,El=null,kh=xc=Oi=0,hn=Cl=null,ki!==null){for(o=0;o<ki.length;o++)if(u=ki[o],p=u.interleaved,p!==null){u.interleaved=null;var y=p.next,x=u.pending;if(x!==null){var R=x.next;x.next=y,p.next=R}u.pending=p}ki=null}return s}function i0(s,o){do{var u=It;try{if(Zf(),cc.current=pc,dc){for(var p=mt.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}dc=!1}if(Mi=0,jt=kt=mt=null,gl=!1,yl=0,Ph.current=null,u===null||u.return===null){Dt=1,El=o,It=null;break}e:{var x=s,R=u.return,$=u,B=o;if(o=Ht,$.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Y=B,oe=$,ae=oe.tag;if((oe.mode&1)===0&&(ae===0||ae===11||ae===15)){var ie=oe.alternate;ie?(oe.updateQueue=ie.updateQueue,oe.memoizedState=ie.memoizedState,oe.lanes=ie.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var me=Nv(R);if(me!==null){me.flags&=-257,Pv(me,R,$,x,o),me.mode&1&&Rv(x,Y,o),o=me,B=Y;var we=o.updateQueue;if(we===null){var _e=new Set;_e.add(B),o.updateQueue=_e}else we.add(B);break e}else{if((o&1)===0){Rv(x,Y,o),$h();break e}B=Error(t(426))}}else if(ft&&$.mode&1){var Ct=Nv(R);if(Ct!==null){(Ct.flags&65536)===0&&(Ct.flags|=256),Pv(Ct,R,$,x,o),Xf(Bo(B,$));break e}}x=B=Bo(B,$),Dt!==4&&(Dt=2),Cl===null?Cl=[x]:Cl.push(x),x=R;do{switch(x.tag){case 3:x.flags|=65536,o&=-o,x.lanes|=o;var q=bv(x,B,o);ev(x,q);break e;case 1:$=B;var H=x.type,Q=x.stateNode;if((x.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Ds===null||!Ds.has(Q)))){x.flags|=65536,o&=-o,x.lanes|=o;var ue=Av(x,$,o);ev(x,ue);break e}}x=x.return}while(x!==null)}l0(u)}catch(xe){o=xe,It===u&&u!==null&&(It=u=u.return);continue}break}while(!0)}function o0(){var s=_c.current;return _c.current=pc,s===null?pc:s}function $h(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Vt===null||(Oi&268435455)===0&&(xc&268435455)===0||Ls(Vt,Ht)}function bc(s,o){var u=Xe;Xe|=2;var p=o0();(Vt!==s||Ht!==o)&&(ss=null,ji(s,o));do try{yI();break}catch(y){i0(s,y)}while(!0);if(Zf(),Xe=u,_c.current=p,It!==null)throw Error(t(261));return Vt=null,Ht=0,Dt}function yI(){for(;It!==null;)a0(It)}function vI(){for(;It!==null&&!Su();)a0(It)}function a0(s){var o=d0(s.alternate,s,Tn);s.memoizedProps=s.pendingProps,o===null?l0(s):It=o,Ph.current=null}function l0(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=cI(u,o,Tn),u!==null){It=u;return}}else{if(u=dI(u,o),u!==null){u.flags&=32767,It=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Dt=6,It=null;return}}if(o=o.sibling,o!==null){It=o;return}It=o=s}while(o!==null);Dt===0&&(Dt=5)}function Vi(s,o,u){var p=qe,y=Fn.transition;try{Fn.transition=null,qe=1,wI(s,o,u,p)}finally{Fn.transition=y,qe=p}return null}function wI(s,o,u,p){do qo();while(Ms!==null);if((Xe&6)!==0)throw Error(t(327));u=s.finishedWork;var y=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var x=u.lanes|u.childLanes;if(tt(s,x),s===Vt&&(It=Vt=null,Ht=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Cc||(Cc=!0,f0(kn,function(){return qo(),null})),x=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||x){x=Fn.transition,Fn.transition=null;var R=qe;qe=1;var $=Xe;Xe|=4,Ph.current=null,hI(s,u),Jv(u,s),FT($f),Cs=!!Ff,$f=Ff=null,s.current=u,pI(u),Cf(),Xe=$,qe=R,Fn.transition=x}else s.current=u;if(Cc&&(Cc=!1,Ms=s,Sc=y),x=s.pendingLanes,x===0&&(Ds=null),bu(u.stateNode),pn(s,rt()),o!==null)for(p=s.onRecoverableError,u=0;u<o.length;u++)y=o[u],p(y.value,{componentStack:y.stack,digest:y.digest});if(Ec)throw Ec=!1,s=Mh,Mh=null,s;return(Sc&1)!==0&&s.tag!==0&&qo(),x=s.pendingLanes,(x&1)!==0?s===Oh?Sl++:(Sl=0,Oh=s):Sl=0,Rs(),null}function qo(){if(Ms!==null){var s=xs(Sc),o=Fn.transition,u=qe;try{if(Fn.transition=null,qe=16>s?16:s,Ms===null)var p=!1;else{if(s=Ms,Ms=null,Sc=0,(Xe&6)!==0)throw Error(t(331));var y=Xe;for(Xe|=4,ye=s.current;ye!==null;){var x=ye,R=x.child;if((ye.flags&16)!==0){var $=x.deletions;if($!==null){for(var B=0;B<$.length;B++){var Y=$[B];for(ye=Y;ye!==null;){var oe=ye;switch(oe.tag){case 0:case 11:case 15:xl(8,oe,x)}var ae=oe.child;if(ae!==null)ae.return=oe,ye=ae;else for(;ye!==null;){oe=ye;var ie=oe.sibling,me=oe.return;if(qv(oe),oe===Y){ye=null;break}if(ie!==null){ie.return=me,ye=ie;break}ye=me}}}var we=x.alternate;if(we!==null){var _e=we.child;if(_e!==null){we.child=null;do{var Ct=_e.sibling;_e.sibling=null,_e=Ct}while(_e!==null)}}ye=x}}if((x.subtreeFlags&2064)!==0&&R!==null)R.return=x,ye=R;else e:for(;ye!==null;){if(x=ye,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:xl(9,x,x.return)}var q=x.sibling;if(q!==null){q.return=x.return,ye=q;break e}ye=x.return}}var H=s.current;for(ye=H;ye!==null;){R=ye;var Q=R.child;if((R.subtreeFlags&2064)!==0&&Q!==null)Q.return=R,ye=Q;else e:for(R=H;ye!==null;){if($=ye,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:wc(9,$)}}catch(xe){wt($,$.return,xe)}if($===R){ye=null;break e}var ue=$.sibling;if(ue!==null){ue.return=$.return,ye=ue;break e}ye=$.return}}if(Xe=y,Rs(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(xi,s)}catch{}p=!0}return p}finally{qe=u,Fn.transition=o}}return!1}function u0(s,o,u){o=Bo(u,o),o=bv(s,o,1),s=Ps(s,o,1),o=an(),s!==null&&(ws(s,1,o),pn(s,o))}function wt(s,o,u){if(s.tag===3)u0(s,s,u);else for(;o!==null;){if(o.tag===3){u0(o,s,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ds===null||!Ds.has(p))){s=Bo(u,s),s=Av(o,s,1),o=Ps(o,s,1),s=an(),o!==null&&(ws(o,1,s),pn(o,s));break}}o=o.return}}function _I(s,o,u){var p=s.pingCache;p!==null&&p.delete(o),o=an(),s.pingedLanes|=s.suspendedLanes&u,Vt===s&&(Ht&u)===u&&(Dt===4||Dt===3&&(Ht&130023424)===Ht&&500>rt()-Dh?ji(s,0):kh|=u),pn(s,o)}function c0(s,o){o===0&&((s.mode&1)===0?o=1:(o=go,go<<=1,(go&130023424)===0&&(go=4194304)));var u=an();s=ts(s,o),s!==null&&(ws(s,o,u),pn(s,u))}function xI(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),c0(s,u)}function EI(s,o){var u=0;switch(s.tag){case 13:var p=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(o),c0(s,u)}var d0;d0=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||cn.current)fn=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return fn=!1,uI(s,o,u);fn=(s.flags&131072)!==0}else fn=!1,ft&&(o.flags&1048576)!==0&&Hy(o,nc,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;yc(s,o),s=o.pendingProps;var y=Oo(o,Gt.current);zo(o,u),y=ch(null,o,p,s,y,u);var x=dh();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,dn(p)?(x=!0,Zu(o)):x=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,rh(o),y.updater=mc,o.stateNode=y,y._reactInternals=o,yh(o,p,s,u),o=xh(null,o,p,!0,x,u)):(o.tag=0,ft&&x&&qf(o),on(null,o,y,u),o=o.child),o;case 16:p=o.elementType;e:{switch(yc(s,o),s=o.pendingProps,y=p._init,p=y(p._payload),o.type=p,y=o.tag=SI(p),s=rr(p,s),y){case 0:o=_h(null,o,p,s,u);break e;case 1:o=jv(null,o,p,s,u);break e;case 11:o=kv(null,o,p,s,u);break e;case 14:o=Dv(null,o,p,rr(p.type,s),u);break e}throw Error(t(306,p,""))}return o;case 0:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:rr(p,y),_h(s,o,p,y,u);case 1:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:rr(p,y),jv(s,o,p,y,u);case 3:e:{if(Vv(o),s===null)throw Error(t(387));p=o.pendingProps,x=o.memoizedState,y=x.element,Zy(s,o),lc(o,p,null,u);var R=o.memoizedState;if(p=R.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){y=Bo(Error(t(423)),o),o=Fv(s,o,p,u,y);break e}else if(p!==y){y=Bo(Error(t(424)),o),o=Fv(s,o,p,u,y);break e}else for(Sn=Is(o.stateNode.containerInfo.firstChild),Cn=o,ft=!0,nr=null,u=Xy(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Vo(),p===y){o=rs(s,o,u);break e}on(s,o,p,u)}o=o.child}return o;case 5:return nv(o),s===null&&Yf(o),p=o.type,y=o.pendingProps,x=s!==null?s.memoizedProps:null,R=y.children,zf(p,y)?R=null:x!==null&&zf(p,x)&&(o.flags|=32),Lv(s,o),on(s,o,R,u),o.child;case 6:return s===null&&Yf(o),null;case 13:return $v(s,o,u);case 4:return sh(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=Fo(o,null,p,u):on(s,o,p,u),o.child;case 11:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:rr(p,y),kv(s,o,p,y,u);case 7:return on(s,o,o.pendingProps,u),o.child;case 8:return on(s,o,o.pendingProps.children,u),o.child;case 12:return on(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(p=o.type._context,y=o.pendingProps,x=o.memoizedProps,R=y.value,st(ic,p._currentValue),p._currentValue=R,x!==null)if(tr(x.value,R)){if(x.children===y.children&&!cn.current){o=rs(s,o,u);break e}}else for(x=o.child,x!==null&&(x.return=o);x!==null;){var $=x.dependencies;if($!==null){R=x.child;for(var B=$.firstContext;B!==null;){if(B.context===p){if(x.tag===1){B=ns(-1,u&-u),B.tag=2;var Y=x.updateQueue;if(Y!==null){Y=Y.shared;var oe=Y.pending;oe===null?B.next=B:(B.next=oe.next,oe.next=B),Y.pending=B}}x.lanes|=u,B=x.alternate,B!==null&&(B.lanes|=u),th(x.return,u,o),$.lanes|=u;break}B=B.next}}else if(x.tag===10)R=x.type===o.type?null:x.child;else if(x.tag===18){if(R=x.return,R===null)throw Error(t(341));R.lanes|=u,$=R.alternate,$!==null&&($.lanes|=u),th(R,u,o),R=x.sibling}else R=x.child;if(R!==null)R.return=x;else for(R=x;R!==null;){if(R===o){R=null;break}if(x=R.sibling,x!==null){x.return=R.return,R=x;break}R=R.return}x=R}on(s,o,y.children,u),o=o.child}return o;case 9:return y=o.type,p=o.pendingProps.children,zo(o,u),y=jn(y),p=p(y),o.flags|=1,on(s,o,p,u),o.child;case 14:return p=o.type,y=rr(p,o.pendingProps),y=rr(p.type,y),Dv(s,o,p,y,u);case 15:return Mv(s,o,o.type,o.pendingProps,u);case 17:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:rr(p,y),yc(s,o),o.tag=1,dn(p)?(s=!0,Zu(o)):s=!1,zo(o,u),Tv(o,p,y),yh(o,p,y,u),xh(null,o,p,!0,s,u);case 19:return Uv(s,o,u);case 22:return Ov(s,o,u)}throw Error(t(156,o.tag))};function f0(s,o){return po(s,o)}function CI(s,o,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(s,o,u,p){return new CI(s,o,u,p)}function zh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function SI(s){if(typeof s=="function")return zh(s)?1:0;if(s!=null){if(s=s.$$typeof,s===P)return 11;if(s===se)return 14}return 2}function js(s,o){var u=s.alternate;return u===null?(u=$n(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Ac(s,o,u,p,y,x){var R=2;if(p=s,typeof s=="function")zh(s)&&(R=1);else if(typeof s=="string")R=5;else e:switch(s){case D:return Fi(u.children,y,x,o);case N:R=8,y|=8;break;case O:return s=$n(12,u,o,y|2),s.elementType=O,s.lanes=x,s;case j:return s=$n(13,u,o,y),s.elementType=j,s.lanes=x,s;case ee:return s=$n(19,u,o,y),s.elementType=ee,s.lanes=x,s;case de:return Rc(u,y,x,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case V:R=10;break e;case F:R=9;break e;case P:R=11;break e;case se:R=14;break e;case ce:R=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=$n(R,u,o,y),o.elementType=s,o.type=p,o.lanes=x,o}function Fi(s,o,u,p){return s=$n(7,s,p,o),s.lanes=u,s}function Rc(s,o,u,p){return s=$n(22,s,p,o),s.elementType=de,s.lanes=u,s.stateNode={isHidden:!1},s}function Uh(s,o,u){return s=$n(6,s,null,o),s.lanes=u,s}function Bh(s,o,u){return o=$n(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function TI(s,o,u,p,y){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vs(0),this.expirationTimes=vs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vs(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Hh(s,o,u,p,y,x,R,$,B){return s=new TI(s,o,u,$,B),o===1?(o=1,x===!0&&(o|=8)):o=0,x=$n(3,null,null,o),s.current=x,x.stateNode=s,x.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},rh(x),s}function II(s,o,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:p==null?null:""+p,children:s,containerInfo:o,implementation:u}}function h0(s){if(!s)return As;s=s._reactInternals;e:{if(Qn(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(dn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(dn(u))return zy(s,u,o)}return o}function p0(s,o,u,p,y,x,R,$,B){return s=Hh(u,p,!0,s,y,x,R,$,B),s.context=h0(null),u=s.current,p=an(),y=Os(u),x=ns(p,y),x.callback=o??null,Ps(u,x,y),s.current.lanes=y,ws(s,y,p),pn(s,p),s}function Nc(s,o,u,p){var y=o.current,x=an(),R=Os(y);return u=h0(u),o.context===null?o.context=u:o.pendingContext=u,o=ns(x,R),o.payload={element:s},p=p===void 0?null:p,p!==null&&(o.callback=p),s=Ps(y,o,R),s!==null&&(or(s,y,R,x),ac(s,y,R)),R}function Pc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function m0(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Wh(s,o){m0(s,o),(s=s.alternate)&&m0(s,o)}function bI(){return null}var g0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Kh(s){this._internalRoot=s}kc.prototype.render=Kh.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));Nc(s,o,null,null)},kc.prototype.unmount=Kh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Li(function(){Nc(null,s,null,null)}),o[Xr]=null}};function kc(s){this._internalRoot=s}kc.prototype.unstable_scheduleHydration=function(s){if(s){var o=ku();s={blockedOn:null,target:s,priority:o};for(var u=0;u<wr.length&&o!==0&&o<wr[u].priority;u++);wr.splice(u,0,s),u===0&&Ou(s)}};function qh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Dc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function y0(){}function AI(s,o,u,p,y){if(y){if(typeof p=="function"){var x=p;p=function(){var Y=Pc(R);x.call(Y)}}var R=p0(o,p,s,0,null,!1,!1,"",y0);return s._reactRootContainer=R,s[Xr]=R.current,ll(s.nodeType===8?s.parentNode:s),Li(),R}for(;y=s.lastChild;)s.removeChild(y);if(typeof p=="function"){var $=p;p=function(){var Y=Pc(B);$.call(Y)}}var B=Hh(s,0,!1,null,null,!1,!1,"",y0);return s._reactRootContainer=B,s[Xr]=B.current,ll(s.nodeType===8?s.parentNode:s),Li(function(){Nc(o,B,u,p)}),B}function Mc(s,o,u,p,y){var x=u._reactRootContainer;if(x){var R=x;if(typeof y=="function"){var $=y;y=function(){var B=Pc(R);$.call(B)}}Nc(o,R,s,y)}else R=AI(u,o,s,y,p);return Pc(R)}Nu=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=ys(o.pendingLanes);u!==0&&(_s(o,u|1),pn(o,rt()),(Xe&6)===0&&(Ko=rt()+500,Rs()))}break;case 13:Li(function(){var p=ts(s,1);if(p!==null){var y=an();or(p,s,1,y)}}),Wh(s,1)}},yo=function(s){if(s.tag===13){var o=ts(s,134217728);if(o!==null){var u=an();or(o,s,134217728,u)}Wh(s,134217728)}},Pu=function(s){if(s.tag===13){var o=Os(s),u=ts(s,o);if(u!==null){var p=an();or(u,s,o,p)}Wh(s,o)}},ku=function(){return qe},Du=function(s,o){var u=qe;try{return qe=s,o()}finally{qe=u}},ao=function(s,o,u){switch(o){case"input":if(Hn(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==s&&p.form===s.form){var y=Xu(p);if(!y)throw Error(t(90));Ke(p),Hn(p,y)}}}break;case"textarea":io(s,u);break;case"select":o=u.value,o!=null&&Br(s,!!u.multiple,o,!1)}},gi=Vh,Ba=Li;var RI={usingClientEntryPoint:!1,Events:[dl,Do,Xu,yr,Ua,Vh]},Tl={findFiberByHostInstance:Ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NI={bundleType:Tl.bundleType,version:Tl.version,rendererPackageName:Tl.rendererPackageName,rendererConfig:Tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ka(s),s===null?null:s.stateNode},findFiberByHostInstance:Tl.findFiberByHostInstance||bI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{xi=Oc.inject(NI),wn=Oc}catch{}}return mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RI,mn.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qh(o))throw Error(t(200));return II(s,o,null,u)},mn.createRoot=function(s,o){if(!qh(s))throw Error(t(299));var u=!1,p="",y=g0;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=Hh(s,1,!1,null,null,u,!1,p,y),s[Xr]=o.current,ll(s.nodeType===8?s.parentNode:s),new Kh(o)},mn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Ka(o),s=s===null?null:s.stateNode,s},mn.flushSync=function(s){return Li(s)},mn.hydrate=function(s,o,u){if(!Dc(o))throw Error(t(200));return Mc(null,s,o,!0,u)},mn.hydrateRoot=function(s,o,u){if(!qh(s))throw Error(t(405));var p=u!=null&&u.hydratedSources||null,y=!1,x="",R=g0;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onRecoverableError!==void 0&&(R=u.onRecoverableError)),o=p0(o,null,s,1,u??null,y,!1,x,R),s[Xr]=o.current,ll(s),p)for(s=0;s<p.length;s++)u=p[s],y=u._getVersion,y=y(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,y]:o.mutableSourceEagerHydrationData.push(u,y);return new kc(o)},mn.render=function(s,o,u){if(!Dc(o))throw Error(t(200));return Mc(null,s,o,!1,u)},mn.unmountComponentAtNode=function(s){if(!Dc(s))throw Error(t(40));return s._reactRootContainer?(Li(function(){Mc(null,null,s,!1,function(){s._reactRootContainer=null,s[Xr]=null})}),!0):!1},mn.unstable_batchedUpdates=Vh,mn.unstable_renderSubtreeIntoContainer=function(s,o,u,p){if(!Dc(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Mc(s,o,u,!1,p)},mn.version="18.3.1-next-f1338f8080-20240426",mn}var T0;function q_(){if(T0)return Yh.exports;T0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yh.exports=VI(),Yh.exports}var I0;function FI(){if(I0)return Lc;I0=1;var n=q_();return Lc.createRoot=n.createRoot,Lc.hydrateRoot=n.hydrateRoot,Lc}var $I=FI(),bl={},b0;function zI(){if(b0)return bl;b0=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.parse=l,bl.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function l(g,T){const C=new a,S=g.length;if(S<2)return C;const I=(T==null?void 0:T.decode)||m;let A=0;do{const k=g.indexOf("=",A);if(k===-1)break;const L=g.indexOf(";",A),z=L===-1?S:L;if(k>z){A=g.lastIndexOf(";",k-1)+1;continue}const W=c(g,A,k),X=f(g,k,W),D=g.slice(W,X);if(C[D]===void 0){let N=c(g,k+1,z),O=f(g,z,N);const V=I(g.slice(N,O));C[D]=V}A=z+1}while(A<S);return C}function c(g,T,C){do{const S=g.charCodeAt(T);if(S!==32&&S!==9)return T}while(++T<C);return C}function f(g,T,C){for(;T>C;){const S=g.charCodeAt(--T);if(S!==32&&S!==9)return T+1}return C}function h(g,T,C){const S=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(g))throw new TypeError(`argument name is invalid: ${g}`);const I=S(T);if(!e.test(I))throw new TypeError(`argument val is invalid: ${T}`);let A=g+"="+I;if(!C)return A;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);A+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);A+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);A+="; Path="+C.path}if(C.expires){if(!w(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);A+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(A+="; HttpOnly"),C.secure&&(A+="; Secure"),C.partitioned&&(A+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return A}function m(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function w(g){return i.call(g)==="[object Date]"}return bl}zI();var A0="popstate";function UI(n={}){function e(i,a){let{pathname:l="/",search:c="",hash:f=""}=Zi(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Sp("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let f=i.location.href,h=f.indexOf("#");c=h===-1?f:f.slice(0,h)}return c+"#"+(typeof a=="string"?a:Yl(a))}function r(i,a){zn(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return HI(e,t,r,n)}function ht(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function zn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BI(){return Math.random().toString(36).substring(2,10)}function R0(n,e){return{usr:n.state,key:n.key,idx:e}}function Sp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Zi(e):e,state:t,key:e&&e.key||r||BI()}}function Yl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Zi(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function HI(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,c="POP",f=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function w(){c="POP";let I=m(),A=I==null?null:I-h;h=I,f&&f({action:c,location:S.location,delta:A})}function g(I,A){c="PUSH";let k=Sp(S.location,I,A);t&&t(k,I),h=m()+1;let L=R0(k,h),z=S.createHref(k);try{l.pushState(L,"",z)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(z)}a&&f&&f({action:c,location:S.location,delta:1})}function T(I,A){c="REPLACE";let k=Sp(S.location,I,A);t&&t(k,I),h=m();let L=R0(k,h),z=S.createHref(k);l.replaceState(L,"",z),a&&f&&f({action:c,location:S.location,delta:0})}function C(I){return WI(I)}let S={get action(){return c},get location(){return n(i,l)},listen(I){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(A0,w),f=I,()=>{i.removeEventListener(A0,w),f=null}},createHref(I){return e(i,I)},createURL:C,encodeLocation(I){let A=C(I);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:g,replace:T,go(I){return l.go(I)}};return S}function WI(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ht(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Yl(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Q_(n,e,t="/"){return KI(n,e,t,!1)}function KI(n,e,t,r){let i=typeof e=="string"?Zi(e):e,a=ls(i.pathname||"/",t);if(a==null)return null;let l=G_(n);qI(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let h=sb(a);c=nb(l[f],h,r)}return c}function G_(n,e=[],t=[],r=""){let i=(a,l,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(ht(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let h=as([r,f.relativePath]),m=t.concat(f);a.children&&a.children.length>0&&(ht(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),G_(a.children,e,m,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:eb(h,a.index),routesMeta:m})};return n.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let f of Y_(a.path))i(a,l,f)}),e}function Y_(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=Y_(r.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&c.push(...l),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function qI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:tb(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var QI=/^:[\w-]+$/,GI=3,YI=2,XI=1,JI=10,ZI=-2,N0=n=>n==="*";function eb(n,e){let t=n.split("/"),r=t.length;return t.some(N0)&&(r+=ZI),e&&(r+=YI),t.filter(i=>!N0(i)).reduce((i,a)=>i+(QI.test(a)?GI:a===""?XI:JI),r)}function tb(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function nb(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],h=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",w=dd({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),g=f.route;if(!w&&h&&t&&!r[r.length-1].route.index&&(w=dd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!w)return null;Object.assign(i,w.params),l.push({params:i,pathname:as([a,w.pathname]),pathnameBase:lb(as([a,w.pathnameBase])),route:g}),w.pathnameBase!=="/"&&(a=as([a,w.pathnameBase]))}return l}function dd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=rb(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:w},g)=>{if(m==="*"){let C=c[g]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const T=c[g];return w&&!T?h[m]=void 0:h[m]=(T||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:n}}function rb(n,e=!1,t=!0){zn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function sb(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ls(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function ib(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Zi(n):n;return{pathname:t?t.startsWith("/")?t:ob(t,e):e,search:ub(r),hash:cb(i)}}function ob(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Zh(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ab(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Fm(n){let e=ab(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function $m(n,e,t,r=!1){let i;typeof n=="string"?i=Zi(n):(i={...n},ht(!i.pathname||!i.pathname.includes("?"),Zh("?","pathname","search",i)),ht(!i.pathname||!i.pathname.includes("#"),Zh("#","pathname","hash",i)),ht(!i.search||!i.search.includes("#"),Zh("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=t;else{let w=e.length-1;if(!r&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),w-=1;i.pathname=g.join("/")}c=w>=0?e[w]:"/"}let f=ib(i,c),h=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var as=n=>n.join("/").replace(/\/\/+/g,"/"),lb=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ub=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,cb=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function db(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var X_=["POST","PUT","PATCH","DELETE"];new Set(X_);var fb=["GET",...X_];new Set(fb);var _a=E.createContext(null);_a.displayName="DataRouter";var Ud=E.createContext(null);Ud.displayName="DataRouterState";var J_=E.createContext({isTransitioning:!1});J_.displayName="ViewTransition";var hb=E.createContext(new Map);hb.displayName="Fetchers";var pb=E.createContext(null);pb.displayName="Await";var hr=E.createContext(null);hr.displayName="Navigation";var du=E.createContext(null);du.displayName="Location";var pr=E.createContext({outlet:null,matches:[],isDataRoute:!1});pr.displayName="Route";var zm=E.createContext(null);zm.displayName="RouteError";function mb(n,{relative:e}={}){ht(xa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=E.useContext(hr),{hash:i,pathname:a,search:l}=hu(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:as([t,a])),r.createHref({pathname:c,search:l,hash:i})}function xa(){return E.useContext(du)!=null}function oi(){return ht(xa(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(du).location}var Z_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ex(n){E.useContext(hr).static||E.useLayoutEffect(n)}function fu(){let{isDataRoute:n}=E.useContext(pr);return n?Ab():gb()}function gb(){ht(xa(),"useNavigate() may be used only in the context of a <Router> component.");let n=E.useContext(_a),{basename:e,navigator:t}=E.useContext(hr),{matches:r}=E.useContext(pr),{pathname:i}=oi(),a=JSON.stringify(Fm(r)),l=E.useRef(!1);return ex(()=>{l.current=!0}),E.useCallback((f,h={})=>{if(zn(l.current,Z_),!l.current)return;if(typeof f=="number"){t.go(f);return}let m=$m(f,JSON.parse(a),i,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:as([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,a,i,n])}E.createContext(null);function Um(){let{matches:n}=E.useContext(pr),e=n[n.length-1];return e?e.params:{}}function hu(n,{relative:e}={}){let{matches:t}=E.useContext(pr),{pathname:r}=oi(),i=JSON.stringify(Fm(t));return E.useMemo(()=>$m(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function yb(n,e){return tx(n,e)}function tx(n,e,t,r){var A;ht(xa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=E.useContext(hr),{matches:a}=E.useContext(pr),l=a[a.length-1],c=l?l.params:{},f=l?l.pathname:"/",h=l?l.pathnameBase:"/",m=l&&l.route;{let k=m&&m.path||"";nx(f,!m||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let w=oi(),g;if(e){let k=typeof e=="string"?Zi(e):e;ht(h==="/"||((A=k.pathname)==null?void 0:A.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${k.pathname}" was given in the \`location\` prop.`),g=k}else g=w;let T=g.pathname||"/",C=T;if(h!=="/"){let k=h.replace(/^\//,"").split("/");C="/"+T.replace(/^\//,"").split("/").slice(k.length).join("/")}let S=Q_(n,{pathname:C});zn(m||S!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),zn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=Eb(S&&S.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:as([h,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:as([h,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,t,r);return e&&I?E.createElement(du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},I):I}function vb(){let n=bb(),e=db(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:a},"ErrorBoundary")," or"," ",E.createElement("code",{style:a},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),t?E.createElement("pre",{style:i},t):null,l)}var wb=E.createElement(vb,null),_b=class extends E.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?E.createElement(pr.Provider,{value:this.props.routeContext},E.createElement(zm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xb({routeContext:n,match:e,children:t}){let r=E.useContext(_a);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(pr.Provider,{value:n},t)}function Eb(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t==null?void 0:t.errors;if(a!=null){let f=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);ht(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,c=-1;if(t)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:m,errors:w}=t,g=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!w||w[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((f,h,m)=>{let w,g=!1,T=null,C=null;t&&(w=a&&h.route.id?a[h.route.id]:void 0,T=h.route.errorElement||wb,l&&(c<0&&m===0?(nx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,C=null):c===m&&(g=!0,C=h.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,m+1)),I=()=>{let A;return w?A=T:g?A=C:h.route.Component?A=E.createElement(h.route.Component,null):h.route.element?A=h.route.element:A=f,E.createElement(xb,{match:h,routeContext:{outlet:f,matches:S,isDataRoute:t!=null},children:A})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?E.createElement(_b,{location:t.location,revalidation:t.revalidation,component:T,error:w,children:I(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):I()},null)}function Bm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cb(n){let e=E.useContext(_a);return ht(e,Bm(n)),e}function Sb(n){let e=E.useContext(Ud);return ht(e,Bm(n)),e}function Tb(n){let e=E.useContext(pr);return ht(e,Bm(n)),e}function Hm(n){let e=Tb(n),t=e.matches[e.matches.length-1];return ht(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Ib(){return Hm("useRouteId")}function bb(){var r;let n=E.useContext(zm),e=Sb("useRouteError"),t=Hm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function Ab(){let{router:n}=Cb("useNavigate"),e=Hm("useNavigate"),t=E.useRef(!1);return ex(()=>{t.current=!0}),E.useCallback(async(i,a={})=>{zn(t.current,Z_),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var P0={};function nx(n,e,t){!e&&!P0[n]&&(P0[n]=!0,zn(!1,t))}E.memo(Rb);function Rb({routes:n,future:e,state:t}){return tx(n,void 0,t,e)}function Nb({to:n,replace:e,state:t,relative:r}){ht(xa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(hr);zn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=E.useContext(pr),{pathname:l}=oi(),c=fu(),f=$m(n,Fm(a),l,r==="path"),h=JSON.stringify(f);return E.useEffect(()=>{c(JSON.parse(h),{replace:e,state:t,relative:r})},[c,h,r,e,t]),null}function br(n){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Pb({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){ht(!xa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof t=="string"&&(t=Zi(t));let{pathname:f="/",search:h="",hash:m="",state:w=null,key:g="default"}=t,T=E.useMemo(()=>{let C=ls(f,l);return C==null?null:{location:{pathname:C,search:h,hash:m,state:w,key:g},navigationType:r}},[l,f,h,m,w,g,r]);return zn(T!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:E.createElement(hr.Provider,{value:c},E.createElement(du.Provider,{children:e,value:T}))}function kb({children:n,location:e}){return yb(Tp(n),e)}function Tp(n,e=[]){let t=[];return E.Children.forEach(n,(r,i)=>{if(!E.isValidElement(r))return;let a=[...e,i];if(r.type===E.Fragment){t.push.apply(t,Tp(r.props.children,a));return}ht(r.type===br,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Tp(r.props.children,a)),t.push(l)}),t}var Jc="get",Zc="application/x-www-form-urlencoded";function Bd(n){return n!=null&&typeof n.tagName=="string"}function Db(n){return Bd(n)&&n.tagName.toLowerCase()==="button"}function Mb(n){return Bd(n)&&n.tagName.toLowerCase()==="form"}function Ob(n){return Bd(n)&&n.tagName.toLowerCase()==="input"}function Lb(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function jb(n,e){return n.button===0&&(!e||e==="_self")&&!Lb(n)}var jc=null;function Vb(){if(jc===null)try{new FormData(document.createElement("form"),0),jc=!1}catch{jc=!0}return jc}var Fb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ep(n){return n!=null&&!Fb.has(n)?(zn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zc}"`),null):n}function $b(n,e){let t,r,i,a,l;if(Mb(n)){let c=n.getAttribute("action");r=c?ls(c,e):null,t=n.getAttribute("method")||Jc,i=ep(n.getAttribute("enctype"))||Zc,a=new FormData(n)}else if(Db(n)||Ob(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?ls(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Jc,i=ep(n.getAttribute("formenctype"))||ep(c.getAttribute("enctype"))||Zc,a=new FormData(c,n),!Vb()){let{name:h,type:m,value:w}=n;if(m==="image"){let g=h?`${h}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else h&&a.append(h,w)}}else{if(Bd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Jc,r=null,i=Zc,l=n}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:l}}function Wm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function zb(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ub(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Bb(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await zb(a,t);return l.links?l.links():[]}return[]}));return qb(r.flat(1).filter(Ub).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function k0(n,e,t,r,i,a){let l=(f,h)=>t[h]?f.route.id!==t[h].route.id:!0,c=(f,h)=>{var m;return t[h].pathname!==f.pathname||((m=t[h].route.path)==null?void 0:m.endsWith("*"))&&t[h].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,h)=>l(f,h)||c(f,h)):a==="data"?e.filter((f,h)=>{var w;let m=r.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,h)||c(f,h))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Hb(n,e,{includeHydrateFallback:t}={}){return Wb(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Wb(n){return[...new Set(n)]}function Kb(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function qb(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(Kb(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Qb=new Set([100,101,204,205]);function Gb(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ls(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function rx(){let n=E.useContext(_a);return Wm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Yb(){let n=E.useContext(Ud);return Wm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Km=E.createContext(void 0);Km.displayName="FrameworkContext";function sx(){let n=E.useContext(Km);return Wm(n,"You must render this element inside a <HydratedRouter> element"),n}function Xb(n,e){let t=E.useContext(Km),[r,i]=E.useState(!1),[a,l]=E.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:w}=e,g=E.useRef(null);E.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let S=A=>{A.forEach(k=>{l(k.isIntersecting)})},I=new IntersectionObserver(S,{threshold:.5});return g.current&&I.observe(g.current),()=>{I.disconnect()}}},[n]),E.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let T=()=>{i(!0)},C=()=>{i(!1),l(!1)};return t?n!=="intent"?[a,g,{}]:[a,g,{onFocus:Al(c,T),onBlur:Al(f,C),onMouseEnter:Al(h,T),onMouseLeave:Al(m,C),onTouchStart:Al(w,T)}]:[!1,g,{}]}function Al(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Jb({page:n,...e}){let{router:t}=rx(),r=E.useMemo(()=>Q_(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?E.createElement(eA,{page:n,matches:r,...e}):null}function Zb(n){let{manifest:e,routeModules:t}=sx(),[r,i]=E.useState([]);return E.useEffect(()=>{let a=!1;return Bb(n,e,t).then(l=>{a||i(l)}),()=>{a=!0}},[n,e,t]),r}function eA({page:n,matches:e,...t}){let r=oi(),{manifest:i,routeModules:a}=sx(),{basename:l}=rx(),{loaderData:c,matches:f}=Yb(),h=E.useMemo(()=>k0(n,e,f,i,r,"data"),[n,e,f,i,r]),m=E.useMemo(()=>k0(n,e,f,i,r,"assets"),[n,e,f,i,r]),w=E.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,S=!1;if(e.forEach(A=>{var L;let k=i.routes[A.route.id];!k||!k.hasLoader||(!h.some(z=>z.route.id===A.route.id)&&A.route.id in c&&((L=a[A.route.id])!=null&&L.shouldRevalidate)||k.hasClientLoader?S=!0:C.add(A.route.id))}),C.size===0)return[];let I=Gb(n,l);return S&&C.size>0&&I.searchParams.set("_routes",e.filter(A=>C.has(A.route.id)).map(A=>A.route.id).join(",")),[I.pathname+I.search]},[l,c,r,i,h,e,n,a]),g=E.useMemo(()=>Hb(m,i),[m,i]),T=Zb(m);return E.createElement(E.Fragment,null,w.map(C=>E.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),g.map(C=>E.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),T.map(({key:C,link:S})=>E.createElement("link",{key:C,...S})))}function tA(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ix=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ix&&(window.__reactRouterVersion="7.6.2")}catch{}function nA({basename:n,children:e,window:t}){let r=E.useRef();r.current==null&&(r.current=UI({window:t,v5Compat:!0}));let i=r.current,[a,l]=E.useState({action:i.action,location:i.location}),c=E.useCallback(f=>{E.startTransition(()=>l(f))},[l]);return E.useLayoutEffect(()=>i.listen(c),[i,c]),E.createElement(Pb,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var ox=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ui=E.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:c,target:f,to:h,preventScrollReset:m,viewTransition:w,...g},T){let{basename:C}=E.useContext(hr),S=typeof h=="string"&&ox.test(h),I,A=!1;if(typeof h=="string"&&S&&(I=h,ix))try{let O=new URL(window.location.href),V=h.startsWith("//")?new URL(O.protocol+h):new URL(h),F=ls(V.pathname,C);V.origin===O.origin&&F!=null?h=F+V.search+V.hash:A=!0}catch{zn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=mb(h,{relative:i}),[L,z,W]=Xb(r,g),X=oA(h,{replace:l,state:c,target:f,preventScrollReset:m,relative:i,viewTransition:w});function D(O){e&&e(O),O.defaultPrevented||X(O)}let N=E.createElement("a",{...g,...W,href:I||k,onClick:A||a?e:D,ref:tA(T,z),target:f,"data-discover":!S&&t==="render"?"true":void 0});return L&&!S?E.createElement(E.Fragment,null,N,E.createElement(Jb,{page:k})):N});Ui.displayName="Link";var rA=E.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:c,children:f,...h},m){let w=hu(l,{relative:h.relative}),g=oi(),T=E.useContext(Ud),{navigator:C,basename:S}=E.useContext(hr),I=T!=null&&dA(w)&&c===!0,A=C.encodeLocation?C.encodeLocation(w).pathname:w.pathname,k=g.pathname,L=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(k=k.toLowerCase(),L=L?L.toLowerCase():null,A=A.toLowerCase()),L&&S&&(L=ls(L,S)||L);const z=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let W=k===A||!i&&k.startsWith(A)&&k.charAt(z)==="/",X=L!=null&&(L===A||!i&&L.startsWith(A)&&L.charAt(A.length)==="/"),D={isActive:W,isPending:X,isTransitioning:I},N=W?e:void 0,O;typeof r=="function"?O=r(D):O=[r,W?"active":null,X?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(D):a;return E.createElement(Ui,{...h,"aria-current":N,className:O,ref:m,style:V,to:l,viewTransition:c},typeof f=="function"?f(D):f)});rA.displayName="NavLink";var sA=E.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:l=Jc,action:c,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:w,...g},T)=>{let C=uA(),S=cA(c,{relative:h}),I=l.toLowerCase()==="get"?"get":"post",A=typeof c=="string"&&ox.test(c),k=L=>{if(f&&f(L),L.defaultPrevented)return;L.preventDefault();let z=L.nativeEvent.submitter,W=(z==null?void 0:z.getAttribute("formmethod"))||l;C(z||L.currentTarget,{fetcherKey:e,method:W,navigate:t,replace:i,state:a,relative:h,preventScrollReset:m,viewTransition:w})};return E.createElement("form",{ref:T,method:I,action:S,onSubmit:r?f:k,...g,"data-discover":!A&&n==="render"?"true":void 0})});sA.displayName="Form";function iA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ax(n){let e=E.useContext(_a);return ht(e,iA(n)),e}function oA(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=fu(),f=oi(),h=hu(n,{relative:a});return E.useCallback(m=>{if(jb(m,e)){m.preventDefault();let w=t!==void 0?t:Yl(f)===Yl(h);c(n,{replace:w,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[f,c,h,t,r,e,n,i,a,l])}var aA=0,lA=()=>`__${String(++aA)}__`;function uA(){let{router:n}=ax("useSubmit"),{basename:e}=E.useContext(hr),t=Ib();return E.useCallback(async(r,i={})=>{let{action:a,method:l,encType:c,formData:f,body:h}=$b(r,e);if(i.navigate===!1){let m=i.fetcherKey||lA();await n.fetch(m,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function cA(n,{relative:e}={}){let{basename:t}=E.useContext(hr),r=E.useContext(pr);ht(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...hu(n||".",{relative:e})},l=oi();if(n==null){a.search=l.search;let c=new URLSearchParams(a.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(w=>w).forEach(w=>c.append("index",w));let m=c.toString();a.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:as([t,a.pathname])),Yl(a)}function dA(n,e={}){let t=E.useContext(J_);ht(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ax("useViewTransitionState"),i=hu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=ls(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=ls(t.nextLocation.pathname,r)||t.nextLocation.pathname;return dd(i.pathname,l)!=null||dd(i.pathname,a)!=null}[...Qb];var Ea=q_();const fA=W_(Ea),lx=E.createContext(void 0),hA=({children:n})=>{const[e,t]=E.useState([]),[r,i]=E.useState(null),a=w=>{const g=String((w==null?void 0:w.id)??""),T={...w,id:g};t(C=>C.find(I=>String(I.id)===g)?C.map(I=>String(I.id)===g?{...I,quantity:I.quantity+1}:I):[...C,{...T,quantity:1}])},l=w=>{t(g=>g.filter(T=>String(T.id)!==String(w)))},c=(w,g)=>{if(g<=0){l(w);return}t(T=>T.map(C=>String(C.id)===String(w)?{...C,quantity:g}:C))},f=()=>{t([])},h=()=>e.reduce((w,g)=>w+g.price*g.quantity,0),m=()=>e.reduce((w,g)=>w+g.quantity,0);return v.jsx(lx.Provider,{value:{items:e,tableId:r,addToCart:a,removeFromCart:l,updateQuantity:c,clearCart:f,setTableId:i,getTotalPrice:h,getTotalItems:m},children:n})},qm=()=>{const n=E.useContext(lx);if(n===void 0)throw new Error("useCart must be used within a CartProvider");return n},pA=()=>{};var D0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},mA=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],c=n[t++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},cx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,c=l?n[i+1]:0,f=i+2<n.length,h=f?n[i+2]:0,m=a>>2,w=(a&3)<<4|c>>4;let g=(c&15)<<2|h>>6,T=h&63;f||(T=64,l||(g=64)),r.push(t[m],t[w],t[g],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ux(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):mA(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const w=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||c==null||h==null||w==null)throw new gA;const g=a<<2|c>>4;if(r.push(g),h!==64){const T=c<<4&240|h>>2;if(r.push(T),w!==64){const C=h<<6&192|w;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class gA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yA=function(n){const e=ux(n);return cx.encodeByteArray(e,!0)},fd=function(n){return yA(n).replace(/\./g,"")},vA=function(n){try{return cx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=()=>wA().__FIREBASE_DEFAULTS__,xA=()=>{if(typeof process>"u"||typeof D0>"u")return;const n=D0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},EA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&vA(n[1]);return e&&JSON.parse(e)},Qm=()=>{try{return pA()||_A()||xA()||EA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},CA=n=>{var e,t;return(t=(e=Qm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},SA=n=>{const e=CA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},dx=()=>{var n;return(n=Qm())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(n){return n.endsWith(".cloudworkstations.dev")}async function IA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fd(JSON.stringify(t)),fd(JSON.stringify(l)),""].join(".")}const Bl={};function AA(){const n={prod:[],emulator:[]};for(const e of Object.keys(Bl))Bl[e]?n.emulator.push(e):n.prod.push(e);return n}function RA(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let M0=!1;function NA(n,e){if(typeof window>"u"||typeof document>"u"||!Gm(window.location.host)||Bl[n]===e||Bl[n]||M0)return;Bl[n]=e;function t(g){return`__firebase__banner__${g}`}const r="__firebase__banner",a=AA().prod.length>0;function l(){const g=document.getElementById(r);g&&g.remove()}function c(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function f(g,T){g.setAttribute("width","24"),g.setAttribute("id",T),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{M0=!0,l()},g}function m(g,T){g.setAttribute("id",T),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function w(){const g=RA(r),T=t("text"),C=document.getElementById(T)||document.createElement("span"),S=t("learnmore"),I=document.getElementById(S)||document.createElement("a"),A=t("preprendIcon"),k=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const L=g.element;c(L),m(I,S);const z=h();f(k,A),L.append(k,C,I,z),document.body.appendChild(L)}a?(C.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kA(){var n;const e=(n=Qm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DA(){return!kA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MA(){try{return typeof indexedDB=="object"}catch{return!1}}function OA(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="FirebaseError";class Ca extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=LA,Object.setPrototypeOf(this,Ca.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fx.prototype.create)}}class fx{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?jA(a,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Ca(i,c,r)}}function jA(n,e){return n.replace(VA,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const VA=/\{\$([^}]+)}/g;function hd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(O0(a)&&O0(l)){if(!hd(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function O0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(n){return n&&n._delegate?n._delegate:n}class Xl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FA=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new TA;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zA(e))try{this.getOrInitializeService({instanceIdentifier:$i})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=$i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$i){return this.instances.has(e)}getOptions(e=$i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$A(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$i){return this.component?this.component.multipleInstances?e:$i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function $A(n){return n===$i?void 0:n}function zA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new FA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ye||(Ye={}));const BA={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},HA=Ye.INFO,WA={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},KA=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=WA[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let hx=class{constructor(e){this.name=e,this._logLevel=HA,this._logHandler=KA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}};const qA=(n,e)=>e.some(t=>n instanceof t);let L0,j0;function QA(){return L0||(L0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GA(){return j0||(j0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const px=new WeakMap,Ip=new WeakMap,mx=new WeakMap,tp=new WeakMap,Ym=new WeakMap;function YA(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Ks(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&px.set(t,n)}).catch(()=>{}),Ym.set(e,n),e}function XA(n){if(Ip.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Ip.set(n,e)}let bp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ip.get(n);if(e==="objectStoreNames")return n.objectStoreNames||mx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ks(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function JA(n){bp=n(bp)}function ZA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(np(this),e,...t);return mx.set(r,e.sort?e.sort():[e]),Ks(r)}:GA().includes(n)?function(...e){return n.apply(np(this),e),Ks(px.get(this))}:function(...e){return Ks(n.apply(np(this),e))}}function eR(n){return typeof n=="function"?ZA(n):(n instanceof IDBTransaction&&XA(n),qA(n,QA())?new Proxy(n,bp):n)}function Ks(n){if(n instanceof IDBRequest)return YA(n);if(tp.has(n))return tp.get(n);const e=eR(n);return e!==n&&(tp.set(n,e),Ym.set(e,n)),e}const np=n=>Ym.get(n);function tR(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),c=Ks(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Ks(l.result),f.oldVersion,f.newVersion,Ks(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const nR=["get","getKey","getAll","getAllKeys","count"],rR=["put","add","delete","clear"],rp=new Map;function V0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(rp.get(e))return rp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=rR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nR.includes(t)))return;const a=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[t](...c),i&&f.done]))[0]};return rp.set(e,a),a}JA(n=>({...n,get:(e,t,r)=>V0(e,t)||n.get(e,t,r),has:(e,t)=>!!V0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(iR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function iR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ap="@firebase/app",F0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new hx("@firebase/app"),oR="@firebase/app-compat",aR="@firebase/analytics-compat",lR="@firebase/analytics",uR="@firebase/app-check-compat",cR="@firebase/app-check",dR="@firebase/auth",fR="@firebase/auth-compat",hR="@firebase/database",pR="@firebase/data-connect",mR="@firebase/database-compat",gR="@firebase/functions",yR="@firebase/functions-compat",vR="@firebase/installations",wR="@firebase/installations-compat",_R="@firebase/messaging",xR="@firebase/messaging-compat",ER="@firebase/performance",CR="@firebase/performance-compat",SR="@firebase/remote-config",TR="@firebase/remote-config-compat",IR="@firebase/storage",bR="@firebase/storage-compat",AR="@firebase/firestore",RR="@firebase/ai",NR="@firebase/firestore-compat",PR="firebase",kR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="[DEFAULT]",DR={[Ap]:"fire-core",[oR]:"fire-core-compat",[lR]:"fire-analytics",[aR]:"fire-analytics-compat",[cR]:"fire-app-check",[uR]:"fire-app-check-compat",[dR]:"fire-auth",[fR]:"fire-auth-compat",[hR]:"fire-rtdb",[pR]:"fire-data-connect",[mR]:"fire-rtdb-compat",[gR]:"fire-fn",[yR]:"fire-fn-compat",[vR]:"fire-iid",[wR]:"fire-iid-compat",[_R]:"fire-fcm",[xR]:"fire-fcm-compat",[ER]:"fire-perf",[CR]:"fire-perf-compat",[SR]:"fire-rc",[TR]:"fire-rc-compat",[IR]:"fire-gcs",[bR]:"fire-gcs-compat",[AR]:"fire-fst",[NR]:"fire-fst-compat",[RR]:"fire-vertex","fire-js":"fire-js",[PR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=new Map,MR=new Map,Np=new Map;function $0(n,e){try{n.container.addComponent(e)}catch(t){us.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function md(n){const e=n.name;if(Np.has(e))return us.debug(`There were multiple attempts to register component ${e}.`),!1;Np.set(e,n);for(const t of pd.values())$0(t,n);for(const t of MR.values())$0(t,n);return!0}function OR(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function LR(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new fx("app","Firebase",jR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=kR;function gx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Rp,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw qs.create("bad-app-name",{appName:String(i)});if(t||(t=dx()),!t)throw qs.create("no-options");const a=pd.get(i);if(a){if(hd(t,a.options)&&hd(r,a.config))return a;throw qs.create("duplicate-app",{appName:i})}const l=new UA(i);for(const f of Np.values())l.addComponent(f);const c=new VR(t,r,l);return pd.set(i,c),c}function $R(n=Rp){const e=pd.get(n);if(!e&&n===Rp&&dx())return gx();if(!e)throw qs.create("no-app",{appName:n});return e}function ra(n,e,t){var r;let i=(r=DR[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),us.warn(c.join(" "));return}md(new Xl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="firebase-heartbeat-database",UR=1,Jl="firebase-heartbeat-store";let sp=null;function yx(){return sp||(sp=tR(zR,UR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Jl)}catch(t){console.warn(t)}}}}).catch(n=>{throw qs.create("idb-open",{originalErrorMessage:n.message})})),sp}async function BR(n){try{const t=(await yx()).transaction(Jl),r=await t.objectStore(Jl).get(vx(n));return await t.done,r}catch(e){if(e instanceof Ca)us.warn(e.message);else{const t=qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});us.warn(t.message)}}}async function z0(n,e){try{const r=(await yx()).transaction(Jl,"readwrite");await r.objectStore(Jl).put(e,vx(n)),await r.done}catch(t){if(t instanceof Ca)us.warn(t.message);else{const r=qs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});us.warn(r.message)}}}function vx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=1024,WR=30;class KR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new QR(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=U0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>WR){const l=GR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=U0(),{heartbeatsToSend:r,unsentEntries:i}=qR(this._heartbeatsCache.heartbeats),a=fd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return us.warn(t),""}}}function U0(){return new Date().toISOString().substring(0,10)}function qR(n,e=HR){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),B0(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),B0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class QR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MA()?OA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await BR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return z0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return z0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function B0(n){return fd(JSON.stringify({version:2,heartbeats:n})).length}function GR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(n){md(new Xl("platform-logger",e=>new sR(e),"PRIVATE")),md(new Xl("heartbeat",e=>new KR(e),"PRIVATE")),ra(Ap,F0,n),ra(Ap,F0,"esm2017"),ra("fire-js","")}YR("");var H0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qs,wx;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,N){function O(){}O.prototype=N.prototype,D.D=N.prototype,D.prototype=new O,D.prototype.constructor=D,D.C=function(V,F,P){for(var j=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)j[ee-2]=arguments[ee];return N.prototype[F].apply(V,j)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,N,O){O||(O=0);var V=Array(16);if(typeof N=="string")for(var F=0;16>F;++F)V[F]=N.charCodeAt(O++)|N.charCodeAt(O++)<<8|N.charCodeAt(O++)<<16|N.charCodeAt(O++)<<24;else for(F=0;16>F;++F)V[F]=N[O++]|N[O++]<<8|N[O++]<<16|N[O++]<<24;N=D.g[0],O=D.g[1],F=D.g[2];var P=D.g[3],j=N+(P^O&(F^P))+V[0]+3614090360&4294967295;N=O+(j<<7&4294967295|j>>>25),j=P+(F^N&(O^F))+V[1]+3905402710&4294967295,P=N+(j<<12&4294967295|j>>>20),j=F+(O^P&(N^O))+V[2]+606105819&4294967295,F=P+(j<<17&4294967295|j>>>15),j=O+(N^F&(P^N))+V[3]+3250441966&4294967295,O=F+(j<<22&4294967295|j>>>10),j=N+(P^O&(F^P))+V[4]+4118548399&4294967295,N=O+(j<<7&4294967295|j>>>25),j=P+(F^N&(O^F))+V[5]+1200080426&4294967295,P=N+(j<<12&4294967295|j>>>20),j=F+(O^P&(N^O))+V[6]+2821735955&4294967295,F=P+(j<<17&4294967295|j>>>15),j=O+(N^F&(P^N))+V[7]+4249261313&4294967295,O=F+(j<<22&4294967295|j>>>10),j=N+(P^O&(F^P))+V[8]+1770035416&4294967295,N=O+(j<<7&4294967295|j>>>25),j=P+(F^N&(O^F))+V[9]+2336552879&4294967295,P=N+(j<<12&4294967295|j>>>20),j=F+(O^P&(N^O))+V[10]+4294925233&4294967295,F=P+(j<<17&4294967295|j>>>15),j=O+(N^F&(P^N))+V[11]+2304563134&4294967295,O=F+(j<<22&4294967295|j>>>10),j=N+(P^O&(F^P))+V[12]+1804603682&4294967295,N=O+(j<<7&4294967295|j>>>25),j=P+(F^N&(O^F))+V[13]+4254626195&4294967295,P=N+(j<<12&4294967295|j>>>20),j=F+(O^P&(N^O))+V[14]+2792965006&4294967295,F=P+(j<<17&4294967295|j>>>15),j=O+(N^F&(P^N))+V[15]+1236535329&4294967295,O=F+(j<<22&4294967295|j>>>10),j=N+(F^P&(O^F))+V[1]+4129170786&4294967295,N=O+(j<<5&4294967295|j>>>27),j=P+(O^F&(N^O))+V[6]+3225465664&4294967295,P=N+(j<<9&4294967295|j>>>23),j=F+(N^O&(P^N))+V[11]+643717713&4294967295,F=P+(j<<14&4294967295|j>>>18),j=O+(P^N&(F^P))+V[0]+3921069994&4294967295,O=F+(j<<20&4294967295|j>>>12),j=N+(F^P&(O^F))+V[5]+3593408605&4294967295,N=O+(j<<5&4294967295|j>>>27),j=P+(O^F&(N^O))+V[10]+38016083&4294967295,P=N+(j<<9&4294967295|j>>>23),j=F+(N^O&(P^N))+V[15]+3634488961&4294967295,F=P+(j<<14&4294967295|j>>>18),j=O+(P^N&(F^P))+V[4]+3889429448&4294967295,O=F+(j<<20&4294967295|j>>>12),j=N+(F^P&(O^F))+V[9]+568446438&4294967295,N=O+(j<<5&4294967295|j>>>27),j=P+(O^F&(N^O))+V[14]+3275163606&4294967295,P=N+(j<<9&4294967295|j>>>23),j=F+(N^O&(P^N))+V[3]+4107603335&4294967295,F=P+(j<<14&4294967295|j>>>18),j=O+(P^N&(F^P))+V[8]+1163531501&4294967295,O=F+(j<<20&4294967295|j>>>12),j=N+(F^P&(O^F))+V[13]+2850285829&4294967295,N=O+(j<<5&4294967295|j>>>27),j=P+(O^F&(N^O))+V[2]+4243563512&4294967295,P=N+(j<<9&4294967295|j>>>23),j=F+(N^O&(P^N))+V[7]+1735328473&4294967295,F=P+(j<<14&4294967295|j>>>18),j=O+(P^N&(F^P))+V[12]+2368359562&4294967295,O=F+(j<<20&4294967295|j>>>12),j=N+(O^F^P)+V[5]+4294588738&4294967295,N=O+(j<<4&4294967295|j>>>28),j=P+(N^O^F)+V[8]+2272392833&4294967295,P=N+(j<<11&4294967295|j>>>21),j=F+(P^N^O)+V[11]+1839030562&4294967295,F=P+(j<<16&4294967295|j>>>16),j=O+(F^P^N)+V[14]+4259657740&4294967295,O=F+(j<<23&4294967295|j>>>9),j=N+(O^F^P)+V[1]+2763975236&4294967295,N=O+(j<<4&4294967295|j>>>28),j=P+(N^O^F)+V[4]+1272893353&4294967295,P=N+(j<<11&4294967295|j>>>21),j=F+(P^N^O)+V[7]+4139469664&4294967295,F=P+(j<<16&4294967295|j>>>16),j=O+(F^P^N)+V[10]+3200236656&4294967295,O=F+(j<<23&4294967295|j>>>9),j=N+(O^F^P)+V[13]+681279174&4294967295,N=O+(j<<4&4294967295|j>>>28),j=P+(N^O^F)+V[0]+3936430074&4294967295,P=N+(j<<11&4294967295|j>>>21),j=F+(P^N^O)+V[3]+3572445317&4294967295,F=P+(j<<16&4294967295|j>>>16),j=O+(F^P^N)+V[6]+76029189&4294967295,O=F+(j<<23&4294967295|j>>>9),j=N+(O^F^P)+V[9]+3654602809&4294967295,N=O+(j<<4&4294967295|j>>>28),j=P+(N^O^F)+V[12]+3873151461&4294967295,P=N+(j<<11&4294967295|j>>>21),j=F+(P^N^O)+V[15]+530742520&4294967295,F=P+(j<<16&4294967295|j>>>16),j=O+(F^P^N)+V[2]+3299628645&4294967295,O=F+(j<<23&4294967295|j>>>9),j=N+(F^(O|~P))+V[0]+4096336452&4294967295,N=O+(j<<6&4294967295|j>>>26),j=P+(O^(N|~F))+V[7]+1126891415&4294967295,P=N+(j<<10&4294967295|j>>>22),j=F+(N^(P|~O))+V[14]+2878612391&4294967295,F=P+(j<<15&4294967295|j>>>17),j=O+(P^(F|~N))+V[5]+4237533241&4294967295,O=F+(j<<21&4294967295|j>>>11),j=N+(F^(O|~P))+V[12]+1700485571&4294967295,N=O+(j<<6&4294967295|j>>>26),j=P+(O^(N|~F))+V[3]+2399980690&4294967295,P=N+(j<<10&4294967295|j>>>22),j=F+(N^(P|~O))+V[10]+4293915773&4294967295,F=P+(j<<15&4294967295|j>>>17),j=O+(P^(F|~N))+V[1]+2240044497&4294967295,O=F+(j<<21&4294967295|j>>>11),j=N+(F^(O|~P))+V[8]+1873313359&4294967295,N=O+(j<<6&4294967295|j>>>26),j=P+(O^(N|~F))+V[15]+4264355552&4294967295,P=N+(j<<10&4294967295|j>>>22),j=F+(N^(P|~O))+V[6]+2734768916&4294967295,F=P+(j<<15&4294967295|j>>>17),j=O+(P^(F|~N))+V[13]+1309151649&4294967295,O=F+(j<<21&4294967295|j>>>11),j=N+(F^(O|~P))+V[4]+4149444226&4294967295,N=O+(j<<6&4294967295|j>>>26),j=P+(O^(N|~F))+V[11]+3174756917&4294967295,P=N+(j<<10&4294967295|j>>>22),j=F+(N^(P|~O))+V[2]+718787259&4294967295,F=P+(j<<15&4294967295|j>>>17),j=O+(P^(F|~N))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+N&4294967295,D.g[1]=D.g[1]+(F+(j<<21&4294967295|j>>>11))&4294967295,D.g[2]=D.g[2]+F&4294967295,D.g[3]=D.g[3]+P&4294967295}r.prototype.u=function(D,N){N===void 0&&(N=D.length);for(var O=N-this.blockSize,V=this.B,F=this.h,P=0;P<N;){if(F==0)for(;P<=O;)i(this,D,P),P+=this.blockSize;if(typeof D=="string"){for(;P<N;)if(V[F++]=D.charCodeAt(P++),F==this.blockSize){i(this,V),F=0;break}}else for(;P<N;)if(V[F++]=D[P++],F==this.blockSize){i(this,V),F=0;break}}this.h=F,this.o+=N},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var N=1;N<D.length-8;++N)D[N]=0;var O=8*this.o;for(N=D.length-8;N<D.length;++N)D[N]=O&255,O/=256;for(this.u(D),D=Array(16),N=O=0;4>N;++N)for(var V=0;32>V;V+=8)D[O++]=this.g[N]>>>V&255;return D};function a(D,N){var O=c;return Object.prototype.hasOwnProperty.call(O,D)?O[D]:O[D]=N(D)}function l(D,N){this.h=N;for(var O=[],V=!0,F=D.length-1;0<=F;F--){var P=D[F]|0;V&&P==N||(O[F]=P,V=!1)}this.g=O}var c={};function f(D){return-128<=D&&128>D?a(D,function(N){return new l([N|0],0>N?-1:0)}):new l([D|0],0>D?-1:0)}function h(D){if(isNaN(D)||!isFinite(D))return w;if(0>D)return I(h(-D));for(var N=[],O=1,V=0;D>=O;V++)N[V]=D/O|0,O*=4294967296;return new l(N,0)}function m(D,N){if(D.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(D.charAt(0)=="-")return I(m(D.substring(1),N));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=h(Math.pow(N,8)),V=w,F=0;F<D.length;F+=8){var P=Math.min(8,D.length-F),j=parseInt(D.substring(F,F+P),N);8>P?(P=h(Math.pow(N,P)),V=V.j(P).add(h(j))):(V=V.j(O),V=V.add(h(j)))}return V}var w=f(0),g=f(1),T=f(16777216);n=l.prototype,n.m=function(){if(S(this))return-I(this).m();for(var D=0,N=1,O=0;O<this.g.length;O++){var V=this.i(O);D+=(0<=V?V:4294967296+V)*N,N*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(C(this))return"0";if(S(this))return"-"+I(this).toString(D);for(var N=h(Math.pow(D,6)),O=this,V="";;){var F=z(O,N).g;O=A(O,F.j(N));var P=((0<O.g.length?O.g[0]:O.h)>>>0).toString(D);if(O=F,C(O))return P+V;for(;6>P.length;)P="0"+P;V=P+V}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function C(D){if(D.h!=0)return!1;for(var N=0;N<D.g.length;N++)if(D.g[N]!=0)return!1;return!0}function S(D){return D.h==-1}n.l=function(D){return D=A(this,D),S(D)?-1:C(D)?0:1};function I(D){for(var N=D.g.length,O=[],V=0;V<N;V++)O[V]=~D.g[V];return new l(O,~D.h).add(g)}n.abs=function(){return S(this)?I(this):this},n.add=function(D){for(var N=Math.max(this.g.length,D.g.length),O=[],V=0,F=0;F<=N;F++){var P=V+(this.i(F)&65535)+(D.i(F)&65535),j=(P>>>16)+(this.i(F)>>>16)+(D.i(F)>>>16);V=j>>>16,P&=65535,j&=65535,O[F]=j<<16|P}return new l(O,O[O.length-1]&-2147483648?-1:0)};function A(D,N){return D.add(I(N))}n.j=function(D){if(C(this)||C(D))return w;if(S(this))return S(D)?I(this).j(I(D)):I(I(this).j(D));if(S(D))return I(this.j(I(D)));if(0>this.l(T)&&0>D.l(T))return h(this.m()*D.m());for(var N=this.g.length+D.g.length,O=[],V=0;V<2*N;V++)O[V]=0;for(V=0;V<this.g.length;V++)for(var F=0;F<D.g.length;F++){var P=this.i(V)>>>16,j=this.i(V)&65535,ee=D.i(F)>>>16,se=D.i(F)&65535;O[2*V+2*F]+=j*se,k(O,2*V+2*F),O[2*V+2*F+1]+=P*se,k(O,2*V+2*F+1),O[2*V+2*F+1]+=j*ee,k(O,2*V+2*F+1),O[2*V+2*F+2]+=P*ee,k(O,2*V+2*F+2)}for(V=0;V<N;V++)O[V]=O[2*V+1]<<16|O[2*V];for(V=N;V<2*N;V++)O[V]=0;return new l(O,0)};function k(D,N){for(;(D[N]&65535)!=D[N];)D[N+1]+=D[N]>>>16,D[N]&=65535,N++}function L(D,N){this.g=D,this.h=N}function z(D,N){if(C(N))throw Error("division by zero");if(C(D))return new L(w,w);if(S(D))return N=z(I(D),N),new L(I(N.g),I(N.h));if(S(N))return N=z(D,I(N)),new L(I(N.g),N.h);if(30<D.g.length){if(S(D)||S(N))throw Error("slowDivide_ only works with positive integers.");for(var O=g,V=N;0>=V.l(D);)O=W(O),V=W(V);var F=X(O,1),P=X(V,1);for(V=X(V,2),O=X(O,2);!C(V);){var j=P.add(V);0>=j.l(D)&&(F=F.add(O),P=j),V=X(V,1),O=X(O,1)}return N=A(D,F.j(N)),new L(F,N)}for(F=w;0<=D.l(N);){for(O=Math.max(1,Math.floor(D.m()/N.m())),V=Math.ceil(Math.log(O)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),P=h(O),j=P.j(N);S(j)||0<j.l(D);)O-=V,P=h(O),j=P.j(N);C(P)&&(P=g),F=F.add(P),D=A(D,j)}return new L(F,D)}n.A=function(D){return z(this,D).h},n.and=function(D){for(var N=Math.max(this.g.length,D.g.length),O=[],V=0;V<N;V++)O[V]=this.i(V)&D.i(V);return new l(O,this.h&D.h)},n.or=function(D){for(var N=Math.max(this.g.length,D.g.length),O=[],V=0;V<N;V++)O[V]=this.i(V)|D.i(V);return new l(O,this.h|D.h)},n.xor=function(D){for(var N=Math.max(this.g.length,D.g.length),O=[],V=0;V<N;V++)O[V]=this.i(V)^D.i(V);return new l(O,this.h^D.h)};function W(D){for(var N=D.g.length+1,O=[],V=0;V<N;V++)O[V]=D.i(V)<<1|D.i(V-1)>>>31;return new l(O,D.h)}function X(D,N){var O=N>>5;N%=32;for(var V=D.g.length-O,F=[],P=0;P<V;P++)F[P]=0<N?D.i(P+O)>>>N|D.i(P+O+1)<<32-N:D.i(P+O);return new l(F,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wx=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,Qs=l}).apply(typeof H0<"u"?H0:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _x,kl,xx,ed,Pp,Ex,Cx,Sx;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,b){return d==Array.prototype||d==Object.prototype||(d[_]=b.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var _=0;_<d.length;++_){var b=d[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=t(this);function i(d,_){if(_)e:{var b=r;d=d.split(".");for(var M=0;M<d.length-1;M++){var K=d[M];if(!(K in b))break e;b=b[K]}d=d[d.length-1],M=b[d],_=_(M),_!=M&&_!=null&&e(b,d,{configurable:!0,writable:!0,value:_})}}function a(d,_){d instanceof String&&(d+="");var b=0,M=!1,K={next:function(){if(!M&&b<d.length){var J=b++;return{value:_(J,d[J]),done:!1}}return M=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(d){return d||function(){return a(this,function(_,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function h(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function m(d,_,b){return d.call.apply(d.bind,arguments)}function w(d,_,b){if(!d)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,M),d.apply(_,K)}}return function(){return d.apply(_,arguments)}}function g(d,_,b){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:w,g.apply(null,arguments)}function T(d,_){var b=Array.prototype.slice.call(arguments,1);return function(){var M=b.slice();return M.push.apply(M,arguments),d.apply(this,M)}}function C(d,_){function b(){}b.prototype=_.prototype,d.aa=_.prototype,d.prototype=new b,d.prototype.constructor=d,d.Qb=function(M,K,J){for(var fe=Array(arguments.length-2),et=2;et<arguments.length;et++)fe[et-2]=arguments[et];return _.prototype[K].apply(M,fe)}}function S(d){const _=d.length;if(0<_){const b=Array(_);for(let M=0;M<_;M++)b[M]=d[M];return b}return[]}function I(d,_){for(let b=1;b<arguments.length;b++){const M=arguments[b];if(f(M)){const K=d.length||0,J=M.length||0;d.length=K+J;for(let fe=0;fe<J;fe++)d[K+fe]=M[fe]}else d.push(M)}}class A{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function k(d){return/^[\s\xa0]*$/.test(d)}function L(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function z(d){return z[" "](d),d}z[" "]=function(){};var W=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function X(d,_,b){for(const M in d)_.call(b,d[M],M,d)}function D(d,_){for(const b in d)_.call(void 0,d[b],b,d)}function N(d){const _={};for(const b in d)_[b]=d[b];return _}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(d,_){let b,M;for(let K=1;K<arguments.length;K++){M=arguments[K];for(b in M)d[b]=M[b];for(let J=0;J<O.length;J++)b=O[J],Object.prototype.hasOwnProperty.call(M,b)&&(d[b]=M[b])}}function F(d){var _=1;d=d.split(":");const b=[];for(;0<_&&d.length;)b.push(d.shift()),_--;return d.length&&b.push(d.join(":")),b}function P(d){c.setTimeout(()=>{throw d},0)}function j(){var d=te;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class ee{constructor(){this.h=this.g=null}add(_,b){const M=se.get();M.set(_,b),this.h?this.h.next=M:this.g=M,this.h=M}}var se=new A(()=>new ce,d=>d.reset());class ce{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let de,G=!1,te=new ee,le=()=>{const d=c.Promise.resolve(void 0);de=()=>{d.then(U)}};var U=()=>{for(var d;d=j();){try{d.h.call(d.g)}catch(b){P(b)}var _=se;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}G=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};c.addEventListener("test",b,_),c.removeEventListener("test",b,_)}catch{}return d}();function Re(d,_){if(pe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var b=this.type=d.type,M=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(W){e:{try{z(_.nodeName);var K=!0;break e}catch{}K=!1}K||(_=null)}}else b=="mouseover"?_=d.fromElement:b=="mouseout"&&(_=d.toElement);this.relatedTarget=_,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:je[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Re.aa.h.call(this)}}C(Re,pe);var je={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Le(d,_,b,M,K){this.listener=d,this.proxy=null,this.src=_,this.type=b,this.capture=!!M,this.ha=K,this.key=++Ee,this.da=this.fa=!1}function ke(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ze(d){this.src=d,this.g={},this.h=0}ze.prototype.add=function(d,_,b,M,K){var J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);var fe=vt(d,_,M,K);return-1<fe?(_=d[fe],b||(_.fa=!1)):(_=new Le(_,this.src,J,!!M,K),_.fa=b,d.push(_)),_};function Ke(d,_){var b=_.type;if(b in d.g){var M=d.g[b],K=Array.prototype.indexOf.call(M,_,void 0),J;(J=0<=K)&&Array.prototype.splice.call(M,K,1),J&&(ke(_),d.g[b].length==0&&(delete d.g[b],d.h--))}}function vt(d,_,b,M){for(var K=0;K<d.length;++K){var J=d[K];if(!J.da&&J.listener==_&&J.capture==!!b&&J.ha==M)return K}return-1}var Ot="closure_lm_"+(1e6*Math.random()|0),Nn={};function Bn(d,_,b,M,K){if(Array.isArray(_)){for(var J=0;J<_.length;J++)Bn(d,_[J],b,M,K);return null}return b=Oa(b),d&&d[he]?d.K(_,b,h(M)?!!M.capture:!1,K):Hn(d,_,b,!1,M,K)}function Hn(d,_,b,M,K,J){if(!_)throw Error("Invalid event type");var fe=h(K)?!!K.capture:!!K,et=so(d);if(et||(d[Ot]=et=new ze(d)),b=et.add(_,b,M,fe,J),b.proxy)return b;if(M=ro(),b.proxy=M,M.src=d,M.listener=b,d.addEventListener)Ce||(K=fe),K===void 0&&(K=!1),d.addEventListener(_.toString(),M,K);else if(d.attachEvent)d.attachEvent(Br(_.toString()),M);else if(d.addListener&&d.removeListener)d.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ro(){function d(b){return _.call(d.src,d.listener,b)}const _=Ma;return d}function Wn(d,_,b,M,K){if(Array.isArray(_))for(var J=0;J<_.length;J++)Wn(d,_[J],b,M,K);else M=h(M)?!!M.capture:!!M,b=Oa(b),d&&d[he]?(d=d.i,_=String(_).toString(),_ in d.g&&(J=d.g[_],b=vt(J,b,M,K),-1<b&&(ke(J[b]),Array.prototype.splice.call(J,b,1),J.length==0&&(delete d.g[_],d.h--)))):d&&(d=so(d))&&(_=d.g[_.toString()],d=-1,_&&(d=vt(_,b,M,K)),(b=-1<d?_[d]:null)&&Ur(b))}function Ur(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[he])Ke(_.i,d);else{var b=d.type,M=d.proxy;_.removeEventListener?_.removeEventListener(b,M,d.capture):_.detachEvent?_.detachEvent(Br(b),M):_.addListener&&_.removeListener&&_.removeListener(M),(b=so(_))?(Ke(b,d),b.h==0&&(b.src=null,_[Ot]=null)):ke(d)}}}function Br(d){return d in Nn?Nn[d]:Nn[d]="on"+d}function Ma(d,_){if(d.da)d=!0;else{_=new Re(_,this);var b=d.listener,M=d.ha||d.src;d.fa&&Ur(d),d=b.call(M,_)}return d}function so(d){return d=d[Ot],d instanceof ze?d:null}var io="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oa(d){return typeof d=="function"?d:(d[io]||(d[io]=function(_){return d.handleEvent(_)}),d[io])}function Rt(){Z.call(this),this.i=new ze(this),this.M=this,this.F=null}C(Rt,Z),Rt.prototype[he]=!0,Rt.prototype.removeEventListener=function(d,_,b,M){Wn(this,d,_,b,M)};function Nt(d,_){var b,M=d.F;if(M)for(b=[];M;M=M.F)b.push(M);if(d=d.M,M=_.type||_,typeof _=="string")_=new pe(_,d);else if(_ instanceof pe)_.target=_.target||d;else{var K=_;_=new pe(M,d),V(_,K)}if(K=!0,b)for(var J=b.length-1;0<=J;J--){var fe=_.g=b[J];K=Hr(fe,M,!0,_)&&K}if(fe=_.g=d,K=Hr(fe,M,!0,_)&&K,K=Hr(fe,M,!1,_)&&K,b)for(J=0;J<b.length;J++)fe=_.g=b[J],K=Hr(fe,M,!1,_)&&K}Rt.prototype.N=function(){if(Rt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var b=d.g[_],M=0;M<b.length;M++)ke(b[M]);delete d.g[_],d.h--}}this.F=null},Rt.prototype.K=function(d,_,b,M){return this.i.add(String(d),_,!1,b,M)},Rt.prototype.L=function(d,_,b,M){return this.i.add(String(d),_,!0,b,M)};function Hr(d,_,b,M){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var K=!0,J=0;J<_.length;++J){var fe=_[J];if(fe&&!fe.da&&fe.capture==b){var et=fe.listener,Pt=fe.ha||fe.src;fe.fa&&Ke(d.i,fe),K=et.call(Pt,M)!==!1&&K}}return K&&!M.defaultPrevented}function La(d,_,b){if(typeof d=="function")b&&(d=g(d,b));else if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:c.setTimeout(d,_||0)}function ms(d){d.g=La(()=>{d.g=null,d.i&&(d.i=!1,ms(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class hi extends Z{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ms(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pi(d){Z.call(this),this.h=d,this.g={}}C(pi,Z);var ja=[];function Va(d){X(d.g,function(_,b){this.g.hasOwnProperty(b)&&Ur(_)},d),d.g={}}pi.prototype.N=function(){pi.aa.N.call(this),Va(this)},pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fa=c.JSON.stringify,$a=c.JSON.parse,za=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function mi(){}mi.prototype.h=null;function oo(d){return d.h||(d.h=d.i())}function ao(){}var Pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gr(){pe.call(this,"d")}C(gr,pe);function lo(){pe.call(this,"c")}C(lo,pe);var yr={},Ua=null;function gi(){return Ua=Ua||new Rt}yr.La="serverreachability";function Ba(d){pe.call(this,yr.La,d)}C(Ba,pe);function Wr(d){const _=gi();Nt(_,new Ba(_))}yr.STAT_EVENT="statevent";function Ha(d,_){pe.call(this,yr.STAT_EVENT,d),this.stat=_}C(Ha,pe);function Et(d){const _=gi();Nt(_,new Ha(_,d))}yr.Ma="timingevent";function uo(d,_){pe.call(this,yr.Ma,d),this.size=_}C(uo,pe);function Kn(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},_)}function yi(){this.g=!0}yi.prototype.xa=function(){this.g=!1};function vi(d,_,b,M,K,J){d.info(function(){if(d.g)if(J)for(var fe="",et=J.split("&"),Pt=0;Pt<et.length;Pt++){var Qe=et[Pt].split("=");if(1<Qe.length){var Lt=Qe[0];Qe=Qe[1];var Tt=Lt.split("_");fe=2<=Tt.length&&Tt[1]=="type"?fe+(Lt+"="+Qe+"&"):fe+(Lt+"=redacted&")}}else fe=null;else fe=J;return"XMLHTTP REQ ("+M+") [attempt "+K+"]: "+_+`
`+b+`
`+fe})}function co(d,_,b,M,K,J,fe){d.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+K+"]: "+_+`
`+b+`
`+J+" "+fe})}function qn(d,_,b,M){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ef(d,b)+(M?" "+M:"")})}function Wa(d,_){d.info(function(){return"TIMEOUT: "+_})}yi.prototype.info=function(){};function Ef(d,_){if(!d.g)return _;if(!_)return null;try{var b=JSON.parse(_);if(b){for(d=0;d<b.length;d++)if(Array.isArray(b[d])){var M=b[d];if(!(2>M.length)){var K=M[1];if(Array.isArray(K)&&!(1>K.length)){var J=K[0];if(J!="noop"&&J!="stop"&&J!="close")for(var fe=1;fe<K.length;fe++)K[fe]=""}}}}return Fa(b)}catch{return _}}var fo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Eu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function wi(){}C(wi,mi),wi.prototype.g=function(){return new XMLHttpRequest},wi.prototype.i=function(){return{}},Qn=new wi;function Gn(d,_,b,M){this.j=d,this.i=_,this.l=b,this.R=M||1,this.U=new pi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cu}function Cu(){this.i=null,this.g="",this.h=!1}var Ka={},ho={};function po(d,_,b){d.L=1,d.v=_s(_n(_)),d.m=b,d.P=!0,qa(d,null)}function qa(d,_){d.F=Date.now(),rt(d),d.A=_n(d.v);var b=d.A,M=d.R;Array.isArray(M)||(M=[String(M)]),Es(b.i,"t",M),d.C=0,b=d.j.J,d.h=new Cu,d.g=zu(d.j,b?_:null,!d.m),0<d.O&&(d.M=new hi(g(d.Y,d,d.g),d.O)),_=d.U,b=d.g,M=d.ca;var K="readystatechange";Array.isArray(K)||(K&&(ja[0]=K.toString()),K=ja);for(var J=0;J<K.length;J++){var fe=Bn(b,K[J],M||_.handleEvent,!1,_.h||_);if(!fe)break;_.g[fe.key]=fe}_=d.H?N(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Wr(),vi(d.i,d.u,d.A,d.l,d.R,d.m)}Gn.prototype.ca=function(d){d=d.target;const _=this.M;_&&un(d)==3?_.j():this.Y(d)},Gn.prototype.Y=function(d){try{if(d==this.g)e:{const Tt=un(this.g);var _=this.g.Ba();const Mn=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||Za(this.g)))){this.J||Tt!=4||_==7||(_==8||0>=Mn?Wr(3):Wr(2)),_i(this);var b=this.g.Z();this.X=b;t:if(Su(this)){var M=Za(this.g);d="";var K=M.length,J=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kn(this),gs(this);var fe="";break t}this.h.i=new c.TextDecoder}for(_=0;_<K;_++)this.h.h=!0,d+=this.h.i.decode(M[_],{stream:!(J&&_==K-1)});M.length=0,this.h.g+=d,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=b==200,co(this.i,this.u,this.A,this.l,this.R,Tt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Pt=this.g;if((et=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(et)){var Qe=et;break t}}Qe=null}if(b=Qe)qn(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qa(this,b);else{this.o=!1,this.s=3,Et(12),kn(this),gs(this);break e}}if(this.P){b=!0;let En;for(;!this.J&&this.C<fe.length;)if(En=Cf(this,fe),En==ho){Tt==4&&(this.s=4,Et(14),b=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(En==Ka){this.s=4,Et(15),qn(this.i,this.l,fe,"[Invalid Chunk]"),b=!1;break}else qn(this.i,this.l,En,null),Qa(this,En);if(Su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||fe.length!=0||this.h.h||(this.s=1,Et(16),b=!1),this.o=this.o&&b,!b)qn(this.i,this.l,fe,"[Invalid Chunked Response]"),kn(this),gs(this);else if(0<fe.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),tl(Lt),Lt.M=!0,Et(11))}}else qn(this.i,this.l,fe,null),Qa(this,fe);Tt==4&&kn(this),this.o&&!this.J&&(Tt==4?To(this.j,this):(this.o=!1,rt(this)))}else _o(this.g),b==400&&0<fe.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),kn(this),gs(this)}}}catch{}finally{}};function Su(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Cf(d,_){var b=d.C,M=_.indexOf(`
`,b);return M==-1?ho:(b=Number(_.substring(b,M)),isNaN(b)?Ka:(M+=1,M+b>_.length?ho:(_=_.slice(M,M+b),d.C=M+b,_)))}Gn.prototype.cancel=function(){this.J=!0,kn(this)};function rt(d){d.S=Date.now()+d.I,Tu(d,d.I)}function Tu(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Kn(g(d.ba,d),_)}function _i(d){d.B&&(c.clearTimeout(d.B),d.B=null)}Gn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Wa(this.i,this.A),this.L!=2&&(Wr(),Et(17)),kn(this),this.s=2,gs(this)):Tu(this,this.S-d)};function gs(d){d.j.G==0||d.J||To(d.j,d)}function kn(d){_i(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Va(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function Qa(d,_){try{var b=d.j;if(b.G!=0&&(b.g==d||rn(b.h,d))){if(!d.K&&rn(b.h,d)&&b.G==3){try{var M=b.Da.g.parse(_)}catch{M=null}if(Array.isArray(M)&&M.length==3){var K=M;if(K[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<d.F)So(b),er(b);else break e;Co(b),Et(18)}}else b.za=K[1],0<b.za-b.T&&37500>K[2]&&b.F&&b.v==0&&!b.C&&(b.C=Kn(g(b.Za,b),6e3));if(1>=bu(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Yr(b,11)}else if((d.K||b.g==d)&&So(b),!k(_))for(K=b.Da.g.parse(_),_=0;_<K.length;_++){let Qe=K[_];if(b.T=Qe[0],Qe=Qe[1],b.G==2)if(Qe[0]=="c"){b.K=Qe[1],b.ia=Qe[2];const Lt=Qe[3];Lt!=null&&(b.la=Lt,b.j.info("VER="+b.la));const Tt=Qe[4];Tt!=null&&(b.Aa=Tt,b.j.info("SVER="+b.Aa));const Mn=Qe[5];Mn!=null&&typeof Mn=="number"&&0<Mn&&(M=1.5*Mn,b.L=M,b.j.info("backChannelRequestTimeoutMs_="+M)),M=b;const En=d.g;if(En){const bi=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bi){var J=M.h;J.g||bi.indexOf("spdy")==-1&&bi.indexOf("quic")==-1&&bi.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ga(J,J.h),J.h=null))}if(M.D){const bo=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;bo&&(M.ya=bo,tt(M.I,M.D,bo))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-d.F,b.j.info("Handshake RTT: "+b.R+"ms")),M=b;var fe=d;if(M.qa=$u(M,M.J?M.ia:null,M.W),fe.K){Au(M.h,fe);var et=fe,Pt=M.L;Pt&&(et.I=Pt),et.B&&(_i(et),rt(et)),M.g=fe}else Ii(M);0<b.i.length&&xr(b)}else Qe[0]!="stop"&&Qe[0]!="close"||Yr(b,7);else b.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Yr(b,7):Ut(b):Qe[0]!="noop"&&b.l&&b.l.ta(Qe),b.v=0)}}Wr(4)}catch{}}var Iu=class{constructor(d,_){this.g=d,this.map=_}};function xi(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function bu(d){return d.h?1:d.g?d.g.size:0}function rn(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Ga(d,_){d.g?d.g.add(_):d.h=_}function Au(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}xi.prototype.cancel=function(){if(this.i=Ru(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ru(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const b of d.g.values())_=_.concat(b.D);return _}return S(d.i)}function mo(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var _=[],b=d.length,M=0;M<b;M++)_.push(d[M]);return _}_=[],b=0;for(M in d)_[b++]=d[M];return _}function go(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var _=[];d=d.length;for(var b=0;b<d;b++)_.push(b);return _}_=[],b=0;for(const M in d)_[b++]=M;return _}}}function ys(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var b=go(d),M=mo(d),K=M.length,J=0;J<K;J++)_.call(void 0,M[J],b&&b[J],d)}var Ei=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sf(d,_){if(d){d=d.split("&");for(var b=0;b<d.length;b++){var M=d[b].indexOf("="),K=null;if(0<=M){var J=d[b].substring(0,M);K=d[b].substring(M+1)}else J=d[b];_(J,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Kr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Kr){this.h=d.h,Ci(this,d.j),this.o=d.o,this.g=d.g,vs(this,d.s),this.l=d.l;var _=d.i,b=new vr;b.i=_.i,_.g&&(b.g=new Map(_.g),b.h=_.h),ws(this,b),this.m=d.m}else d&&(_=String(d).match(Ei))?(this.h=!1,Ci(this,_[1]||"",!0),this.o=qe(_[2]||""),this.g=qe(_[3]||"",!0),vs(this,_[4]),this.l=qe(_[5]||"",!0),ws(this,_[6]||"",!0),this.m=qe(_[7]||"")):(this.h=!1,this.i=new vr(null,this.h))}Kr.prototype.toString=function(){var d=[],_=this.j;_&&d.push(xs(_,yo,!0),":");var b=this.g;return(b||_=="file")&&(d.push("//"),(_=this.o)&&d.push(xs(_,yo,!0),"@"),d.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&d.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(xs(b,b.charAt(0)=="/"?ku:Pu,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",xs(b,Ya)),d.join("")};function _n(d){return new Kr(d)}function Ci(d,_,b){d.j=b?qe(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function vs(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function ws(d,_,b){_ instanceof vr?(d.i=_,wr(d.i,d.h)):(b||(_=xs(_,Du)),d.i=new vr(_,d.h))}function tt(d,_,b){d.i.set(_,b)}function _s(d){return tt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function qe(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function xs(d,_,b){return typeof d=="string"?(d=encodeURI(d).replace(_,Nu),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Nu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var yo=/[#\/\?@]/g,Pu=/[#\?:]/g,ku=/[#\?]/g,Du=/[#\?@]/g,Ya=/#/g;function vr(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function zt(d){d.g||(d.g=new Map,d.h=0,d.i&&Sf(d.i,function(_,b){d.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}n=vr.prototype,n.add=function(d,_){zt(this),this.i=null,d=Dn(this,d);var b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(_),this.h+=1,this};function Yn(d,_){zt(d),_=Dn(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Xn(d,_){return zt(d),_=Dn(d,_),d.g.has(_)}n.forEach=function(d,_){zt(this),this.g.forEach(function(b,M){b.forEach(function(K){d.call(_,K,M,this)},this)},this)},n.na=function(){zt(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),b=[];for(let M=0;M<_.length;M++){const K=d[M];for(let J=0;J<K.length;J++)b.push(_[M])}return b},n.V=function(d){zt(this);let _=[];if(typeof d=="string")Xn(this,d)&&(_=_.concat(this.g.get(Dn(this,d))));else{d=Array.from(this.g.values());for(let b=0;b<d.length;b++)_=_.concat(d[b])}return _},n.set=function(d,_){return zt(this),this.i=null,d=Dn(this,d),Xn(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Es(d,_,b){Yn(d,_),0<b.length&&(d.i=null,d.g.set(Dn(d,_),S(b)),d.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var b=0;b<_.length;b++){var M=_[b];const J=encodeURIComponent(String(M)),fe=this.V(M);for(M=0;M<fe.length;M++){var K=J;fe[M]!==""&&(K+="="+encodeURIComponent(String(fe[M]))),d.push(K)}}return this.i=d.join("&")};function Dn(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function wr(d,_){_&&!d.j&&(zt(d),d.i=null,d.g.forEach(function(b,M){var K=M.toLowerCase();M!=K&&(Yn(this,M),Es(this,K,b))},d)),d.j=_}function Tf(d,_){const b=new yi;if(c.Image){const M=new Image;M.onload=T(ln,b,"TestLoadImage: loaded",!0,_,M),M.onerror=T(ln,b,"TestLoadImage: error",!1,_,M),M.onabort=T(ln,b,"TestLoadImage: abort",!1,_,M),M.ontimeout=T(ln,b,"TestLoadImage: timeout",!1,_,M),c.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=d}else _(!1)}function Mu(d,_){const b=new yi,M=new AbortController,K=setTimeout(()=>{M.abort(),ln(b,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:M.signal}).then(J=>{clearTimeout(K),J.ok?ln(b,"TestPingServer: ok",!0,_):ln(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(K),ln(b,"TestPingServer: error",!1,_)})}function ln(d,_,b,M,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),M(b)}catch{}}function If(){this.g=new za}function Ou(d,_,b){const M=b||"";try{ys(d,function(K,J){let fe=K;h(K)&&(fe=Fa(K)),_.push(M+J+"="+encodeURIComponent(fe))})}catch(K){throw _.push(M+"type="+encodeURIComponent("_badmap")),K}}function qr(d){this.l=d.Ub||null,this.j=d.eb||!1}C(qr,mi),qr.prototype.g=function(){return new Si(this.l,this.j)},qr.prototype.i=function(d){return function(){return d}}({});function Si(d,_){Rt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Si,Rt),n=Si.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Zn(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||c).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jn(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lu(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lu(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Jn(this):Zn(this),this.readyState==3&&Lu(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Jn(this))},n.Qa=function(d){this.g&&(this.response=d,Jn(this))},n.ga=function(){this.g&&Jn(this)};function Jn(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Zn(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=_.next();return d.join(`\r
`)};function Zn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Qr(d){let _="";return X(d,function(b,M){_+=M,_+=":",_+=b,_+=`\r
`}),_}function Cs(d,_,b){e:{for(M in b){var M=!1;break e}M=!0}M||(b=Qr(b),typeof d=="string"?b!=null&&encodeURIComponent(String(b)):tt(d,_,b))}function dt(d){Rt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(dt,Rt);var bf=/^https?$/i,Xa=["POST","PUT"];n=dt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,b,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?oo(this.o):oo(Qn),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(J){Ti(this,J);return}if(d=b||"",b=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var K in M)b.set(K,M[K]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const J of M.keys())b.set(J,M.get(J));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),K=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Xa,_,void 0))||M||K||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,fe]of b)this.g.setRequestHeader(J,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wo(this),this.u=!0,this.g.send(d),this.u=!1}catch(J){Ti(this,J)}};function Ti(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,vo(d),xn(d)}function vo(d){d.A||(d.A=!0,Nt(d,"complete"),Nt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Nt(this,"complete"),Nt(this,"abort"),xn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xn(this,!0)),dt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ja(this):this.bb())},n.bb=function(){Ja(this)};function Ja(d){if(d.h&&typeof l<"u"&&(!d.v[1]||un(d)!=4||d.Z()!=2)){if(d.u&&un(d)==4)La(d.Ea,0,d);else if(Nt(d,"readystatechange"),un(d)==4){d.h=!1;try{const fe=d.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var M;if(M=fe===0){var K=String(d.D).match(Ei)[1]||null;!K&&c.self&&c.self.location&&(K=c.self.location.protocol.slice(0,-1)),M=!bf.test(K?K.toLowerCase():"")}b=M}if(b)Nt(d,"complete"),Nt(d,"success");else{d.m=6;try{var J=2<un(d)?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.Z()+"]",vo(d)}}finally{xn(d)}}}}function xn(d,_){if(d.g){wo(d);const b=d.g,M=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Nt(d,"ready");try{b.onreadystatechange=M}catch{}}}function wo(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function un(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),$a(_)}};function Za(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function _o(d){const _={};d=(d.g&&2<=un(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<d.length;M++){if(k(d[M]))continue;var b=F(d[M]);const K=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const J=_[K]||[];_[K]=J,J.push(b)}D(_,function(M){return M.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _r(d,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||_}function el(d){this.Aa=0,this.i=[],this.j=new yi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_r("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_r("baseRetryDelayMs",5e3,d),this.cb=_r("retryDelaySeedMs",1e4,d),this.Wa=_r("forwardChannelMaxRetries",2,d),this.wa=_r("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new xi(d&&d.concurrentRequestLimit),this.Da=new If,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=el.prototype,n.la=8,n.G=1,n.connect=function(d,_,b,M){Et(0),this.W=d,this.H=_||{},b&&M!==void 0&&(this.H.OSID=b,this.H.OAID=M),this.F=this.X,this.I=$u(this,null,this.W),xr(this)};function Ut(d){if(xo(d),d.G==3){var _=d.U++,b=_n(d.I);if(tt(b,"SID",d.K),tt(b,"RID",_),tt(b,"TYPE","terminate"),Gr(d,b),_=new Gn(d,d.j,_),_.L=2,_.v=_s(_n(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(_.v.toString(),"")}catch{}!b&&c.Image&&(new Image().src=_.v,b=!0),b||(_.g=zu(_.j,null),_.g.ea(_.v)),_.F=Date.now(),rt(_)}Fu(d)}function er(d){d.g&&(tl(d),d.g.cancel(),d.g=null)}function xo(d){er(d),d.u&&(c.clearTimeout(d.u),d.u=null),So(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function xr(d){if(!wn(d.h)&&!d.s){d.s=!0;var _=d.Ga;de||le(),G||(de(),G=!0),te.add(_,d),d.B=0}}function Af(d,_){return bu(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Kn(g(d.Ga,d,_),Vu(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const K=new Gn(this,this.j,d);let J=this.o;if(this.S&&(J?(J=N(J),V(J,this.S)):J=this.S),this.m!==null||this.O||(K.H=J,J=null),this.P)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var M=this.i[b];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(_+=M,4096<_){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=Ss(this,K,_),b=_n(this.I),tt(b,"RID",d),tt(b,"CVER",22),this.D&&tt(b,"X-HTTP-Session-Id",this.D),Gr(this,b),J&&(this.O?_="headers="+encodeURIComponent(String(Qr(J)))+"&"+_:this.m&&Cs(b,this.m,J)),Ga(this.h,K),this.Ua&&tt(b,"TYPE","init"),this.P?(tt(b,"$req",_),tt(b,"SID","null"),K.T=!0,po(K,b,null)):po(K,b,_),this.G=2}}else this.G==3&&(d?Eo(this,d):this.i.length==0||wn(this.h)||Eo(this))};function Eo(d,_){var b;_?b=_.l:b=d.U++;const M=_n(d.I);tt(M,"SID",d.K),tt(M,"RID",b),tt(M,"AID",d.T),Gr(d,M),d.m&&d.o&&Cs(M,d.m,d.o),b=new Gn(d,d.j,b,d.B+1),d.m===null&&(b.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Ss(d,b,1e3),b.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ga(d.h,b),po(b,M,_)}function Gr(d,_){d.H&&X(d.H,function(b,M){tt(_,M,b)}),d.l&&ys({},function(b,M){tt(_,M,b)})}function Ss(d,_,b){b=Math.min(d.i.length,b);var M=d.l?g(d.l.Na,d.l,d):null;e:{var K=d.i;let J=-1;for(;;){const fe=["count="+b];J==-1?0<b?(J=K[0].g,fe.push("ofs="+J)):J=0:fe.push("ofs="+J);let et=!0;for(let Pt=0;Pt<b;Pt++){let Qe=K[Pt].g;const Lt=K[Pt].map;if(Qe-=J,0>Qe)J=Math.max(0,K[Pt].g-100),et=!1;else try{Ou(Lt,fe,"req"+Qe+"_")}catch{M&&M(Lt)}}if(et){M=fe.join("&");break e}}}return d=d.i.splice(0,b),_.D=d,M}function Ii(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;de||le(),G||(de(),G=!0),te.add(_,d),d.v=0}}function Co(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Kn(g(d.Fa,d),Vu(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,ju(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Kn(g(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),er(this),ju(this))};function tl(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function ju(d){d.g=new Gn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=_n(d.qa);tt(_,"RID","rpc"),tt(_,"SID",d.K),tt(_,"AID",d.T),tt(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&tt(_,"TO",d.ja),tt(_,"TYPE","xmlhttp"),Gr(d,_),d.m&&d.o&&Cs(_,d.m,d.o),d.L&&(d.g.I=d.L);var b=d.g;d=d.ia,b.L=1,b.v=_s(_n(_)),b.m=null,b.P=!0,qa(b,d)}n.Za=function(){this.C!=null&&(this.C=null,er(this),Co(this),Et(19))};function So(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function To(d,_){var b=null;if(d.g==_){So(d),tl(d),d.g=null;var M=2}else if(rn(d.h,_))b=_.D,Au(d.h,_),M=1;else return;if(d.G!=0){if(_.o)if(M==1){b=_.m?_.m.length:0,_=Date.now()-_.F;var K=d.B;M=gi(),Nt(M,new uo(M,b)),xr(d)}else Ii(d);else if(K=_.s,K==3||K==0&&0<_.X||!(M==1&&Af(d,_)||M==2&&Co(d)))switch(b&&0<b.length&&(_=d.h,_.i=_.i.concat(b)),K){case 1:Yr(d,5);break;case 4:Yr(d,10);break;case 3:Yr(d,6);break;default:Yr(d,2)}}}function Vu(d,_){let b=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(b*=2),b*_}function Yr(d,_){if(d.j.info("Error code "+_),_==2){var b=g(d.fb,d),M=d.Xa;const K=!M;M=new Kr(M||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ci(M,"https"),_s(M),K?Tf(M.toString(),b):Mu(M.toString(),b)}else Et(2);d.G=0,d.l&&d.l.sa(_),Fu(d),xo(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Fu(d){if(d.G=0,d.ka=[],d.l){const _=Ru(d.h);(_.length!=0||d.i.length!=0)&&(I(d.ka,_),I(d.ka,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.ra()}}function $u(d,_,b){var M=b instanceof Kr?_n(b):new Kr(b);if(M.g!="")_&&(M.g=_+"."+M.g),vs(M,M.s);else{var K=c.location;M=K.protocol,_=_?_+"."+K.hostname:K.hostname,K=+K.port;var J=new Kr(null);M&&Ci(J,M),_&&(J.g=_),K&&vs(J,K),b&&(J.l=b),M=J}return b=d.D,_=d.ya,b&&_&&tt(M,b,_),tt(M,"VER",d.la),Gr(d,M),M}function zu(d,_,b){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new dt(new qr({eb:b})):new dt(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function nl(){}n=nl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Io(){}Io.prototype.g=function(d,_){return new sn(d,_)};function sn(d,_){Rt.call(this),this.g=new el(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!k(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!k(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Er(this)}C(sn,Rt),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Ut(this.g)},sn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.u&&(b={},b.__data__=Fa(d),d=b);_.i.push(new Iu(_.Ya++,d)),_.G==3&&xr(_)},sn.prototype.N=function(){this.g.l=null,delete this.j,Ut(this.g),delete this.g,sn.aa.N.call(this)};function Uu(d){gr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const b in _){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}C(Uu,gr);function Bu(){lo.call(this),this.status=1}C(Bu,lo);function Er(d){this.g=d}C(Er,nl),Er.prototype.ua=function(){Nt(this.g,"a")},Er.prototype.ta=function(d){Nt(this.g,new Uu(d))},Er.prototype.sa=function(d){Nt(this.g,new Bu)},Er.prototype.ra=function(){Nt(this.g,"b")},Io.prototype.createWebChannel=Io.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,Sx=function(){return new Io},Cx=function(){return gi()},Ex=yr,Pp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fo.NO_ERROR=0,fo.TIMEOUT=8,fo.HTTP_ERROR=6,ed=fo,Eu.COMPLETE="complete",xx=Eu,ao.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",Rt.prototype.listen=Rt.prototype.K,kl=ao,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,_x=dt}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const W0="@firebase/firestore",K0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sa="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new hx("@firebase/firestore");function Jo(){return Wi.logLevel}function ge(n,...e){if(Wi.logLevel<=Ye.DEBUG){const t=e.map(Xm);Wi.debug(`Firestore (${Sa}): ${n}`,...t)}}function cs(n,...e){if(Wi.logLevel<=Ye.ERROR){const t=e.map(Xm);Wi.error(`Firestore (${Sa}): ${n}`,...t)}}function ua(n,...e){if(Wi.logLevel<=Ye.WARN){const t=e.map(Xm);Wi.warn(`Firestore (${Sa}): ${n}`,...t)}}function Xm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Tx(n,r,t)}function Tx(n,e,t){let r=`FIRESTORE (${Sa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw cs(r),new Error(r)}function Ze(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||Tx(e,i,r)}function Oe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Ca{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(en.UNAUTHENTICATED))}shutdown(){}}class JR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ZR{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Gs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Gs,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},c=f=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Gs)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string",31837,{l:r}),new Ix(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class eN{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tN{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new eN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,LR(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);const r=a=>{a.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,ge("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new q0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new q0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=rN(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function $e(n,e){return n<e?-1:n>e?1:0}function kp(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return $e(r,i);{const a=bx(),l=sN(a.encode(Q0(n,t)),a.encode(Q0(e,t)));return l!==0?l:$e(r,i)}}t+=r>65535?2:1}return $e(n.length,e.length)}function Q0(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function sN(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return $e(n[t],e[t]);return $e(n.length,e.length)}function ca(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=-62135596800,Y0=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Y0);return new gt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<G0)throw new ve(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y0}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-G0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new gt(0,0))}static max(){return new De(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="__name__";class Ar{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ae(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ar.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Ar.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return $e(e.length,t.length)}static compareSegments(e,t){const r=Ar.isNumericId(e),i=Ar.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Ar.extractNumericId(e).compare(Ar.extractNumericId(t)):kp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qs.fromString(e.substring(4,e.length-2))}}class ct extends Ar{construct(e,t,r){return new ct(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ct(t)}static emptyPath(){return new ct([])}}const iN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ar{construct(e,t,r){return new Kt(e,t,r)}static isValidIdentifier(e){return iN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X0}static keyField(){return new Kt([X0])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ve(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ve(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ve(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(a(),i++)}if(a(),l)throw new ve(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(ct.fromString(e))}static fromName(e){return new Se(ct.fromString(e).popFirst(5))}static empty(){return new Se(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new ct(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function oN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=De.fromTimestamp(r===1e9?new gt(t+1,0):new gt(t,r));return new Js(i,Se.empty(),e)}function aN(n){return new Js(n.readTime,n.key,Zl)}class Js{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Js(De.min(),Se.empty(),Zl)}static max(){return new Js(De.max(),Se.empty(),Zl)}}function lN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:$e(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==uN)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,r)=>{t(e)})}static reject(e){return new ne((t,r)=>{r(e)})}static waitFor(e){return new ne((t,r)=>{let i=0,a=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++a,l&&a===i&&t()},f=>r(f))}),l=!0,a===i&&t()})}static or(e){let t=ne.resolve(!1);for(const r of e)t=t.next(i=>i?ne.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ne((r,i)=>{const a=e.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const h=f;t(e[h]).next(m=>{l[h]=m,++c,c===a&&r(l)},m=>i(m))}})}static doWhile(e,t){return new ne((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function dN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ia(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Hd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=-1;function Wd(n){return n==null}function gd(n){return n===0&&1/n==-1/0}function fN(n){return typeof n=="number"&&Number.isInteger(n)&&!gd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="";function hN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=J0(e)),e=pN(n.get(t),e);return J0(e)}function pN(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case Rx:t+="";break;default:t+=a}}return t}function J0(n){return n+Rx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ai(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Nx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,t){this.comparator=e,this.root=t||Wt.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}}class Fc{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Wt.RED,this.left=i??Wt.EMPTY,this.right=a??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Wt(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new Wt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ew(this.data.getIterator())}getIteratorFrom(e){return new ew(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class ew{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new bn([])}unionWith(e){let t=new Mt(Kt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ca(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Px("Invalid base64 string: "+a):a}}(e);return new qt(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const mN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(n){if(Ze(!!n,39018),typeof n=="string"){let e=0;const t=mN.exec(n);if(Ze(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(n.seconds),nanos:St(n.nanos)}}function St(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ei(n){return typeof n=="string"?qt.fromBase64String(n):qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="server_timestamp",Dx="__type__",Mx="__previous_value__",Ox="__local_write_time__";function Zm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Dx])===null||t===void 0?void 0:t.stringValue)===kx}function Kd(n){const e=n.mapValue.fields[Mx];return Zm(e)?Kd(e):e}function eu(n){const e=Zs(n.mapValue.fields[Ox].timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,t,r,i,a,l,c,f,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=m}}const yd="(default)";class tu{constructor(e,t){this.projectId=e,this.database=t||yd}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===yd}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="__type__",yN="__max__",$c={mapValue:{}},jx="__vector__",vd="value";function ti(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zm(n)?4:wN(n)?9007199254740991:vN(n)?10:11:Ae(28295,{value:n})}function Fr(n,e){if(n===e)return!0;const t=ti(n);if(t!==ti(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return eu(n).isEqual(eu(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Zs(i.timestampValue),c=Zs(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return ei(i.bytesValue).isEqual(ei(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return St(i.geoPointValue.latitude)===St(a.geoPointValue.latitude)&&St(i.geoPointValue.longitude)===St(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return St(i.integerValue)===St(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=St(i.doubleValue),c=St(a.doubleValue);return l===c?gd(l)===gd(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return ca(n.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(Z0(l)!==Z0(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Fr(l[f],c[f])))return!1;return!0}(n,e);default:return Ae(52216,{left:n})}}function nu(n,e){return(n.values||[]).find(t=>Fr(t,e))!==void 0}function da(n,e){if(n===e)return 0;const t=ti(n),r=ti(e);if(t!==r)return $e(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return $e(n.booleanValue,e.booleanValue);case 2:return function(a,l){const c=St(a.integerValue||a.doubleValue),f=St(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return tw(n.timestampValue,e.timestampValue);case 4:return tw(eu(n),eu(e));case 5:return kp(n.stringValue,e.stringValue);case 6:return function(a,l){const c=ei(a),f=ei(l);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),f=l.split("/");for(let h=0;h<c.length&&h<f.length;h++){const m=$e(c[h],f[h]);if(m!==0)return m}return $e(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const c=$e(St(a.latitude),St(l.latitude));return c!==0?c:$e(St(a.longitude),St(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return nw(n.arrayValue,e.arrayValue);case 10:return function(a,l){var c,f,h,m;const w=a.fields||{},g=l.fields||{},T=(c=w[vd])===null||c===void 0?void 0:c.arrayValue,C=(f=g[vd])===null||f===void 0?void 0:f.arrayValue,S=$e(((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0,((m=C==null?void 0:C.values)===null||m===void 0?void 0:m.length)||0);return S!==0?S:nw(T,C)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===$c.mapValue&&l===$c.mapValue)return 0;if(a===$c.mapValue)return 1;if(l===$c.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),h=l.fields||{},m=Object.keys(h);f.sort(),m.sort();for(let w=0;w<f.length&&w<m.length;++w){const g=kp(f[w],m[w]);if(g!==0)return g;const T=da(c[f[w]],h[m[w]]);if(T!==0)return T}return $e(f.length,m.length)}(n.mapValue,e.mapValue);default:throw Ae(23264,{Pe:t})}}function tw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return $e(n,e);const t=Zs(n),r=Zs(e),i=$e(t.seconds,r.seconds);return i!==0?i:$e(t.nanos,r.nanos)}function nw(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=da(t[i],r[i]);if(a)return a}return $e(t.length,r.length)}function fa(n){return Dp(n)}function Dp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Zs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ei(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Se.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=Dp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Dp(t.fields[l])}`;return i+"}"}(n.mapValue):Ae(61005,{value:n})}function td(n){switch(ti(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kd(n);return e?16+td(e):16;case 5:return 2*n.stringValue.length;case 6:return ei(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+td(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ai(r.fields,(a,l)=>{i+=a.length+td(l)}),i}(n.mapValue);default:throw Ae(13486,{value:n})}}function rw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Mp(n){return!!n&&"integerValue"in n}function eg(n){return!!n&&"arrayValue"in n}function sw(n){return!!n&&"nullValue"in n}function iw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function nd(n){return!!n&&"mapValue"in n}function vN(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Lx])===null||t===void 0?void 0:t.stringValue)===jx}function Hl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ai(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Hl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function wN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===yN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!nd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(t)}setAll(e){let t=Kt.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=Hl(l):i.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());nd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];nd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ai(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new yn(Hl(this.value))}}function Vx(n){const e=[];return ai(n.fields,(t,r)=>{const i=new Kt([t]);if(nd(r)){const a=Vx(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t,r,i,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new tn(e,0,De.min(),De.min(),De.min(),yn.empty(),0)}static newFoundDocument(e,t,r,i){return new tn(e,1,t,De.min(),r,i,0)}static newNoDocument(e,t){return new tn(e,2,t,De.min(),De.min(),yn.empty(),0)}static newUnknownDocument(e,t){return new tn(e,3,t,De.min(),De.min(),yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,t){this.position=e,this.inclusive=t}}function ow(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=Se.comparator(Se.fromName(l.referenceValue),t.key):r=da(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function aw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,t="asc"){this.field=e,this.dir=t}}function _N(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{}class At extends Fx{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new EN(e,t,r):t==="array-contains"?new TN(e,r):t==="in"?new IN(e,r):t==="not-in"?new bN(e,r):t==="array-contains-any"?new AN(e,r):new At(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new CN(e,r):new SN(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(da(t,this.value)):t!==null&&ti(this.value)===ti(t)&&this.matchesComparison(da(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends Fx{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new cr(e,t)}matches(e){return $x(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function $x(n){return n.op==="and"}function zx(n){return xN(n)&&$x(n)}function xN(n){for(const e of n.filters)if(e instanceof cr)return!1;return!0}function Op(n){if(n instanceof At)return n.field.canonicalString()+n.op.toString()+fa(n.value);if(zx(n))return n.filters.map(e=>Op(e)).join(",");{const e=n.filters.map(t=>Op(t)).join(",");return`${n.op}(${e})`}}function Ux(n,e){return n instanceof At?function(r,i){return i instanceof At&&r.op===i.op&&r.field.isEqual(i.field)&&Fr(r.value,i.value)}(n,e):n instanceof cr?function(r,i){return i instanceof cr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,c)=>a&&Ux(l,i.filters[c]),!0):!1}(n,e):void Ae(19439)}function Bx(n){return n instanceof At?function(t){return`${t.field.canonicalString()} ${t.op} ${fa(t.value)}`}(n):n instanceof cr?function(t){return t.op.toString()+" {"+t.getFilters().map(Bx).join(" ,")+"}"}(n):"Filter"}class EN extends At{constructor(e,t,r){super(e,t,r),this.key=Se.fromName(r.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class CN extends At{constructor(e,t){super(e,"in",t),this.keys=Hx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class SN extends At{constructor(e,t){super(e,"not-in",t),this.keys=Hx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Hx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Se.fromName(r.referenceValue))}class TN extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return eg(t)&&nu(t.arrayValue,this.value)}}class IN extends At{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nu(this.value.arrayValue,t)}}class bN extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!nu(this.value.arrayValue,t)}}class AN extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!eg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>nu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,t=null,r=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.Ie=null}}function lw(n,e=null,t=[],r=[],i=null,a=null,l=null){return new RN(n,e,t,r,i,a,l)}function tg(n){const e=Oe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Op(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Wd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>fa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>fa(r)).join(",")),e.Ie=t}return e.Ie}function ng(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!_N(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ux(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!aw(n.startAt,e.startAt)&&aw(n.endAt,e.endAt)}function Lp(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,t=null,r=[],i=[],a=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function NN(n,e,t,r,i,a,l,c){return new ba(n,e,t,r,i,a,l,c)}function rg(n){return new ba(n)}function uw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Wx(n){return n.collectionGroup!==null}function Wl(n){const e=Oe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Mt(Kt.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new ru(a,r))}),t.has(Kt.keyField().canonicalString())||e.Ee.push(new ru(Kt.keyField(),r))}return e.Ee}function Mr(n){const e=Oe(n);return e.de||(e.de=PN(e,Wl(n))),e.de}function PN(n,e){if(n.limitType==="F")return lw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new ru(i.field,a)});const t=n.endAt?new wd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new wd(n.startAt.position,n.startAt.inclusive):null;return lw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function jp(n,e){const t=n.filters.concat([e]);return new ba(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Vp(n,e,t){return new ba(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qd(n,e){return ng(Mr(n),Mr(e))&&n.limitType===e.limitType}function Kx(n){return`${tg(Mr(n))}|lt:${n.limitType}`}function Zo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Bx(i)).join(", ")}]`),Wd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>fa(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>fa(i)).join(",")),`Target(${r})`}(Mr(n))}; limitType=${n.limitType})`}function Qd(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Se.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Wl(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,f){const h=ow(l,c,f);return l.inclusive?h<=0:h<0}(r.startAt,Wl(r),i)||r.endAt&&!function(l,c,f){const h=ow(l,c,f);return l.inclusive?h>=0:h>0}(r.endAt,Wl(r),i))}(n,e)}function kN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function qx(n){return(e,t)=>{let r=!1;for(const i of Wl(n)){const a=DN(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function DN(n,e,t){const r=n.field.isKeyField()?Se.comparator(e.key,t.key):function(a,l,c){const f=l.data.field(a),h=c.data.field(a);return f!==null&&h!==null?da(f,h):Ae(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ai(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return Nx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new yt(Se.comparator);function ds(){return MN}const Qx=new yt(Se.comparator);function Dl(...n){let e=Qx;for(const t of n)e=e.insert(t.key,t);return e}function Gx(n){let e=Qx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function zi(){return Kl()}function Yx(){return Kl()}function Kl(){return new eo(n=>n.toString(),(n,e)=>n.isEqual(e))}const ON=new yt(Se.comparator),LN=new Mt(Se.comparator);function We(...n){let e=LN;for(const t of n)e=e.add(t);return e}const jN=new Mt($e);function VN(){return jN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gd(e)?"-0":e}}function Xx(n){return{integerValue:""+n}}function FN(n,e){return fN(e)?Xx(e):sg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(){this._=void 0}}function $N(n,e,t){return n instanceof _d?function(i,a){const l={fields:{[Dx]:{stringValue:kx},[Ox]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Zm(a)&&(a=Kd(a)),a&&(l.fields[Mx]=a),{mapValue:l}}(t,e):n instanceof su?Zx(n,e):n instanceof iu?eE(n,e):function(i,a){const l=Jx(i,a),c=cw(l)+cw(i.Re);return Mp(l)&&Mp(i.Re)?Xx(c):sg(i.serializer,c)}(n,e)}function zN(n,e,t){return n instanceof su?Zx(n,e):n instanceof iu?eE(n,e):t}function Jx(n,e){return n instanceof xd?function(r){return Mp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class _d extends Gd{}class su extends Gd{constructor(e){super(),this.elements=e}}function Zx(n,e){const t=tE(e);for(const r of n.elements)t.some(i=>Fr(i,r))||t.push(r);return{arrayValue:{values:t}}}class iu extends Gd{constructor(e){super(),this.elements=e}}function eE(n,e){let t=tE(e);for(const r of n.elements)t=t.filter(i=>!Fr(i,r));return{arrayValue:{values:t}}}class xd extends Gd{constructor(e,t){super(),this.serializer=e,this.Re=t}}function cw(n){return St(n.integerValue||n.doubleValue)}function tE(n){return eg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function UN(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof su&&i instanceof su||r instanceof iu&&i instanceof iu?ca(r.elements,i.elements,Fr):r instanceof xd&&i instanceof xd?Fr(r.Re,i.Re):r instanceof _d&&i instanceof _d}(n.transform,e.transform)}class BN{constructor(e,t){this.version=e,this.transformResults=t}}class ur{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ur}static exists(e){return new ur(void 0,e)}static updateTime(e){return new ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Yd{}function nE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ig(n.key,ur.none()):new pu(n.key,n.data,ur.none());{const t=n.data,r=yn.empty();let i=new Mt(Kt.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new li(n.key,r,new bn(i.toArray()),ur.none())}}function HN(n,e,t){n instanceof pu?function(i,a,l){const c=i.value.clone(),f=fw(i.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof li?function(i,a,l){if(!rd(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=fw(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(rE(i)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function ql(n,e,t,r){return n instanceof pu?function(a,l,c,f){if(!rd(a.precondition,l))return c;const h=a.value.clone(),m=hw(a.fieldTransforms,f,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof li?function(a,l,c,f){if(!rd(a.precondition,l))return c;const h=hw(a.fieldTransforms,f,l),m=l.data;return m.setAll(rE(a)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,l,c){return rd(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function WN(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=Jx(r.transform,i||null);a!=null&&(t===null&&(t=yn.empty()),t.set(r.field,a))}return t||null}function dw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ca(r,i,(a,l)=>UN(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class pu extends Yd{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class li extends Yd{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function rE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function fw(n,e,t){const r=new Map;Ze(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,c=e.data.field(a.field);r.set(a.field,zN(l,c,t[i]))}return r}function hw(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,$N(a,l,e))}return r}class ig extends Yd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KN extends Yd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&HN(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ql(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ql(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Yx();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(i.key)?null:c;const f=nE(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&ca(this.mutations,e.mutations,(t,r)=>dw(t,r))&&ca(this.baseMutations,e.baseMutations,(t,r)=>dw(t,r))}}class og{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ze(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return ON}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new og(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QN=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Ge;function YN(n){switch(n){case re.OK:return Ae(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ae(15467,{code:n})}}function sE(n){if(n===void 0)return cs("GRPC error has no .code"),re.UNKNOWN;switch(n){case bt.OK:return re.OK;case bt.CANCELLED:return re.CANCELLED;case bt.UNKNOWN:return re.UNKNOWN;case bt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case bt.INTERNAL:return re.INTERNAL;case bt.UNAVAILABLE:return re.UNAVAILABLE;case bt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case bt.NOT_FOUND:return re.NOT_FOUND;case bt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case bt.ABORTED:return re.ABORTED;case bt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case bt.DATA_LOSS:return re.DATA_LOSS;default:return Ae(39323,{code:n})}}(Ge=bt||(bt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=new Qs([4294967295,4294967295],0);function pw(n){const e=bx().encode(n),t=new wx;return t.update(e),new Uint8Array(t.digest())}function mw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Qs([t,r],0),new Qs([i,a],0)]}class ag{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ml(`Invalid padding: ${t}`);if(r<0)throw new Ml(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Qs.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Qs.fromNumber(r)));return i.compare(XN)===1&&(i=new Qs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=pw(e),[r,i]=mw(t);for(let a=0;a<this.hashCount;a++){const l=this.we(r,i,a);if(!this.be(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new ag(a,i,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.pe===0)return;const t=pw(e),[r,i]=mw(t);for(let a=0;a<this.hashCount;a++){const l=this.we(r,i,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Xd(De.min(),i,new yt($e),ds(),We())}}class mu{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new mu(r,t,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class iE{constructor(e,t){this.targetId=e,this.Ce=t}}class oE{constructor(e,t,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class gw{constructor(){this.Fe=0,this.Me=yw(),this.xe=qt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=We(),t=We(),r=We();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ae(38017,{changeType:a})}}),new mu(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=yw()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class JN{constructor(e){this.ze=e,this.je=new Map,this.He=ds(),this.Je=zc(),this.Ye=zc(),this.Ze=new yt($e)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const a=i.target;if(Lp(a))if(r===0){const l=new Se(a.path);this.tt(t,l,tn.newNoDocument(l,De.min()))}else Ze(r===1,20013,{expectedCount:r});else{const l=this.ut(t);if(l!==r){const c=this.ct(e),f=c?this.lt(c,e,l):1;if(f!==0){this.st(t);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,c;try{l=ei(r).toUint8Array()}catch(f){if(f instanceof Px)return ua("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new ag(l,i,a)}catch(f){return ua(f instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.pe===0?null:c}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,a,null),i++)}),i}It(e){const t=new Map;this.je.forEach((a,l)=>{const c=this._t(l);if(c){if(a.current&&Lp(c.target)){const f=new Se(c.target.path);this.Et(f).has(l)||this.dt(l,f)||this.tt(l,f,tn.newNoDocument(f,e))}a.Le&&(t.set(l,a.qe()),a.Qe())}});let r=We();this.Ye.forEach((a,l)=>{let c=!0;l.forEachWhile(f=>{const h=this._t(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.He.forEach((a,l)=>l.setReadTime(e));const i=new Xd(e,t,this.Ze,this.He,r);return this.He=ds(),this.Je=zc(),this.Ye=zc(),this.Ze=new yt($e),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new gw,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Mt($e),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Mt($e),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new gw),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function zc(){return new yt(Se.comparator)}function yw(){return new yt(Se.comparator)}const ZN={asc:"ASCENDING",desc:"DESCENDING"},eP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tP={and:"AND",or:"OR"};class nP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Fp(n,e){return n.useProto3Json||Wd(e)?e:{value:e}}function Ed(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function rP(n,e){return Ed(n,e.toTimestamp())}function Or(n){return Ze(!!n,49232),De.fromTimestamp(function(t){const r=Zs(t);return new gt(r.seconds,r.nanos)}(n))}function lg(n,e){return $p(n,e).canonicalString()}function $p(n,e){const t=function(i){return new ct(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function lE(n){const e=ct.fromString(n);return Ze(hE(e),10190,{key:e.toString()}),e}function zp(n,e){return lg(n.databaseId,e.path)}function ip(n,e){const t=lE(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(cE(t))}function uE(n,e){return lg(n.databaseId,e)}function sP(n){const e=lE(n);return e.length===4?ct.emptyPath():cE(e)}function Up(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cE(n){return Ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function vw(n,e,t){return{name:zp(n,e),fields:t.value.mapValue.fields}}function iP(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ae(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(h,m){return h.useProto3Json?(Ze(m===void 0||typeof m=="string",58123),qt.fromBase64String(m||"")):(Ze(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),qt.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(h){const m=h.code===void 0?re.UNKNOWN:sE(h.code);return new ve(m,h.message||"")}(l);t=new oE(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ip(n,r.document.name),a=Or(r.document.updateTime),l=r.document.createTime?Or(r.document.createTime):De.min(),c=new yn({mapValue:{fields:r.document.fields}}),f=tn.newFoundDocument(i,a,l,c),h=r.targetIds||[],m=r.removedTargetIds||[];t=new sd(h,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ip(n,r.document),a=r.readTime?Or(r.readTime):De.min(),l=tn.newNoDocument(i,a),c=r.removedTargetIds||[];t=new sd([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ip(n,r.document),a=r.removedTargetIds||[];t=new sd([],a,i,null)}else{if(!("filter"in e))return Ae(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new GN(i,a),c=r.targetId;t=new iE(c,l)}}return t}function oP(n,e){let t;if(e instanceof pu)t={update:vw(n,e.key,e.value)};else if(e instanceof ig)t={delete:zp(n,e.key)};else if(e instanceof li)t={update:vw(n,e.key,e.data),updateMask:mP(e.fieldMask)};else{if(!(e instanceof KN))return Ae(16599,{ft:e.type});t={verify:zp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof _d)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof su)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof iu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof xd)return{fieldPath:l.field.canonicalString(),increment:c.Re};throw Ae(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:rP(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ae(27497)}(n,e.precondition)),t}function aP(n,e){return n&&n.length>0?(Ze(e!==void 0,14353),n.map(t=>function(i,a){let l=i.updateTime?Or(i.updateTime):Or(a);return l.isEqual(De.min())&&(l=Or(a)),new BN(l,i.transformResults||[])}(t,e))):[]}function lP(n,e){return{documents:[uE(n,e.path)]}}function uP(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=uE(n,i);const a=function(h){if(h.length!==0)return fE(cr.create(h,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(h){if(h.length!==0)return h.map(m=>function(g){return{field:ea(g.field),direction:fP(g.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Fp(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:i}}function cP(n){let e=sP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ze(r===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];t.where&&(a=function(w){const g=dE(w);return g instanceof cr&&zx(g)?g.getFilters():[g]}(t.where));let l=[];t.orderBy&&(l=function(w){return w.map(g=>function(C){return new ru(ta(C.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(g))}(t.orderBy));let c=null;t.limit&&(c=function(w){let g;return g=typeof w=="object"?w.value:w,Wd(g)?null:g}(t.limit));let f=null;t.startAt&&(f=function(w){const g=!!w.before,T=w.values||[];return new wd(T,g)}(t.startAt));let h=null;return t.endAt&&(h=function(w){const g=!w.before,T=w.values||[];return new wd(T,g)}(t.endAt)),NN(e,i,l,a,c,"F",f,h)}function dP(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function dE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ta(t.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ta(t.unaryFilter.field);return At.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ta(t.unaryFilter.field);return At.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ta(t.unaryFilter.field);return At.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(n):n.fieldFilter!==void 0?function(t){return At.create(ta(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return cr.create(t.compositeFilter.filters.map(r=>dE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(t.compositeFilter.op))}(n):Ae(30097,{filter:n})}function fP(n){return ZN[n]}function hP(n){return eP[n]}function pP(n){return tP[n]}function ea(n){return{fieldPath:n.canonicalString()}}function ta(n){return Kt.fromServerFormat(n.fieldPath)}function fE(n){return n instanceof At?function(t){if(t.op==="=="){if(iw(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NAN"}};if(sw(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(iw(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NOT_NAN"}};if(sw(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ea(t.field),op:hP(t.op),value:t.value}}}(n):n instanceof cr?function(t){const r=t.getFilters().map(i=>fE(i));return r.length===1?r[0]:{compositeFilter:{op:pP(t.op),filters:r}}}(n):Ae(54877,{filter:n})}function mP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,t,r,i,a=De.min(),l=De.min(),c=qt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.wt=e}}function yP(n){const e=cP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Vp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.Cn=new wP}addToCollectionParentIndex(e,t){return this.Cn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Js.min())}updateCollectionGroup(e,t,r){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class wP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Mt(ct.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pE=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(pE,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ha(0)}static lr(){return new ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="LruGarbageCollector",_P=1048576;function xw([n,e],[t,r]){const i=$e(n,t);return i===0?$e(e,r):i}class xP{constructor(e){this.Er=e,this.buffer=new Mt(xw),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();xw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class EP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ge(_w,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ia(t)?ge(_w,"Ignoring IndexedDB error during garbage collection: ",t):await Ta(t)}await this.mr(3e5)})}}class CP{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(Hd.le);const r=new xP(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(ww)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ww):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,a,l,c,f,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),i=this.params.maximumSequenceNumbersToCollect):i=w,l=Date.now(),this.nthSequenceNumber(e,i))).next(w=>(r=w,c=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(h=Date.now(),Jo()<=Ye.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${w} documents in `+(h-f)+`ms
Total Duration: ${h-m}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:w})))}}function SP(n,e){return new CP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this.changes=new eo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&ql(r.mutation,i,bn.empty(),gt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,t,r=We()){const i=zi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=Dl();return a.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=zi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,We()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let a=ds();const l=Kl(),c=function(){return Kl()}();return t.forEach((f,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof li)?a=a.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),ql(m.mutation,h,m.mutation.getFieldMask(),gt.now())):l.set(h.key,bn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((h,m)=>l.set(h,m)),t.forEach((h,m)=>{var w;return c.set(h,new IP(m,(w=l.get(h))!==null&&w!==void 0?w:null))}),c))}recalculateAndSaveOverlays(e,t){const r=Kl();let i=new yt((l,c)=>l-c),a=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(f=>{const h=t.get(f);if(h===null)return;let m=r.get(f)||bn.empty();m=c.applyToLocalView(h,m),r.set(f,m);const w=(i.get(c.batchId)||We()).add(f);i=i.insert(c.batchId,w)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),h=f.key,m=f.value,w=Yx();m.forEach(g=>{if(!a.has(g)){const T=nE(t.get(g),r.get(g));T!==null&&w.set(g,T),a=a.add(g)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,w))}return ne.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return Se.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Wx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ne.resolve(zi());let c=Zl,f=a;return l.next(h=>ne.forEach(h,(m,w)=>(c<w.largestBatchId&&(c=w.largestBatchId),a.get(m)?ne.resolve():this.remoteDocumentCache.getEntry(e,m).next(g=>{f=f.insert(m,g)}))).next(()=>this.populateOverlays(e,h,a)).next(()=>this.computeViews(e,f,h,We())).next(m=>({batchId:c,changes:Gx(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next(r=>{let i=Dl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=Dl();return this.indexManager.getCollectionParents(e,a).next(c=>ne.forEach(c,f=>{const h=function(w,g){return new ba(g,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(m=>{m.forEach((w,g)=>{l=l.insert(w,g)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((f,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,tn.newInvalidDocument(m)))});let c=Dl();return l.forEach((f,h)=>{const m=a.get(f);m!==void 0&&ql(m.mutation,h,bn.empty(),gt.now()),Qd(t,h)&&(c=c.insert(f,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ne.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Or(i.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:yP(i.bundledQuery),readTime:Or(i.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this.overlays=new yt(Se.comparator),this.Qr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=zi();return ne.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.St(e,t,a)}),ne.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),ne.resolve()}getOverlaysForCollection(e,t,r){const i=zi(),a=t.length+1,l=new Se(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,h=f.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new yt((h,m)=>h-m);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let m=a.get(h.largestBatchId);m===null&&(m=zi(),a=a.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const c=zi(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((h,m)=>c.set(h,m)),!(c.size()>=i)););return ne.resolve(c)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new QN(t,r));let a=this.Qr.get(t);a===void 0&&(a=We(),this.Qr.set(t,a)),this.Qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this.$r=new Mt($t.Ur),this.Kr=new Mt($t.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new $t(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new $t(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new Se(new ct([])),r=new $t(t,e),i=new $t(t,e+1),a=[];return this.Kr.forEachInRange([r,i],l=>{this.zr(l),a.push(l.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Se(new ct([])),r=new $t(t,e),i=new $t(t,e+1);let a=We();return this.Kr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new $t(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Se.comparator(e.key,t.key)||$e(e.Zr,t.Zr)}static Wr(e,t){return $e(e.Zr,t.Zr)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Mt($t.Ur)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new qN(a,t,r,i);this.mutationQueue.push(l);for(const c of i)this.Xr=this.Xr.add(new $t(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ne.resolve(l)}lookupMutationBatch(e,t){return ne.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),a=i<0?0:i;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Jm:this.nr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new $t(t,0),i=new $t(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,i],l=>{const c=this.ei(l.Zr);a.push(c)}),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mt($e);return t.forEach(i=>{const a=new $t(i,0),l=new $t(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,l],c=>{r=r.add(c.Zr)})}),ne.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Se.isDocumentKey(a)||(a=a.child(""));const l=new $t(new Se(a),0);let c=new Mt($e);return this.Xr.forEachWhile(f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(f.Zr)),!0)},l),ne.resolve(this.ni(c))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ze(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ne.forEach(t.mutations,i=>{const a=new $t(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new $t(t,0),i=this.Xr.firstAfterOrEqual(r);return ne.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.ii=e,this.docs=function(){return new yt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ne.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(t))}getEntries(e,t){let r=ds();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():tn.newInvalidDocument(i))}),ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=ds();const l=t.path,c=new Se(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:h,value:{document:m}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||lN(aN(m),r)<=0||(i.has(m.key)||Qd(t,m))&&(a=a.insert(m.key,m.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Ae(9500)}si(e,t){return ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new DP(this)}getSize(e){return ne.resolve(this.size)}}class DP extends TP{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),ne.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.persistence=e,this.oi=new eo(t=>tg(t),ng),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this._i=0,this.ai=new ug,this.targetCount=0,this.ui=ha.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),ne.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new ha(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Tr(t),ne.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.oi.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.oi.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),ne.waitFor(a).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return ne.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),ne.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),ne.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return ne.resolve(r)}containsKey(e,t){return ne.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,t){this.ci={},this.overlays={},this.li=new Hd(0),this.hi=!1,this.hi=!0,this.Pi=new NP,this.referenceDelegate=e(this),this.Ti=new MP(this),this.indexManager=new vP,this.remoteDocumentCache=function(i){return new kP(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new gP(t),this.Ei=new AP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new RP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new PP(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){ge("MemoryPersistence","Starting transaction:",e);const i=new OP(this.li.next());return this.referenceDelegate.di(),r(i).next(a=>this.referenceDelegate.Ai(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ri(e,t){return ne.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class OP extends cN{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.Vi=new ug,this.mi=null}static fi(e){return new cg(e)}get gi(){if(this.mi)return this.mi;throw Ae(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),ne.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.gi,r=>{const i=Se.fromPath(r);return this.pi(e,i).next(a=>{a||t.removeEntry(i,De.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ne.or([()=>ne.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Cd{constructor(e,t){this.persistence=e,this.yi=new eo(r=>hN(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=SP(this,t)}static fi(e,t){return new Cd(e,t)}di(){}Ai(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return ne.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(a=>a?ne.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.si(e,l=>this.Dr(e,l,t).next(c=>{c||(r++,a.removeEntry(l,De.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ne.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=td(e.data.value)),t}Dr(e,t,r){return ne.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return ne.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=We(),i=We();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new dg(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return DA()?8:dN(PA())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ws(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.bs(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new LP;return this.Ss(e,t,l).next(c=>{if(a.result=c,this.fs)return this.Ds(e,t,l,c.size)})}).next(()=>a.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Jo()<=Ye.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ne.resolve()):(Jo()<=Ye.DEBUG&&ge("QueryEngine","Query:",Zo(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Jo()<=Ye.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(t))):ne.resolve())}ws(e,t){if(uw(t))return ne.resolve(null);let r=Mr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Vp(t,null,"F"),r=Mr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=We(...a);return this.ys.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const h=this.vs(t,c);return this.Cs(t,h,l,f.readTime)?this.ws(e,Vp(t,null,"F")):this.Fs(e,h,t,f)}))})))}bs(e,t,r,i){return uw(t)||i.isEqual(De.min())?ne.resolve(null):this.ys.getDocuments(e,r).next(a=>{const l=this.vs(t,a);return this.Cs(t,l,r,i)?ne.resolve(null):(Jo()<=Ye.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zo(t)),this.Fs(e,l,t,oN(i,Zl)).next(c=>c))})}vs(e,t){let r=new Mt(qx(e));return t.forEach((i,a)=>{Qd(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,r){return Jo()<=Ye.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Zo(t)),this.ys.getDocumentsMatchingQuery(e,t,Js.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="LocalStore",VP=3e8;class FP{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new yt($e),this.Os=new eo(a=>tg(a),ng),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bP(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function $P(n,e,t,r){return new FP(n,e,t,r)}async function gE(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let f=We();for(const h of i){l.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}for(const h of a){c.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}return t.localDocuments.getDocuments(r,f).next(h=>({ks:h,removedBatchIds:l,addedBatchIds:c}))})})}function zP(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return function(c,f,h,m){const w=h.batch,g=w.keys();let T=ne.resolve();return g.forEach(C=>{T=T.next(()=>m.getEntry(f,C)).next(S=>{const I=h.docVersions.get(C);Ze(I!==null,48541),S.version.compareTo(I)<0&&(w.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),m.addEntry(S)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(f,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=We();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(f=f.add(c.batch.mutations[h].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function yE(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function UP(n,e){const t=Oe(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const c=[];e.targetChanges.forEach((m,w)=>{const g=i.get(w);if(!g)return;c.push(t.Ti.removeMatchingKeys(a,m.removedDocuments,w).next(()=>t.Ti.addMatchingKeys(a,m.addedDocuments,w)));let T=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?T=T.withResumeToken(qt.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),i=i.insert(w,T),function(S,I,A){return S.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=VP?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(g,T,m)&&c.push(t.Ti.updateTargetData(a,T))});let f=ds(),h=We();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,m))}),c.push(BP(a,l,e.documentUpdates).next(m=>{f=m.qs,h=m.Qs})),!r.isEqual(De.min())){const m=t.Ti.getLastRemoteSnapshotVersion(a).next(w=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(m)}return ne.waitFor(c).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,h)).next(()=>f)}).then(a=>(t.xs=i,a))}function BP(n,e,t){let r=We(),i=We();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=ds();return t.forEach((c,f)=>{const h=a.get(c);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(De.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):ge(fg,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",f.version)}),{qs:l,Qs:i}})}function HP(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Jm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function WP(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(a=>a?(i=a,ne.resolve(i)):t.Ti.allocateTargetId(r).next(l=>(i=new Ws(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function Bp(n,e,t){const r=Oe(n),i=r.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Ia(l))throw l;ge(fg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function Ew(n,e,t){const r=Oe(n);let i=De.min(),a=We();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,h,m){const w=Oe(f),g=w.Os.get(m);return g!==void 0?ne.resolve(w.xs.get(g)):w.Ti.getTargetData(h,m)}(r,l,Mr(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(l,c.targetId).next(f=>{a=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(l,e,t?i:De.min(),t?a:We())).next(c=>(KP(r,kN(e),c),{documents:c,$s:a})))}function KP(n,e,t){let r=n.Ns.get(e)||De.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ns.set(e,r)}class Cw{constructor(){this.activeTargetIds=VN()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qP{constructor(){this.xo=new Cw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Cw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="ConnectivityMonitor";class Tw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ge(Sw,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ge(Sw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc=null;function Hp(){return Uc===null?Uc=function(){return 268435456+Math.round(2147483648*Math.random())}():Uc++,"0x"+Uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="RestConnection",GP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YP{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===yd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,a){const l=Hp(),c=this.jo(e,t.toUriEncodedString());ge(op,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,i,a);const{host:h}=new URL(c),m=Gm(h);return this.Jo(e,c,f,r,m).then(w=>(ge(op,`Received RPC '${e}' ${l}: `,w),w),w=>{throw ua(op,`RPC '${e}' ${l} failed with error: `,w,"url: ",c,"request:",r),w})}Yo(e,t,r,i,a,l){return this.zo(e,t,r,i,a)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}jo(e,t){const r=GP[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class JP extends YP{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const l=Hp();return new Promise((c,f)=>{const h=new _x;h.setWithCredentials(!0),h.listenOnce(xx.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case ed.NO_ERROR:const w=h.getResponseJson();ge(Zt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),c(w);break;case ed.TIMEOUT:ge(Zt,`RPC '${e}' ${l} timed out`),f(new ve(re.DEADLINE_EXCEEDED,"Request time out"));break;case ed.HTTP_ERROR:const g=h.getStatus();if(ge(Zt,`RPC '${e}' ${l} failed with status:`,g,"response text:",h.getResponseText()),g>0){let T=h.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T==null?void 0:T.error;if(C&&C.status&&C.message){const S=function(A){const k=A.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(k)>=0?k:re.UNKNOWN}(C.status);f(new ve(S,C.message))}else f(new ve(re.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new ve(re.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{h_:e,streamId:l,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{ge(Zt,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(i);ge(Zt,`RPC '${e}' ${l} sending request:`,i),h.send(t,"POST",m,r,15)})}I_(e,t,r){const i=Hp(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Sx(),c=Cx(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const m=a.join("");ge(Zt,`Creating RPC '${e}' stream ${i}: ${m}`,f);const w=l.createWebChannel(m,f);this.E_(w);let g=!1,T=!1;const C=new XP({Zo:I=>{T?ge(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(g||(ge(Zt,`Opening RPC '${e}' stream ${i} transport.`),w.open(),g=!0),ge(Zt,`RPC '${e}' stream ${i} sending:`,I),w.send(I))},Xo:()=>w.close()}),S=(I,A,k)=>{I.listen(A,L=>{try{k(L)}catch(z){setTimeout(()=>{throw z},0)}})};return S(w,kl.EventType.OPEN,()=>{T||(ge(Zt,`RPC '${e}' stream ${i} transport opened.`),C.__())}),S(w,kl.EventType.CLOSE,()=>{T||(T=!0,ge(Zt,`RPC '${e}' stream ${i} transport closed`),C.u_(),this.d_(w))}),S(w,kl.EventType.ERROR,I=>{T||(T=!0,ua(Zt,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),C.u_(new ve(re.UNAVAILABLE,"The operation could not be completed")))}),S(w,kl.EventType.MESSAGE,I=>{var A;if(!T){const k=I.data[0];Ze(!!k,16349);const L=k,z=(L==null?void 0:L.error)||((A=L[0])===null||A===void 0?void 0:A.error);if(z){ge(Zt,`RPC '${e}' stream ${i} received error:`,z);const W=z.status;let X=function(O){const V=bt[O];if(V!==void 0)return sE(V)}(W),D=z.message;X===void 0&&(X=re.INTERNAL,D="Unknown error status: "+W+" with message "+z.message),T=!0,C.u_(new ve(X,D)),w.close()}else ge(Zt,`RPC '${e}' stream ${i} received:`,k),C.c_(k)}}),S(c,Ex.STAT_EVENT,I=>{I.stat===Pp.PROXY?ge(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Pp.NOPROXY&&ge(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(n){return new nP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,t,r=1e3,i=1.5,a=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="PersistentStream";class wE{constructor(e,t,r,i,a,l,c,f){this.xi=e,this.S_=r,this.D_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new vE(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(cs(t.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{const i=new ve(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){const r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ge(Iw,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(ge(Iw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZP extends wE{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=iP(this.serializer,e),r=function(a){if(!("targetChange"in a))return De.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?De.min():l.readTime?Or(l.readTime):De.min()}(e);return this.listener.Y_(t,r)}Z_(e){const t={};t.database=Up(this.serializer),t.addTarget=function(a,l){let c;const f=l.target;if(c=Lp(f)?{documents:lP(a,f)}:{query:uP(a,f).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=aE(a,l.resumeToken);const h=Fp(a,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(De.min())>0){c.readTime=Ed(a,l.snapshotVersion.toTimestamp());const h=Fp(a,l.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const r=dP(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){const t={};t.database=Up(this.serializer),t.removeTarget=e,this.Q_(t)}}class e2 extends wE{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=aP(e.writeResults,e.commitTime),r=Or(e.commitTime);return this.listener.ra(r,t)}ia(){const e={};e.database=Up(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>oP(this.serializer,r))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{}class n2 extends t2{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new ve(re.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.zo(e,$p(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(re.UNKNOWN,a.toString())})}Yo(e,t,r,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Yo(e,$p(t,r),i,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(re.UNKNOWN,l.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class r2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(cs(t),this.ua=!1):ge("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="RemoteStore";class s2{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(l=>{r.enqueueAndForget(async()=>{to(this)&&(ge(Ki,"Restarting streams for network reachability change."),await async function(f){const h=Oe(f);h.da.add(4),await gu(h),h.Va.set("Unknown"),h.da.delete(4),await Zd(h)}(this))})}),this.Va=new r2(r,i)}}async function Zd(n){if(to(n))for(const e of n.Aa)await e(!0)}async function gu(n){for(const e of n.Aa)await e(!1)}function _E(n,e){const t=Oe(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),gg(t)?mg(t):Aa(t).N_()&&pg(t,e))}function hg(n,e){const t=Oe(n),r=Aa(t);t.Ea.delete(e),r.N_()&&xE(t,e),t.Ea.size===0&&(r.N_()?r.k_():to(t)&&t.Va.set("Unknown"))}function pg(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Aa(n).Z_(e)}function xE(n,e){n.ma.Ke(e),Aa(n).X_(e)}function mg(n){n.ma=new JN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Aa(n).start(),n.Va.ca()}function gg(n){return to(n)&&!Aa(n).O_()&&n.Ea.size>0}function to(n){return Oe(n).da.size===0}function EE(n){n.ma=void 0}async function i2(n){n.Va.set("Online")}async function o2(n){n.Ea.forEach((e,t)=>{pg(n,e)})}async function a2(n,e){EE(n),gg(n)?(n.Va.Pa(e),mg(n)):n.Va.set("Unknown")}async function l2(n,e,t){if(n.Va.set("Online"),e instanceof oE&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const c of a.targetIds)i.Ea.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ea.delete(c),i.ma.removeTarget(c))}(n,e)}catch(r){ge(Ki,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sd(n,r)}else if(e instanceof sd?n.ma.Xe(e):e instanceof iE?n.ma.ot(e):n.ma.nt(e),!t.isEqual(De.min()))try{const r=await yE(n.localStore);t.compareTo(r)>=0&&await function(a,l){const c=a.ma.It(l);return c.targetChanges.forEach((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const m=a.Ea.get(h);m&&a.Ea.set(h,m.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,h)=>{const m=a.Ea.get(f);if(!m)return;a.Ea.set(f,m.withResumeToken(qt.EMPTY_BYTE_STRING,m.snapshotVersion)),xE(a,f);const w=new Ws(m.target,f,h,m.sequenceNumber);pg(a,w)}),a.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){ge(Ki,"Failed to raise snapshot:",r),await Sd(n,r)}}async function Sd(n,e,t){if(!Ia(e))throw e;n.da.add(1),await gu(n),n.Va.set("Offline"),t||(t=()=>yE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge(Ki,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Zd(n)})}function CE(n,e){return e().catch(t=>Sd(n,t,e))}async function ef(n){const e=Oe(n),t=ni(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Jm;for(;u2(e);)try{const i=await HP(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,c2(e,i)}catch(i){await Sd(e,i)}SE(e)&&TE(e)}function u2(n){return to(n)&&n.Ia.length<10}function c2(n,e){n.Ia.push(e);const t=ni(n);t.N_()&&t.ea&&t.ta(e.mutations)}function SE(n){return to(n)&&!ni(n).O_()&&n.Ia.length>0}function TE(n){ni(n).start()}async function d2(n){ni(n).ia()}async function f2(n){const e=ni(n);for(const t of n.Ia)e.ta(t.mutations)}async function h2(n,e,t){const r=n.Ia.shift(),i=og.from(r,e,t);await CE(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await ef(n)}async function p2(n,e){e&&ni(n).ea&&await async function(r,i){if(function(l){return YN(l)&&l!==re.ABORTED}(i.code)){const a=r.Ia.shift();ni(r).L_(),await CE(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await ef(r)}}(n,e),SE(n)&&TE(n)}async function bw(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),ge(Ki,"RemoteStore received new credentials");const r=to(t);t.da.add(3),await gu(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Zd(t)}async function m2(n,e){const t=Oe(n);e?(t.da.delete(2),await Zd(t)):e||(t.da.add(2),await gu(t),t.Va.set("Unknown"))}function Aa(n){return n.fa||(n.fa=function(t,r,i){const a=Oe(t);return a.oa(),new ZP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:i2.bind(null,n),n_:o2.bind(null,n),i_:a2.bind(null,n),Y_:l2.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),gg(n)?mg(n):n.Va.set("Unknown")):(await n.fa.stop(),EE(n))})),n.fa}function ni(n){return n.ga||(n.ga=function(t,r,i){const a=Oe(t);return a.oa(),new e2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:d2.bind(null,n),i_:p2.bind(null,n),na:f2.bind(null,n),ra:h2.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await ef(n)):(await n.ga.stop(),n.Ia.length>0&&(ge(Ki,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,c=new yg(e,t,l,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vg(n,e){if(cs("AsyncQueue",`${e}: ${n}`),Ia(n))return new ve(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{static emptySet(e){return new sa(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Se.comparator(t.key,r.key):(t,r)=>Se.comparator(t.key,r.key),this.keyedMap=Dl(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new sa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.pa=new yt(Se.comparator)}track(e){const t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Ae(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}}class pa{constructor(e,t,r,i,a,l,c,f,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new pa(e,t,sa.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class y2{constructor(){this.queries=Rw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Oe(t),a=i.queries;i.queries=Rw(),a.forEach((l,c)=>{for(const f of c.Sa)f.onError(r)})})(this,new ve(re.ABORTED,"Firestore shutting down"))}}function Rw(){return new eo(n=>Kx(n),qd)}async function IE(n,e){const t=Oe(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.Da()&&e.va()&&(r=2):(a=new g2,r=e.va()?0:1);try{switch(r){case 0:a.ba=await t.onListen(i,!0);break;case 1:a.ba=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=vg(l,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,a),a.Sa.push(e),e.Fa(t.onlineState),a.ba&&e.Ma(a.ba)&&wg(t)}async function bE(n,e){const t=Oe(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.va()?0:1:!a.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function v2(n,e){const t=Oe(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const c of l.Sa)c.Ma(i)&&(r=!0);l.ba=i}}r&&wg(t)}function w2(n,e,t){const r=Oe(n),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);r.queries.delete(e)}function wg(n){n.Ca.forEach(e=>{e.next()})}var Wp,Nw;(Nw=Wp||(Wp={})).xa="default",Nw.Cache="cache";class AE{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Wp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this.key=e}}class NE{constructor(e){this.key=e}}class _2{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=We(),this.mutatedKeys=We(),this.Za=qx(e),this.Xa=new sa(this.Za)}get eu(){return this.Ha}tu(e,t){const r=t?t.nu:new Aw,i=t?t.Xa:this.Xa;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,w)=>{const g=i.get(m),T=Qd(this.query,w)?w:null,C=!!g&&this.mutatedKeys.has(g.key),S=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let I=!1;g&&T?g.data.isEqual(T.data)?C!==S&&(r.track({type:3,doc:T}),I=!0):this.ru(g,T)||(r.track({type:2,doc:T}),I=!0,(f&&this.Za(T,f)>0||h&&this.Za(T,h)<0)&&(c=!0)):!g&&T?(r.track({type:0,doc:T}),I=!0):g&&!T&&(r.track({type:1,doc:g}),I=!0,(f||h)&&(c=!0)),I&&(T?(l=l.add(T),a=S?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{Xa:l,nu:r,Cs:c,mutatedKeys:a}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const l=e.nu.wa();l.sort((m,w)=>function(T,C){const S=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Vt:I})}};return S(T)-S(C)}(m.type,w.type)||this.Za(m.doc,w.doc)),this.iu(r),i=i!=null&&i;const c=t&&!i?this.su():[],f=this.Ya.size===0&&this.current&&!i?1:0,h=f!==this.Ja;return this.Ja=f,l.length!==0||h?{snapshot:new pa(this.query,e.Xa,a,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Aw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=We(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new NE(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new RE(r))}),t}au(e){this.Ha=e.$s,this.Ya=We();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return pa.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const _g="SyncEngine";class x2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class E2{constructor(e){this.key=e,this.cu=!1}}class C2{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new eo(c=>Kx(c),qd),this.Pu=new Map,this.Tu=new Set,this.Iu=new yt(Se.comparator),this.Eu=new Map,this.du=new ug,this.Au={},this.Ru=new Map,this.Vu=ha.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function S2(n,e,t=!0){const r=LE(n);let i;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.uu()):i=await PE(r,e,t,!0),i}async function T2(n,e){const t=LE(n);await PE(t,e,!0,!1)}async function PE(n,e,t,r){const i=await WP(n.localStore,Mr(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await I2(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&_E(n.remoteStore,i),c}async function I2(n,e,t,r,i){n.fu=(w,g,T)=>async function(S,I,A,k){let L=I.view.tu(A);L.Cs&&(L=await Ew(S.localStore,I.query,!1).then(({documents:D})=>I.view.tu(D,L)));const z=k&&k.targetChanges.get(I.targetId),W=k&&k.targetMismatches.get(I.targetId)!=null,X=I.view.applyChanges(L,S.isPrimaryClient,z,W);return kw(S,I.targetId,X.ou),X.snapshot}(n,w,g,T);const a=await Ew(n.localStore,e,!0),l=new _2(e,a.$s),c=l.tu(a.documents),f=mu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=l.applyChanges(c,n.isPrimaryClient,f);kw(n,t,h.ou);const m=new x2(e,t,l);return n.hu.set(e,m),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),h.snapshot}async function b2(n,e,t){const r=Oe(n),i=r.hu.get(e),a=r.Pu.get(i.targetId);if(a.length>1)return r.Pu.set(i.targetId,a.filter(l=>!qd(l,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Bp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&hg(r.remoteStore,i.targetId),Kp(r,i.targetId)}).catch(Ta)):(Kp(r,i.targetId),await Bp(r.localStore,i.targetId,!0))}async function A2(n,e){const t=Oe(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),hg(t.remoteStore,r.targetId))}async function R2(n,e,t){const r=L2(n);try{const i=await function(l,c){const f=Oe(l),h=gt.now(),m=c.reduce((T,C)=>T.add(C.key),We());let w,g;return f.persistence.runTransaction("Locally write mutations","readwrite",T=>{let C=ds(),S=We();return f.Bs.getEntries(T,m).next(I=>{C=I,C.forEach((A,k)=>{k.isValidDocument()||(S=S.add(A))})}).next(()=>f.localDocuments.getOverlayedDocuments(T,C)).next(I=>{w=I;const A=[];for(const k of c){const L=WN(k,w.get(k.key).overlayedDocument);L!=null&&A.push(new li(k.key,L,Vx(L.value.mapValue),ur.exists(!0)))}return f.mutationQueue.addMutationBatch(T,h,A,c)}).next(I=>{g=I;const A=I.applyToLocalDocumentSet(w,S);return f.documentOverlayCache.saveOverlays(T,I.batchId,A)})}).then(()=>({batchId:g.batchId,changes:Gx(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,f){let h=l.Au[l.currentUser.toKey()];h||(h=new yt($e)),h=h.insert(c,f),l.Au[l.currentUser.toKey()]=h}(r,i.batchId,t),await yu(r,i.changes),await ef(r.remoteStore)}catch(i){const a=vg(i,"Failed to persist write");t.reject(a)}}async function kE(n,e){const t=Oe(n);try{const r=await UP(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Eu.get(a);l&&(Ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.cu=!0:i.modifiedDocuments.size>0?Ze(l.cu,14607):i.removedDocuments.size>0&&(Ze(l.cu,42227),l.cu=!1))}),await yu(t,r,e)}catch(r){await Ta(r)}}function Pw(n,e,t){const r=Oe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.hu.forEach((a,l)=>{const c=l.view.Fa(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const f=Oe(l);f.onlineState=c;let h=!1;f.queries.forEach((m,w)=>{for(const g of w.Sa)g.Fa(c)&&(h=!0)}),h&&wg(f)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function N2(n,e,t){const r=Oe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Eu.get(e),a=i&&i.key;if(a){let l=new yt(Se.comparator);l=l.insert(a,tn.newNoDocument(a,De.min()));const c=We().add(a),f=new Xd(De.min(),new Map,new yt($e),l,c);await kE(r,f),r.Iu=r.Iu.remove(a),r.Eu.delete(e),xg(r)}else await Bp(r.localStore,e,!1).then(()=>Kp(r,e,t)).catch(Ta)}async function P2(n,e){const t=Oe(n),r=e.batch.batchId;try{const i=await zP(t.localStore,e);ME(t,r,null),DE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await yu(t,i)}catch(i){await Ta(i)}}async function k2(n,e,t){const r=Oe(n);try{const i=await function(l,c){const f=Oe(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return f.mutationQueue.lookupMutationBatch(h,c).next(w=>(Ze(w!==null,37113),m=w.keys(),f.mutationQueue.removeMutationBatch(h,w))).next(()=>f.mutationQueue.performConsistencyCheck(h)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(h,m,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>f.localDocuments.getDocuments(h,m))})}(r.localStore,e);ME(r,e,t),DE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await yu(r,i)}catch(i){await Ta(i)}}function DE(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function ME(n,e,t){const r=Oe(n);let i=r.Au[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function Kp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||OE(n,r)})}function OE(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(hg(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),xg(n))}function kw(n,e,t){for(const r of t)r instanceof RE?(n.du.addReference(r.key,e),D2(n,r)):r instanceof NE?(ge(_g,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||OE(n,r.key)):Ae(19791,{pu:r})}function D2(n,e){const t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(ge(_g,"New document in limbo: "+t),n.Tu.add(r),xg(n))}function xg(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Se(ct.fromString(e)),r=n.Vu.next();n.Eu.set(r,new E2(t)),n.Iu=n.Iu.insert(t,r),_E(n.remoteStore,new Ws(Mr(rg(t.path)),r,"TargetPurposeLimboResolution",Hd.le))}}async function yu(n,e,t){const r=Oe(n),i=[],a=[],l=[];r.hu.isEmpty()||(r.hu.forEach((c,f)=>{l.push(r.fu(f,e,t).then(h=>{var m;if((h||t)&&r.isPrimaryClient){const w=h?!h.fromCache:(m=t==null?void 0:t.targetChanges.get(f.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(h){i.push(h);const w=dg.Rs(f.targetId,h);a.push(w)}}))}),await Promise.all(l),r.lu.Y_(i),await async function(f,h){const m=Oe(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ne.forEach(h,g=>ne.forEach(g.ds,T=>m.persistence.referenceDelegate.addReference(w,g.targetId,T)).next(()=>ne.forEach(g.As,T=>m.persistence.referenceDelegate.removeReference(w,g.targetId,T)))))}catch(w){if(!Ia(w))throw w;ge(fg,"Failed to update sequence numbers: "+w)}for(const w of h){const g=w.targetId;if(!w.fromCache){const T=m.xs.get(g),C=T.snapshotVersion,S=T.withLastLimboFreeSnapshotVersion(C);m.xs=m.xs.insert(g,S)}}}(r.localStore,a))}async function M2(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){ge(_g,"User change. New user:",e.toKey());const r=await gE(t.localStore,e);t.currentUser=e,function(a,l){a.Ru.forEach(c=>{c.forEach(f=>{f.reject(new ve(re.CANCELLED,l))})}),a.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yu(t,r.ks)}}function O2(n,e){const t=Oe(n),r=t.Eu.get(e);if(r&&r.cu)return We().add(r.key);{let i=We();const a=t.Pu.get(e);if(!a)return i;for(const l of a){const c=t.hu.get(l);i=i.unionWith(c.view.eu)}return i}}function LE(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=O2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N2.bind(null,e),e.lu.Y_=v2.bind(null,e.eventManager),e.lu.gu=w2.bind(null,e.eventManager),e}function L2(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k2.bind(null,e),e}class Td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return $P(this.persistence,new jP,e.initialUser,this.serializer)}Su(e){return new mE(cg.fi,this.serializer)}bu(e){return new qP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Td.provider={build:()=>new Td};class j2 extends Td{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Ze(this.persistence.referenceDelegate instanceof Cd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new EP(r,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new mE(r=>Cd.fi(r,t),this.serializer)}}class qp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Pw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=M2.bind(null,this.syncEngine),await m2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new y2}()}createDatastore(e){const t=Jd(e.databaseInfo.databaseId),r=function(a){return new JP(a)}(e.databaseInfo);return function(a,l,c,f){return new n2(a,l,c,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,c){return new s2(r,i,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>Pw(this.syncEngine,t,0),function(){return Tw.C()?new Tw:new QP}())}createSyncEngine(e,t){return function(i,a,l,c,f,h,m){const w=new C2(i,a,l,c,f,h);return m&&(w.mu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=Oe(i);ge(Ki,"RemoteStore shutting down."),a.da.add(5),await gu(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}qp.provider={build:()=>new qp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):cs("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri="FirestoreClient";class V2{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=en.UNAUTHENTICATED,this.clientId=Ax.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{ge(ri,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ge(ri,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=vg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lp(n,e){n.asyncQueue.verifyOperationInProgress(),ge(ri,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await gE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Dw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await F2(n);ge(ri,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>bw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>bw(e.remoteStore,i)),n._onlineComponents=e}async function F2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge(ri,"Using user provided OfflineComponentProvider");try{await lp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ua("Error using user provided cache. Falling back to memory cache: "+t),await lp(n,new Td)}}else ge(ri,"Using default OfflineComponentProvider"),await lp(n,new j2(void 0));return n._offlineComponents}async function VE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge(ri,"Using user provided OnlineComponentProvider"),await Dw(n,n._uninitializedComponentsProvider._online)):(ge(ri,"Using default OnlineComponentProvider"),await Dw(n,new qp))),n._onlineComponents}function $2(n){return VE(n).then(e=>e.syncEngine)}async function Qp(n){const e=await VE(n),t=e.eventManager;return t.onListen=S2.bind(null,e.syncEngine),t.onUnlisten=b2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=T2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=A2.bind(null,e.syncEngine),t}function z2(n,e,t={}){const r=new Gs;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,h){const m=new jE({next:g=>{m.xu(),l.enqueueAndForget(()=>bE(a,w)),g.fromCache&&f.source==="server"?h.reject(new ve(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),w=new AE(c,m,{includeMetadataChanges:!0,Qa:!0});return IE(a,w)}(await Qp(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(n,e,t){if(!t)throw new ve(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function U2(n,e,t,r){if(e===!0&&r===!0)throw new ve(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Ow(n){if(!Se.isDocumentKey(n))throw new ve(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Lw(n){if(Se.isDocumentKey(n))throw new ve(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function tf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function Lr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=tf(n);throw new ve(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="firestore.googleapis.com",jw=!0;class Vw{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zE,this.ssl=jw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:jw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_P)throw new ve(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new XR;switch(r.type){case"firstParty":return new tN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Mw.get(t);r&&(ge("ComponentProvider","Removing Datastore"),Mw.delete(t),r.terminate())}(this),Promise.resolve()}}function B2(n,e,t,r={}){var i;n=Lr(n,nf);const a=Gm(e),l=n._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a&&(IA(`https://${f}`),NA("Firestore",!0)),l.host!==zE&&l.host!==f&&ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},l),{host:f,ssl:a,emulatorOptions:r});if(!hd(h,c)&&(n._setSettings(h),r.mockUserToken)){let m,w;if(typeof r.mockUserToken=="string")m=r.mockUserToken,w=en.MOCK_USER;else{m=bA(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ve(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new en(g)}n._authCredentials=new JR(new Ix(m,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ui(this.firestore,e,this._query)}}class vn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class Ys extends ui{constructor(e,t,r){super(e,t,rg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new Se(e))}withConverter(e){return new Ys(this.firestore,e,this._path)}}function An(n,e,...t){if(n=Vr(n),$E("collection","path",e),n instanceof nf){const r=ct.fromString(e,...t);return Lw(r),new Ys(n,null,r)}{if(!(n instanceof vn||n instanceof Ys))throw new ve(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ct.fromString(e,...t));return Lw(r),new Ys(n.firestore,null,r)}}function Pr(n,e,...t){if(n=Vr(n),arguments.length===1&&(e=Ax.newId()),$E("doc","path",e),n instanceof nf){const r=ct.fromString(e,...t);return Ow(r),new vn(n,null,new Se(r))}{if(!(n instanceof vn||n instanceof Ys))throw new ve(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ct.fromString(e,...t));return Ow(r),new vn(n.firestore,n instanceof Ys?n.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="AsyncQueue";class $w{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new vE(this,"async_queue_retry"),this.rc=()=>{const r=ap();r&&ge(Fw,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const t=ap();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=ap();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Gs;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Ia(e))throw e;ge(Fw,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,cs("INTERNAL UNHANDLED ERROR: ",zw(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const i=yg.createAndSchedule(this,e,t,r,a=>this.uc(a));return this.Zu.push(i),i}oc(){this.Xu&&Ae(47125,{cc:zw(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function zw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(n,["next","error","complete"])}class qi extends nf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new $w,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $w(e),this._firestoreClient=void 0,await e}}}function H2(n,e){const t=typeof n=="object"?n:$R(),r=typeof n=="string"?n:yd,i=OR(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=SA("firestore");a&&B2(i,...a)}return i}function Eg(n){if(n._terminated)throw new ve(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||W2(n),n._firestoreClient}function W2(n){var e,t,r;const i=n._freezeSettings(),a=function(c,f,h,m){return new gN(c,f,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,FE(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new V2(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ma(qt.fromBase64String(e))}catch(t){throw new ve(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ma(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=/^__.*__$/;class q2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new li(e,this.data,this.fieldMask,t,this.fieldTransforms):new pu(e,this.data,t,this.fieldTransforms)}}class UE{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new li(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function BE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ic:n})}}class Ig{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Ig(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Id(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(BE(this.Ic)&&K2.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Q2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Jd(e)}bc(e,t,r,i=!1){return new Ig({Ic:e,methodName:t,wc:r,path:Kt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bg(n){const e=n._freezeSettings(),t=Jd(n._databaseId);return new Q2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function G2(n,e,t,r,i,a={}){const l=n.bc(a.merge||a.mergeFields?2:0,e,t,i);Ag("Data must be an object, but it was:",l,r);const c=HE(r,l);let f,h;if(a.merge)f=new bn(l.fieldMask),h=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const w of a.mergeFields){const g=Gp(e,w,t);if(!l.contains(g))throw new ve(re.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);KE(m,g)||m.push(g)}f=new bn(m),h=l.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,h=l.fieldTransforms;return new q2(new yn(c),f,h)}class sf extends Cg{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sf}}function Y2(n,e,t,r){const i=n.bc(1,e,t);Ag("Data must be an object, but it was:",i,r);const a=[],l=yn.empty();ai(r,(f,h)=>{const m=Rg(e,f,t);h=Vr(h);const w=i.mc(m);if(h instanceof sf)a.push(m);else{const g=vu(h,w);g!=null&&(a.push(m),l.set(m,g))}});const c=new bn(a);return new UE(l,c,i.fieldTransforms)}function X2(n,e,t,r,i,a){const l=n.bc(1,e,t),c=[Gp(e,r,t)],f=[i];if(a.length%2!=0)throw new ve(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)c.push(Gp(e,a[g])),f.push(a[g+1]);const h=[],m=yn.empty();for(let g=c.length-1;g>=0;--g)if(!KE(h,c[g])){const T=c[g];let C=f[g];C=Vr(C);const S=l.mc(T);if(C instanceof sf)h.push(T);else{const I=vu(C,S);I!=null&&(h.push(T),m.set(T,I))}}const w=new bn(h);return new UE(m,w,l.fieldTransforms)}function J2(n,e,t,r=!1){return vu(t,n.bc(r?4:3,e))}function vu(n,e){if(WE(n=Vr(n)))return Ag("Unsupported field value:",e,n),HE(n,e);if(n instanceof Cg)return function(r,i){if(!BE(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const c of r){let f=vu(c,i.fc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=Vr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=gt.fromDate(r);return{timestampValue:Ed(i.serializer,a)}}if(r instanceof gt){const a=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ed(i.serializer,a)}}if(r instanceof Sg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ma)return{bytesValue:aE(i.serializer,r._byteString)};if(r instanceof vn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:lg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Tg)return function(l,c){return{mapValue:{fields:{[Lx]:{stringValue:jx},[vd]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw c.gc("VectorValues must only contain numeric values.");return sg(c.serializer,h)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${tf(r)}`)}(n,e)}function HE(n,e){const t={};return Nx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ai(n,(r,i)=>{const a=vu(i,e.Ac(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function WE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof gt||n instanceof Sg||n instanceof ma||n instanceof vn||n instanceof Cg||n instanceof Tg)}function Ag(n,e,t){if(!WE(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=tf(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function Gp(n,e,t){if((e=Vr(e))instanceof rf)return e._internalPath;if(typeof e=="string")return Rg(n,e);throw Id("Field path arguments must be of type string or ",n,!1,void 0,t)}const Z2=new RegExp("[~\\*/\\[\\]]");function Rg(n,e,t){if(e.search(Z2)>=0)throw Id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new rf(...e.split("."))._internalPath}catch{throw Id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Id(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new ve(re.INVALID_ARGUMENT,c+n+f)}function KE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ek(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(of("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ek extends qE{data(){return super.data()}}function of(n,e){return typeof e=="string"?Rg(n,e):e instanceof rf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ng{}class GE extends Ng{}function ou(n,e,...t){let r=[];e instanceof Ng&&r.push(e),r=r.concat(t),function(a){const l=a.filter(f=>f instanceof Pg).length,c=a.filter(f=>f instanceof af).length;if(l>1||l>0&&c>0)throw new ve(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class af extends GE{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new af(e,t,r)}_apply(e){const t=this._parse(e);return YE(e._query,t),new ui(e.firestore,e.converter,jp(e._query,t))}_parse(e){const t=bg(e.firestore);return function(a,l,c,f,h,m,w){let g;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ve(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){Hw(w,m);const C=[];for(const S of w)C.push(Bw(f,a,S));g={arrayValue:{values:C}}}else g=Bw(f,a,w)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||Hw(w,m),g=J2(c,l,w,m==="in"||m==="not-in");return At.create(h,m,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function bd(n,e,t){const r=e,i=of("where",n);return af._create(i,r,t)}class Pg extends Ng{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Pg(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:cr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let l=i;const c=a.getFlattenedFilters();for(const f of c)YE(l,f),l=jp(l,f)}(e._query,t),new ui(e.firestore,e.converter,jp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kg extends GE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new kg(e,t)}_apply(e){const t=function(i,a,l){if(i.startAt!==null)throw new ve(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ve(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ru(a,l)}(e._query,this._field,this._direction);return new ui(e.firestore,e.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new ba(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Ad(n,e="asc"){const t=e,r=of("orderBy",n);return kg._create(r,t)}function Bw(n,e,t){if(typeof(t=Vr(t))=="string"){if(t==="")throw new ve(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wx(e)&&t.indexOf("/")!==-1)throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ct.fromString(t));if(!Se.isDocumentKey(r))throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rw(n,new Se(r))}if(t instanceof vn)return rw(n,t._key);throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tf(t)}.`)}function Hw(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YE(n,e){const t=function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class tk{convertValue(e,t="none"){switch(ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ai(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[vd].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>St(l.doubleValue));return new Tg(a)}convertGeoPoint(e){return new Sg(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Kd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const t=Zs(e);return new gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ct.fromString(e);Ze(hE(r),9688,{name:e});const i=new tu(r.get(1),r.get(3)),a=new Se(r.popFirst(5));return i.isEqual(t)||cs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XE extends qE{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new id(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(of("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class id extends XE{data(e={}){return super.data(e)}}class JE{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ol(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new id(this._firestore,this._userDataWriter,r.key,r,new Ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const f=new id(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ol(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const f=new id(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ol(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:rk(c.type),doc:f,oldIndex:h,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}class Dg extends tk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ma(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,t)}}function ga(n){n=Lr(n,ui);const e=Lr(n.firestore,qi),t=Eg(e),r=new Dg(e);return QE(n._query),z2(t,n._query).then(i=>new JE(e,r,n,i))}function Bi(n,e,t,...r){n=Lr(n,vn);const i=Lr(n.firestore,qi),a=bg(i);let l;return l=typeof(e=Vr(e))=="string"||e instanceof rf?X2(a,"updateDoc",n._key,e,t,r):Y2(a,"updateDoc",n._key,e),Mg(i,[l.toMutation(n._key,ur.exists(!0))])}function Ww(n){return Mg(Lr(n.firestore,qi),[new ig(n._key,ur.none())])}function Rd(n,e){const t=Lr(n.firestore,qi),r=Pr(n),i=nk(n.converter,e);return Mg(t,[G2(bg(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ur.exists(!1))]).then(()=>r)}function Yp(n,...e){var t,r,i;n=Vr(n);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||Uw(e[l])||(a=e[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Uw(e[l])){const w=e[l];e[l]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[l+1]=(r=w.error)===null||r===void 0?void 0:r.bind(w),e[l+2]=(i=w.complete)===null||i===void 0?void 0:i.bind(w)}let f,h,m;if(n instanceof vn)h=Lr(n.firestore,qi),m=rg(n._key.path),f={next:w=>{e[l]&&e[l](sk(h,n,w))},error:e[l+1],complete:e[l+2]};else{const w=Lr(n,ui);h=Lr(w.firestore,qi),m=w._query;const g=new Dg(h);f={next:T=>{e[l]&&e[l](new JE(h,g,w,T))},error:e[l+1],complete:e[l+2]},QE(n._query)}return function(g,T,C,S){const I=new jE(S),A=new AE(T,I,C);return g.asyncQueue.enqueueAndForget(async()=>IE(await Qp(g),A)),()=>{I.xu(),g.asyncQueue.enqueueAndForget(async()=>bE(await Qp(g),A))}}(Eg(h),m,c,f)}function Mg(n,e){return function(r,i){const a=new Gs;return r.asyncQueue.enqueueAndForget(async()=>R2(await $2(r),i,a)),a.promise}(Eg(n),e)}function sk(n,e,t){const r=t.docs.get(e._key),i=new Dg(n);return new XE(n,i,e._key,r,new Ol(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Sa=i})(FR),md(new Xl("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new qi(new ZR(r.getProvider("auth-internal")),new nN(l,r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ve(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(h.options.projectId,m)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),ra(W0,K0,e),ra(W0,K0,"esm2017")})();var ik="firebase",ok="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ra(ik,ok,"app");const ak={apiKey:"AIzaSyDwlqDKuq9fpSqfvzON6tBEgMx63IQLMw0",authDomain:"cafeqr-d658f.firebaseapp.com",projectId:"cafeqr-d658f",storageBucket:"cafeqr-d658f.firebasestorage.app",messagingSenderId:"266670888353",appId:"1:266670888353:web:bb50567816c2681197e7e0"},lk=gx(ak),xt=H2(lk),uk=async()=>{const n=An(xt,"menuItems");return(await ga(n)).docs.map(r=>({id:r.id,...r.data()}))},ck=async()=>{const n=An(xt,"categories");return(await ga(n)).docs.map(r=>({id:r.id,...r.data()}))},dk=async(n,e)=>{const t=An(xt,"waiterCalls"),r={tableId:n,timestamp:gt.now(),status:"pending",message:e||""};await Rd(t,r)},fk=[{id:1,name:"Masa 1",qrCode:"table-1"},{id:2,name:"Masa 2",qrCode:"table-2"},{id:3,name:"Masa 3",qrCode:"table-3"},{id:4,name:"Masa 4",qrCode:"table-4"},{id:5,name:"Masa 5",qrCode:"table-5"},{id:6,name:"Masa 6",qrCode:"table-6"},{id:7,name:"Masa 7",qrCode:"table-7"},{id:8,name:"Masa 8",qrCode:"table-8"},{id:9,name:"Masa 9",qrCode:"table-9"},{id:10,name:"Masa 10",qrCode:"table-10"},{id:11,name:"Masa 11",qrCode:"table-11"},{id:12,name:"Masa 12",qrCode:"table-12"},{id:13,name:"Masa 13",qrCode:"table-13"},{id:14,name:"Masa 14",qrCode:"table-14"},{id:15,name:"Masa 15",qrCode:"table-15"},{id:16,name:"Masa 16",qrCode:"table-16"},{id:17,name:"Masa 17",qrCode:"table-17"},{id:18,name:"Masa 18",qrCode:"table-18"},{id:19,name:"Masa 19",qrCode:"table-19"},{id:20,name:"Masa 20",qrCode:"table-20"}],hk=(n,e,t,r)=>{var a,l,c,f;const i=[t,{code:e,...r||{}}];if((l=(a=n==null?void 0:n.services)==null?void 0:a.logger)!=null&&l.forward)return n.services.logger.forward(i,"warn","react-i18next::",!0);Hi(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(f=(c=n==null?void 0:n.services)==null?void 0:c.logger)!=null&&f.warn?n.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},Kw={},Xp=(n,e,t,r)=>{Hi(t)&&Kw[t]||(Hi(t)&&(Kw[t]=new Date),hk(n,e,t,r))},ZE=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},Jp=(n,e,t)=>{n.loadNamespaces(e,ZE(n,t))},qw=(n,e,t,r)=>{if(Hi(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return Jp(n,t,r);t.forEach(i=>{n.options.ns.indexOf(i)<0&&n.options.ns.push(i)}),n.loadLanguages(e,ZE(n,r))},pk=(n,e,t={})=>!e.languages||!e.languages.length?(Xp(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,i)=>{var a;if(((a=t.bindI18n)==null?void 0:a.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,n))return!1}}),Hi=n=>typeof n=="string",mk=n=>typeof n=="object"&&n!==null,gk=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,yk={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},vk=n=>yk[n],wk=n=>n.replace(gk,vk);let Zp={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:wk};const _k=(n={})=>{Zp={...Zp,...n}},xk=()=>Zp;let eC;const Ek=n=>{eC=n},Ck=()=>eC,Sk={type:"3rdParty",init(n){_k(n.options.react),Ek(n)}},Tk=E.createContext();class Ik{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const bk=(n,e)=>{const t=E.useRef();return E.useEffect(()=>{t.current=n},[n,e]),t.current},tC=(n,e,t,r)=>n.getFixedT(e,t,r),Ak=(n,e,t,r)=>E.useCallback(tC(n,e,t,r),[n,e,t,r]),lf=(n,e={})=>{var z,W,X,D;const{i18n:t}=e,{i18n:r,defaultNS:i}=E.useContext(Tk)||{},a=t||r||Ck();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Ik),!a){Xp(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const N=(V,F)=>Hi(F)?F:mk(F)&&Hi(F.defaultValue)?F.defaultValue:Array.isArray(V)?V[V.length-1]:V,O=[N,{},!1];return O.t=N,O.i18n={},O.ready=!1,O}(z=a.options.react)!=null&&z.wait&&Xp(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...xk(),...a.options.react,...e},{useSuspense:c,keyPrefix:f}=l;let h=i||((W=a.options)==null?void 0:W.defaultNS);h=Hi(h)?[h]:h||["translation"],(D=(X=a.reportNamespaces).addUsedNamespaces)==null||D.call(X,h);const m=(a.isInitialized||a.initializedStoreOnce)&&h.every(N=>pk(N,a,l)),w=Ak(a,e.lng||null,l.nsMode==="fallback"?h:h[0],f),g=()=>w,T=()=>tC(a,e.lng||null,l.nsMode==="fallback"?h:h[0],f),[C,S]=E.useState(g);let I=h.join();e.lng&&(I=`${e.lng}${I}`);const A=bk(I),k=E.useRef(!0);E.useEffect(()=>{const{bindI18n:N,bindI18nStore:O}=l;k.current=!0,!m&&!c&&(e.lng?qw(a,e.lng,h,()=>{k.current&&S(T)}):Jp(a,h,()=>{k.current&&S(T)})),m&&A&&A!==I&&k.current&&S(T);const V=()=>{k.current&&S(T)};return N&&(a==null||a.on(N,V)),O&&(a==null||a.store.on(O,V)),()=>{k.current=!1,a&&(N==null||N.split(" ").forEach(F=>a.off(F,V))),O&&a&&O.split(" ").forEach(F=>a.store.off(F,V))}},[a,I]),E.useEffect(()=>{k.current&&m&&S(g)},[a,f,m]);const L=[C,a,m];if(L.t=C,L.i18n=a,L.ready=m,m||!m&&!c)return L;throw new Promise(N=>{e.lng?qw(a,e.lng,h,()=>N()):Jp(a,h,()=>N())})},Rk=({tableId:n})=>{const{t:e}=lf(),[t,r]=E.useState(!1),[i,a]=E.useState(null),l=async()=>{const c=Date.now();if(i&&c-i<3e4){const f=Math.ceil((3e4-(c-i))/1e3);alert(e("waiter_call.try_again_in_seconds",{count:f}));return}r(!0);try{await dk(n,e("waiter_call.message_default")),a(c),alert(e("waiter_call.sent_success"))}catch(f){console.error("Garson ars gnderilirken hata olutu:",f),alert(e("waiter_call.sent_error"))}finally{r(!1)}};return v.jsx("button",{onClick:l,disabled:t,className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${t?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:t?e("waiter_call.sending"):` ${e("waiter_call.button")}`})},Nk=({tableId:n})=>{const{items:e,getTotalItems:t,getTotalPrice:r,updateQuantity:i,removeFromCart:a}=qm(),[l,c]=E.useState(!1),f=fu();return t()===0?null:v.jsxs("div",{className:"fixed bottom-4 right-4 z-50",children:[!l&&v.jsxs("button",{onClick:()=>c(!0),className:"bg-amber-500 hover:bg-amber-600 text-white rounded-full p-4 shadow-lg flex items-center gap-2 transition-all duration-200 hover:scale-105",children:[v.jsxs("div",{className:"relative",children:["",v.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:t()})]}),v.jsxs("span",{className:"font-medium",children:[r()," "]})]}),l&&v.jsxs("div",{className:"bg-white rounded-lg shadow-xl border-2 border-amber-200 w-80 max-h-96 overflow-hidden",children:[v.jsxs("div",{className:"bg-amber-500 text-white p-3 flex justify-between items-center",children:[v.jsxs("h3",{className:"font-semibold",children:["Sepetim (",t()," rn)"]}),v.jsx("button",{onClick:()=>c(!1),className:"text-white hover:text-amber-200",children:""})]}),v.jsx("div",{className:"max-h-48 overflow-y-auto p-3 space-y-2",children:e.map(h=>v.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"font-medium text-sm",children:h.name_tr}),v.jsxs("div",{className:"text-amber-600 text-sm",children:[h.price," "]})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:()=>i(String(h.id),h.quantity-1),className:"bg-gray-200 hover:bg-gray-300 text-gray-700 w-6 h-6 rounded-full text-xs",children:"-"}),v.jsx("span",{className:"text-sm font-medium w-6 text-center",children:h.quantity}),v.jsx("button",{onClick:()=>i(String(h.id),h.quantity+1),className:"bg-amber-500 hover:bg-amber-600 text-white w-6 h-6 rounded-full text-xs",children:"+"}),v.jsx("button",{onClick:()=>a(String(h.id)),className:"bg-red-500 hover:bg-red-600 text-white w-6 h-6 rounded-full text-xs ml-1",children:""})]})]},h.id))}),v.jsxs("div",{className:"border-t p-3 bg-gray-50",children:[v.jsxs("div",{className:"flex justify-between items-center mb-3",children:[v.jsx("span",{className:"font-semibold",children:"Toplam:"}),v.jsxs("span",{className:"font-bold text-amber-600 text-lg",children:[r()," "]})]}),v.jsx("button",{onClick:()=>f(`/checkout/${n}`),className:"w-full bg-amber-500 hover:bg-amber-600 text-white py-2 px-4 rounded-md font-medium transition-colors",children:"Siparii Tamamla"})]})]})]})};function Qw(n,[e,t]){return Math.min(t,Math.max(e,n))}function Me(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Pk(n,e){const t=E.createContext(e),r=a=>{const{children:l,...c}=a,f=E.useMemo(()=>c,Object.values(c));return v.jsx(t.Provider,{value:f,children:l})};r.displayName=n+"Provider";function i(a){const l=E.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,i]}function ci(n,e=[]){let t=[];function r(a,l){const c=E.createContext(l),f=t.length;t=[...t,l];const h=w=>{var A;const{scope:g,children:T,...C}=w,S=((A=g==null?void 0:g[n])==null?void 0:A[f])||c,I=E.useMemo(()=>C,Object.values(C));return v.jsx(S.Provider,{value:I,children:T})};h.displayName=a+"Provider";function m(w,g){var S;const T=((S=g==null?void 0:g[n])==null?void 0:S[f])||c,C=E.useContext(T);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${w}\` must be used within \`${a}\``)}return[h,m]}const i=()=>{const a=t.map(l=>E.createContext(l));return function(c){const f=(c==null?void 0:c[n])||a;return E.useMemo(()=>({[`__scope${n}`]:{...c,[n]:f}}),[c,f])}};return i.scopeName=n,[r,kk(i,...e)]}function kk(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((c,{useScope:f,scopeName:h})=>{const w=f(a)[`__scope${h}`];return{...c,...w}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function Gw(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function nC(...n){return e=>{let t=!1;const r=n.map(i=>{const a=Gw(i,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():Gw(n[i],null)}}}}function it(...n){return E.useCallback(nC(...n),n)}function ya(n){const e=Mk(n),t=E.forwardRef((r,i)=>{const{children:a,...l}=r,c=E.Children.toArray(a),f=c.find(Lk);if(f){const h=f.props.children,m=c.map(w=>w===f?E.Children.count(h)>1?E.Children.only(null):E.isValidElement(h)?h.props.children:null:w);return v.jsx(e,{...l,ref:i,children:E.isValidElement(h)?E.cloneElement(h,void 0,m):null})}return v.jsx(e,{...l,ref:i,children:a})});return t.displayName=`${n}.Slot`,t}var Dk=ya("Slot");function Mk(n){const e=E.forwardRef((t,r)=>{const{children:i,...a}=t;if(E.isValidElement(i)){const l=Vk(i),c=jk(a,i.props);return i.type!==E.Fragment&&(c.ref=r?nC(r,l):l),E.cloneElement(i,c)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var rC=Symbol("radix.slottable");function Ok(n){const e=({children:t})=>v.jsx(v.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=rC,e}function Lk(n){return E.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===rC}function jk(n,e){const t={...e};for(const r in e){const i=n[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?t[r]=(...c)=>{const f=a(...c);return i(...c),f}:i&&(t[r]=i):r==="style"?t[r]={...i,...a}:r==="className"&&(t[r]=[i,a].filter(Boolean).join(" "))}return{...n,...t}}function Vk(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Og(n){const e=n+"CollectionProvider",[t,r]=ci(e),[i,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:I,children:A}=S,k=nt.useRef(null),L=nt.useRef(new Map).current;return v.jsx(i,{scope:I,itemMap:L,collectionRef:k,children:A})};l.displayName=e;const c=n+"CollectionSlot",f=ya(c),h=nt.forwardRef((S,I)=>{const{scope:A,children:k}=S,L=a(c,A),z=it(I,L.collectionRef);return v.jsx(f,{ref:z,children:k})});h.displayName=c;const m=n+"CollectionItemSlot",w="data-radix-collection-item",g=ya(m),T=nt.forwardRef((S,I)=>{const{scope:A,children:k,...L}=S,z=nt.useRef(null),W=it(I,z),X=a(m,A);return nt.useEffect(()=>(X.itemMap.set(z,{ref:z,...L}),()=>void X.itemMap.delete(z))),v.jsx(g,{[w]:"",ref:W,children:k})});T.displayName=m;function C(S){const I=a(n+"CollectionConsumer",S);return nt.useCallback(()=>{const k=I.collectionRef.current;if(!k)return[];const L=Array.from(k.querySelectorAll(`[${w}]`));return Array.from(I.itemMap.values()).sort((X,D)=>L.indexOf(X.ref.current)-L.indexOf(D.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:l,Slot:h,ItemSlot:T},C,r]}var Fk=E.createContext(void 0);function Lg(n){const e=E.useContext(Fk);return n||e||"ltr"}var $k=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fe=$k.reduce((n,e)=>{const t=ya(`Primitive.${e}`),r=E.forwardRef((i,a)=>{const{asChild:l,...c}=i,f=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(f,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function sC(n,e){n&&Ea.flushSync(()=>n.dispatchEvent(e))}function Un(n){const e=E.useRef(n);return E.useEffect(()=>{e.current=n}),E.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function zk(n,e=globalThis==null?void 0:globalThis.document){const t=Un(n);E.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var Uk="DismissableLayer",em="dismissableLayer.update",Bk="dismissableLayer.pointerDownOutside",Hk="dismissableLayer.focusOutside",Yw,iC=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uf=E.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...f}=n,h=E.useContext(iC),[m,w]=E.useState(null),g=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=E.useState({}),C=it(e,D=>w(D)),S=Array.from(h.layers),[I]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),A=S.indexOf(I),k=m?S.indexOf(m):-1,L=h.layersWithOutsidePointerEventsDisabled.size>0,z=k>=A,W=Kk(D=>{const N=D.target,O=[...h.branches].some(V=>V.contains(N));!z||O||(i==null||i(D),l==null||l(D),D.defaultPrevented||c==null||c())},g),X=qk(D=>{const N=D.target;[...h.branches].some(V=>V.contains(N))||(a==null||a(D),l==null||l(D),D.defaultPrevented||c==null||c())},g);return zk(D=>{k===h.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&c&&(D.preventDefault(),c()))},g),E.useEffect(()=>{if(m)return t&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Yw=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),Xw(),()=>{t&&h.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Yw)}},[m,g,t,h]),E.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),Xw())},[m,h]),E.useEffect(()=>{const D=()=>T({});return document.addEventListener(em,D),()=>document.removeEventListener(em,D)},[]),v.jsx(Fe.div,{...f,ref:C,style:{pointerEvents:L?z?"auto":"none":void 0,...n.style},onFocusCapture:Me(n.onFocusCapture,X.onFocusCapture),onBlurCapture:Me(n.onBlurCapture,X.onBlurCapture),onPointerDownCapture:Me(n.onPointerDownCapture,W.onPointerDownCapture)})});uf.displayName=Uk;var Wk="DismissableLayerBranch",oC=E.forwardRef((n,e)=>{const t=E.useContext(iC),r=E.useRef(null),i=it(e,r);return E.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),v.jsx(Fe.div,{...n,ref:i})});oC.displayName=Wk;function Kk(n,e=globalThis==null?void 0:globalThis.document){const t=Un(n),r=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let f=function(){aC(Bk,t,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function qk(n,e=globalThis==null?void 0:globalThis.document){const t=Un(n),r=E.useRef(!1);return E.useEffect(()=>{const i=a=>{a.target&&!r.current&&aC(Hk,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Xw(){const n=new CustomEvent(em);document.dispatchEvent(n)}function aC(n,e,t,{discrete:r}){const i=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?sC(i,a):i.dispatchEvent(a)}var Qk=uf,Gk=oC,up=0;function lC(){E.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Jw()),document.body.insertAdjacentElement("beforeend",n[1]??Jw()),up++,()=>{up===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),up--}},[])}function Jw(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var cp="focusScope.autoFocusOnMount",dp="focusScope.autoFocusOnUnmount",Zw={bubbles:!1,cancelable:!0},Yk="FocusScope",jg=E.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=n,[c,f]=E.useState(null),h=Un(i),m=Un(a),w=E.useRef(null),g=it(e,S=>f(S)),T=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let S=function(L){if(T.paused||!c)return;const z=L.target;c.contains(z)?w.current=z:zs(w.current,{select:!0})},I=function(L){if(T.paused||!c)return;const z=L.relatedTarget;z!==null&&(c.contains(z)||zs(w.current,{select:!0}))},A=function(L){if(document.activeElement===document.body)for(const W of L)W.removedNodes.length>0&&zs(c)};document.addEventListener("focusin",S),document.addEventListener("focusout",I);const k=new MutationObserver(A);return c&&k.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",I),k.disconnect()}}},[r,c,T.paused]),E.useEffect(()=>{if(c){t_.add(T);const S=document.activeElement;if(!c.contains(S)){const A=new CustomEvent(cp,Zw);c.addEventListener(cp,h),c.dispatchEvent(A),A.defaultPrevented||(Xk(nD(uC(c)),{select:!0}),document.activeElement===S&&zs(c))}return()=>{c.removeEventListener(cp,h),setTimeout(()=>{const A=new CustomEvent(dp,Zw);c.addEventListener(dp,m),c.dispatchEvent(A),A.defaultPrevented||zs(S??document.body,{select:!0}),c.removeEventListener(dp,m),t_.remove(T)},0)}}},[c,h,m,T]);const C=E.useCallback(S=>{if(!t&&!r||T.paused)return;const I=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,A=document.activeElement;if(I&&A){const k=S.currentTarget,[L,z]=Jk(k);L&&z?!S.shiftKey&&A===z?(S.preventDefault(),t&&zs(L,{select:!0})):S.shiftKey&&A===L&&(S.preventDefault(),t&&zs(z,{select:!0})):A===k&&S.preventDefault()}},[t,r,T.paused]);return v.jsx(Fe.div,{tabIndex:-1,...l,ref:g,onKeyDown:C})});jg.displayName=Yk;function Xk(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(zs(r,{select:e}),document.activeElement!==t)return}function Jk(n){const e=uC(n),t=e_(e,n),r=e_(e.reverse(),n);return[t,r]}function uC(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function e_(n,e){for(const t of n)if(!Zk(t,{upTo:e}))return t}function Zk(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function eD(n){return n instanceof HTMLInputElement&&"select"in n}function zs(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&eD(n)&&e&&n.select()}}var t_=tD();function tD(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=n_(n,e),n.unshift(e)},remove(e){var t;n=n_(n,e),(t=n[0])==null||t.resume()}}}function n_(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function nD(n){return n.filter(e=>e.tagName!=="A")}var Qt=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},rD=K_[" useId ".trim().toString()]||(()=>{}),sD=0;function Xs(n){const[e,t]=E.useState(rD());return Qt(()=>{t(r=>r??String(sD++))},[n]),e?`radix-${e}`:""}const iD=["top","right","bottom","left"],si=Math.min,In=Math.max,Nd=Math.round,Bc=Math.floor,jr=n=>({x:n,y:n}),oD={left:"right",right:"left",bottom:"top",top:"bottom"},aD={start:"end",end:"start"};function tm(n,e,t){return In(n,si(e,t))}function fs(n,e){return typeof n=="function"?n(e):n}function hs(n){return n.split("-")[0]}function Ra(n){return n.split("-")[1]}function Vg(n){return n==="x"?"y":"x"}function Fg(n){return n==="y"?"height":"width"}function kr(n){return["top","bottom"].includes(hs(n))?"y":"x"}function $g(n){return Vg(kr(n))}function lD(n,e,t){t===void 0&&(t=!1);const r=Ra(n),i=$g(n),a=Fg(i);let l=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Pd(l)),[l,Pd(l)]}function uD(n){const e=Pd(n);return[nm(n),e,nm(e)]}function nm(n){return n.replace(/start|end/g,e=>aD[e])}function cD(n,e,t){const r=["left","right"],i=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?a:l;default:return[]}}function dD(n,e,t,r){const i=Ra(n);let a=cD(hs(n),t==="start",r);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(nm)))),a}function Pd(n){return n.replace(/left|right|bottom|top/g,e=>oD[e])}function fD(n){return{top:0,right:0,bottom:0,left:0,...n}}function cC(n){return typeof n!="number"?fD(n):{top:n,right:n,bottom:n,left:n}}function kd(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function r_(n,e,t){let{reference:r,floating:i}=n;const a=kr(e),l=$g(e),c=Fg(l),f=hs(e),h=a==="y",m=r.x+r.width/2-i.width/2,w=r.y+r.height/2-i.height/2,g=r[c]/2-i[c]/2;let T;switch(f){case"top":T={x:m,y:r.y-i.height};break;case"bottom":T={x:m,y:r.y+r.height};break;case"right":T={x:r.x+r.width,y:w};break;case"left":T={x:r.x-i.width,y:w};break;default:T={x:r.x,y:r.y}}switch(Ra(e)){case"start":T[l]-=g*(t&&h?-1:1);break;case"end":T[l]+=g*(t&&h?-1:1);break}return T}const hD=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:l}=t,c=a.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:n,floating:e,strategy:i}),{x:m,y:w}=r_(h,r,f),g=r,T={},C=0;for(let S=0;S<c.length;S++){const{name:I,fn:A}=c[S],{x:k,y:L,data:z,reset:W}=await A({x:m,y:w,initialPlacement:r,placement:g,strategy:i,middlewareData:T,rects:h,platform:l,elements:{reference:n,floating:e}});m=k??m,w=L??w,T={...T,[I]:{...T[I],...z}},W&&C<=50&&(C++,typeof W=="object"&&(W.placement&&(g=W.placement),W.rects&&(h=W.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:i}):W.rects),{x:m,y:w}=r_(h,g,f)),S=-1)}return{x:m,y:w,placement:g,strategy:i,middlewareData:T}};async function au(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:l,elements:c,strategy:f}=n,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:w="floating",altBoundary:g=!1,padding:T=0}=fs(e,n),C=cC(T),I=c[g?w==="floating"?"reference":"floating":w],A=kd(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(I)))==null||t?I:I.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:f})),k=w==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,L=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),z=await(a.isElement==null?void 0:a.isElement(L))?await(a.getScale==null?void 0:a.getScale(L))||{x:1,y:1}:{x:1,y:1},W=kd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:k,offsetParent:L,strategy:f}):k);return{top:(A.top-W.top+C.top)/z.y,bottom:(W.bottom-A.bottom+C.bottom)/z.y,left:(A.left-W.left+C.left)/z.x,right:(W.right-A.right+C.right)/z.x}}const pD=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:a,platform:l,elements:c,middlewareData:f}=e,{element:h,padding:m=0}=fs(n,e)||{};if(h==null)return{};const w=cC(m),g={x:t,y:r},T=$g(i),C=Fg(T),S=await l.getDimensions(h),I=T==="y",A=I?"top":"left",k=I?"bottom":"right",L=I?"clientHeight":"clientWidth",z=a.reference[C]+a.reference[T]-g[T]-a.floating[C],W=g[T]-a.reference[T],X=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let D=X?X[L]:0;(!D||!await(l.isElement==null?void 0:l.isElement(X)))&&(D=c.floating[L]||a.floating[C]);const N=z/2-W/2,O=D/2-S[C]/2-1,V=si(w[A],O),F=si(w[k],O),P=V,j=D-S[C]-F,ee=D/2-S[C]/2+N,se=tm(P,ee,j),ce=!f.arrow&&Ra(i)!=null&&ee!==se&&a.reference[C]/2-(ee<P?V:F)-S[C]/2<0,de=ce?ee<P?ee-P:ee-j:0;return{[T]:g[T]+de,data:{[T]:se,centerOffset:ee-se-de,...ce&&{alignmentOffset:de}},reset:ce}}}),mD=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:a,rects:l,initialPlacement:c,platform:f,elements:h}=e,{mainAxis:m=!0,crossAxis:w=!0,fallbackPlacements:g,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:S=!0,...I}=fs(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const A=hs(i),k=kr(c),L=hs(c)===c,z=await(f.isRTL==null?void 0:f.isRTL(h.floating)),W=g||(L||!S?[Pd(c)]:uD(c)),X=C!=="none";!g&&X&&W.push(...dD(c,S,C,z));const D=[c,...W],N=await au(e,I),O=[];let V=((r=a.flip)==null?void 0:r.overflows)||[];if(m&&O.push(N[A]),w){const ee=lD(i,l,z);O.push(N[ee[0]],N[ee[1]])}if(V=[...V,{placement:i,overflows:O}],!O.every(ee=>ee<=0)){var F,P;const ee=(((F=a.flip)==null?void 0:F.index)||0)+1,se=D[ee];if(se&&(!(w==="alignment"?k!==kr(se):!1)||V.every(G=>G.overflows[0]>0&&kr(G.placement)===k)))return{data:{index:ee,overflows:V},reset:{placement:se}};let ce=(P=V.filter(de=>de.overflows[0]<=0).sort((de,G)=>de.overflows[1]-G.overflows[1])[0])==null?void 0:P.placement;if(!ce)switch(T){case"bestFit":{var j;const de=(j=V.filter(G=>{if(X){const te=kr(G.placement);return te===k||te==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(te=>te>0).reduce((te,le)=>te+le,0)]).sort((G,te)=>G[1]-te[1])[0])==null?void 0:j[0];de&&(ce=de);break}case"initialPlacement":ce=c;break}if(i!==ce)return{reset:{placement:ce}}}return{}}}};function s_(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function i_(n){return iD.some(e=>n[e]>=0)}const gD=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=fs(n,e);switch(r){case"referenceHidden":{const a=await au(e,{...i,elementContext:"reference"}),l=s_(a,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:i_(l)}}}case"escaped":{const a=await au(e,{...i,altBoundary:!0}),l=s_(a,t.floating);return{data:{escapedOffsets:l,escaped:i_(l)}}}default:return{}}}}};async function yD(n,e){const{placement:t,platform:r,elements:i}=n,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=hs(t),c=Ra(t),f=kr(t)==="y",h=["left","top"].includes(l)?-1:1,m=a&&f?-1:1,w=fs(e,n);let{mainAxis:g,crossAxis:T,alignmentAxis:C}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return c&&typeof C=="number"&&(T=c==="end"?C*-1:C),f?{x:T*m,y:g*h}:{x:g*h,y:T*m}}const vD=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:a,placement:l,middlewareData:c}=e,f=await yD(e,n);return l===((t=c.offset)==null?void 0:t.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:a+f.y,data:{...f,placement:l}}}}},wD=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:I=>{let{x:A,y:k}=I;return{x:A,y:k}}},...f}=fs(n,e),h={x:t,y:r},m=await au(e,f),w=kr(hs(i)),g=Vg(w);let T=h[g],C=h[w];if(a){const I=g==="y"?"top":"left",A=g==="y"?"bottom":"right",k=T+m[I],L=T-m[A];T=tm(k,T,L)}if(l){const I=w==="y"?"top":"left",A=w==="y"?"bottom":"right",k=C+m[I],L=C-m[A];C=tm(k,C,L)}const S=c.fn({...e,[g]:T,[w]:C});return{...S,data:{x:S.x-t,y:S.y-r,enabled:{[g]:a,[w]:l}}}}}},_D=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:a,middlewareData:l}=e,{offset:c=0,mainAxis:f=!0,crossAxis:h=!0}=fs(n,e),m={x:t,y:r},w=kr(i),g=Vg(w);let T=m[g],C=m[w];const S=fs(c,e),I=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(f){const L=g==="y"?"height":"width",z=a.reference[g]-a.floating[L]+I.mainAxis,W=a.reference[g]+a.reference[L]-I.mainAxis;T<z?T=z:T>W&&(T=W)}if(h){var A,k;const L=g==="y"?"width":"height",z=["top","left"].includes(hs(i)),W=a.reference[w]-a.floating[L]+(z&&((A=l.offset)==null?void 0:A[w])||0)+(z?0:I.crossAxis),X=a.reference[w]+a.reference[L]+(z?0:((k=l.offset)==null?void 0:k[w])||0)-(z?I.crossAxis:0);C<W?C=W:C>X&&(C=X)}return{[g]:T,[w]:C}}}},xD=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:a,platform:l,elements:c}=e,{apply:f=()=>{},...h}=fs(n,e),m=await au(e,h),w=hs(i),g=Ra(i),T=kr(i)==="y",{width:C,height:S}=a.floating;let I,A;w==="top"||w==="bottom"?(I=w,A=g===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(A=w,I=g==="end"?"top":"bottom");const k=S-m.top-m.bottom,L=C-m.left-m.right,z=si(S-m[I],k),W=si(C-m[A],L),X=!e.middlewareData.shift;let D=z,N=W;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(N=L),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=k),X&&!g){const V=In(m.left,0),F=In(m.right,0),P=In(m.top,0),j=In(m.bottom,0);T?N=C-2*(V!==0||F!==0?V+F:In(m.left,m.right)):D=S-2*(P!==0||j!==0?P+j:In(m.top,m.bottom))}await f({...e,availableWidth:N,availableHeight:D});const O=await l.getDimensions(c.floating);return C!==O.width||S!==O.height?{reset:{rects:!0}}:{}}}};function cf(){return typeof window<"u"}function Na(n){return dC(n)?(n.nodeName||"").toLowerCase():"#document"}function Rn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function zr(n){var e;return(e=(dC(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function dC(n){return cf()?n instanceof Node||n instanceof Rn(n).Node:!1}function dr(n){return cf()?n instanceof Element||n instanceof Rn(n).Element:!1}function $r(n){return cf()?n instanceof HTMLElement||n instanceof Rn(n).HTMLElement:!1}function o_(n){return!cf()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Rn(n).ShadowRoot}function wu(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=fr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function ED(n){return["table","td","th"].includes(Na(n))}function df(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function zg(n){const e=Ug(),t=dr(n)?fr(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function CD(n){let e=ii(n);for(;$r(e)&&!va(e);){if(zg(e))return e;if(df(e))return null;e=ii(e)}return null}function Ug(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function va(n){return["html","body","#document"].includes(Na(n))}function fr(n){return Rn(n).getComputedStyle(n)}function ff(n){return dr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ii(n){if(Na(n)==="html")return n;const e=n.assignedSlot||n.parentNode||o_(n)&&n.host||zr(n);return o_(e)?e.host:e}function fC(n){const e=ii(n);return va(e)?n.ownerDocument?n.ownerDocument.body:n.body:$r(e)&&wu(e)?e:fC(e)}function lu(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=fC(n),a=i===((r=n.ownerDocument)==null?void 0:r.body),l=Rn(i);if(a){const c=rm(l);return e.concat(l,l.visualViewport||[],wu(i)?i:[],c&&t?lu(c):[])}return e.concat(i,lu(i,[],t))}function rm(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function hC(n){const e=fr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=$r(n),a=i?n.offsetWidth:t,l=i?n.offsetHeight:r,c=Nd(t)!==a||Nd(r)!==l;return c&&(t=a,r=l),{width:t,height:r,$:c}}function Bg(n){return dr(n)?n:n.contextElement}function ia(n){const e=Bg(n);if(!$r(e))return jr(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:a}=hC(e);let l=(a?Nd(t.width):t.width)/r,c=(a?Nd(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const SD=jr(0);function pC(n){const e=Rn(n);return!Ug()||!e.visualViewport?SD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function TD(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Rn(n)?!1:e}function Qi(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=Bg(n);let l=jr(1);e&&(r?dr(r)&&(l=ia(r)):l=ia(n));const c=TD(a,t,r)?pC(a):jr(0);let f=(i.left+c.x)/l.x,h=(i.top+c.y)/l.y,m=i.width/l.x,w=i.height/l.y;if(a){const g=Rn(a),T=r&&dr(r)?Rn(r):r;let C=g,S=rm(C);for(;S&&r&&T!==C;){const I=ia(S),A=S.getBoundingClientRect(),k=fr(S),L=A.left+(S.clientLeft+parseFloat(k.paddingLeft))*I.x,z=A.top+(S.clientTop+parseFloat(k.paddingTop))*I.y;f*=I.x,h*=I.y,m*=I.x,w*=I.y,f+=L,h+=z,C=Rn(S),S=rm(C)}}return kd({width:m,height:w,x:f,y:h})}function Hg(n,e){const t=ff(n).scrollLeft;return e?e.left+t:Qi(zr(n)).left+t}function mC(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:Hg(n,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function ID(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const a=i==="fixed",l=zr(r),c=e?df(e.floating):!1;if(r===l||c&&a)return t;let f={scrollLeft:0,scrollTop:0},h=jr(1);const m=jr(0),w=$r(r);if((w||!w&&!a)&&((Na(r)!=="body"||wu(l))&&(f=ff(r)),$r(r))){const T=Qi(r);h=ia(r),m.x=T.x+r.clientLeft,m.y=T.y+r.clientTop}const g=l&&!w&&!a?mC(l,f,!0):jr(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-f.scrollLeft*h.x+m.x+g.x,y:t.y*h.y-f.scrollTop*h.y+m.y+g.y}}function bD(n){return Array.from(n.getClientRects())}function AD(n){const e=zr(n),t=ff(n),r=n.ownerDocument.body,i=In(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=In(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+Hg(n);const c=-t.scrollTop;return fr(r).direction==="rtl"&&(l+=In(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:l,y:c}}function RD(n,e){const t=Rn(n),r=zr(n),i=t.visualViewport;let a=r.clientWidth,l=r.clientHeight,c=0,f=0;if(i){a=i.width,l=i.height;const h=Ug();(!h||h&&e==="fixed")&&(c=i.offsetLeft,f=i.offsetTop)}return{width:a,height:l,x:c,y:f}}function ND(n,e){const t=Qi(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,a=$r(n)?ia(n):jr(1),l=n.clientWidth*a.x,c=n.clientHeight*a.y,f=i*a.x,h=r*a.y;return{width:l,height:c,x:f,y:h}}function a_(n,e,t){let r;if(e==="viewport")r=RD(n,t);else if(e==="document")r=AD(zr(n));else if(dr(e))r=ND(e,t);else{const i=pC(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return kd(r)}function gC(n,e){const t=ii(n);return t===e||!dr(t)||va(t)?!1:fr(t).position==="fixed"||gC(t,e)}function PD(n,e){const t=e.get(n);if(t)return t;let r=lu(n,[],!1).filter(c=>dr(c)&&Na(c)!=="body"),i=null;const a=fr(n).position==="fixed";let l=a?ii(n):n;for(;dr(l)&&!va(l);){const c=fr(l),f=zg(l);!f&&c.position==="fixed"&&(i=null),(a?!f&&!i:!f&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||wu(l)&&!f&&gC(n,l))?r=r.filter(m=>m!==l):i=c,l=ii(l)}return e.set(n,r),r}function kD(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const l=[...t==="clippingAncestors"?df(e)?[]:PD(e,this._c):[].concat(t),r],c=l[0],f=l.reduce((h,m)=>{const w=a_(e,m,i);return h.top=In(w.top,h.top),h.right=si(w.right,h.right),h.bottom=si(w.bottom,h.bottom),h.left=In(w.left,h.left),h},a_(e,c,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function DD(n){const{width:e,height:t}=hC(n);return{width:e,height:t}}function MD(n,e,t){const r=$r(e),i=zr(e),a=t==="fixed",l=Qi(n,!0,a,e);let c={scrollLeft:0,scrollTop:0};const f=jr(0);function h(){f.x=Hg(i)}if(r||!r&&!a)if((Na(e)!=="body"||wu(i))&&(c=ff(e)),r){const T=Qi(e,!0,a,e);f.x=T.x+e.clientLeft,f.y=T.y+e.clientTop}else i&&h();a&&!r&&i&&h();const m=i&&!r&&!a?mC(i,c):jr(0),w=l.left+c.scrollLeft-f.x-m.x,g=l.top+c.scrollTop-f.y-m.y;return{x:w,y:g,width:l.width,height:l.height}}function fp(n){return fr(n).position==="static"}function l_(n,e){if(!$r(n)||fr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return zr(n)===t&&(t=t.ownerDocument.body),t}function yC(n,e){const t=Rn(n);if(df(n))return t;if(!$r(n)){let i=ii(n);for(;i&&!va(i);){if(dr(i)&&!fp(i))return i;i=ii(i)}return t}let r=l_(n,e);for(;r&&ED(r)&&fp(r);)r=l_(r,e);return r&&va(r)&&fp(r)&&!zg(r)?t:r||CD(n)||t}const OD=async function(n){const e=this.getOffsetParent||yC,t=this.getDimensions,r=await t(n.floating);return{reference:MD(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function LD(n){return fr(n).direction==="rtl"}const jD={convertOffsetParentRelativeRectToViewportRelativeRect:ID,getDocumentElement:zr,getClippingRect:kD,getOffsetParent:yC,getElementRects:OD,getClientRects:bD,getDimensions:DD,getScale:ia,isElement:dr,isRTL:LD};function vC(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function VD(n,e){let t=null,r;const i=zr(n);function a(){var c;clearTimeout(r),(c=t)==null||c.disconnect(),t=null}function l(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),a();const h=n.getBoundingClientRect(),{left:m,top:w,width:g,height:T}=h;if(c||e(),!g||!T)return;const C=Bc(w),S=Bc(i.clientWidth-(m+g)),I=Bc(i.clientHeight-(w+T)),A=Bc(m),L={rootMargin:-C+"px "+-S+"px "+-I+"px "+-A+"px",threshold:In(0,si(1,f))||1};let z=!0;function W(X){const D=X[0].intersectionRatio;if(D!==f){if(!z)return l();D?l(!1,D):r=setTimeout(()=>{l(!1,1e-7)},1e3)}D===1&&!vC(h,n.getBoundingClientRect())&&l(),z=!1}try{t=new IntersectionObserver(W,{...L,root:i.ownerDocument})}catch{t=new IntersectionObserver(W,L)}t.observe(n)}return l(!0),a}function FD(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,h=Bg(n),m=i||a?[...h?lu(h):[],...lu(e)]:[];m.forEach(A=>{i&&A.addEventListener("scroll",t,{passive:!0}),a&&A.addEventListener("resize",t)});const w=h&&c?VD(h,t):null;let g=-1,T=null;l&&(T=new ResizeObserver(A=>{let[k]=A;k&&k.target===h&&T&&(T.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var L;(L=T)==null||L.observe(e)})),t()}),h&&!f&&T.observe(h),T.observe(e));let C,S=f?Qi(n):null;f&&I();function I(){const A=Qi(n);S&&!vC(S,A)&&t(),S=A,C=requestAnimationFrame(I)}return t(),()=>{var A;m.forEach(k=>{i&&k.removeEventListener("scroll",t),a&&k.removeEventListener("resize",t)}),w==null||w(),(A=T)==null||A.disconnect(),T=null,f&&cancelAnimationFrame(C)}}const $D=vD,zD=wD,UD=mD,BD=xD,HD=gD,u_=pD,WD=_D,KD=(n,e,t)=>{const r=new Map,i={platform:jD,...t},a={...i.platform,_c:r};return hD(n,e,{...i,platform:a})};var qD=typeof document<"u",QD=function(){},od=qD?E.useLayoutEffect:QD;function Dd(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Dd(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const a=i[r];if(!(a==="_owner"&&n.$$typeof)&&!Dd(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function wC(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function c_(n,e){const t=wC(n);return Math.round(e*t)/t}function hp(n){const e=E.useRef(n);return od(()=>{e.current=n}),e}function GD(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:f,open:h}=n,[m,w]=E.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[g,T]=E.useState(r);Dd(g,r)||T(r);const[C,S]=E.useState(null),[I,A]=E.useState(null),k=E.useCallback(G=>{G!==X.current&&(X.current=G,S(G))},[]),L=E.useCallback(G=>{G!==D.current&&(D.current=G,A(G))},[]),z=a||C,W=l||I,X=E.useRef(null),D=E.useRef(null),N=E.useRef(m),O=f!=null,V=hp(f),F=hp(i),P=hp(h),j=E.useCallback(()=>{if(!X.current||!D.current)return;const G={placement:e,strategy:t,middleware:g};F.current&&(G.platform=F.current),KD(X.current,D.current,G).then(te=>{const le={...te,isPositioned:P.current!==!1};ee.current&&!Dd(N.current,le)&&(N.current=le,Ea.flushSync(()=>{w(le)}))})},[g,e,t,F,P]);od(()=>{h===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,w(G=>({...G,isPositioned:!1})))},[h]);const ee=E.useRef(!1);od(()=>(ee.current=!0,()=>{ee.current=!1}),[]),od(()=>{if(z&&(X.current=z),W&&(D.current=W),z&&W){if(V.current)return V.current(z,W,j);j()}},[z,W,j,V,O]);const se=E.useMemo(()=>({reference:X,floating:D,setReference:k,setFloating:L}),[k,L]),ce=E.useMemo(()=>({reference:z,floating:W}),[z,W]),de=E.useMemo(()=>{const G={position:t,left:0,top:0};if(!ce.floating)return G;const te=c_(ce.floating,m.x),le=c_(ce.floating,m.y);return c?{...G,transform:"translate("+te+"px, "+le+"px)",...wC(ce.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:te,top:le}},[t,c,ce.floating,m.x,m.y]);return E.useMemo(()=>({...m,update:j,refs:se,elements:ce,floatingStyles:de}),[m,j,se,ce,de])}const YD=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?u_({element:r.current,padding:i}).fn(t):{}:r?u_({element:r,padding:i}).fn(t):{}}}},XD=(n,e)=>({...$D(n),options:[n,e]}),JD=(n,e)=>({...zD(n),options:[n,e]}),ZD=(n,e)=>({...WD(n),options:[n,e]}),eM=(n,e)=>({...UD(n),options:[n,e]}),tM=(n,e)=>({...BD(n),options:[n,e]}),nM=(n,e)=>({...HD(n),options:[n,e]}),rM=(n,e)=>({...YD(n),options:[n,e]});var sM="Arrow",_C=E.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...a}=n;return v.jsx(Fe.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});_C.displayName=sM;var iM=_C;function oM(n){const[e,t]=E.useState(void 0);return Qt(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,c;if("borderBoxSize"in a){const f=a.borderBoxSize,h=Array.isArray(f)?f[0]:f;l=h.inlineSize,c=h.blockSize}else l=n.offsetWidth,c=n.offsetHeight;t({width:l,height:c})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Wg="Popper",[xC,EC]=ci(Wg),[aM,CC]=xC(Wg),SC=n=>{const{__scopePopper:e,children:t}=n,[r,i]=E.useState(null);return v.jsx(aM,{scope:e,anchor:r,onAnchorChange:i,children:t})};SC.displayName=Wg;var TC="PopperAnchor",IC=E.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,a=CC(TC,t),l=E.useRef(null),c=it(e,l);return E.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:v.jsx(Fe.div,{...i,ref:c})});IC.displayName=TC;var Kg="PopperContent",[lM,uM]=xC(Kg),bC=E.forwardRef((n,e)=>{var he,Ee,Le,ke,ze,Ke;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:w="partial",hideWhenDetached:g=!1,updatePositionStrategy:T="optimized",onPlaced:C,...S}=n,I=CC(Kg,t),[A,k]=E.useState(null),L=it(e,vt=>k(vt)),[z,W]=E.useState(null),X=oM(z),D=(X==null?void 0:X.width)??0,N=(X==null?void 0:X.height)??0,O=r+(a!=="center"?"-"+a:""),V=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},F=Array.isArray(h)?h:[h],P=F.length>0,j={padding:V,boundary:F.filter(dM),altBoundary:P},{refs:ee,floatingStyles:se,placement:ce,isPositioned:de,middlewareData:G}=GD({strategy:"fixed",placement:O,whileElementsMounted:(...vt)=>FD(...vt,{animationFrame:T==="always"}),elements:{reference:I.anchor},middleware:[XD({mainAxis:i+N,alignmentAxis:l}),f&&JD({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?ZD():void 0,...j}),f&&eM({...j}),tM({...j,apply:({elements:vt,rects:Ot,availableWidth:Nn,availableHeight:Bn})=>{const{width:Hn,height:ro}=Ot.reference,Wn=vt.floating.style;Wn.setProperty("--radix-popper-available-width",`${Nn}px`),Wn.setProperty("--radix-popper-available-height",`${Bn}px`),Wn.setProperty("--radix-popper-anchor-width",`${Hn}px`),Wn.setProperty("--radix-popper-anchor-height",`${ro}px`)}}),z&&rM({element:z,padding:c}),fM({arrowWidth:D,arrowHeight:N}),g&&nM({strategy:"referenceHidden",...j})]}),[te,le]=NC(ce),U=Un(C);Qt(()=>{de&&(U==null||U())},[de,U]);const Z=(he=G.arrow)==null?void 0:he.x,pe=(Ee=G.arrow)==null?void 0:Ee.y,Ce=((Le=G.arrow)==null?void 0:Le.centerOffset)!==0,[Re,je]=E.useState();return Qt(()=>{A&&je(window.getComputedStyle(A).zIndex)},[A]),v.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:de?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(ke=G.transformOrigin)==null?void 0:ke.x,(ze=G.transformOrigin)==null?void 0:ze.y].join(" "),...((Ke=G.hide)==null?void 0:Ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:v.jsx(lM,{scope:t,placedSide:te,onArrowChange:W,arrowX:Z,arrowY:pe,shouldHideArrow:Ce,children:v.jsx(Fe.div,{"data-side":te,"data-align":le,...S,ref:L,style:{...S.style,animation:de?void 0:"none"}})})})});bC.displayName=Kg;var AC="PopperArrow",cM={top:"bottom",right:"left",bottom:"top",left:"right"},RC=E.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,a=uM(AC,r),l=cM[a.placedSide];return v.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:v.jsx(iM,{...i,ref:t,style:{...i.style,display:"block"}})})});RC.displayName=AC;function dM(n){return n!==null}var fM=n=>({name:"transformOrigin",options:n,fn(e){var I,A,k;const{placement:t,rects:r,middlewareData:i}=e,l=((I=i.arrow)==null?void 0:I.centerOffset)!==0,c=l?0:n.arrowWidth,f=l?0:n.arrowHeight,[h,m]=NC(t),w={start:"0%",center:"50%",end:"100%"}[m],g=(((A=i.arrow)==null?void 0:A.x)??0)+c/2,T=(((k=i.arrow)==null?void 0:k.y)??0)+f/2;let C="",S="";return h==="bottom"?(C=l?w:`${g}px`,S=`${-f}px`):h==="top"?(C=l?w:`${g}px`,S=`${r.floating.height+f}px`):h==="right"?(C=`${-f}px`,S=l?w:`${T}px`):h==="left"&&(C=`${r.floating.width+f}px`,S=l?w:`${T}px`),{data:{x:C,y:S}}}});function NC(n){const[e,t="center"]=n.split("-");return[e,t]}var hM=SC,pM=IC,mM=bC,gM=RC,yM="Portal",hf=E.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[i,a]=E.useState(!1);Qt(()=>a(!0),[]);const l=t||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?fA.createPortal(v.jsx(Fe.div,{...r,ref:e}),l):null});hf.displayName=yM;var vM=K_[" useInsertionEffect ".trim().toString()]||Qt;function wa({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,a,l]=wM({defaultProp:e,onChange:t}),c=n!==void 0,f=c?n:i;{const m=E.useRef(n!==void 0);E.useEffect(()=>{const w=m.current;w!==c&&console.warn(`${r} is changing from ${w?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,r])}const h=E.useCallback(m=>{var w;if(c){const g=_M(m)?m(n):m;g!==n&&((w=l.current)==null||w.call(l,g))}else a(m)},[c,n,a,l]);return[f,h]}function wM({defaultProp:n,onChange:e}){const[t,r]=E.useState(n),i=E.useRef(t),a=E.useRef(e);return vM(()=>{a.current=e},[e]),E.useEffect(()=>{var l;i.current!==t&&((l=a.current)==null||l.call(a,t),i.current=t)},[t,i]),[t,r,a]}function _M(n){return typeof n=="function"}function xM(n){const e=E.useRef({value:n,previous:n});return E.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var PC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),EM="VisuallyHidden",qg=E.forwardRef((n,e)=>v.jsx(Fe.span,{...n,ref:e,style:{...PC,...n.style}}));qg.displayName=EM;var CM=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Qo=new WeakMap,Hc=new WeakMap,Wc={},pp=0,kC=function(n){return n&&(n.host||kC(n.parentNode))},SM=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=kC(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},TM=function(n,e,t,r){var i=SM(e,Array.isArray(n)?n:[n]);Wc[t]||(Wc[t]=new WeakMap);var a=Wc[t],l=[],c=new Set,f=new Set(i),h=function(w){!w||c.has(w)||(c.add(w),h(w.parentNode))};i.forEach(h);var m=function(w){!w||f.has(w)||Array.prototype.forEach.call(w.children,function(g){if(c.has(g))m(g);else try{var T=g.getAttribute(r),C=T!==null&&T!=="false",S=(Qo.get(g)||0)+1,I=(a.get(g)||0)+1;Qo.set(g,S),a.set(g,I),l.push(g),S===1&&C&&Hc.set(g,!0),I===1&&g.setAttribute(t,"true"),C||g.setAttribute(r,"true")}catch(A){console.error("aria-hidden: cannot operate on ",g,A)}})};return m(e),c.clear(),pp++,function(){l.forEach(function(w){var g=Qo.get(w)-1,T=a.get(w)-1;Qo.set(w,g),a.set(w,T),g||(Hc.has(w)||w.removeAttribute(r),Hc.delete(w)),T||w.removeAttribute(t)}),pp--,pp||(Qo=new WeakMap,Qo=new WeakMap,Hc=new WeakMap,Wc={})}},DC=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=CM(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),TM(r,i,t,"aria-hidden")):function(){return null}},Nr=function(){return Nr=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Nr.apply(this,arguments)};function MC(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function IM(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}var ad="right-scroll-bar-position",ld="width-before-scroll-bar",bM="with-scroll-bars-hidden",AM="--removed-body-scroll-bar-size";function mp(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function RM(n,e){var t=E.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var NM=typeof window<"u"?E.useLayoutEffect:E.useEffect,d_=new WeakMap;function PM(n,e){var t=RM(null,function(r){return n.forEach(function(i){return mp(i,r)})});return NM(function(){var r=d_.get(t);if(r){var i=new Set(r),a=new Set(n),l=t.current;i.forEach(function(c){a.has(c)||mp(c,null)}),a.forEach(function(c){i.has(c)||mp(c,l)})}d_.set(t,n)},[n]),t}function kM(n){return n}function DM(n,e){e===void 0&&(e=kM);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var l=e(a,r);return t.push(l),function(){t=t.filter(function(c){return c!==l})}},assignSyncMedium:function(a){for(r=!0;t.length;){var l=t;t=[],l.forEach(a)}t={push:function(c){return a(c)},filter:function(){return t}}},assignMedium:function(a){r=!0;var l=[];if(t.length){var c=t;t=[],c.forEach(a),l=t}var f=function(){var m=l;l=[],m.forEach(a)},h=function(){return Promise.resolve().then(f)};h(),t={push:function(m){l.push(m),h()},filter:function(m){return l=l.filter(m),t}}}};return i}function MM(n){n===void 0&&(n={});var e=DM(null);return e.options=Nr({async:!0,ssr:!1},n),e}var OC=function(n){var e=n.sideCar,t=MC(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Nr({},t))};OC.isSideCarExport=!0;function OM(n,e){return n.useMedium(e),OC}var LC=MM(),gp=function(){},pf=E.forwardRef(function(n,e){var t=E.useRef(null),r=E.useState({onScrollCapture:gp,onWheelCapture:gp,onTouchMoveCapture:gp}),i=r[0],a=r[1],l=n.forwardProps,c=n.children,f=n.className,h=n.removeScrollBar,m=n.enabled,w=n.shards,g=n.sideCar,T=n.noRelative,C=n.noIsolation,S=n.inert,I=n.allowPinchZoom,A=n.as,k=A===void 0?"div":A,L=n.gapMode,z=MC(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),W=g,X=PM([t,e]),D=Nr(Nr({},z),i);return E.createElement(E.Fragment,null,m&&E.createElement(W,{sideCar:LC,removeScrollBar:h,shards:w,noRelative:T,noIsolation:C,inert:S,setCallbacks:a,allowPinchZoom:!!I,lockRef:t,gapMode:L}),l?E.cloneElement(E.Children.only(c),Nr(Nr({},D),{ref:X})):E.createElement(k,Nr({},D,{className:f,ref:X}),c))});pf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pf.classNames={fullWidth:ld,zeroRight:ad};var LM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jM(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=LM();return e&&n.setAttribute("nonce",e),n}function VM(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function FM(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var $M=function(){var n=0,e=null;return{add:function(t){n==0&&(e=jM())&&(VM(e,t),FM(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},zM=function(){var n=$M();return function(e,t){E.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},jC=function(){var n=zM(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},UM={left:0,top:0,right:0,gap:0},yp=function(n){return parseInt(n||"",10)||0},BM=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[yp(t),yp(r),yp(i)]},HM=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return UM;var e=BM(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},WM=jC(),oa="data-scroll-locked",KM=function(n,e,t,r){var i=n.left,a=n.top,l=n.right,c=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(bM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(oa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ad,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(ld,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(ad," .").concat(ad,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ld," .").concat(ld,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(oa,`] {
    `).concat(AM,": ").concat(c,`px;
  }
`)},f_=function(){var n=parseInt(document.body.getAttribute(oa)||"0",10);return isFinite(n)?n:0},qM=function(){E.useEffect(function(){return document.body.setAttribute(oa,(f_()+1).toString()),function(){var n=f_()-1;n<=0?document.body.removeAttribute(oa):document.body.setAttribute(oa,n.toString())}},[])},QM=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;qM();var a=E.useMemo(function(){return HM(i)},[i]);return E.createElement(WM,{styles:KM(a,!e,i,t?"":"!important")})},sm=!1;if(typeof window<"u")try{var Kc=Object.defineProperty({},"passive",{get:function(){return sm=!0,!0}});window.addEventListener("test",Kc,Kc),window.removeEventListener("test",Kc,Kc)}catch{sm=!1}var Go=sm?{passive:!1}:!1,GM=function(n){return n.tagName==="TEXTAREA"},VC=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!GM(n)&&t[e]==="visible")},YM=function(n){return VC(n,"overflowY")},XM=function(n){return VC(n,"overflowX")},h_=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=FC(n,r);if(i){var a=$C(n,r),l=a[1],c=a[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},JM=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},ZM=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},FC=function(n,e){return n==="v"?YM(e):XM(e)},$C=function(n,e){return n==="v"?JM(e):ZM(e)},eO=function(n,e){return n==="h"&&e==="rtl"?-1:1},tO=function(n,e,t,r,i){var a=eO(n,window.getComputedStyle(e).direction),l=a*r,c=t.target,f=e.contains(c),h=!1,m=l>0,w=0,g=0;do{if(!c)break;var T=$C(n,c),C=T[0],S=T[1],I=T[2],A=S-I-a*C;(C||A)&&FC(n,c)&&(w+=A,g+=C);var k=c.parentNode;c=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!f&&c!==document.body||f&&(e.contains(c)||e===c));return(m&&Math.abs(w)<1||!m&&Math.abs(g)<1)&&(h=!0),h},qc=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},p_=function(n){return[n.deltaX,n.deltaY]},m_=function(n){return n&&"current"in n?n.current:n},nO=function(n,e){return n[0]===e[0]&&n[1]===e[1]},rO=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},sO=0,Yo=[];function iO(n){var e=E.useRef([]),t=E.useRef([0,0]),r=E.useRef(),i=E.useState(sO++)[0],a=E.useState(jC)[0],l=E.useRef(n);E.useEffect(function(){l.current=n},[n]),E.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var S=IM([n.lockRef.current],(n.shards||[]).map(m_),!0).filter(Boolean);return S.forEach(function(I){return I.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),S.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var c=E.useCallback(function(S,I){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!l.current.allowPinchZoom;var A=qc(S),k=t.current,L="deltaX"in S?S.deltaX:k[0]-A[0],z="deltaY"in S?S.deltaY:k[1]-A[1],W,X=S.target,D=Math.abs(L)>Math.abs(z)?"h":"v";if("touches"in S&&D==="h"&&X.type==="range")return!1;var N=h_(D,X);if(!N)return!0;if(N?W=D:(W=D==="v"?"h":"v",N=h_(D,X)),!N)return!1;if(!r.current&&"changedTouches"in S&&(L||z)&&(r.current=W),!W)return!0;var O=r.current||W;return tO(O,I,S,O==="h"?L:z)},[]),f=E.useCallback(function(S){var I=S;if(!(!Yo.length||Yo[Yo.length-1]!==a)){var A="deltaY"in I?p_(I):qc(I),k=e.current.filter(function(W){return W.name===I.type&&(W.target===I.target||I.target===W.shadowParent)&&nO(W.delta,A)})[0];if(k&&k.should){I.cancelable&&I.preventDefault();return}if(!k){var L=(l.current.shards||[]).map(m_).filter(Boolean).filter(function(W){return W.contains(I.target)}),z=L.length>0?c(I,L[0]):!l.current.noIsolation;z&&I.cancelable&&I.preventDefault()}}},[]),h=E.useCallback(function(S,I,A,k){var L={name:S,delta:I,target:A,should:k,shadowParent:oO(A)};e.current.push(L),setTimeout(function(){e.current=e.current.filter(function(z){return z!==L})},1)},[]),m=E.useCallback(function(S){t.current=qc(S),r.current=void 0},[]),w=E.useCallback(function(S){h(S.type,p_(S),S.target,c(S,n.lockRef.current))},[]),g=E.useCallback(function(S){h(S.type,qc(S),S.target,c(S,n.lockRef.current))},[]);E.useEffect(function(){return Yo.push(a),n.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:g}),document.addEventListener("wheel",f,Go),document.addEventListener("touchmove",f,Go),document.addEventListener("touchstart",m,Go),function(){Yo=Yo.filter(function(S){return S!==a}),document.removeEventListener("wheel",f,Go),document.removeEventListener("touchmove",f,Go),document.removeEventListener("touchstart",m,Go)}},[]);var T=n.removeScrollBar,C=n.inert;return E.createElement(E.Fragment,null,C?E.createElement(a,{styles:rO(i)}):null,T?E.createElement(QM,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function oO(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const aO=OM(LC,iO);var Qg=E.forwardRef(function(n,e){return E.createElement(pf,Nr({},n,{ref:e,sideCar:aO}))});Qg.classNames=pf.classNames;var lO=[" ","Enter","ArrowUp","ArrowDown"],uO=[" ","Enter"],Gi="Select",[mf,gf,cO]=Og(Gi),[Pa,a9]=ci(Gi,[cO,EC]),yf=EC(),[dO,di]=Pa(Gi),[fO,hO]=Pa(Gi),zC=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:a,value:l,defaultValue:c,onValueChange:f,dir:h,name:m,autoComplete:w,disabled:g,required:T,form:C}=n,S=yf(e),[I,A]=E.useState(null),[k,L]=E.useState(null),[z,W]=E.useState(!1),X=Lg(h),[D,N]=wa({prop:r,defaultProp:i??!1,onChange:a,caller:Gi}),[O,V]=wa({prop:l,defaultProp:c,onChange:f,caller:Gi}),F=E.useRef(null),P=I?C||!!I.closest("form"):!0,[j,ee]=E.useState(new Set),se=Array.from(j).map(ce=>ce.props.value).join(";");return v.jsx(hM,{...S,children:v.jsxs(dO,{required:T,scope:e,trigger:I,onTriggerChange:A,valueNode:k,onValueNodeChange:L,valueNodeHasChildren:z,onValueNodeHasChildrenChange:W,contentId:Xs(),value:O,onValueChange:V,open:D,onOpenChange:N,dir:X,triggerPointerDownPosRef:F,disabled:g,children:[v.jsx(mf.Provider,{scope:e,children:v.jsx(fO,{scope:n.__scopeSelect,onNativeOptionAdd:E.useCallback(ce=>{ee(de=>new Set(de).add(ce))},[]),onNativeOptionRemove:E.useCallback(ce=>{ee(de=>{const G=new Set(de);return G.delete(ce),G})},[]),children:t})}),P?v.jsxs(d1,{"aria-hidden":!0,required:T,tabIndex:-1,name:m,autoComplete:w,value:O,onChange:ce=>V(ce.target.value),disabled:g,form:C,children:[O===void 0?v.jsx("option",{value:""}):null,Array.from(j)]},se):null]})})};zC.displayName=Gi;var UC="SelectTrigger",BC=E.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,a=yf(t),l=di(UC,t),c=l.disabled||r,f=it(e,l.onTriggerChange),h=gf(t),m=E.useRef("touch"),[w,g,T]=h1(S=>{const I=h().filter(L=>!L.disabled),A=I.find(L=>L.value===l.value),k=p1(I,S,A);k!==void 0&&l.onValueChange(k.value)}),C=S=>{c||(l.onOpenChange(!0),T()),S&&(l.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return v.jsx(pM,{asChild:!0,...a,children:v.jsx(Fe.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":f1(l.value)?"":void 0,...i,ref:f,onClick:Me(i.onClick,S=>{S.currentTarget.focus(),m.current!=="mouse"&&C(S)}),onPointerDown:Me(i.onPointerDown,S=>{m.current=S.pointerType;const I=S.target;I.hasPointerCapture(S.pointerId)&&I.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(C(S),S.preventDefault())}),onKeyDown:Me(i.onKeyDown,S=>{const I=w.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&g(S.key),!(I&&S.key===" ")&&lO.includes(S.key)&&(C(),S.preventDefault())})})})});BC.displayName=UC;var HC="SelectValue",WC=E.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:a,placeholder:l="",...c}=n,f=di(HC,t),{onValueNodeHasChildrenChange:h}=f,m=a!==void 0,w=it(e,f.onValueNodeChange);return Qt(()=>{h(m)},[h,m]),v.jsx(Fe.span,{...c,ref:w,style:{pointerEvents:"none"},children:f1(f.value)?v.jsx(v.Fragment,{children:l}):a})});WC.displayName=HC;var pO="SelectIcon",KC=E.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return v.jsx(Fe.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});KC.displayName=pO;var mO="SelectPortal",qC=n=>v.jsx(hf,{asChild:!0,...n});qC.displayName=mO;var Yi="SelectContent",QC=E.forwardRef((n,e)=>{const t=di(Yi,n.__scopeSelect),[r,i]=E.useState();if(Qt(()=>{i(new DocumentFragment)},[]),!t.open){const a=r;return a?Ea.createPortal(v.jsx(GC,{scope:n.__scopeSelect,children:v.jsx(mf.Slot,{scope:n.__scopeSelect,children:v.jsx("div",{children:n.children})})}),a):null}return v.jsx(YC,{...n,ref:e})});QC.displayName=Yi;var lr=10,[GC,fi]=Pa(Yi),gO="SelectContentImpl",yO=ya("SelectContent.RemoveScroll"),YC=E.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:l,side:c,sideOffset:f,align:h,alignOffset:m,arrowPadding:w,collisionBoundary:g,collisionPadding:T,sticky:C,hideWhenDetached:S,avoidCollisions:I,...A}=n,k=di(Yi,t),[L,z]=E.useState(null),[W,X]=E.useState(null),D=it(e,he=>z(he)),[N,O]=E.useState(null),[V,F]=E.useState(null),P=gf(t),[j,ee]=E.useState(!1),se=E.useRef(!1);E.useEffect(()=>{if(L)return DC(L)},[L]),lC();const ce=E.useCallback(he=>{const[Ee,...Le]=P().map(Ke=>Ke.ref.current),[ke]=Le.slice(-1),ze=document.activeElement;for(const Ke of he)if(Ke===ze||(Ke==null||Ke.scrollIntoView({block:"nearest"}),Ke===Ee&&W&&(W.scrollTop=0),Ke===ke&&W&&(W.scrollTop=W.scrollHeight),Ke==null||Ke.focus(),document.activeElement!==ze))return},[P,W]),de=E.useCallback(()=>ce([N,L]),[ce,N,L]);E.useEffect(()=>{j&&de()},[j,de]);const{onOpenChange:G,triggerPointerDownPosRef:te}=k;E.useEffect(()=>{if(L){let he={x:0,y:0};const Ee=ke=>{var ze,Ke;he={x:Math.abs(Math.round(ke.pageX)-(((ze=te.current)==null?void 0:ze.x)??0)),y:Math.abs(Math.round(ke.pageY)-(((Ke=te.current)==null?void 0:Ke.y)??0))}},Le=ke=>{he.x<=10&&he.y<=10?ke.preventDefault():L.contains(ke.target)||G(!1),document.removeEventListener("pointermove",Ee),te.current=null};return te.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",Le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",Le,{capture:!0})}}},[L,G,te]),E.useEffect(()=>{const he=()=>G(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[G]);const[le,U]=h1(he=>{const Ee=P().filter(ze=>!ze.disabled),Le=Ee.find(ze=>ze.ref.current===document.activeElement),ke=p1(Ee,he,Le);ke&&setTimeout(()=>ke.ref.current.focus())}),Z=E.useCallback((he,Ee,Le)=>{const ke=!se.current&&!Le;(k.value!==void 0&&k.value===Ee||ke)&&(O(he),ke&&(se.current=!0))},[k.value]),pe=E.useCallback(()=>L==null?void 0:L.focus(),[L]),Ce=E.useCallback((he,Ee,Le)=>{const ke=!se.current&&!Le;(k.value!==void 0&&k.value===Ee||ke)&&F(he)},[k.value]),Re=r==="popper"?im:XC,je=Re===im?{side:c,sideOffset:f,align:h,alignOffset:m,arrowPadding:w,collisionBoundary:g,collisionPadding:T,sticky:C,hideWhenDetached:S,avoidCollisions:I}:{};return v.jsx(GC,{scope:t,content:L,viewport:W,onViewportChange:X,itemRefCallback:Z,selectedItem:N,onItemLeave:pe,itemTextRefCallback:Ce,focusSelectedItem:de,selectedItemText:V,position:r,isPositioned:j,searchRef:le,children:v.jsx(Qg,{as:yO,allowPinchZoom:!0,children:v.jsx(jg,{asChild:!0,trapped:k.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:Me(i,he=>{var Ee;(Ee=k.trigger)==null||Ee.focus({preventScroll:!0}),he.preventDefault()}),children:v.jsx(uf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:v.jsx(Re,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:he=>he.preventDefault(),...A,...je,onPlaced:()=>ee(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...A.style},onKeyDown:Me(A.onKeyDown,he=>{const Ee=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!Ee&&he.key.length===1&&U(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let ke=P().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);if(["ArrowUp","End"].includes(he.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const ze=he.target,Ke=ke.indexOf(ze);ke=ke.slice(Ke+1)}setTimeout(()=>ce(ke)),he.preventDefault()}})})})})})})});YC.displayName=gO;var vO="SelectItemAlignedPosition",XC=E.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,a=di(Yi,t),l=fi(Yi,t),[c,f]=E.useState(null),[h,m]=E.useState(null),w=it(e,D=>m(D)),g=gf(t),T=E.useRef(!1),C=E.useRef(!0),{viewport:S,selectedItem:I,selectedItemText:A,focusSelectedItem:k}=l,L=E.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&h&&S&&I&&A){const D=a.trigger.getBoundingClientRect(),N=h.getBoundingClientRect(),O=a.valueNode.getBoundingClientRect(),V=A.getBoundingClientRect();if(a.dir!=="rtl"){const ze=V.left-N.left,Ke=O.left-ze,vt=D.left-Ke,Ot=D.width+vt,Nn=Math.max(Ot,N.width),Bn=window.innerWidth-lr,Hn=Qw(Ke,[lr,Math.max(lr,Bn-Nn)]);c.style.minWidth=Ot+"px",c.style.left=Hn+"px"}else{const ze=N.right-V.right,Ke=window.innerWidth-O.right-ze,vt=window.innerWidth-D.right-Ke,Ot=D.width+vt,Nn=Math.max(Ot,N.width),Bn=window.innerWidth-lr,Hn=Qw(Ke,[lr,Math.max(lr,Bn-Nn)]);c.style.minWidth=Ot+"px",c.style.right=Hn+"px"}const F=g(),P=window.innerHeight-lr*2,j=S.scrollHeight,ee=window.getComputedStyle(h),se=parseInt(ee.borderTopWidth,10),ce=parseInt(ee.paddingTop,10),de=parseInt(ee.borderBottomWidth,10),G=parseInt(ee.paddingBottom,10),te=se+ce+j+G+de,le=Math.min(I.offsetHeight*5,te),U=window.getComputedStyle(S),Z=parseInt(U.paddingTop,10),pe=parseInt(U.paddingBottom,10),Ce=D.top+D.height/2-lr,Re=P-Ce,je=I.offsetHeight/2,he=I.offsetTop+je,Ee=se+ce+he,Le=te-Ee;if(Ee<=Ce){const ze=F.length>0&&I===F[F.length-1].ref.current;c.style.bottom="0px";const Ke=h.clientHeight-S.offsetTop-S.offsetHeight,vt=Math.max(Re,je+(ze?pe:0)+Ke+de),Ot=Ee+vt;c.style.height=Ot+"px"}else{const ze=F.length>0&&I===F[0].ref.current;c.style.top="0px";const vt=Math.max(Ce,se+S.offsetTop+(ze?Z:0)+je)+Le;c.style.height=vt+"px",S.scrollTop=Ee-Ce+S.offsetTop}c.style.margin=`${lr}px 0`,c.style.minHeight=le+"px",c.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>T.current=!0)}},[g,a.trigger,a.valueNode,c,h,S,I,A,a.dir,r]);Qt(()=>L(),[L]);const[z,W]=E.useState();Qt(()=>{h&&W(window.getComputedStyle(h).zIndex)},[h]);const X=E.useCallback(D=>{D&&C.current===!0&&(L(),k==null||k(),C.current=!1)},[L,k]);return v.jsx(_O,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:T,onScrollButtonChange:X,children:v.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:z},children:v.jsx(Fe.div,{...i,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});XC.displayName=vO;var wO="SelectPopperPosition",im=E.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=lr,...a}=n,l=yf(t);return v.jsx(mM,{...l,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});im.displayName=wO;var[_O,Gg]=Pa(Yi,{}),om="SelectViewport",JC=E.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,a=fi(om,t),l=Gg(om,t),c=it(e,a.onViewportChange),f=E.useRef(0);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),v.jsx(mf.Slot,{scope:t,children:v.jsx(Fe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Me(i.onScroll,h=>{const m=h.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:g}=l;if(g!=null&&g.current&&w){const T=Math.abs(f.current-m.scrollTop);if(T>0){const C=window.innerHeight-lr*2,S=parseFloat(w.style.minHeight),I=parseFloat(w.style.height),A=Math.max(S,I);if(A<C){const k=A+T,L=Math.min(C,k),z=k-L;w.style.height=L+"px",w.style.bottom==="0px"&&(m.scrollTop=z>0?z:0,w.style.justifyContent="flex-end")}}}f.current=m.scrollTop})})})]})});JC.displayName=om;var ZC="SelectGroup",[xO,EO]=Pa(ZC),CO=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Xs();return v.jsx(xO,{scope:t,id:i,children:v.jsx(Fe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});CO.displayName=ZC;var e1="SelectLabel",t1=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=EO(e1,t);return v.jsx(Fe.div,{id:i.id,...r,ref:e})});t1.displayName=e1;var Md="SelectItem",[SO,n1]=Pa(Md),r1=E.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:a,...l}=n,c=di(Md,t),f=fi(Md,t),h=c.value===r,[m,w]=E.useState(a??""),[g,T]=E.useState(!1),C=it(e,k=>{var L;return(L=f.itemRefCallback)==null?void 0:L.call(f,k,r,i)}),S=Xs(),I=E.useRef("touch"),A=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return v.jsx(SO,{scope:t,value:r,disabled:i,textId:S,isSelected:h,onItemTextChange:E.useCallback(k=>{w(L=>L||((k==null?void 0:k.textContent)??"").trim())},[]),children:v.jsx(mf.ItemSlot,{scope:t,value:r,disabled:i,textValue:m,children:v.jsx(Fe.div,{role:"option","aria-labelledby":S,"data-highlighted":g?"":void 0,"aria-selected":h&&g,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:C,onFocus:Me(l.onFocus,()=>T(!0)),onBlur:Me(l.onBlur,()=>T(!1)),onClick:Me(l.onClick,()=>{I.current!=="mouse"&&A()}),onPointerUp:Me(l.onPointerUp,()=>{I.current==="mouse"&&A()}),onPointerDown:Me(l.onPointerDown,k=>{I.current=k.pointerType}),onPointerMove:Me(l.onPointerMove,k=>{var L;I.current=k.pointerType,i?(L=f.onItemLeave)==null||L.call(f):I.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Me(l.onPointerLeave,k=>{var L;k.currentTarget===document.activeElement&&((L=f.onItemLeave)==null||L.call(f))}),onKeyDown:Me(l.onKeyDown,k=>{var z;((z=f.searchRef)==null?void 0:z.current)!==""&&k.key===" "||(uO.includes(k.key)&&A(),k.key===" "&&k.preventDefault())})})})})});r1.displayName=Md;var Ll="SelectItemText",s1=E.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...a}=n,l=di(Ll,t),c=fi(Ll,t),f=n1(Ll,t),h=hO(Ll,t),[m,w]=E.useState(null),g=it(e,A=>w(A),f.onItemTextChange,A=>{var k;return(k=c.itemTextRefCallback)==null?void 0:k.call(c,A,f.value,f.disabled)}),T=m==null?void 0:m.textContent,C=E.useMemo(()=>v.jsx("option",{value:f.value,disabled:f.disabled,children:T},f.value),[f.disabled,f.value,T]),{onNativeOptionAdd:S,onNativeOptionRemove:I}=h;return Qt(()=>(S(C),()=>I(C)),[S,I,C]),v.jsxs(v.Fragment,{children:[v.jsx(Fe.span,{id:f.textId,...a,ref:g}),f.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Ea.createPortal(a.children,l.valueNode):null]})});s1.displayName=Ll;var i1="SelectItemIndicator",o1=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return n1(i1,t).isSelected?v.jsx(Fe.span,{"aria-hidden":!0,...r,ref:e}):null});o1.displayName=i1;var am="SelectScrollUpButton",a1=E.forwardRef((n,e)=>{const t=fi(am,n.__scopeSelect),r=Gg(am,n.__scopeSelect),[i,a]=E.useState(!1),l=it(e,r.onScrollButtonChange);return Qt(()=>{if(t.viewport&&t.isPositioned){let c=function(){const h=f.scrollTop>0;a(h)};const f=t.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?v.jsx(u1,{...n,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=t;c&&f&&(c.scrollTop=c.scrollTop-f.offsetHeight)}}):null});a1.displayName=am;var lm="SelectScrollDownButton",l1=E.forwardRef((n,e)=>{const t=fi(lm,n.__scopeSelect),r=Gg(lm,n.__scopeSelect),[i,a]=E.useState(!1),l=it(e,r.onScrollButtonChange);return Qt(()=>{if(t.viewport&&t.isPositioned){let c=function(){const h=f.scrollHeight-f.clientHeight,m=Math.ceil(f.scrollTop)<h;a(m)};const f=t.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),i?v.jsx(u1,{...n,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=t;c&&f&&(c.scrollTop=c.scrollTop+f.offsetHeight)}}):null});l1.displayName=lm;var u1=E.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,a=fi("SelectScrollButton",t),l=E.useRef(null),c=gf(t),f=E.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return E.useEffect(()=>()=>f(),[f]),Qt(()=>{var m;const h=c().find(w=>w.ref.current===document.activeElement);(m=h==null?void 0:h.ref.current)==null||m.scrollIntoView({block:"nearest"})},[c]),v.jsx(Fe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Me(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Me(i.onPointerMove,()=>{var h;(h=a.onItemLeave)==null||h.call(a),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Me(i.onPointerLeave,()=>{f()})})}),TO="SelectSeparator",c1=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return v.jsx(Fe.div,{"aria-hidden":!0,...r,ref:e})});c1.displayName=TO;var um="SelectArrow",IO=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=yf(t),a=di(um,t),l=fi(um,t);return a.open&&l.position==="popper"?v.jsx(gM,{...i,...r,ref:e}):null});IO.displayName=um;var bO="SelectBubbleInput",d1=E.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const i=E.useRef(null),a=it(r,i),l=xM(e);return E.useEffect(()=>{const c=i.current;if(!c)return;const f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(l!==e&&m){const w=new Event("change",{bubbles:!0});m.call(c,e),c.dispatchEvent(w)}},[l,e]),v.jsx(Fe.select,{...t,style:{...PC,...t.style},ref:a,defaultValue:e})});d1.displayName=bO;function f1(n){return n===""||n===void 0}function h1(n){const e=Un(n),t=E.useRef(""),r=E.useRef(0),i=E.useCallback(l=>{const c=t.current+l;e(c),function f(h){t.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>f(""),1e3))}(c)},[e]),a=E.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,a]}function p1(n,e,t){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let l=AO(n,Math.max(a,0));i.length===1&&(l=l.filter(h=>h!==t));const f=l.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return f!==t?f:void 0}function AO(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var RO=zC,m1=BC,NO=WC,PO=KC,kO=qC,g1=QC,DO=JC,y1=t1,v1=r1,MO=s1,OO=o1,w1=a1,_1=l1,x1=c1;/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=(n,e)=>{const t=E.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:c="",children:f,...h},m)=>E.createElement("svg",{ref:m,...LO,width:i,height:i,stroke:r,strokeWidth:l?Number(a)*24/Number(i):a,className:["lucide",`lucide-${jO(n)}`,c].join(" "),...h},[...e.map(([w,g])=>E.createElement(w,g)),...Array.isArray(f)?f:[f]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=no("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=no("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=no("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=no("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=no("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=no("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=no("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function S1(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=S1(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function T1(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=S1(n))&&(r&&(r+=" "),r+=e);return r}const Yg="-",$O=n=>{const e=UO(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const c=l.split(Yg);return c[0]===""&&c.length!==1&&c.shift(),I1(c,e)||zO(l)},getConflictingClassGroupIds:(l,c)=>{const f=t[l]||[];return c&&r[l]?[...f,...r[l]]:f}}},I1=(n,e)=>{var l;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?I1(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=n.join(Yg);return(l=e.validators.find(({validator:c})=>c(a)))==null?void 0:l.classGroupId},w_=/^\[(.+)\]$/,zO=n=>{if(w_.test(n)){const e=w_.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},UO=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return HO(Object.entries(n.classGroups),t).forEach(([a,l])=>{cm(l,r,a,e)}),r},cm=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const a=i===""?e:__(e,i);a.classGroupId=t;return}if(typeof i=="function"){if(BO(i)){cm(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([a,l])=>{cm(l,__(e,a),t,r)})})},__=(n,e)=>{let t=n;return e.split(Yg).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},BO=n=>n.isThemeGetter,HO=(n,e)=>e?n.map(([t,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,c])=>[e+l,c])):a);return[t,i]}):n,WO=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(a,l)=>{t.set(a,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let l=t.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return i(a,l),l},set(a,l){t.has(a)?t.set(a,l):i(a,l)}}},b1="!",KO=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],a=e.length,l=c=>{const f=[];let h=0,m=0,w;for(let I=0;I<c.length;I++){let A=c[I];if(h===0){if(A===i&&(r||c.slice(I,I+a)===e)){f.push(c.slice(m,I)),m=I+a;continue}if(A==="/"){w=I;continue}}A==="["?h++:A==="]"&&h--}const g=f.length===0?c:c.substring(m),T=g.startsWith(b1),C=T?g.substring(1):g,S=w&&w>m?w-m:void 0;return{modifiers:f,hasImportantModifier:T,baseClassName:C,maybePostfixModifierPosition:S}};return t?c=>t({className:c,parseClassName:l}):l},qO=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},QO=n=>({cache:WO(n.cacheSize),parseClassName:KO(n),...$O(n)}),GO=/\s+/,YO=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],l=n.trim().split(GO);let c="";for(let f=l.length-1;f>=0;f-=1){const h=l[f],{modifiers:m,hasImportantModifier:w,baseClassName:g,maybePostfixModifierPosition:T}=t(h);let C=!!T,S=r(C?g.substring(0,T):g);if(!S){if(!C){c=h+(c.length>0?" "+c:c);continue}if(S=r(g),!S){c=h+(c.length>0?" "+c:c);continue}C=!1}const I=qO(m).join(":"),A=w?I+b1:I,k=A+S;if(a.includes(k))continue;a.push(k);const L=i(S,C);for(let z=0;z<L.length;++z){const W=L[z];a.push(A+W)}c=h+(c.length>0?" "+c:c)}return c};function XO(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=A1(e))&&(r&&(r+=" "),r+=t);return r}const A1=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=A1(n[r]))&&(t&&(t+=" "),t+=e);return t};function JO(n,...e){let t,r,i,a=l;function l(f){const h=e.reduce((m,w)=>w(m),n());return t=QO(h),r=t.cache.get,i=t.cache.set,a=c,c(f)}function c(f){const h=r(f);if(h)return h;const m=YO(f,t);return i(f,m),m}return function(){return a(XO.apply(null,arguments))}}const lt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},R1=/^\[(?:([a-z-]+):)?(.+)\]$/i,ZO=/^\d+\/\d+$/,e4=new Set(["px","full","screen"]),t4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,n4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,r4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,s4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,i4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,is=n=>aa(n)||e4.has(n)||ZO.test(n),Fs=n=>ka(n,"length",h4),aa=n=>!!n&&!Number.isNaN(Number(n)),vp=n=>ka(n,"number",aa),Rl=n=>!!n&&Number.isInteger(Number(n)),o4=n=>n.endsWith("%")&&aa(n.slice(0,-1)),Ve=n=>R1.test(n),$s=n=>t4.test(n),a4=new Set(["length","size","percentage"]),l4=n=>ka(n,a4,N1),u4=n=>ka(n,"position",N1),c4=new Set(["image","url"]),d4=n=>ka(n,c4,m4),f4=n=>ka(n,"",p4),Nl=()=>!0,ka=(n,e,t)=>{const r=R1.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},h4=n=>n4.test(n)&&!r4.test(n),N1=()=>!1,p4=n=>s4.test(n),m4=n=>i4.test(n),g4=()=>{const n=lt("colors"),e=lt("spacing"),t=lt("blur"),r=lt("brightness"),i=lt("borderColor"),a=lt("borderRadius"),l=lt("borderSpacing"),c=lt("borderWidth"),f=lt("contrast"),h=lt("grayscale"),m=lt("hueRotate"),w=lt("invert"),g=lt("gap"),T=lt("gradientColorStops"),C=lt("gradientColorStopPositions"),S=lt("inset"),I=lt("margin"),A=lt("opacity"),k=lt("padding"),L=lt("saturate"),z=lt("scale"),W=lt("sepia"),X=lt("skew"),D=lt("space"),N=lt("translate"),O=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Ve,e],P=()=>[Ve,e],j=()=>["",is,Fs],ee=()=>["auto",aa,Ve],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ce=()=>["solid","dashed","dotted","double","none"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],te=()=>["","0",Ve],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[aa,Ve];return{cacheSize:500,separator:":",theme:{colors:[Nl],spacing:[is,Fs],blur:["none","",$s,Ve],brightness:U(),borderColor:[n],borderRadius:["none","","full",$s,Ve],borderSpacing:P(),borderWidth:j(),contrast:U(),grayscale:te(),hueRotate:U(),invert:te(),gap:P(),gradientColorStops:[n],gradientColorStopPositions:[o4,Fs],inset:F(),margin:F(),opacity:U(),padding:P(),saturate:U(),scale:U(),sepia:te(),skew:U(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Ve]}],container:["container"],columns:[{columns:[$s]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),Ve]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Rl,Ve]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ve]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",Rl,Ve]}],"grid-cols":[{"grid-cols":[Nl]}],"col-start-end":[{col:["auto",{span:["full",Rl,Ve]},Ve]}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":[Nl]}],"row-start-end":[{row:["auto",{span:[Rl,Ve]},Ve]}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ve]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ve,e]}],"min-w":[{"min-w":[Ve,e,"min","max","fit"]}],"max-w":[{"max-w":[Ve,e,"none","full","min","max","fit","prose",{screen:[$s]},$s]}],h:[{h:[Ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$s,Fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vp]}],"font-family":[{font:[Nl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ve]}],"line-clamp":[{"line-clamp":["none",aa,vp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",is,Ve]}],"list-image":[{"list-image":["none",Ve]}],"list-style-type":[{list:["none","disc","decimal",Ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[A]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[A]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",is,Fs]}],"underline-offset":[{"underline-offset":["auto",is,Ve]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[A]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),u4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",l4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},d4]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[T]}],"gradient-via":[{via:[T]}],"gradient-to":[{to:[T]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[A]}],"border-style":[{border:[...ce(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[A]}],"divide-style":[{divide:ce()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ce()]}],"outline-offset":[{"outline-offset":[is,Ve]}],"outline-w":[{outline:[is,Fs]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[A]}],"ring-offset-w":[{"ring-offset":[is,Fs]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",$s,f4]}],"shadow-color":[{shadow:[Nl]}],opacity:[{opacity:[A]}],"mix-blend":[{"mix-blend":[...de(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":de()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",$s,Ve]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[w]}],saturate:[{saturate:[L]}],sepia:[{sepia:[W]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[A]}],"backdrop-saturate":[{"backdrop-saturate":[L]}],"backdrop-sepia":[{"backdrop-sepia":[W]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ve]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",Ve]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[z]}],"scale-x":[{"scale-x":[z]}],"scale-y":[{"scale-y":[z]}],rotate:[{rotate:[Rl,Ve]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[X]}],"skew-y":[{"skew-y":[X]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ve]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[is,Fs,vp]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},y4=JO(g4);function be(...n){return y4(T1(n))}const dm=RO,fm=NO,Od=E.forwardRef(({className:n,children:e,...t},r)=>v.jsxs(m1,{ref:r,className:be("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-white placeholder:text-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:border-zinc-800 dark:ring-offset-zinc-950 dark:placeholder:text-zinc-400 dark:focus:ring-zinc-300",n),...t,children:[e,v.jsx(PO,{asChild:!0,children:v.jsx(E1,{className:"h-4 w-4 opacity-50"})})]}));Od.displayName=m1.displayName;const P1=E.forwardRef(({className:n,...e},t)=>v.jsx(w1,{ref:t,className:be("flex cursor-default items-center justify-center py-1",n),...e,children:v.jsx(FO,{className:"h-4 w-4"})}));P1.displayName=w1.displayName;const k1=E.forwardRef(({className:n,...e},t)=>v.jsx(_1,{ref:t,className:be("flex cursor-default items-center justify-center py-1",n),...e,children:v.jsx(E1,{className:"h-4 w-4"})}));k1.displayName=_1.displayName;const Ld=E.forwardRef(({className:n,children:e,position:t="popper",...r},i)=>v.jsx(kO,{children:v.jsxs(g1,{ref:i,className:be("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white text-zinc-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[v.jsx(P1,{}),v.jsx(DO,{className:be("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),v.jsx(k1,{})]})}));Ld.displayName=g1.displayName;const v4=E.forwardRef(({className:n,...e},t)=>v.jsx(y1,{ref:t,className:be("px-2 py-1.5 text-sm font-semibold",n),...e}));v4.displayName=y1.displayName;const Hs=E.forwardRef(({className:n,children:e,...t},r)=>v.jsxs(v1,{ref:r,className:be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",n),...t,children:[v.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(OO,{children:v.jsx(VO,{className:"h-4 w-4"})})}),v.jsx(MO,{children:e})]}));Hs.displayName=v1.displayName;const w4=E.forwardRef(({className:n,...e},t)=>v.jsx(x1,{ref:t,className:be("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",n),...e}));w4.displayName=x1.displayName;const _4=()=>{const{tableId:n}=Um(),[e,t]=E.useState("all"),[r,i]=E.useState([]),[a,l]=E.useState([]),[c,f]=E.useState([]),{addToCart:h,setTableId:m}=qm(),{t:w,i18n:g}=lf();E.useEffect(()=>{n&&m(n)},[n,m]),E.useEffect(()=>{(async()=>{const S=await uk();i(S);const I=await ck();l(I)})()},[]),E.useEffect(()=>{f(e==="all"?r:r.filter(C=>C.category===e))},[e,r]);const T=C=>{g.changeLanguage(C)};return v.jsxs("div",{className:"container mx-auto px-4 py-8",children:[v.jsxs("div",{className:"bg-amber-100 rounded-lg p-4 mb-6",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold text-amber-800",children:w("ourMenu")}),n&&v.jsxs("p",{className:"text-amber-700 mt-2",children:[w("table"),": ",n]})]}),v.jsxs(dm,{onValueChange:T,defaultValue:g.language,children:[v.jsx(Od,{className:"w-[120px]",children:v.jsx(fm,{placeholder:"Dil Se"})}),v.jsxs(Ld,{children:[v.jsx(Hs,{value:"tr",children:"Trke"}),v.jsx(Hs,{value:"en",children:"English"}),v.jsx(Hs,{value:"ru",children:""}),v.jsx(Hs,{value:"de",children:"Deutsch"}),v.jsx(Hs,{value:"fr",children:"Franais"})]})]})]}),n&&v.jsx("div",{className:"max-w-xs",children:v.jsx(Rk,{tableId:n})})]}),v.jsx("div",{className:"overflow-x-auto pb-2 mb-6",children:v.jsxs("div",{className:"flex space-x-2 min-w-max",children:[v.jsx("button",{onClick:()=>t("all"),className:`px-4 py-2 rounded-full text-sm font-medium ${e==="all"?"bg-amber-600 text-white":"bg-amber-100 text-amber-800 hover:bg-amber-200"}`,children:w("all")}),a.map(C=>v.jsx("button",{onClick:()=>t(C.id),className:`px-4 py-2 rounded-full text-sm font-medium ${e===C.id?"bg-amber-600 text-white":"bg-amber-100 text-amber-800 hover:bg-amber-200"}`,children:C["name_"+g.language]||C.name_tr},C.id))]})}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(C=>v.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[v.jsx("div",{className:"h-48 overflow-hidden",children:v.jsx("img",{src:C.image,alt:C["name_"+g.language]||C.name_tr,className:"w-full h-full object-cover"})}),v.jsxs("div",{className:"p-4",children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:C["name_"+g.language]||C.name_tr}),v.jsxs("span",{className:"text-amber-600 font-bold",children:[C.price," "]})]}),v.jsx("p",{className:"text-gray-600 text-sm mt-1",children:C["description_"+g.language]||C.description_tr}),v.jsx("button",{onClick:()=>h(C),className:"mt-4 w-full bg-amber-500 hover:bg-amber-600 text-white py-2 px-4 rounded-md transition-colors",children:w("addToCart")})]})]},C.id))}),n&&v.jsx(Nk,{tableId:n})]})},x4=()=>{const{tableId:n}=Um(),e=fu(),{items:t,getTotalPrice:r,clearCart:i}=qm(),a=async()=>{try{const l=document.getElementById("order-note"),c=l?l.value:"",f=crypto.randomUUID(),h=(Array.isArray(t)?t:[]).map(S=>({id:String((S==null?void 0:S.id)??""),name:String((S==null?void 0:S.name)??(S==null?void 0:S.name_tr)??"Tanmsz"),price:Number.isFinite(S==null?void 0:S.price)?Number(S.price):0,quantity:Number.isFinite(S==null?void 0:S.quantity)?Number(S.quantity):0})),m=typeof n=="string"?n:"",w=An(xt,"orders"),g=ou(w,bd("tableId","==",m),bd("paymentStatus","==","pending")),T=await ga(g);if(!T.empty){const S=T.docs[0],I=S.data(),A=(Array.isArray(I==null?void 0:I.items)?I.items:[]).filter(N=>N&&typeof N=="object").map(N=>({id:String((N==null?void 0:N.id)??""),name:String((N==null?void 0:N.name)??"Tanmsz"),price:Number.isFinite(N==null?void 0:N.price)?Number(N.price):0,quantity:Number.isFinite(N==null?void 0:N.quantity)?Number(N.quantity):0})),k=new Map;for(const N of A){const O=String(N.id);k.set(O,{...N})}for(const N of h){const O=String(N.id),V=k.get(O);V?k.set(O,{...V,quantity:(V.quantity||0)+(N.quantity||0)}):k.set(O,{...N})}const L=Array.from(k.values()),z=L.reduce((N,O)=>N+Number(O.price)*Number(O.quantity),0),W=typeof(I==null?void 0:I.orderNote)=="string"?I.orderNote.trim():"",X=(c??"").trim(),D=W&&X?`${W} | ${X}`:W||X||"";await Bi(Pr(xt,"orders",S.id),{items:L,totalPrice:z,orderNote:D||null,timestamp:gt.now()}),alert("Sipariiniz mevcut ak hesaba eklendi. Teekkr ederiz."),i(),e(`/thank-you/${n}`);return}const C={tableId:m,sessionId:typeof f=="string"?f:"",items:h,totalPrice:Number.isFinite(r())?Number(r()):0,orderNote:c??"",timestamp:gt.now(),status:"new",paymentStatus:"pending"};await Rd(An(xt,"orders"),C),alert("Sipariiniz alnd! Teekkr ederiz."),i(),e(`/thank-you/${n}`)}catch(l){console.error("Error submitting order:",l);const c=typeof(l==null?void 0:l.message)=="string"?l.message:String(l);alert(`Sipari gnderilirken bir hata olutu. Ltfen tekrar deneyin.
Detay: ${c}`)}};return t.length===0?v.jsx("div",{className:"container mx-auto px-4 py-8",children:v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Sepetiniz Bo"}),v.jsx("p",{className:"text-gray-600 mb-4",children:"Sipari verebilmek iin sepetinize rn eklemelisiniz."}),v.jsx("button",{onClick:()=>e(`/menu/${n}`),className:"bg-amber-500 hover:bg-amber-600 text-white py-2 px-4 rounded-md transition-colors",children:"Menye Dn"})]})}):v.jsx("div",{className:"container mx-auto px-4 py-8",children:v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Siparii Tamamla"}),n&&v.jsx("div",{className:"mb-4 p-3 bg-amber-50 rounded-md",children:v.jsxs("p",{className:"text-amber-700 font-medium",children:["Masa: ",n]})}),v.jsxs("div",{className:"mt-6",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Sipari zeti"}),v.jsx("div",{className:"border-t border-b border-gray-200 py-4 divide-y divide-gray-200",children:t.map(l=>v.jsxs("div",{className:"py-3 flex justify-between",children:[v.jsx("div",{className:"flex items-center",children:v.jsxs("span",{className:"text-gray-800",children:[l.quantity," x ",l.name]})}),v.jsxs("span",{className:"text-gray-800 font-medium",children:[l.price*l.quantity," "]})]},l.id))}),v.jsxs("div",{className:"mt-4 flex justify-between items-center text-xl font-bold",children:[v.jsx("span",{children:"Toplam:"}),v.jsxs("span",{children:[r()," "]})]})]}),v.jsxs("div",{className:"mt-8",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Sipari Notu"}),v.jsx("textarea",{id:"order-note",className:"w-full border border-gray-300 rounded-md p-3 h-24 focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"zel istekleriniz varsa buraya yazabilirsiniz..."})]}),v.jsx("button",{onClick:a,className:"mt-6 w-full bg-amber-500 hover:bg-amber-600 text-white py-3 px-4 rounded-md transition-colors text-lg font-medium",children:"Siparii Onayla"})]})})},E4=()=>{const{tableId:n}=Um();return v.jsx("div",{className:"container mx-auto px-4 py-16 flex flex-col items-center",children:v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-md w-full text-center",children:[v.jsx("div",{className:"w-16 h-16 mx-auto bg-green-100 rounded-full flex items-center justify-center mb-6",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),v.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Sipariiniz Alnd!"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"Sipariiniz baaryla alnd ve hazrlanmaya baland. Ksa sre iinde masanza servis edilecektir."}),n&&v.jsx("div",{className:"mb-6 p-3 bg-amber-50 rounded-md",children:v.jsxs("p",{className:"text-amber-700 font-medium",children:["Masa: ",n]})}),v.jsx("p",{className:"text-sm text-gray-500",children:"Bizi tercih ettiiniz iin teekkr ederiz."})]})})},C4=1,S4=1e6;let wp=0;function T4(){return wp=(wp+1)%Number.MAX_SAFE_INTEGER,wp.toString()}const _p=new Map,x_=n=>{if(_p.has(n))return;const e=setTimeout(()=>{_p.delete(n),Ql({type:"REMOVE_TOAST",toastId:n})},S4);_p.set(n,e)},I4=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,C4)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?x_(t):n.toasts.forEach(r=>{x_(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},ud=[];let cd={toasts:[]};function Ql(n){cd=I4(cd,n),ud.forEach(e=>{e(cd)})}function b4({...n}){const e=T4(),t=i=>Ql({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Ql({type:"DISMISS_TOAST",toastId:e});return Ql({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function Xg(){const[n,e]=E.useState(cd);return E.useEffect(()=>(ud.push(e),()=>{const t=ud.indexOf(e);t>-1&&ud.splice(t,1)}),[n]),{...n,toast:b4,dismiss:t=>Ql({type:"DISMISS_TOAST",toastId:t})}}function A4(n,e){return E.useReducer((t,r)=>e[t][r]??t,n)}var Da=n=>{const{present:e,children:t}=n,r=R4(e),i=typeof t=="function"?t({present:r.isPresent}):E.Children.only(t),a=it(r.ref,N4(i));return typeof t=="function"||r.isPresent?E.cloneElement(i,{ref:a}):null};Da.displayName="Presence";function R4(n){const[e,t]=E.useState(),r=E.useRef(null),i=E.useRef(n),a=E.useRef("none"),l=n?"mounted":"unmounted",[c,f]=A4(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const h=Qc(r.current);a.current=c==="mounted"?h:"none"},[c]),Qt(()=>{const h=r.current,m=i.current;if(m!==n){const g=a.current,T=Qc(h);n?f("MOUNT"):T==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(m&&g!==T?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,f]),Qt(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,w=T=>{const S=Qc(r.current).includes(T.animationName);if(T.target===e&&S&&(f("ANIMATION_END"),!i.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},g=T=>{T.target===e&&(a.current=Qc(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:E.useCallback(h=>{r.current=h?getComputedStyle(h):null,t(h)},[])}}function Qc(n){return(n==null?void 0:n.animationName)||"none"}function N4(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Jg="ToastProvider",[Zg,P4,k4]=Og("Toast"),[D1,l9]=ci("Toast",[k4]),[D4,vf]=D1(Jg),M1=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:l}=n,[c,f]=E.useState(null),[h,m]=E.useState(0),w=E.useRef(!1),g=E.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${Jg}\`. Expected non-empty \`string\`.`),v.jsx(Zg.Provider,{scope:e,children:v.jsx(D4,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:h,viewport:c,onViewportChange:f,onToastAdd:E.useCallback(()=>m(T=>T+1),[]),onToastRemove:E.useCallback(()=>m(T=>T-1),[]),isFocusedToastEscapeKeyDownRef:w,isClosePausedRef:g,children:l})})};M1.displayName=Jg;var O1="ToastViewport",M4=["F8"],hm="toast.viewportPause",pm="toast.viewportResume",L1=E.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=M4,label:i="Notifications ({hotkey})",...a}=n,l=vf(O1,t),c=P4(t),f=E.useRef(null),h=E.useRef(null),m=E.useRef(null),w=E.useRef(null),g=it(e,w,l.onViewportChange),T=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=l.toastCount>0;E.useEffect(()=>{const I=A=>{var L;r.length!==0&&r.every(z=>A[z]||A.code===z)&&((L=w.current)==null||L.focus())};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[r]),E.useEffect(()=>{const I=f.current,A=w.current;if(C&&I&&A){const k=()=>{if(!l.isClosePausedRef.current){const X=new CustomEvent(hm);A.dispatchEvent(X),l.isClosePausedRef.current=!0}},L=()=>{if(l.isClosePausedRef.current){const X=new CustomEvent(pm);A.dispatchEvent(X),l.isClosePausedRef.current=!1}},z=X=>{!I.contains(X.relatedTarget)&&L()},W=()=>{I.contains(document.activeElement)||L()};return I.addEventListener("focusin",k),I.addEventListener("focusout",z),I.addEventListener("pointermove",k),I.addEventListener("pointerleave",W),window.addEventListener("blur",k),window.addEventListener("focus",L),()=>{I.removeEventListener("focusin",k),I.removeEventListener("focusout",z),I.removeEventListener("pointermove",k),I.removeEventListener("pointerleave",W),window.removeEventListener("blur",k),window.removeEventListener("focus",L)}}},[C,l.isClosePausedRef]);const S=E.useCallback(({tabbingDirection:I})=>{const k=c().map(L=>{const z=L.ref.current,W=[z,...q4(z)];return I==="forwards"?W:W.reverse()});return(I==="forwards"?k.reverse():k).flat()},[c]);return E.useEffect(()=>{const I=w.current;if(I){const A=k=>{var W,X,D;const L=k.altKey||k.ctrlKey||k.metaKey;if(k.key==="Tab"&&!L){const N=document.activeElement,O=k.shiftKey;if(k.target===I&&O){(W=h.current)==null||W.focus();return}const P=S({tabbingDirection:O?"backwards":"forwards"}),j=P.findIndex(ee=>ee===N);xp(P.slice(j+1))?k.preventDefault():O?(X=h.current)==null||X.focus():(D=m.current)==null||D.focus()}};return I.addEventListener("keydown",A),()=>I.removeEventListener("keydown",A)}},[c,S]),v.jsxs(Gk,{ref:f,role:"region","aria-label":i.replace("{hotkey}",T),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&v.jsx(mm,{ref:h,onFocusFromOutsideViewport:()=>{const I=S({tabbingDirection:"forwards"});xp(I)}}),v.jsx(Zg.Slot,{scope:t,children:v.jsx(Fe.ol,{tabIndex:-1,...a,ref:g})}),C&&v.jsx(mm,{ref:m,onFocusFromOutsideViewport:()=>{const I=S({tabbingDirection:"backwards"});xp(I)}})]})});L1.displayName=O1;var j1="ToastFocusProxy",mm=E.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,a=vf(j1,t);return v.jsx(qg,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:l=>{var h;const c=l.relatedTarget;!((h=a.viewport)!=null&&h.contains(c))&&r()}})});mm.displayName=j1;var _u="Toast",O4="toast.swipeStart",L4="toast.swipeMove",j4="toast.swipeCancel",V4="toast.swipeEnd",V1=E.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:a,...l}=n,[c,f]=wa({prop:r,defaultProp:i??!0,onChange:a,caller:_u});return v.jsx(Da,{present:t||c,children:v.jsx(z4,{open:c,...l,ref:e,onClose:()=>f(!1),onPause:Un(n.onPause),onResume:Un(n.onResume),onSwipeStart:Me(n.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Me(n.onSwipeMove,h=>{const{x:m,y:w}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${w}px`)}),onSwipeCancel:Me(n.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Me(n.onSwipeEnd,h=>{const{x:m,y:w}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${w}px`),f(!1)})})})});V1.displayName=_u;var[F4,$4]=D1(_u,{onClose(){}}),z4=E.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:a,onClose:l,onEscapeKeyDown:c,onPause:f,onResume:h,onSwipeStart:m,onSwipeMove:w,onSwipeCancel:g,onSwipeEnd:T,...C}=n,S=vf(_u,t),[I,A]=E.useState(null),k=it(e,ee=>A(ee)),L=E.useRef(null),z=E.useRef(null),W=i||S.duration,X=E.useRef(0),D=E.useRef(W),N=E.useRef(0),{onToastAdd:O,onToastRemove:V}=S,F=Un(()=>{var se;(I==null?void 0:I.contains(document.activeElement))&&((se=S.viewport)==null||se.focus()),l()}),P=E.useCallback(ee=>{!ee||ee===1/0||(window.clearTimeout(N.current),X.current=new Date().getTime(),N.current=window.setTimeout(F,ee))},[F]);E.useEffect(()=>{const ee=S.viewport;if(ee){const se=()=>{P(D.current),h==null||h()},ce=()=>{const de=new Date().getTime()-X.current;D.current=D.current-de,window.clearTimeout(N.current),f==null||f()};return ee.addEventListener(hm,ce),ee.addEventListener(pm,se),()=>{ee.removeEventListener(hm,ce),ee.removeEventListener(pm,se)}}},[S.viewport,W,f,h,P]),E.useEffect(()=>{a&&!S.isClosePausedRef.current&&P(W)},[a,W,S.isClosePausedRef,P]),E.useEffect(()=>(O(),()=>V()),[O,V]);const j=E.useMemo(()=>I?W1(I):null,[I]);return S.viewport?v.jsxs(v.Fragment,{children:[j&&v.jsx(U4,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:j}),v.jsx(F4,{scope:t,onClose:F,children:Ea.createPortal(v.jsx(Zg.ItemSlot,{scope:t,children:v.jsx(Qk,{asChild:!0,onEscapeKeyDown:Me(c,()=>{S.isFocusedToastEscapeKeyDownRef.current||F(),S.isFocusedToastEscapeKeyDownRef.current=!1}),children:v.jsx(Fe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":S.swipeDirection,...C,ref:k,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Me(n.onKeyDown,ee=>{ee.key==="Escape"&&(c==null||c(ee.nativeEvent),ee.nativeEvent.defaultPrevented||(S.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:Me(n.onPointerDown,ee=>{ee.button===0&&(L.current={x:ee.clientX,y:ee.clientY})}),onPointerMove:Me(n.onPointerMove,ee=>{if(!L.current)return;const se=ee.clientX-L.current.x,ce=ee.clientY-L.current.y,de=!!z.current,G=["left","right"].includes(S.swipeDirection),te=["left","up"].includes(S.swipeDirection)?Math.min:Math.max,le=G?te(0,se):0,U=G?0:te(0,ce),Z=ee.pointerType==="touch"?10:2,pe={x:le,y:U},Ce={originalEvent:ee,delta:pe};de?(z.current=pe,Gc(L4,w,Ce,{discrete:!1})):E_(pe,S.swipeDirection,Z)?(z.current=pe,Gc(O4,m,Ce,{discrete:!1}),ee.target.setPointerCapture(ee.pointerId)):(Math.abs(se)>Z||Math.abs(ce)>Z)&&(L.current=null)}),onPointerUp:Me(n.onPointerUp,ee=>{const se=z.current,ce=ee.target;if(ce.hasPointerCapture(ee.pointerId)&&ce.releasePointerCapture(ee.pointerId),z.current=null,L.current=null,se){const de=ee.currentTarget,G={originalEvent:ee,delta:se};E_(se,S.swipeDirection,S.swipeThreshold)?Gc(V4,T,G,{discrete:!0}):Gc(j4,g,G,{discrete:!0}),de.addEventListener("click",te=>te.preventDefault(),{once:!0})}})})})}),S.viewport)})]}):null}),U4=n=>{const{__scopeToast:e,children:t,...r}=n,i=vf(_u,e),[a,l]=E.useState(!1),[c,f]=E.useState(!1);return W4(()=>l(!0)),E.useEffect(()=>{const h=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:v.jsx(hf,{asChild:!0,children:v.jsx(qg,{...r,children:a&&v.jsxs(v.Fragment,{children:[i.label," ",t]})})})},B4="ToastTitle",F1=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return v.jsx(Fe.div,{...r,ref:e})});F1.displayName=B4;var H4="ToastDescription",$1=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return v.jsx(Fe.div,{...r,ref:e})});$1.displayName=H4;var z1="ToastAction",U1=E.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?v.jsx(H1,{altText:t,asChild:!0,children:v.jsx(ey,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${z1}\`. Expected non-empty \`string\`.`),null)});U1.displayName=z1;var B1="ToastClose",ey=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=$4(B1,t);return v.jsx(H1,{asChild:!0,children:v.jsx(Fe.button,{type:"button",...r,ref:e,onClick:Me(n.onClick,i.onClose)})})});ey.displayName=B1;var H1=E.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return v.jsx(Fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function W1(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),K4(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...W1(r))}}),e}function Gc(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,a=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?sC(i,a):i.dispatchEvent(a)}var E_=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),a=r>i;return e==="left"||e==="right"?a&&r>t:!a&&i>t};function W4(n=()=>{}){const e=Un(n);Qt(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function K4(n){return n.nodeType===n.ELEMENT_NODE}function q4(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function xp(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var Q4=M1,K1=L1,q1=V1,Q1=F1,G1=$1,Y1=U1,X1=ey;const C_=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,S_=T1,ty=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return S_(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(h=>{const m=t==null?void 0:t[h],w=a==null?void 0:a[h];if(m===null)return null;const g=C_(m)||C_(w);return i[h][g]}),c=t&&Object.entries(t).reduce((h,m)=>{let[w,g]=m;return g===void 0||(h[w]=g),h},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:w,className:g,...T}=m;return Object.entries(T).every(C=>{let[S,I]=C;return Array.isArray(I)?I.includes({...a,...c}[S]):{...a,...c}[S]===I})?[...h,w,g]:h},[]);return S_(n,l,f,t==null?void 0:t.class,t==null?void 0:t.className)},G4=Q4,J1=E.forwardRef(({className:n,...e},t)=>v.jsx(K1,{ref:t,className:be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));J1.displayName=K1.displayName;const Y4=ty("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border border-zinc-200 p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full dark:border-zinc-800",{variants:{variant:{default:"border bg-white text-zinc-950 dark:bg-zinc-950 dark:text-zinc-50",destructive:"destructive group border-red-500 bg-red-500 text-zinc-50 dark:border-red-900 dark:bg-red-900 dark:text-zinc-50"}},defaultVariants:{variant:"default"}}),Z1=E.forwardRef(({className:n,variant:e,...t},r)=>v.jsx(q1,{ref:r,className:be(Y4({variant:e}),n),...t}));Z1.displayName=q1.displayName;const X4=E.forwardRef(({className:n,...e},t)=>v.jsx(Y1,{ref:t,className:be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-zinc-200 bg-transparent px-3 text-sm font-medium transition-colors hover:bg-zinc-100 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-zinc-100/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-zinc-50 group-[.destructive]:focus:ring-red-500 dark:border-zinc-800 dark:hover:bg-zinc-800 dark:focus:ring-zinc-300 dark:group-[.destructive]:border-zinc-800/40 dark:group-[.destructive]:hover:border-red-900/30 dark:group-[.destructive]:hover:bg-red-900 dark:group-[.destructive]:hover:text-zinc-50 dark:group-[.destructive]:focus:ring-red-900",n),...e}));X4.displayName=Y1.displayName;const eS=E.forwardRef(({className:n,...e},t)=>v.jsx(X1,{ref:t,className:be("absolute right-1 top-1 rounded-md p-1 text-zinc-950/50 opacity-0 transition-opacity hover:text-zinc-950 focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 dark:text-zinc-50/50 dark:hover:text-zinc-50",n),"toast-close":"",...e,children:v.jsx(C1,{className:"h-4 w-4"})}));eS.displayName=X1.displayName;const tS=E.forwardRef(({className:n,...e},t)=>v.jsx(Q1,{ref:t,className:be("text-sm font-semibold [&+div]:text-xs",n),...e}));tS.displayName=Q1.displayName;const nS=E.forwardRef(({className:n,...e},t)=>v.jsx(G1,{ref:t,className:be("text-sm opacity-90",n),...e}));nS.displayName=G1.displayName;function rS(){const{toasts:n}=Xg();return v.jsxs(G4,{children:[n.map(function({id:e,title:t,description:r,action:i,...a}){return v.jsxs(Z1,{...a,children:[v.jsxs("div",{className:"grid gap-1",children:[t&&v.jsx(tS,{children:t}),r&&v.jsx(nS,{children:r})]}),i,v.jsx(eS,{})]},e)}),v.jsx(J1,{})]})}const J4=()=>{const[n,e]=E.useState(0),{toast:t}=Xg(),{t:r}=lf();return E.useEffect(()=>{(async()=>{try{const a=An(xt,"orders"),l=ou(a,bd("status","==","pending")),c=await ga(l);e(c.size)}catch(a){console.error("Error fetching new orders count:",a),t({title:r("error"),description:r("errorFetchingNewOrdersCount"),variant:"destructive"})}})()},[t,r]),v.jsxs("div",{className:"container mx-auto px-4 py-8",children:[v.jsx(rS,{}),v.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:r("adminDashboard")}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[v.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:v.jsxs("div",{className:"p-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:r("orders")}),v.jsxs("div",{className:"bg-blue-100 text-blue-800 rounded-full px-3 py-1 text-xs font-semibold",children:[n," ",r("new")]})]}),v.jsx("p",{className:"text-gray-600 mb-6",children:r("viewActiveOrders")}),v.jsx(Ui,{to:"/admin/orders",className:"block w-full bg-amber-500 hover:bg-amber-600 text-white text-center py-2 px-4 rounded-md transition-colors",children:r("manageOrders")})]})}),v.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:v.jsxs("div",{className:"p-6",children:[v.jsx("div",{className:"flex items-center justify-between mb-4",children:v.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:r("menuManagement")})}),v.jsx("p",{className:"text-gray-600 mb-6",children:r("manageMenuDescription")}),v.jsx(Ui,{to:"/admin/menu",className:"block w-full bg-amber-500 hover:bg-amber-600 text-white text-center py-2 px-4 rounded-md transition-colors",children:r("manageMenu")})]})}),v.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:v.jsxs("div",{className:"p-6",children:[v.jsx("div",{className:"flex items-center justify-between mb-4",children:v.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:r("qrCodes")})}),v.jsx("p",{className:"text-gray-600 mb-6",children:r("viewPrintQrCodes")}),v.jsx(Ui,{to:"/admin/qrcodes",className:"block w-full bg-amber-500 hover:bg-amber-600 text-white text-center py-2 px-4 rounded-md transition-colors",children:r("viewQrCodes")})]})})]})]})},Rr=(n=800,e=200)=>{try{const t=new(window.AudioContext||window.webkitAudioContext),r=t.createOscillator(),i=t.createGain();r.connect(i),i.connect(t.destination),r.frequency.value=n,r.type="sine",i.gain.setValueAtTime(.3,t.currentTime),i.gain.exponentialRampToValueAtTime(.01,t.currentTime+e/1e3),r.start(t.currentTime),r.stop(t.currentTime+e/1e3)}catch(t){console.log("Web Audio API desteklenmiyor:",t)}},Z4=()=>{try{const n=new Audio("/sounds/new-order.mp3");n.volume=.8,n.play().catch(()=>{Rr(800,200),setTimeout(()=>Rr(1e3,200),300)})}catch{Rr(800,200),setTimeout(()=>Rr(1e3,200),300)}},eL=()=>{try{const n=new Audio("/sounds/waiter-call.mp3");n.volume=.7,n.play().catch(()=>{Rr(600,150),setTimeout(()=>Rr(800,150),200),setTimeout(()=>Rr(1e3,150),400)})}catch{Rr(600,150),setTimeout(()=>Rr(800,150),200),setTimeout(()=>Rr(1e3,150),400)}},tL=()=>{const[n,e]=E.useState([]),[t,r]=E.useState(0);E.useEffect(()=>{const h=An(xt,"waiterCalls"),m=ou(h,bd("status","in",["pending","acknowledged"]),Ad("status"),Ad("timestamp","desc")),w=Yp(m,g=>{const T=g.docs.map(S=>({id:S.id,...S.data()}));T.filter(S=>S.status==="pending").length>0&&t!==0&&(eL(),i()),e(T),r(T.length)});return()=>w()},[t]);const i=()=>{Notification.permission==="granted"&&new Notification("Garson ars!",{body:"Bir masadan garson ars var.",icon:"/favicon.ico"})},a=async(h,m)=>{try{const w=Pr(xt,"waiterCalls",h);await Bi(w,{status:m})}catch(w){console.error("ar durumu gncellenirken hata olutu:",w)}},l=h=>{const m=h.toDate();return new Intl.DateTimeFormat("tr-TR",{hour:"2-digit",minute:"2-digit"}).format(m)},c=h=>{switch(h){case"pending":return"bg-red-100 text-red-800 border-red-200";case"acknowledged":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},f=h=>{switch(h){case"pending":return"Bekliyor";case"acknowledged":return"Grld";case"resolved":return"zld";default:return h}};return n.length===0?null:v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:[" Garson arlar (",n.length,")"]}),n.some(h=>h.status==="pending")&&v.jsx("div",{className:"animate-pulse",children:v.jsx("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:"YEN"})})]}),v.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:n.map(h=>v.jsx("div",{className:`p-3 rounded-lg border-2 ${c(h.status)}`,children:v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-medium",children:h.tableId.replace("table-","Masa ")}),v.jsx("div",{className:"text-sm opacity-75",children:l(h.timestamp)}),h.message&&v.jsx("div",{className:"text-sm mt-1",children:h.message})]}),v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-white bg-opacity-50",children:f(h.status)}),v.jsxs("div",{className:"flex gap-1",children:[h.status==="pending"&&v.jsx("button",{onClick:()=>a(h.id,"acknowledged"),className:"text-xs bg-yellow-500 hover:bg-yellow-600 text-white px-2 py-1 rounded",children:"Grdm"}),h.status!=="resolved"&&v.jsx("button",{onClick:()=>a(h.id,"resolved"),className:"text-xs bg-green-500 hover:bg-green-600 text-white px-2 py-1 rounded",children:"zld"})]})]})]})},h.id))})]})},Yc=({order:n,onStatusUpdate:e,onOrderSelect:t})=>{const r=l=>{switch(l){case"new":return{color:"bg-green-100 border-green-300 text-green-800",label:"Yeni Sipari",bgColor:"bg-green-50"};case"preparing":return{color:"bg-yellow-100 border-yellow-300 text-yellow-800",label:"Hazrlanyor",bgColor:"bg-yellow-50"};case"ready":return{color:"bg-blue-100 border-blue-300 text-blue-800",label:"Hazr",bgColor:"bg-blue-50"};case"delivered":return{color:"bg-gray-100 border-gray-300 text-gray-800",label:"Teslim Edildi",bgColor:"bg-gray-50"}}},i=l=>{const c=l.toDate();return new Intl.DateTimeFormat("tr-TR",{hour:"2-digit",minute:"2-digit"}).format(c)},a=r(n.status);return v.jsxs("div",{className:`${a.bgColor} rounded-lg border-2 ${a.color} p-4 cursor-pointer hover:shadow-lg transition-all duration-200 transform hover:scale-105`,onClick:()=>t(n),children:[v.jsxs("div",{className:"flex justify-between items-start mb-3",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-gray-800",children:typeof n.tableId=="string"&&n.tableId.length>0?n.tableId.replace("table-","Masa "):"Masa -"}),v.jsx("p",{className:"text-sm text-gray-600",children:i(n.timestamp)}),v.jsx("p",{className:"text-xs text-gray-500",children:(()=>{const l=n==null?void 0:n.sessionId;return typeof l=="string"&&l.length>0?`Session: ${l.slice(-8)}`:"Session: -"})()})]}),v.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-semibold ${a.color}`,children:a.label})]}),v.jsxs("div",{className:"mb-3",children:[v.jsxs("div",{className:"text-sm text-gray-700",children:[v.jsxs("span",{className:"font-medium",children:[n.items.length," rn"]}),v.jsx("span",{className:"mx-2",children:""}),v.jsxs("span",{className:"font-bold text-amber-600",children:[n.totalPrice," "]})]}),v.jsxs("div",{className:"mt-2 space-y-1",children:[(Array.isArray(n.items)?n.items:[]).slice(0,2).map((l,c)=>v.jsxs("div",{className:"text-xs text-gray-600",children:[l==null?void 0:l.quantity,"x ",(l==null?void 0:l.name)??"-"]},c)),Array.isArray(n.items)&&n.items.length>2&&v.jsxs("div",{className:"text-xs text-gray-500 italic",children:["+",n.items.length-2," rn daha..."]})]})]}),v.jsxs("div",{className:"flex gap-2 mt-3",children:[n.status==="new"&&v.jsx("button",{onClick:l=>{l.stopPropagation(),e(n.id,"preparing")},className:"flex-1 bg-yellow-500 hover:bg-yellow-600 text-white text-xs py-2 px-3 rounded-md transition-colors",children:"Hazrla"}),n.status==="preparing"&&v.jsx("button",{onClick:l=>{l.stopPropagation(),e(n.id,"ready")},className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white text-xs py-2 px-3 rounded-md transition-colors",children:"Hazr"}),n.status==="ready"&&v.jsx("button",{onClick:l=>{l.stopPropagation(),e(n.id,"delivered")},className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white text-xs py-2 px-3 rounded-md transition-colors",children:"Teslim Et"}),v.jsx("button",{onClick:l=>{l.stopPropagation(),t(n)},className:"bg-amber-500 hover:bg-amber-600 text-white text-xs py-2 px-3 rounded-md transition-colors",children:"Detay"})]}),n.orderNote&&v.jsxs("div",{className:"mt-3 p-2 bg-white bg-opacity-50 rounded text-xs text-gray-700",children:[v.jsx("span",{className:"font-medium",children:"Not:"})," ",n.orderNote]})]})},nL=({orders:n,onStatusUpdate:e,onOrderSelect:t})=>{if(!Array.isArray(n))return v.jsx("div",{className:"text-center py-12",children:v.jsx("h3",{className:"text-xl font-semibold text-gray-600",children:"Sipariler ykleniyor..."})});const r=Array.isArray(n)?n.filter(Boolean):[],i={new:r.filter(l=>(l==null?void 0:l.status)==="new"),preparing:r.filter(l=>(l==null?void 0:l.status)==="preparing"),ready:r.filter(l=>(l==null?void 0:l.status)==="ready"),delivered:r.filter(l=>(l==null?void 0:l.status)==="delivered")},a=l=>{switch(l){case"new":return` Yeni Sipariler (${i.new.length})`;case"preparing":return` Hazrlanyor (${i.preparing.length})`;case"ready":return` Hazr (${i.ready.length})`;case"delivered":return` Teslim Edildi (${i.delivered.length})`}};return n.length===0?v.jsxs("div",{className:"text-center py-12",children:[v.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),v.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Henz sipari yok"}),v.jsx("p",{className:"text-gray-500",children:"Yeni sipariler geldiinde burada grnecek."})]}):v.jsxs("div",{className:"space-y-8",children:[i.new.length>0&&v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:a("new")}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:i.new.map(l=>v.jsx(Yc,{order:l,onStatusUpdate:e,onOrderSelect:t},l.id))})]}),i.preparing.length>0&&v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:a("preparing")}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:i.preparing.map(l=>v.jsx(Yc,{order:l,onStatusUpdate:e,onOrderSelect:t},l.id))})]}),i.ready.length>0&&v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:a("ready")}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:i.ready.map(l=>v.jsx(Yc,{order:l,onStatusUpdate:e,onOrderSelect:t},l.id))})]}),Array.isArray(i.delivered)&&i.delivered.length>0&&v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:a("delivered")}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:(i.delivered||[]).slice(0,10).map(l=>v.jsx(Yc,{order:l,onStatusUpdate:e,onOrderSelect:t},l.id))}),Array.isArray(i.delivered)&&i.delivered.length>10&&v.jsxs("p",{className:"text-sm text-gray-500 mt-4 text-center",children:["Son 10 teslim edilmi sipari gsteriliyor. Toplam: ",i.delivered.length]})]})]})},rL=()=>{const[n,e]=E.useState([]),[t,r]=E.useState(null),[i,a]=E.useState(0),l=g=>{switch(g){case"new":return{color:"bg-green-100 text-green-800",label:"Yeni"};case"preparing":return{color:"bg-yellow-100 text-yellow-800",label:"Hazrlanyor"};case"ready":return{color:"bg-blue-100 text-blue-800",label:"Hazr"};case"delivered":return{color:"bg-gray-100 text-gray-800",label:"Teslim Edildi"}}};E.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]);const c=()=>{try{const g=window.AudioContext||window.webkitAudioContext;if(!g)return;const T=new g,C=300,S=300,I=3e3,A="sine",k=880;let L=0;const z=()=>{const X=T.createOscillator(),D=T.createGain();X.type=A,X.frequency.value=k,X.connect(D),D.connect(T.destination);const N=T.currentTime;D.gain.setValueAtTime(0,N),D.gain.linearRampToValueAtTime(.2,N+.01),D.gain.linearRampToValueAtTime(0,N+C/1e3),X.start(N),X.stop(N+C/1e3),X.onended=()=>{X.disconnect(),D.disconnect()}},W=setInterval(()=>{T.state==="suspended"&&T.resume().catch(()=>{}),z(),L+=C+S,L>=I&&(clearInterval(W),setTimeout(()=>T.close().catch(()=>{}),500))},C+S)}catch{}},f=()=>{Notification.permission==="granted"&&new Notification("Yeni Sipari!",{body:"Yeni bir sipari geldi.",icon:"/favicon.ico"})},h=g=>{const T=typeof(g==null?void 0:g.sessionId)=="string"&&g.sessionId.length>0?g.sessionId:"",S=(Array.isArray(g==null?void 0:g.items)?g.items:[]).filter(D=>D&&typeof D=="object").map(D=>({id:String((D==null?void 0:D.id)??""),name:String((D==null?void 0:D.name)??"Tanmsz"),price:Number.isFinite(D==null?void 0:D.price)?Number(D.price):0,quantity:Number.isFinite(D==null?void 0:D.quantity)?Number(D.quantity):0})),A=["new","preparing","ready","delivered"].includes(g==null?void 0:g.status)?g.status:"new",k=Number.isFinite(g==null?void 0:g.totalPrice)?Number(g.totalPrice):0,L=typeof(g==null?void 0:g.tableId)=="string"&&g.tableId.length>0?g.tableId:"",z=typeof(g==null?void 0:g.orderNote)=="string"&&g.orderNote.length>0?g.orderNote:void 0,W=g!=null&&g.timestamp&&typeof g.timestamp.toDate=="function"?g.timestamp:gt.now(),X=(g==null?void 0:g.paymentStatus)==="paid"?"paid":"pending";return{id:String((g==null?void 0:g.id)??""),tableId:L,sessionId:T,items:S,status:A,totalPrice:k,orderNote:z,timestamp:W,paymentStatus:X}};E.useEffect(()=>{const g=An(xt,"orders"),T=ou(g,Ad("timestamp","desc")),C=Yp(T,S=>{const I=S.docs.map(A=>{const k=A.data();return h({id:A.id,...k})});I.length>i&&i!==0&&(Z4(),f()),e(I),a(I.length)},S=>{console.error("onSnapshot error for orders:",S)});return()=>C()},[i]),E.useEffect(()=>{const g={current:new Set},T=An(xt,"waiterCalls"),C=ou(T,Ad("timestamp","desc")),S=Yp(C,I=>{I.docChanges().filter(A=>A.type==="added").forEach(A=>{const k=A.doc.id;if(g.current.has(k))return;g.current.add(k);const L=A.doc.data(),z=typeof(L==null?void 0:L.status)=="string"?L.status:"pending",W=typeof(L==null?void 0:L.tableId)=="string"?L.tableId:"unknown";if(z==="pending"&&(c(),"Notification"in window&&Notification.permission==="granted"))try{new Notification("Garson ars",{body:`Masa: ${W}`,icon:"/favicon.ico"})}catch{}})},I=>{console.error("onSnapshot error for waiterCalls:",I)});return()=>S()},[]);const m=async(g,T)=>{try{const C=Pr(xt,"orders",g);await Bi(C,{status:T})}catch(C){console.error("Error updating order status:",C),alert("Sipari durumu gncellenirken bir hata olutu.")}},w=g=>{const T=g.toDate();return new Intl.DateTimeFormat("tr-TR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"}).format(T)};return v.jsxs("div",{className:"container mx-auto px-4 py-8",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Sipari Ynetimi"}),v.jsx(tL,{}),v.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[v.jsx("div",{className:"lg:w-2/3",children:v.jsx(nL,{orders:n,onStatusUpdate:m,onOrderSelect:r})}),v.jsx("div",{className:"lg:w-1/3",children:t?v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Sipari Detay"}),v.jsx("button",{onClick:()=>r(null),className:"text-gray-400 hover:text-gray-500",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),v.jsxs("div",{className:"mb-4 p-3 bg-amber-50 rounded-md",children:[v.jsxs("p",{className:"text-amber-700 font-medium",children:["Masa: ",t.tableId]}),v.jsx("p",{className:"text-amber-700 text-sm",children:w(t.timestamp)})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"deme Durumu"}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${t.paymentStatus==="paid"?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-800"}`,children:t.paymentStatus==="paid"?"dendi":"denmedi"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:async()=>{try{await Bi(Pr(xt,"orders",t.id),{paymentStatus:"pending"}),r(g=>g&&{...g,paymentStatus:"pending"})}catch(g){console.error(g),alert("deme durumu gncellenemedi.")}},disabled:t.paymentStatus==="pending",className:`px-3 py-1 rounded-md text-xs font-medium border ${t.paymentStatus==="pending"?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50"}`,children:"denmedi"}),v.jsx("button",{onClick:async()=>{try{await Bi(Pr(xt,"orders",t.id),{paymentStatus:"paid"}),r(g=>g&&{...g,paymentStatus:"paid"})}catch(g){console.error(g),alert("deme durumu gncellenemedi.")}},disabled:t.paymentStatus==="paid",className:`px-3 py-1 rounded-md text-xs font-medium border ${t.paymentStatus==="paid"?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-emerald-500 text-white border-emerald-600 hover:bg-emerald-600"}`,children:"dendi"})]})]})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"Sipari Durumu"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:["new","preparing","ready","delivered"].map(g=>{const T=t.status===g,C=l(g);return v.jsx("button",{onClick:()=>m(t.id,g),className:`px-3 py-1 rounded-full text-xs font-semibold ${T?C.color:"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:C.label},g)})})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"Sipari eleri"}),v.jsx("div",{className:"border-t border-b border-gray-200 py-2 divide-y divide-gray-200",children:t.items.map(g=>v.jsxs("div",{className:"py-2 flex justify-between",children:[v.jsx("div",{children:v.jsxs("span",{className:"text-gray-800",children:[g.quantity," x ",g.name]})}),v.jsxs("span",{className:"text-gray-800 font-medium",children:[g.price*g.quantity," "]})]},g.id))})]}),v.jsxs("div",{className:"flex justify-between items-center text-lg font-bold mb-4",children:[v.jsx("span",{children:"Toplam:"}),v.jsxs("span",{children:[t.totalPrice," "]})]}),t.orderNote&&v.jsxs("div",{className:"mb-4",children:[v.jsx("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"Sipari Notu"}),v.jsx("p",{className:"text-gray-600 bg-gray-50 p-3 rounded-md",children:t.orderNote})]})]}):v.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:v.jsx("p",{className:"text-gray-500",children:"Detaylar grntlemek iin bir sipari sein."})})})]})]})};var sL=Object.defineProperty,jd=Object.getOwnPropertySymbols,sS=Object.prototype.hasOwnProperty,iS=Object.prototype.propertyIsEnumerable,T_=(n,e,t)=>e in n?sL(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,gm=(n,e)=>{for(var t in e||(e={}))sS.call(e,t)&&T_(n,t,e[t]);if(jd)for(var t of jd(e))iS.call(e,t)&&T_(n,t,e[t]);return n},ym=(n,e)=>{var t={};for(var r in n)sS.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&jd)for(var r of jd(n))e.indexOf(r)<0&&iS.call(n,r)&&(t[r]=n[r]);return t};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Xi;(n=>{const e=class Be{constructor(f,h,m,w){if(this.version=f,this.errorCorrectionLevel=h,this.modules=[],this.isFunction=[],f<Be.MIN_VERSION||f>Be.MAX_VERSION)throw new RangeError("Version value out of range");if(w<-1||w>7)throw new RangeError("Mask value out of range");this.size=f*4+17;let g=[];for(let C=0;C<this.size;C++)g.push(!1);for(let C=0;C<this.size;C++)this.modules.push(g.slice()),this.isFunction.push(g.slice());this.drawFunctionPatterns();const T=this.addEccAndInterleave(m);if(this.drawCodewords(T),w==-1){let C=1e9;for(let S=0;S<8;S++){this.applyMask(S),this.drawFormatBits(S);const I=this.getPenaltyScore();I<C&&(w=S,C=I),this.applyMask(S)}}i(0<=w&&w<=7),this.mask=w,this.applyMask(w),this.drawFormatBits(w),this.isFunction=[]}static encodeText(f,h){const m=n.QrSegment.makeSegments(f);return Be.encodeSegments(m,h)}static encodeBinary(f,h){const m=n.QrSegment.makeBytes(f);return Be.encodeSegments([m],h)}static encodeSegments(f,h,m=1,w=40,g=-1,T=!0){if(!(Be.MIN_VERSION<=m&&m<=w&&w<=Be.MAX_VERSION)||g<-1||g>7)throw new RangeError("Invalid value");let C,S;for(C=m;;C++){const L=Be.getNumDataCodewords(C,h)*8,z=l.getTotalBits(f,C);if(z<=L){S=z;break}if(C>=w)throw new RangeError("Data too long")}for(const L of[Be.Ecc.MEDIUM,Be.Ecc.QUARTILE,Be.Ecc.HIGH])T&&S<=Be.getNumDataCodewords(C,L)*8&&(h=L);let I=[];for(const L of f){t(L.mode.modeBits,4,I),t(L.numChars,L.mode.numCharCountBits(C),I);for(const z of L.getData())I.push(z)}i(I.length==S);const A=Be.getNumDataCodewords(C,h)*8;i(I.length<=A),t(0,Math.min(4,A-I.length),I),t(0,(8-I.length%8)%8,I),i(I.length%8==0);for(let L=236;I.length<A;L^=253)t(L,8,I);let k=[];for(;k.length*8<I.length;)k.push(0);return I.forEach((L,z)=>k[z>>>3]|=L<<7-(z&7)),new Be(C,h,k,g)}getModule(f,h){return 0<=f&&f<this.size&&0<=h&&h<this.size&&this.modules[h][f]}getModules(){return this.modules}drawFunctionPatterns(){for(let m=0;m<this.size;m++)this.setFunctionModule(6,m,m%2==0),this.setFunctionModule(m,6,m%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const f=this.getAlignmentPatternPositions(),h=f.length;for(let m=0;m<h;m++)for(let w=0;w<h;w++)m==0&&w==0||m==0&&w==h-1||m==h-1&&w==0||this.drawAlignmentPattern(f[m],f[w]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(f){const h=this.errorCorrectionLevel.formatBits<<3|f;let m=h;for(let g=0;g<10;g++)m=m<<1^(m>>>9)*1335;const w=(h<<10|m)^21522;i(w>>>15==0);for(let g=0;g<=5;g++)this.setFunctionModule(8,g,r(w,g));this.setFunctionModule(8,7,r(w,6)),this.setFunctionModule(8,8,r(w,7)),this.setFunctionModule(7,8,r(w,8));for(let g=9;g<15;g++)this.setFunctionModule(14-g,8,r(w,g));for(let g=0;g<8;g++)this.setFunctionModule(this.size-1-g,8,r(w,g));for(let g=8;g<15;g++)this.setFunctionModule(8,this.size-15+g,r(w,g));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let f=this.version;for(let m=0;m<12;m++)f=f<<1^(f>>>11)*7973;const h=this.version<<12|f;i(h>>>18==0);for(let m=0;m<18;m++){const w=r(h,m),g=this.size-11+m%3,T=Math.floor(m/3);this.setFunctionModule(g,T,w),this.setFunctionModule(T,g,w)}}drawFinderPattern(f,h){for(let m=-4;m<=4;m++)for(let w=-4;w<=4;w++){const g=Math.max(Math.abs(w),Math.abs(m)),T=f+w,C=h+m;0<=T&&T<this.size&&0<=C&&C<this.size&&this.setFunctionModule(T,C,g!=2&&g!=4)}}drawAlignmentPattern(f,h){for(let m=-2;m<=2;m++)for(let w=-2;w<=2;w++)this.setFunctionModule(f+w,h+m,Math.max(Math.abs(w),Math.abs(m))!=1)}setFunctionModule(f,h,m){this.modules[h][f]=m,this.isFunction[h][f]=!0}addEccAndInterleave(f){const h=this.version,m=this.errorCorrectionLevel;if(f.length!=Be.getNumDataCodewords(h,m))throw new RangeError("Invalid argument");const w=Be.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][h],g=Be.ECC_CODEWORDS_PER_BLOCK[m.ordinal][h],T=Math.floor(Be.getNumRawDataModules(h)/8),C=w-T%w,S=Math.floor(T/w);let I=[];const A=Be.reedSolomonComputeDivisor(g);for(let L=0,z=0;L<w;L++){let W=f.slice(z,z+S-g+(L<C?0:1));z+=W.length;const X=Be.reedSolomonComputeRemainder(W,A);L<C&&W.push(0),I.push(W.concat(X))}let k=[];for(let L=0;L<I[0].length;L++)I.forEach((z,W)=>{(L!=S-g||W>=C)&&k.push(z[L])});return i(k.length==T),k}drawCodewords(f){if(f.length!=Math.floor(Be.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let h=0;for(let m=this.size-1;m>=1;m-=2){m==6&&(m=5);for(let w=0;w<this.size;w++)for(let g=0;g<2;g++){const T=m-g,S=(m+1&2)==0?this.size-1-w:w;!this.isFunction[S][T]&&h<f.length*8&&(this.modules[S][T]=r(f[h>>>3],7-(h&7)),h++)}}i(h==f.length*8)}applyMask(f){if(f<0||f>7)throw new RangeError("Mask value out of range");for(let h=0;h<this.size;h++)for(let m=0;m<this.size;m++){let w;switch(f){case 0:w=(m+h)%2==0;break;case 1:w=h%2==0;break;case 2:w=m%3==0;break;case 3:w=(m+h)%3==0;break;case 4:w=(Math.floor(m/3)+Math.floor(h/2))%2==0;break;case 5:w=m*h%2+m*h%3==0;break;case 6:w=(m*h%2+m*h%3)%2==0;break;case 7:w=((m+h)%2+m*h%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[h][m]&&w&&(this.modules[h][m]=!this.modules[h][m])}}getPenaltyScore(){let f=0;for(let g=0;g<this.size;g++){let T=!1,C=0,S=[0,0,0,0,0,0,0];for(let I=0;I<this.size;I++)this.modules[g][I]==T?(C++,C==5?f+=Be.PENALTY_N1:C>5&&f++):(this.finderPenaltyAddHistory(C,S),T||(f+=this.finderPenaltyCountPatterns(S)*Be.PENALTY_N3),T=this.modules[g][I],C=1);f+=this.finderPenaltyTerminateAndCount(T,C,S)*Be.PENALTY_N3}for(let g=0;g<this.size;g++){let T=!1,C=0,S=[0,0,0,0,0,0,0];for(let I=0;I<this.size;I++)this.modules[I][g]==T?(C++,C==5?f+=Be.PENALTY_N1:C>5&&f++):(this.finderPenaltyAddHistory(C,S),T||(f+=this.finderPenaltyCountPatterns(S)*Be.PENALTY_N3),T=this.modules[I][g],C=1);f+=this.finderPenaltyTerminateAndCount(T,C,S)*Be.PENALTY_N3}for(let g=0;g<this.size-1;g++)for(let T=0;T<this.size-1;T++){const C=this.modules[g][T];C==this.modules[g][T+1]&&C==this.modules[g+1][T]&&C==this.modules[g+1][T+1]&&(f+=Be.PENALTY_N2)}let h=0;for(const g of this.modules)h=g.reduce((T,C)=>T+(C?1:0),h);const m=this.size*this.size,w=Math.ceil(Math.abs(h*20-m*10)/m)-1;return i(0<=w&&w<=9),f+=w*Be.PENALTY_N4,i(0<=f&&f<=2568888),f}getAlignmentPatternPositions(){if(this.version==1)return[];{const f=Math.floor(this.version/7)+2,h=this.version==32?26:Math.ceil((this.version*4+4)/(f*2-2))*2;let m=[6];for(let w=this.size-7;m.length<f;w-=h)m.splice(1,0,w);return m}}static getNumRawDataModules(f){if(f<Be.MIN_VERSION||f>Be.MAX_VERSION)throw new RangeError("Version number out of range");let h=(16*f+128)*f+64;if(f>=2){const m=Math.floor(f/7)+2;h-=(25*m-10)*m-55,f>=7&&(h-=36)}return i(208<=h&&h<=29648),h}static getNumDataCodewords(f,h){return Math.floor(Be.getNumRawDataModules(f)/8)-Be.ECC_CODEWORDS_PER_BLOCK[h.ordinal][f]*Be.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][f]}static reedSolomonComputeDivisor(f){if(f<1||f>255)throw new RangeError("Degree out of range");let h=[];for(let w=0;w<f-1;w++)h.push(0);h.push(1);let m=1;for(let w=0;w<f;w++){for(let g=0;g<h.length;g++)h[g]=Be.reedSolomonMultiply(h[g],m),g+1<h.length&&(h[g]^=h[g+1]);m=Be.reedSolomonMultiply(m,2)}return h}static reedSolomonComputeRemainder(f,h){let m=h.map(w=>0);for(const w of f){const g=w^m.shift();m.push(0),h.forEach((T,C)=>m[C]^=Be.reedSolomonMultiply(T,g))}return m}static reedSolomonMultiply(f,h){if(f>>>8||h>>>8)throw new RangeError("Byte out of range");let m=0;for(let w=7;w>=0;w--)m=m<<1^(m>>>7)*285,m^=(h>>>w&1)*f;return i(m>>>8==0),m}finderPenaltyCountPatterns(f){const h=f[1];i(h<=this.size*3);const m=h>0&&f[2]==h&&f[3]==h*3&&f[4]==h&&f[5]==h;return(m&&f[0]>=h*4&&f[6]>=h?1:0)+(m&&f[6]>=h*4&&f[0]>=h?1:0)}finderPenaltyTerminateAndCount(f,h,m){return f&&(this.finderPenaltyAddHistory(h,m),h=0),h+=this.size,this.finderPenaltyAddHistory(h,m),this.finderPenaltyCountPatterns(m)}finderPenaltyAddHistory(f,h){h[0]==0&&(f+=this.size),h.pop(),h.unshift(f)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=e;function t(c,f,h){if(f<0||f>31||c>>>f)throw new RangeError("Value out of range");for(let m=f-1;m>=0;m--)h.push(c>>>m&1)}function r(c,f){return(c>>>f&1)!=0}function i(c){if(!c)throw new Error("Assertion error")}const a=class _t{constructor(f,h,m){if(this.mode=f,this.numChars=h,this.bitData=m,h<0)throw new RangeError("Invalid argument");this.bitData=m.slice()}static makeBytes(f){let h=[];for(const m of f)t(m,8,h);return new _t(_t.Mode.BYTE,f.length,h)}static makeNumeric(f){if(!_t.isNumeric(f))throw new RangeError("String contains non-numeric characters");let h=[];for(let m=0;m<f.length;){const w=Math.min(f.length-m,3);t(parseInt(f.substring(m,m+w),10),w*3+1,h),m+=w}return new _t(_t.Mode.NUMERIC,f.length,h)}static makeAlphanumeric(f){if(!_t.isAlphanumeric(f))throw new RangeError("String contains unencodable characters in alphanumeric mode");let h=[],m;for(m=0;m+2<=f.length;m+=2){let w=_t.ALPHANUMERIC_CHARSET.indexOf(f.charAt(m))*45;w+=_t.ALPHANUMERIC_CHARSET.indexOf(f.charAt(m+1)),t(w,11,h)}return m<f.length&&t(_t.ALPHANUMERIC_CHARSET.indexOf(f.charAt(m)),6,h),new _t(_t.Mode.ALPHANUMERIC,f.length,h)}static makeSegments(f){return f==""?[]:_t.isNumeric(f)?[_t.makeNumeric(f)]:_t.isAlphanumeric(f)?[_t.makeAlphanumeric(f)]:[_t.makeBytes(_t.toUtf8ByteArray(f))]}static makeEci(f){let h=[];if(f<0)throw new RangeError("ECI assignment value out of range");if(f<128)t(f,8,h);else if(f<16384)t(2,2,h),t(f,14,h);else if(f<1e6)t(6,3,h),t(f,21,h);else throw new RangeError("ECI assignment value out of range");return new _t(_t.Mode.ECI,0,h)}static isNumeric(f){return _t.NUMERIC_REGEX.test(f)}static isAlphanumeric(f){return _t.ALPHANUMERIC_REGEX.test(f)}getData(){return this.bitData.slice()}static getTotalBits(f,h){let m=0;for(const w of f){const g=w.mode.numCharCountBits(h);if(w.numChars>=1<<g)return 1/0;m+=4+g+w.bitData.length}return m}static toUtf8ByteArray(f){f=encodeURI(f);let h=[];for(let m=0;m<f.length;m++)f.charAt(m)!="%"?h.push(f.charCodeAt(m)):(h.push(parseInt(f.substring(m+1,m+3),16)),m+=2);return h}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let l=a;n.QrSegment=a})(Xi||(Xi={}));(n=>{(e=>{const t=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(n.QrCode||(n.QrCode={}))})(Xi||(Xi={}));(n=>{(e=>{const t=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(n.QrSegment||(n.QrSegment={}))})(Xi||(Xi={}));var na=Xi;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var iL={L:na.QrCode.Ecc.LOW,M:na.QrCode.Ecc.MEDIUM,Q:na.QrCode.Ecc.QUARTILE,H:na.QrCode.Ecc.HIGH},oS=128,aS="L",lS="#FFFFFF",uS="#000000",cS=!1,dS=1,oL=4,aL=0,lL=.1;function fS(n,e=0){const t=[];return n.forEach(function(r,i){let a=null;r.forEach(function(l,c){if(!l&&a!==null){t.push(`M${a+e} ${i+e}h${c-a}v1H${a+e}z`),a=null;return}if(c===r.length-1){if(!l)return;a===null?t.push(`M${c+e},${i+e} h1v1H${c+e}z`):t.push(`M${a+e},${i+e} h${c+1-a}v1H${a+e}z`);return}l&&a===null&&(a=c)})}),t.join("")}function hS(n,e){return n.slice().map((t,r)=>r<e.y||r>=e.y+e.h?t:t.map((i,a)=>a<e.x||a>=e.x+e.w?i:!1))}function uL(n,e,t,r){if(r==null)return null;const i=n.length+t*2,a=Math.floor(e*lL),l=i/e,c=(r.width||a)*l,f=(r.height||a)*l,h=r.x==null?n.length/2-c/2:r.x*l,m=r.y==null?n.length/2-f/2:r.y*l,w=r.opacity==null?1:r.opacity;let g=null;if(r.excavate){let C=Math.floor(h),S=Math.floor(m),I=Math.ceil(c+h-C),A=Math.ceil(f+m-S);g={x:C,y:S,w:I,h:A}}const T=r.crossOrigin;return{x:h,y:m,h:f,w:c,excavation:g,opacity:w,crossOrigin:T}}function cL(n,e){return e!=null?Math.max(Math.floor(e),0):n?oL:aL}function pS({value:n,level:e,minVersion:t,includeMargin:r,marginSize:i,imageSettings:a,size:l,boostLevel:c}){let f=nt.useMemo(()=>{const C=(Array.isArray(n)?n:[n]).reduce((S,I)=>(S.push(...na.QrSegment.makeSegments(I)),S),[]);return na.QrCode.encodeSegments(C,iL[e],t,void 0,void 0,c)},[n,e,t,c]);const{cells:h,margin:m,numCells:w,calculatedImageSettings:g}=nt.useMemo(()=>{let T=f.getModules();const C=cL(r,i),S=T.length+C*2,I=uL(T,l,C,a);return{cells:T,margin:C,numCells:S,calculatedImageSettings:I}},[f,l,a,r,i]);return{qrcode:f,margin:m,cells:h,numCells:w,calculatedImageSettings:g}}var dL=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),fL=nt.forwardRef(function(e,t){const r=e,{value:i,size:a=oS,level:l=aS,bgColor:c=lS,fgColor:f=uS,includeMargin:h=cS,minVersion:m=dS,boostLevel:w,marginSize:g,imageSettings:T}=r,S=ym(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:I}=S,A=ym(S,["style"]),k=T==null?void 0:T.src,L=nt.useRef(null),z=nt.useRef(null),W=nt.useCallback(ee=>{L.current=ee,typeof t=="function"?t(ee):t&&(t.current=ee)},[t]),[X,D]=nt.useState(!1),{margin:N,cells:O,numCells:V,calculatedImageSettings:F}=pS({value:i,level:l,minVersion:m,boostLevel:w,includeMargin:h,marginSize:g,imageSettings:T,size:a});nt.useEffect(()=>{if(L.current!=null){const ee=L.current,se=ee.getContext("2d");if(!se)return;let ce=O;const de=z.current,G=F!=null&&de!==null&&de.complete&&de.naturalHeight!==0&&de.naturalWidth!==0;G&&F.excavation!=null&&(ce=hS(O,F.excavation));const te=window.devicePixelRatio||1;ee.height=ee.width=a*te;const le=a/V*te;se.scale(le,le),se.fillStyle=c,se.fillRect(0,0,V,V),se.fillStyle=f,dL?se.fill(new Path2D(fS(ce,N))):O.forEach(function(U,Z){U.forEach(function(pe,Ce){pe&&se.fillRect(Ce+N,Z+N,1,1)})}),F&&(se.globalAlpha=F.opacity),G&&se.drawImage(de,F.x+N,F.y+N,F.w,F.h)}}),nt.useEffect(()=>{D(!1)},[k]);const P=gm({height:a,width:a},I);let j=null;return k!=null&&(j=nt.createElement("img",{src:k,key:k,style:{display:"none"},onLoad:()=>{D(!0)},ref:z,crossOrigin:F==null?void 0:F.crossOrigin})),nt.createElement(nt.Fragment,null,nt.createElement("canvas",gm({style:P,height:a,width:a,ref:W,role:"img"},A)),j)});fL.displayName="QRCodeCanvas";var mS=nt.forwardRef(function(e,t){const r=e,{value:i,size:a=oS,level:l=aS,bgColor:c=lS,fgColor:f=uS,includeMargin:h=cS,minVersion:m=dS,boostLevel:w,title:g,marginSize:T,imageSettings:C}=r,S=ym(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:I,cells:A,numCells:k,calculatedImageSettings:L}=pS({value:i,level:l,minVersion:m,boostLevel:w,includeMargin:h,marginSize:T,imageSettings:C,size:a});let z=A,W=null;C!=null&&L!=null&&(L.excavation!=null&&(z=hS(A,L.excavation)),W=nt.createElement("image",{href:C.src,height:L.h,width:L.w,x:L.x+I,y:L.y+I,preserveAspectRatio:"none",opacity:L.opacity,crossOrigin:L.crossOrigin}));const X=fS(z,I);return nt.createElement("svg",gm({height:a,width:a,viewBox:`0 0 ${k} ${k}`,ref:t,role:"img"},S),!!g&&nt.createElement("title",null,g),nt.createElement("path",{fill:c,d:`M0,0 h${k}v${k}H0z`,shapeRendering:"crispEdges"}),nt.createElement("path",{fill:f,d:X,shapeRendering:"crispEdges"}),W)});mS.displayName="QRCodeSVG";const hL=()=>{const n=fu(),e="/nua/",t=e.endsWith("/")?e:`${e}/`,r=`${window.location.origin}${t}#`;return v.jsxs("div",{className:"container mx-auto px-4 py-8",children:[v.jsx("h1",{className:"text-3xl font-bold text-amber-800 mb-6 text-center",children:"Masa QR Kodlar"}),v.jsx("p",{className:"text-gray-600 mb-8 text-center",children:"Her masa iin QR kodlar aada listelenmitir. Bu kodlar yazdrp masalara yerletirebilirsiniz."}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:fk.map(i=>v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 flex flex-col items-center",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:i.name}),v.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:v.jsx(mS,{value:`${r}/menu/${i.qrCode}`,size:180,bgColor:"#ffffff",fgColor:"#000000",level:"H",includeMargin:!0})}),v.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["URL: ",`${r}/menu/${i.qrCode}`]}),v.jsx("button",{onClick:()=>n(`/menu/${i.qrCode}`),className:"bg-amber-500 hover:bg-amber-600 text-white py-2 px-4 rounded-md transition-colors",children:"Meny Grntle"})]},i.id))})]})},jl=E.forwardRef(({className:n,...e},t)=>v.jsx("div",{ref:t,className:be("rounded-xl border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",n),...e}));jl.displayName="Card";const Vl=E.forwardRef(({className:n,...e},t)=>v.jsx("div",{ref:t,className:be("flex flex-col space-y-1.5 p-6",n),...e}));Vl.displayName="CardHeader";const Fl=E.forwardRef(({className:n,...e},t)=>v.jsx("div",{ref:t,className:be("font-semibold leading-none tracking-tight",n),...e}));Fl.displayName="CardTitle";const $l=E.forwardRef(({className:n,...e},t)=>v.jsx("div",{ref:t,className:be("text-sm text-zinc-500 dark:text-zinc-400",n),...e}));$l.displayName="CardDescription";const zl=E.forwardRef(({className:n,...e},t)=>v.jsx("div",{ref:t,className:be("p-6 pt-0",n),...e}));zl.displayName="CardContent";const pL=E.forwardRef(({className:n,...e},t)=>v.jsx("div",{ref:t,className:be("flex items-center p-6 pt-0",n),...e}));pL.displayName="CardFooter";const ny=ty("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:focus-visible:ring-zinc-300",{variants:{variant:{default:"bg-zinc-900 text-zinc-50 shadow hover:bg-zinc-900/90 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/90",destructive:"bg-red-500 text-zinc-50 shadow-sm hover:bg-red-500/90 dark:bg-red-900 dark:text-zinc-50 dark:hover:bg-red-900/90",outline:"border border-zinc-200 bg-white shadow-sm hover:bg-zinc-100 hover:text-zinc-900 dark:border-zinc-800 dark:bg-zinc-950 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",secondary:"bg-zinc-100 text-zinc-900 shadow-sm hover:bg-zinc-100/80 dark:bg-zinc-800 dark:text-zinc-50 dark:hover:bg-zinc-800/80",ghost:"hover:bg-zinc-100 hover:text-zinc-900 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",link:"text-zinc-900 underline-offset-4 hover:underline dark:text-zinc-50"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),os=E.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},a)=>{const l=r?Dk:"button";return v.jsx(l,{className:be(ny({variant:e,size:t,className:n})),ref:a,...i})});os.displayName="Button";var wf="Dialog",[gS,yS]=ci(wf),[mL,mr]=gS(wf),vS=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:a,modal:l=!0}=n,c=E.useRef(null),f=E.useRef(null),[h,m]=wa({prop:r,defaultProp:i??!1,onChange:a,caller:wf});return v.jsx(mL,{scope:e,triggerRef:c,contentRef:f,contentId:Xs(),titleId:Xs(),descriptionId:Xs(),open:h,onOpenChange:m,onOpenToggle:E.useCallback(()=>m(w=>!w),[m]),modal:l,children:t})};vS.displayName=wf;var wS="DialogTrigger",_S=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=mr(wS,t),a=it(e,i.triggerRef);return v.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":iy(i.open),...r,ref:a,onClick:Me(n.onClick,i.onOpenToggle)})});_S.displayName=wS;var ry="DialogPortal",[gL,xS]=gS(ry,{forceMount:void 0}),ES=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,a=mr(ry,e);return v.jsx(gL,{scope:e,forceMount:t,children:E.Children.map(r,l=>v.jsx(Da,{present:t||a.open,children:v.jsx(hf,{asChild:!0,container:i,children:l})}))})};ES.displayName=ry;var Vd="DialogOverlay",CS=E.forwardRef((n,e)=>{const t=xS(Vd,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=mr(Vd,n.__scopeDialog);return a.modal?v.jsx(Da,{present:r||a.open,children:v.jsx(vL,{...i,ref:e})}):null});CS.displayName=Vd;var yL=ya("DialogOverlay.RemoveScroll"),vL=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=mr(Vd,t);return v.jsx(Qg,{as:yL,allowPinchZoom:!0,shards:[i.contentRef],children:v.jsx(Fe.div,{"data-state":iy(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ji="DialogContent",SS=E.forwardRef((n,e)=>{const t=xS(Ji,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=mr(Ji,n.__scopeDialog);return v.jsx(Da,{present:r||a.open,children:a.modal?v.jsx(wL,{...i,ref:e}):v.jsx(_L,{...i,ref:e})})});SS.displayName=Ji;var wL=E.forwardRef((n,e)=>{const t=mr(Ji,n.__scopeDialog),r=E.useRef(null),i=it(e,t.contentRef,r);return E.useEffect(()=>{const a=r.current;if(a)return DC(a)},[]),v.jsx(TS,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(n.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Me(n.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&a.preventDefault()}),onFocusOutside:Me(n.onFocusOutside,a=>a.preventDefault())})}),_L=E.forwardRef((n,e)=>{const t=mr(Ji,n.__scopeDialog),r=E.useRef(!1),i=E.useRef(!1);return v.jsx(TS,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,c;(l=n.onCloseAutoFocus)==null||l.call(n,a),a.defaultPrevented||(r.current||(c=t.triggerRef.current)==null||c.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var f,h;(f=n.onInteractOutside)==null||f.call(n,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;((h=t.triggerRef.current)==null?void 0:h.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),TS=E.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=n,c=mr(Ji,t),f=E.useRef(null),h=it(e,f);return lC(),v.jsxs(v.Fragment,{children:[v.jsx(jg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:v.jsx(uf,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":iy(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx(EL,{titleId:c.titleId}),v.jsx(SL,{contentRef:f,descriptionId:c.descriptionId})]})]})}),sy="DialogTitle",IS=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=mr(sy,t);return v.jsx(Fe.h2,{id:i.titleId,...r,ref:e})});IS.displayName=sy;var bS="DialogDescription",AS=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=mr(bS,t);return v.jsx(Fe.p,{id:i.descriptionId,...r,ref:e})});AS.displayName=bS;var RS="DialogClose",NS=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=mr(RS,t);return v.jsx(Fe.button,{type:"button",...r,ref:e,onClick:Me(n.onClick,()=>i.onOpenChange(!1))})});NS.displayName=RS;function iy(n){return n?"open":"closed"}var PS="DialogTitleWarning",[xL,kS]=Pk(PS,{contentName:Ji,titleName:sy,docsSlug:"dialog"}),EL=({titleId:n})=>{const e=kS(PS),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},CL="DialogDescriptionWarning",SL=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kS(CL).contentName}}.`;return E.useEffect(()=>{var a;const i=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},DS=vS,MS=_S,OS=ES,oy=CS,ay=SS,ly=IS,uy=AS,cy=NS;const I_=DS,b_=MS,TL=OS,LS=E.forwardRef(({className:n,...e},t)=>v.jsx(oy,{ref:t,className:be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));LS.displayName=oy.displayName;const vm=E.forwardRef(({className:n,children:e,...t},r)=>v.jsxs(TL,{children:[v.jsx(LS,{}),v.jsxs(ay,{ref:r,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-zinc-800 dark:bg-zinc-950",n),...t,children:[e,v.jsxs(cy,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-zinc-100 data-[state=open]:text-zinc-500 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 dark:data-[state=open]:bg-zinc-800 dark:data-[state=open]:text-zinc-400",children:[v.jsx(C1,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vm.displayName=ay.displayName;const wm=({className:n,...e})=>v.jsx("div",{className:be("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});wm.displayName="DialogHeader";const _m=({className:n,...e})=>v.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});_m.displayName="DialogFooter";const xm=E.forwardRef(({className:n,...e},t)=>v.jsx(ly,{ref:t,className:be("text-lg font-semibold leading-none tracking-tight",n),...e}));xm.displayName=ly.displayName;const Em=E.forwardRef(({className:n,...e},t)=>v.jsx(uy,{ref:t,className:be("text-sm text-zinc-500 dark:text-zinc-400",n),...e}));Em.displayName=uy.displayName;const ut=E.forwardRef(({className:n,type:e,...t},r)=>v.jsx("input",{type:e,className:be("flex h-9 w-full rounded-md border border-zinc-200 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-zinc-950 placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:file:text-zinc-50 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",n),ref:r,...t}));ut.displayName="Input";var IL="Label",jS=E.forwardRef((n,e)=>v.jsx(Fe.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));jS.displayName=IL;var VS=jS;const bL=ty("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),He=E.forwardRef(({className:n,...e},t)=>v.jsx(VS,{ref:t,className:be(bL(),n),...e}));He.displayName=VS.displayName;const Cm=E.forwardRef(({className:n,...e},t)=>v.jsx("div",{className:"relative w-full overflow-auto",children:v.jsx("table",{ref:t,className:be("w-full caption-bottom text-sm",n),...e})}));Cm.displayName="Table";const Sm=E.forwardRef(({className:n,...e},t)=>v.jsx("thead",{ref:t,className:be("[&_tr]:border-b",n),...e}));Sm.displayName="TableHeader";const Tm=E.forwardRef(({className:n,...e},t)=>v.jsx("tbody",{ref:t,className:be("[&_tr:last-child]:border-0",n),...e}));Tm.displayName="TableBody";const AL=E.forwardRef(({className:n,...e},t)=>v.jsx("tfoot",{ref:t,className:be("border-t bg-zinc-100/50 font-medium [&>tr]:last:border-b-0 dark:bg-zinc-800/50",n),...e}));AL.displayName="TableFooter";const Ul=E.forwardRef(({className:n,...e},t)=>v.jsx("tr",{ref:t,className:be("border-b transition-colors hover:bg-zinc-100/50 data-[state=selected]:bg-zinc-100 dark:hover:bg-zinc-800/50 dark:data-[state=selected]:bg-zinc-800",n),...e}));Ul.displayName="TableRow";const Us=E.forwardRef(({className:n,...e},t)=>v.jsx("th",{ref:t,className:be("h-10 px-2 text-left align-middle font-medium text-zinc-500 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px] dark:text-zinc-400",n),...e}));Us.displayName="TableHead";const Bs=E.forwardRef(({className:n,...e},t)=>v.jsx("td",{ref:t,className:be("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e}));Bs.displayName="TableCell";const RL=E.forwardRef(({className:n,...e},t)=>v.jsx("caption",{ref:t,className:be("mt-4 text-sm text-zinc-500 dark:text-zinc-400",n),...e}));RL.displayName="TableCaption";var Ep="rovingFocusGroup.onEntryFocus",NL={bubbles:!1,cancelable:!0},xu="RovingFocusGroup",[Im,FS,PL]=Og(xu),[kL,$S]=ci(xu,[PL]),[DL,ML]=kL(xu),zS=E.forwardRef((n,e)=>v.jsx(Im.Provider,{scope:n.__scopeRovingFocusGroup,children:v.jsx(Im.Slot,{scope:n.__scopeRovingFocusGroup,children:v.jsx(OL,{...n,ref:e})})}));zS.displayName=xu;var OL=E.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...w}=n,g=E.useRef(null),T=it(e,g),C=Lg(a),[S,I]=wa({prop:l,defaultProp:c??null,onChange:f,caller:xu}),[A,k]=E.useState(!1),L=Un(h),z=FS(t),W=E.useRef(!1),[X,D]=E.useState(0);return E.useEffect(()=>{const N=g.current;if(N)return N.addEventListener(Ep,L),()=>N.removeEventListener(Ep,L)},[L]),v.jsx(DL,{scope:t,orientation:r,dir:C,loop:i,currentTabStopId:S,onItemFocus:E.useCallback(N=>I(N),[I]),onItemShiftTab:E.useCallback(()=>k(!0),[]),onFocusableItemAdd:E.useCallback(()=>D(N=>N+1),[]),onFocusableItemRemove:E.useCallback(()=>D(N=>N-1),[]),children:v.jsx(Fe.div,{tabIndex:A||X===0?-1:0,"data-orientation":r,...w,ref:T,style:{outline:"none",...n.style},onMouseDown:Me(n.onMouseDown,()=>{W.current=!0}),onFocus:Me(n.onFocus,N=>{const O=!W.current;if(N.target===N.currentTarget&&O&&!A){const V=new CustomEvent(Ep,NL);if(N.currentTarget.dispatchEvent(V),!V.defaultPrevented){const F=z().filter(ce=>ce.focusable),P=F.find(ce=>ce.active),j=F.find(ce=>ce.id===S),se=[P,j,...F].filter(Boolean).map(ce=>ce.ref.current);HS(se,m)}}W.current=!1}),onBlur:Me(n.onBlur,()=>k(!1))})})}),US="RovingFocusGroupItem",BS=E.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:a,children:l,...c}=n,f=Xs(),h=a||f,m=ML(US,t),w=m.currentTabStopId===h,g=FS(t),{onFocusableItemAdd:T,onFocusableItemRemove:C,currentTabStopId:S}=m;return E.useEffect(()=>{if(r)return T(),()=>C()},[r,T,C]),v.jsx(Im.ItemSlot,{scope:t,id:h,focusable:r,active:i,children:v.jsx(Fe.span,{tabIndex:w?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:Me(n.onMouseDown,I=>{r?m.onItemFocus(h):I.preventDefault()}),onFocus:Me(n.onFocus,()=>m.onItemFocus(h)),onKeyDown:Me(n.onKeyDown,I=>{if(I.key==="Tab"&&I.shiftKey){m.onItemShiftTab();return}if(I.target!==I.currentTarget)return;const A=VL(I,m.orientation,m.dir);if(A!==void 0){if(I.metaKey||I.ctrlKey||I.altKey||I.shiftKey)return;I.preventDefault();let L=g().filter(z=>z.focusable).map(z=>z.ref.current);if(A==="last")L.reverse();else if(A==="prev"||A==="next"){A==="prev"&&L.reverse();const z=L.indexOf(I.currentTarget);L=m.loop?FL(L,z+1):L.slice(z+1)}setTimeout(()=>HS(L))}}),children:typeof l=="function"?l({isCurrentTabStop:w,hasTabStop:S!=null}):l})})});BS.displayName=US;var LL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function jL(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function VL(n,e,t){const r=jL(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return LL[r]}function HS(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function FL(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var $L=zS,zL=BS,_f="Tabs",[UL,d9]=ci(_f,[$S]),WS=$S(),[BL,dy]=UL(_f),KS=E.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:a,orientation:l="horizontal",dir:c,activationMode:f="automatic",...h}=n,m=Lg(c),[w,g]=wa({prop:r,onChange:i,defaultProp:a??"",caller:_f});return v.jsx(BL,{scope:t,baseId:Xs(),value:w,onValueChange:g,orientation:l,dir:m,activationMode:f,children:v.jsx(Fe.div,{dir:m,"data-orientation":l,...h,ref:e})})});KS.displayName=_f;var qS="TabsList",QS=E.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=n,a=dy(qS,t),l=WS(t);return v.jsx($L,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:r,children:v.jsx(Fe.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});QS.displayName=qS;var GS="TabsTrigger",YS=E.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...a}=n,l=dy(GS,t),c=WS(t),f=ZS(l.baseId,r),h=eT(l.baseId,r),m=r===l.value;return v.jsx(zL,{asChild:!0,...c,focusable:!i,active:m,children:v.jsx(Fe.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:f,...a,ref:e,onMouseDown:Me(n.onMouseDown,w=>{!i&&w.button===0&&w.ctrlKey===!1?l.onValueChange(r):w.preventDefault()}),onKeyDown:Me(n.onKeyDown,w=>{[" ","Enter"].includes(w.key)&&l.onValueChange(r)}),onFocus:Me(n.onFocus,()=>{const w=l.activationMode!=="manual";!m&&!i&&w&&l.onValueChange(r)})})})});YS.displayName=GS;var XS="TabsContent",JS=E.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:a,...l}=n,c=dy(XS,t),f=ZS(c.baseId,r),h=eT(c.baseId,r),m=r===c.value,w=E.useRef(m);return E.useEffect(()=>{const g=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(g)},[]),v.jsx(Da,{present:i||m,children:({present:g})=>v.jsx(Fe.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":f,hidden:!g,id:h,tabIndex:0,...l,ref:e,style:{...n.style,animationDuration:w.current?"0s":void 0},children:g&&a})})});JS.displayName=XS;function ZS(n,e){return`${n}-trigger-${e}`}function eT(n,e){return`${n}-content-${e}`}var HL=KS,tT=QS,nT=YS,rT=JS;const WL=HL,sT=E.forwardRef(({className:n,...e},t)=>v.jsx(tT,{ref:t,className:be("inline-flex h-9 items-center justify-center rounded-lg bg-zinc-100 p-1 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400",n),...e}));sT.displayName=tT.displayName;const bm=E.forwardRef(({className:n,...e},t)=>v.jsx(nT,{ref:t,className:be("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-zinc-950 data-[state=active]:shadow dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300 dark:data-[state=active]:bg-zinc-950 dark:data-[state=active]:text-zinc-50",n),...e}));bm.displayName=nT.displayName;const Am=E.forwardRef(({className:n,...e},t)=>v.jsx(rT,{ref:t,className:be("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300",n),...e}));Am.displayName=rT.displayName;var KL="Separator",A_="horizontal",qL=["horizontal","vertical"],iT=E.forwardRef((n,e)=>{const{decorative:t,orientation:r=A_,...i}=n,a=QL(r)?r:A_,c=t?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return v.jsx(Fe.div,{"data-orientation":a,...c,...i,ref:e})});iT.displayName=KL;function QL(n){return qL.includes(n)}var oT=iT;const Rm=E.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...r},i)=>v.jsx(oT,{ref:i,decorative:t,orientation:e,className:be("shrink-0 bg-zinc-200 dark:bg-zinc-800",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...r}));Rm.displayName=oT.displayName;const ar=E.forwardRef(({className:n,...e},t)=>v.jsx("textarea",{className:be("flex min-h-[60px] w-full rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",n),ref:t,...e}));ar.displayName="Textarea";var aT="AlertDialog",[GL,f9]=ci(aT,[yS]),ps=yS(),lT=n=>{const{__scopeAlertDialog:e,...t}=n,r=ps(e);return v.jsx(DS,{...r,...t,modal:!0})};lT.displayName=aT;var YL="AlertDialogTrigger",uT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ps(t);return v.jsx(MS,{...i,...r,ref:e})});uT.displayName=YL;var XL="AlertDialogPortal",cT=n=>{const{__scopeAlertDialog:e,...t}=n,r=ps(e);return v.jsx(OS,{...r,...t})};cT.displayName=XL;var JL="AlertDialogOverlay",dT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ps(t);return v.jsx(oy,{...i,...r,ref:e})});dT.displayName=JL;var la="AlertDialogContent",[ZL,ej]=GL(la),tj=Ok("AlertDialogContent"),fT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...i}=n,a=ps(t),l=E.useRef(null),c=it(e,l),f=E.useRef(null);return v.jsx(xL,{contentName:la,titleName:hT,docsSlug:"alert-dialog",children:v.jsx(ZL,{scope:t,cancelRef:f,children:v.jsxs(ay,{role:"alertdialog",...a,...i,ref:c,onOpenAutoFocus:Me(i.onOpenAutoFocus,h=>{var m;h.preventDefault(),(m=f.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[v.jsx(tj,{children:r}),v.jsx(rj,{contentRef:l})]})})})});fT.displayName=la;var hT="AlertDialogTitle",pT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ps(t);return v.jsx(ly,{...i,...r,ref:e})});pT.displayName=hT;var mT="AlertDialogDescription",gT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ps(t);return v.jsx(uy,{...i,...r,ref:e})});gT.displayName=mT;var nj="AlertDialogAction",yT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ps(t);return v.jsx(cy,{...i,...r,ref:e})});yT.displayName=nj;var vT="AlertDialogCancel",wT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:i}=ej(vT,t),a=ps(t),l=it(e,i);return v.jsx(cy,{...a,...r,ref:l})});wT.displayName=vT;var rj=({contentRef:n})=>{const e=`\`${la}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${la}\` by passing a \`${mT}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${la}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return E.useEffect(()=>{var r;document.getElementById((r=n.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},sj=lT,ij=uT,oj=cT,_T=dT,xT=fT,ET=yT,CT=wT,ST=pT,TT=gT;const R_=sj,N_=ij,aj=oj,IT=E.forwardRef(({className:n,...e},t)=>v.jsx(_T,{className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));IT.displayName=_T.displayName;const Nm=E.forwardRef(({className:n,...e},t)=>v.jsxs(aj,{children:[v.jsx(IT,{}),v.jsx(xT,{ref:t,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-zinc-800 dark:bg-zinc-950",n),...e})]}));Nm.displayName=xT.displayName;const Pm=({className:n,...e})=>v.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",n),...e});Pm.displayName="AlertDialogHeader";const km=({className:n,...e})=>v.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});km.displayName="AlertDialogFooter";const Dm=E.forwardRef(({className:n,...e},t)=>v.jsx(ST,{ref:t,className:be("text-lg font-semibold",n),...e}));Dm.displayName=ST.displayName;const Mm=E.forwardRef(({className:n,...e},t)=>v.jsx(TT,{ref:t,className:be("text-sm text-zinc-500 dark:text-zinc-400",n),...e}));Mm.displayName=TT.displayName;const Om=E.forwardRef(({className:n,...e},t)=>v.jsx(ET,{ref:t,className:be(ny(),n),...e}));Om.displayName=ET.displayName;const Lm=E.forwardRef(({className:n,...e},t)=>v.jsx(CT,{ref:t,className:be(ny({variant:"outline"}),"mt-2 sm:mt-0",n),...e}));Lm.displayName=CT.displayName;const lj=()=>{const[n,e]=E.useState([]),[t,r]=E.useState([]),[i,a]=E.useState({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:"",description_tr:"",description_en:"",description_ru:"",description_de:"",description_fr:"",price:"",image:"",category:""}),[l,c]=E.useState({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:""}),[f,h]=E.useState(null),[m,w]=E.useState(null),[g,T]=E.useState({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:"",description_tr:"",description_en:"",description_ru:"",description_de:"",description_fr:"",price:"",image:"",category:""}),[C,S]=E.useState({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:""}),{toast:I}=Xg(),{t:A,i18n:k}=lf(),L=async()=>{try{const P=An(xt,"menuItems"),ee=(await ga(P)).docs.map(G=>{const te=G.data();return{id:G.id,name_tr:te.name_tr||"",name_en:te.name_en||"",name_ru:te.name_ru||"",name_de:te.name_de||"",name_fr:te.name_fr||"",description_tr:te.description_tr||"",description_en:te.description_en||"",description_ru:te.description_ru||"",description_de:te.description_de||"",description_fr:te.description_fr||"",price:te.price||0,image:te.image||"",category:te.category||""}});e(ee);const se=An(xt,"categories"),de=(await ga(se)).docs.map(G=>{const te=G.data();return{id:G.id,name_tr:te.name_tr||"",name_en:te.name_en||"",name_ru:te.name_ru||"",name_de:te.name_de||"",name_fr:te.name_fr||""}});r(de)}catch(P){console.error("Error fetching menu data:",P),I({title:A("error"),description:A("errorFetchingMenuData"),variant:"destructive"})}};E.useEffect(()=>{L()},[]);const z=async()=>{try{if(!i.name_tr||!i.price||!i.category){I({title:A("warning"),description:A("pleaseFillNamePriceCategory"),variant:"destructive"});return}await Rd(An(xt,"menuItems"),{name_tr:i.name_tr,name_en:i.name_en,name_ru:i.name_ru,name_de:i.name_de,name_fr:i.name_fr,description_tr:i.description_tr,description_en:i.description_en,description_ru:i.description_ru,description_de:i.description_de,description_fr:i.description_fr,price:parseFloat(i.price),image:i.image,category:i.category}),a({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:"",description_tr:"",description_en:"",description_ru:"",description_de:"",description_fr:"",price:"",image:"",category:""}),await L(),I({title:A("success"),description:A("itemAddedSuccessfully")})}catch(P){console.error("Error adding menu item:",P),I({title:A("error"),description:A("errorAddingMenuItem"),variant:"destructive"})}},W=async()=>{try{if(!l.name_tr){I({title:A("warning"),description:A("pleaseFillCategoryName"),variant:"destructive"});return}await Rd(An(xt,"categories"),{name_tr:l.name_tr,name_en:l.name_en,name_ru:l.name_ru,name_de:l.name_de,name_fr:l.name_fr}),c({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:""}),await L(),I({title:A("success"),description:A("categoryAddedSuccessfully")})}catch(P){console.error("Error adding category:",P),I({title:A("error"),description:A("errorAddingCategory"),variant:"destructive"})}},X=async P=>{try{await Ww(Pr(xt,"menuItems",P)),await L(),I({title:A("success"),description:A("itemDeletedSuccessfully")})}catch(j){console.error("Error deleting menu item:",j),I({title:A("error"),description:A("errorDeletingMenuItem"),variant:"destructive"})}},D=async P=>{try{await Ww(Pr(xt,"categories",P)),await L(),I({title:A("success"),description:A("categoryDeletedSuccessfully")})}catch(j){console.error("Error deleting category:",j),I({title:A("error"),description:A("errorDeletingCategory"),variant:"destructive"})}},N=P=>{h(P),T({name_tr:P.name_tr,name_en:P.name_en||"",name_ru:P.name_ru||"",name_de:P.name_de||"",name_fr:P.name_fr||"",description_tr:P.description_tr,description_en:P.description_en||"",description_ru:P.description_ru||"",description_de:P.description_de||"",description_fr:P.description_fr||"",price:P.price.toString(),image:P.image,category:P.category})},O=async()=>{if(f)try{if(!g.name_tr||!g.price||!g.category){I({title:A("warning"),description:A("pleaseFillNamePriceCategory"),variant:"destructive"});return}const P=Pr(xt,"menuItems",f.id);await Bi(P,{name_tr:g.name_tr,name_en:g.name_en,name_ru:g.name_ru,name_de:g.name_de,name_fr:g.name_fr,description_tr:g.description_tr,description_en:g.description_en,description_ru:g.description_ru,description_de:g.description_de,description_fr:g.description_fr,price:parseFloat(g.price),image:g.image,category:g.category}),h(null),T({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:"",description_tr:"",description_en:"",description_ru:"",description_de:"",description_fr:"",price:"",image:"",category:""}),await L(),I({title:A("success"),description:A("itemUpdatedSuccessfully")})}catch(P){console.error("Error updating menu item:",P),I({title:A("error"),description:A("errorUpdatingMenuItem"),variant:"destructive"})}},V=P=>{w(P),S({name_tr:P.name_tr,name_en:P.name_en||"",name_ru:P.name_ru||"",name_de:P.name_de||"",name_fr:P.name_fr||""})},F=async()=>{if(m)try{if(!C.name_tr){I({title:A("warning"),description:A("pleaseFillCategoryName"),variant:"destructive"});return}const P=Pr(xt,"categories",m.id);await Bi(P,{name_tr:C.name_tr,name_en:C.name_en,name_ru:C.name_ru,name_de:C.name_de,name_fr:C.name_fr}),w(null),S({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:""}),await L(),I({title:A("success"),description:A("categoryUpdatedSuccessfully")})}catch(P){console.error("Error updating category:",P),I({title:A("error"),description:A("errorUpdatingCategory"),variant:"destructive"})}};return v.jsxs("div",{className:"container mx-auto px-4 py-8",children:[v.jsx(rS,{}),v.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:A("menuManagement")}),v.jsxs(WL,{defaultValue:"menuItems",className:"w-full",children:[v.jsxs(sT,{className:"grid w-full grid-cols-2",children:[v.jsx(bm,{value:"menuItems",children:A("menuItems")}),v.jsx(bm,{value:"categories",children:A("categories")})]}),v.jsxs(Am,{value:"menuItems",children:[v.jsxs(jl,{className:"mt-4",children:[v.jsxs(Vl,{children:[v.jsx(Fl,{children:A("addNewMenuItem")}),v.jsx($l,{children:A("addNewMenuItemDescription")})]}),v.jsxs(zl,{className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"newItemNameTr",children:[A("name")," (TR)"]}),v.jsx(ut,{id:"newItemNameTr",type:"text",value:i.name_tr,onChange:P=>a({...i,name_tr:P.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"newItemNameEn",children:[A("name")," (EN)"]}),v.jsx(ut,{id:"newItemNameEn",type:"text",value:i.name_en,onChange:P=>a({...i,name_en:P.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"newItemNameRu",children:[A("name")," (RU)"]}),v.jsx(ut,{id:"newItemNameRu",type:"text",value:i.name_ru,onChange:P=>a({...i,name_ru:P.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"newItemNameDe",children:[A("name")," (DE)"]}),v.jsx(ut,{id:"newItemNameDe",type:"text",value:i.name_de,onChange:P=>a({...i,name_de:P.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"newItemNameFr",children:[A("name")," (FR)"]}),v.jsx(ut,{id:"newItemNameFr",type:"text",value:i.name_fr,onChange:P=>a({...i,name_fr:P.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"newItemDescriptionTr",children:[A("description")," (TR)"]}),v.jsx(ar,{id:"newItemDescriptionTr",value:i.description_tr,onChange:P=>a({...i,description_tr:P.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"newItemDescriptionEn",children:[A("description")," (EN)"]}),v.jsx(ar,{id:"newItemDescriptionEn",value:i.description_en,onChange:P=>a({...i,description_en:P.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"newItemDescriptionRu",children:[A("description")," (RU)"]}),v.jsx(ar,{id:"newItemDescriptionRu",value:i.description_ru,onChange:P=>a({...i,description_ru:P.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"newItemDescriptionDe",children:[A("description")," (DE)"]}),v.jsx(ar,{id:"newItemDescriptionDe",value:i.description_de,onChange:P=>a({...i,description_de:P.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"newItemDescriptionFr",children:[A("description")," (FR)"]}),v.jsx(ar,{id:"newItemDescriptionFr",value:i.description_fr,onChange:P=>a({...i,description_fr:P.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(He,{htmlFor:"newItemPrice",children:A("price")}),v.jsx(ut,{id:"newItemPrice",type:"number",value:i.price,onChange:P=>a({...i,price:P.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(He,{htmlFor:"newItemImage",children:A("imageUrl")}),v.jsx(ut,{id:"newItemImage",type:"text",value:i.image,onChange:P=>a({...i,image:P.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(He,{htmlFor:"newItemCategory",children:A("category")}),v.jsxs(dm,{value:i.category,onValueChange:P=>a({...i,category:P}),children:[v.jsx(Od,{id:"newItemCategory",children:v.jsx(fm,{placeholder:A("selectCategory")})}),v.jsx(Ld,{children:t.map(P=>v.jsx(Hs,{value:P.id,children:P[`name_${k.language}`]||P.name_tr},P.id))})]})]})]}),v.jsxs(os,{onClick:z,className:"w-full",children:[v.jsx(g_,{className:"mr-2 h-4 w-4"})," ",A("addItem")]})]})]}),v.jsx(Rm,{className:"my-8"}),v.jsxs(jl,{children:[v.jsxs(Vl,{children:[v.jsx(Fl,{children:A("existingMenuItems")}),v.jsx($l,{children:A("existingMenuItemsDescription")})]}),v.jsx(zl,{children:v.jsxs(Cm,{children:[v.jsx(Sm,{children:v.jsxs(Ul,{children:[v.jsx(Us,{children:A("name")}),v.jsx(Us,{children:A("description")}),v.jsx(Us,{children:A("price")}),v.jsx(Us,{children:A("category")}),v.jsx(Us,{className:"text-right",children:A("actions")})]})}),v.jsx(Tm,{children:n.map(P=>{var j,ee;return v.jsxs(Ul,{children:[v.jsx(Bs,{className:"font-medium",children:P["name_"+k.language]||P.name_tr}),v.jsx(Bs,{children:P["description_"+k.language]||P.description_tr}),v.jsxs(Bs,{children:[P.price," "]}),v.jsx(Bs,{children:((j=t.find(se=>se.id===P.category))==null?void 0:j["name_"+k.language])||((ee=t.find(se=>se.id===P.category))==null?void 0:ee.name_tr)||"Bilinmiyor"}),v.jsxs(Bs,{className:"text-right",children:[v.jsxs(I_,{children:[v.jsx(b_,{asChild:!0,children:v.jsx(os,{variant:"ghost",size:"sm",onClick:()=>N(P),children:v.jsx(y_,{className:"h-4 w-4"})})}),v.jsxs(vm,{className:"sm:max-w-[425px]",children:[v.jsxs(wm,{children:[v.jsx(xm,{children:A("editMenuItem")}),v.jsx(Em,{children:A("updateMenuItemInfo")})]}),v.jsxs("div",{className:"grid gap-4 py-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"editedItemNameTr",children:[A("name")," (TR)"]}),v.jsx(ut,{id:"editedItemNameTr",value:g.name_tr,onChange:se=>T({...g,name_tr:se.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"editedItemNameEn",children:[A("name")," (EN)"]}),v.jsx(ut,{id:"editedItemNameEn",value:g.name_en,onChange:se=>T({...g,name_en:se.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"editedItemNameRu",children:[A("name")," (RU)"]}),v.jsx(ut,{id:"editedItemNameRu",value:g.name_ru,onChange:se=>T({...g,name_ru:se.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"editedItemNameDe",children:[A("name")," (DE)"]}),v.jsx(ut,{id:"editedItemNameDe",value:g.name_de,onChange:se=>T({...g,name_de:se.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"editedItemNameFr",children:[A("name")," (FR)"]}),v.jsx(ut,{id:"editedItemNameFr",value:g.name_fr,onChange:se=>T({...g,name_fr:se.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"editedItemDescriptionTr",children:[A("description")," (TR)"]}),v.jsx(ar,{id:"editedItemDescriptionTr",value:g.description_tr,onChange:se=>T({...g,description_tr:se.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"editedItemDescriptionEn",children:[A("description")," (EN)"]}),v.jsx(ar,{id:"editedItemDescriptionEn",value:g.description_en,onChange:se=>T({...g,description_en:se.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"editedItemDescriptionRu",children:[A("description")," (RU)"]}),v.jsx(ar,{id:"editedItemDescriptionRu",value:g.description_ru,onChange:se=>T({...g,description_ru:se.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"editedItemDescriptionDe",children:[A("description")," (DE)"]}),v.jsx(ar,{id:"editedItemDescriptionDe",value:g.description_de,onChange:se=>T({...g,description_de:se.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"editedItemDescriptionFr",children:[A("description")," (FR)"]}),v.jsx(ar,{id:"editedItemDescriptionFr",value:g.description_fr,onChange:se=>T({...g,description_fr:se.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(He,{htmlFor:"editedItemPrice",children:A("price")}),v.jsx(ut,{id:"editedItemPrice",type:"number",value:g.price,onChange:se=>T({...g,price:se.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(He,{htmlFor:"editedItemImage",children:A("imageUrl")}),v.jsx(ut,{id:"editedItemImage",value:g.image,onChange:se=>T({...g,image:se.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(He,{htmlFor:"editedItemCategory",children:A("category")}),v.jsxs(dm,{value:g.category,onValueChange:se=>T({...g,category:se}),children:[v.jsx(Od,{id:"editedItemCategory",children:v.jsx(fm,{placeholder:A("selectCategory")})}),v.jsx(Ld,{children:t.map(se=>v.jsx(Hs,{value:se.id,children:se[`name_${k.language}`]||se.name_tr},se.id))})]})]})]}),v.jsx(_m,{children:v.jsx(os,{type:"submit",onClick:O,children:A("save")})})]})]}),v.jsxs(R_,{children:[v.jsx(N_,{asChild:!0,children:v.jsx(os,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-900",children:v.jsx(v_,{className:"h-4 w-4"})})}),v.jsxs(Nm,{children:[v.jsxs(Pm,{children:[v.jsx(Dm,{children:A("confirmDelete")}),v.jsx(Mm,{children:A("confirmDeleteItem")})]}),v.jsxs(km,{children:[v.jsx(Lm,{children:A("cancel")}),v.jsx(Om,{onClick:()=>X(P.id),children:A("delete")})]})]})]})]})]},P.id)})})]})})]})]}),v.jsxs(Am,{value:"categories",children:[v.jsxs(jl,{className:"mt-4",children:[v.jsxs(Vl,{children:[v.jsx(Fl,{children:A("addNewCategory")}),v.jsx($l,{children:A("addNewCategoryDescription")})]}),v.jsxs(zl,{className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"newCategoryNameTr",children:[A("categoryName")," (TR)"]}),v.jsx(ut,{id:"newCategoryNameTr",type:"text",value:l.name_tr,onChange:P=>c({...l,name_tr:P.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"newCategoryNameEn",children:[A("categoryName")," (EN)"]}),v.jsx(ut,{id:"newCategoryNameEn",type:"text",value:l.name_en,onChange:P=>c({...l,name_en:P.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"newCategoryNameRu",children:[A("categoryName")," (RU)"]}),v.jsx(ut,{id:"newCategoryNameRu",type:"text",value:l.name_ru,onChange:P=>c({...l,name_ru:P.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"newCategoryNameDe",children:[A("categoryName")," (DE)"]}),v.jsx(ut,{id:"newCategoryNameDe",type:"text",value:l.name_de,onChange:P=>c({...l,name_de:P.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"newCategoryNameFr",children:[A("categoryName")," (FR)"]}),v.jsx(ut,{id:"newCategoryNameFr",type:"text",value:l.name_fr,onChange:P=>c({...l,name_fr:P.target.value})})]}),v.jsxs(os,{onClick:W,className:"w-full",children:[v.jsx(g_,{className:"mr-2 h-4 w-4"})," ",A("addCategory")]})]})]}),v.jsx(Rm,{className:"my-8"}),v.jsxs(jl,{children:[v.jsxs(Vl,{children:[v.jsx(Fl,{children:A("existingCategories")}),v.jsx($l,{children:A("existingCategoriesDescription")})]}),v.jsx(zl,{children:v.jsxs(Cm,{children:[v.jsx(Sm,{children:v.jsxs(Ul,{children:[v.jsx(Us,{children:A("categoryName")}),v.jsx(Us,{className:"text-right",children:A("actions")})]})}),v.jsx(Tm,{children:t.map(P=>v.jsxs(Ul,{children:[v.jsx(Bs,{className:"font-medium",children:P["name_"+k.language]||P.name_tr}),v.jsxs(Bs,{className:"text-right",children:[v.jsxs(I_,{children:[v.jsx(b_,{asChild:!0,children:v.jsx(os,{variant:"ghost",size:"sm",onClick:()=>V(P),children:v.jsx(y_,{className:"h-4 w-4"})})}),v.jsxs(vm,{className:"sm:max-w-[425px]",children:[v.jsxs(wm,{children:[v.jsx(xm,{children:A("editCategory")}),v.jsx(Em,{children:A("updateCategoryName")})]}),v.jsxs("div",{className:"grid gap-4 py-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"editedCategoryNameTr",children:[A("categoryName")," (TR)"]}),v.jsx(ut,{id:"editedCategoryNameTr",value:C.name_tr,onChange:j=>S({...C,name_tr:j.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"editedCategoryNameEn",children:[A("categoryName")," (EN)"]}),v.jsx(ut,{id:"editedCategoryNameEn",value:C.name_en,onChange:j=>S({...C,name_en:j.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"editedCategoryNameRu",children:[A("categoryName")," (RU)"]}),v.jsx(ut,{id:"editedCategoryNameRu",value:C.name_ru,onChange:j=>S({...C,name_ru:j.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"editedCategoryNameDe",children:[A("categoryName")," (DE)"]}),v.jsx(ut,{id:"editedCategoryNameDe",value:C.name_de,onChange:j=>S({...C,name_de:j.target.value})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs(He,{htmlFor:"editedCategoryNameFr",children:[A("categoryName")," (FR)"]}),v.jsx(ut,{id:"editedCategoryNameFr",value:C.name_fr,onChange:j=>S({...C,name_fr:j.target.value})})]})]}),v.jsx(_m,{children:v.jsx(os,{type:"submit",onClick:F,children:A("save")})})]})]}),v.jsxs(R_,{children:[v.jsx(N_,{asChild:!0,children:v.jsx(os,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-900",children:v.jsx(v_,{className:"h-4 w-4"})})}),v.jsxs(Nm,{children:[v.jsxs(Pm,{children:[v.jsx(Dm,{children:A("confirmDelete")}),v.jsx(Mm,{children:A("confirmDeleteCategory")})]}),v.jsxs(km,{children:[v.jsx(Lm,{children:A("cancel")}),v.jsx(Om,{onClick:()=>D(P.id),children:A("delete")})]})]})]})]})]},P.id))})]})})]})]})]})]})},uj=()=>v.jsx("div",{className:"container mx-auto px-4 py-16 flex flex-col items-center",children:v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-md w-full text-center",children:[v.jsx("h1",{className:"text-3xl font-bold text-amber-800 mb-6",children:"Kafe QR Sipari Sistemi"}),v.jsxs("div",{className:"space-y-4",children:[v.jsx(Ui,{to:"/admin",className:"block w-full bg-amber-500 hover:bg-amber-600 text-white py-3 px-4 rounded-md transition-colors",children:"Ynetim Paneli"}),v.jsx(Ui,{to:"/admin/qrcodes",className:"block w-full bg-gray-100 hover:bg-gray-200 text-gray-800 py-3 px-4 rounded-md transition-colors",children:"QR Kodlar Grntle"})]})]})});function cj(){return v.jsx(nA,{children:v.jsx(hA,{children:v.jsx("div",{className:"min-h-screen bg-amber-50",children:v.jsxs(kb,{children:[v.jsx(br,{path:"/",element:v.jsx(uj,{})}),v.jsx(br,{path:"/menu/:tableId",element:v.jsx(_4,{})}),v.jsx(br,{path:"/checkout/:tableId",element:v.jsx(x4,{})}),v.jsx(br,{path:"/thank-you/:tableId",element:v.jsx(E4,{})}),v.jsx(br,{path:"/admin",element:v.jsx(J4,{})}),v.jsx(br,{path:"/admin/orders",element:v.jsx(rL,{})}),v.jsx(br,{path:"/admin/qrcodes",element:v.jsx(hL,{})}),v.jsx(br,{path:"/admin/menu",element:v.jsx(lj,{})})," ",v.jsx(br,{path:"*",element:v.jsx(Nb,{to:"/",replace:!0})})]})})})})}const Pe=n=>typeof n=="string",Pl=()=>{let n,e;const t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t},P_=n=>n==null?"":""+n,dj=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},fj=/###/g,k_=n=>n&&n.indexOf("###")>-1?n.replace(fj,"."):n,D_=n=>!n||Pe(n),Gl=(n,e,t)=>{const r=Pe(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(D_(n))return{};const a=k_(r[i]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++i}return D_(n)?{}:{obj:n,k:k_(r[i])}},M_=(n,e,t)=>{const{obj:r,k:i}=Gl(n,e,Object);if(r!==void 0||e.length===1){r[i]=t;return}let a=e[e.length-1],l=e.slice(0,e.length-1),c=Gl(n,l,Object);for(;c.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),c=Gl(n,l,Object),c!=null&&c.obj&&typeof c.obj[`${c.k}.${a}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${a}`]=t},hj=(n,e,t,r)=>{const{obj:i,k:a}=Gl(n,e,Object);i[a]=i[a]||[],i[a].push(t)},Fd=(n,e)=>{const{obj:t,k:r}=Gl(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},pj=(n,e,t)=>{const r=Fd(n,t);return r!==void 0?r:Fd(e,t)},bT=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?Pe(n[r])||n[r]instanceof String||Pe(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):bT(n[r],e[r],t):n[r]=e[r]);return n},Xo=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var mj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const gj=n=>Pe(n)?n.replace(/[&<>"'\/]/g,e=>mj[e]):n;class yj{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const vj=[" ",",","?","!",";"],wj=new yj(20),_j=(n,e,t)=>{e=e||"",t=t||"";const r=vj.filter(l=>e.indexOf(l)<0&&t.indexOf(l)<0);if(r.length===0)return!0;const i=wj.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`);let a=!i.test(n);if(!a){const l=n.indexOf(t);l>0&&!i.test(n.substring(0,l))&&(a=!0)}return a},jm=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let i=n;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let l,c="";for(let f=a;f<r.length;++f)if(f!==a&&(c+=t),c+=r[f],l=i[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&f<r.length-1)continue;a+=f-a+1;break}i=l}return i},uu=n=>n==null?void 0:n.replace("_","-"),xj={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,r;(r=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||r.call(t,console,e)}};class $d{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||xj,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,i){return i&&!this.debug?null:(Pe(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new $d(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new $d(this.logger,e)}}var Dr=new $d;class xf{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(t)||0;this.observers[r].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i.apply(i,[e,...t])})}}class O_ extends xf{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,i={}){var h,m;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,l=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;e.indexOf(".")>-1?c=e.split("."):(c=[e,t],r&&(Array.isArray(r)?c.push(...r):Pe(r)&&a?c.push(...r.split(a)):c.push(r)));const f=Fd(this.data,c);return!f&&!t&&!r&&e.indexOf(".")>-1&&(e=c[0],t=c[1],r=c.slice(2).join(".")),f||!l||!Pe(r)?f:jm((m=(h=this.data)==null?void 0:h[e])==null?void 0:m[t],r,a)}addResource(e,t,r,i,a={silent:!1}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let c=[e,t];r&&(c=c.concat(l?r.split(l):r)),e.indexOf(".")>-1&&(c=e.split("."),i=t,t=c[1]),this.addNamespaces(t),M_(this.data,c,i),a.silent||this.emit("added",e,t,r,i)}addResources(e,t,r,i={silent:!1}){for(const a in r)(Pe(r[a])||Array.isArray(r[a]))&&this.addResource(e,t,a,r[a],{silent:!0});i.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,i,a,l={silent:!1,skipCopy:!1}){let c=[e,t];e.indexOf(".")>-1&&(c=e.split("."),i=r,r=t,t=c[1]),this.addNamespaces(t);let f=Fd(this.data,c)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?bT(f,r,a):f={...f,...r},M_(this.data,c,f),l.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var AT={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,i){return n.forEach(a=>{var l;e=((l=this.processors[a])==null?void 0:l.process(e,t,r,i))??e}),e}};const L_={},j_=n=>!Pe(n)&&typeof n!="boolean"&&typeof n!="number";class zd extends xf{constructor(e,t={}){super(),dj(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Dr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const l=r&&e.indexOf(r)>-1,c=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!_j(e,r,i);if(l&&!c){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:Pe(a)?[a]:a};const h=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(h[0])>-1)&&(a=h.shift()),e=h.join(i)}return{key:e,namespaces:Pe(a)?[a]:a}}translate(e,t,r){let i=typeof t=="object"?{...t}:t;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:c,namespaces:f}=this.extractFromKey(e[e.length-1],i),h=f[f.length-1];let m=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;m===void 0&&(m=":");const w=i.lng||this.language,g=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((w==null?void 0:w.toLowerCase())==="cimode")return g?a?{res:`${h}${m}${c}`,usedKey:c,exactUsedKey:c,usedLng:w,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:`${h}${m}${c}`:a?{res:c,usedKey:c,exactUsedKey:c,usedLng:w,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:c;const T=this.resolve(e,i);let C=T==null?void 0:T.res;const S=(T==null?void 0:T.usedKey)||c,I=(T==null?void 0:T.exactUsedKey)||c,A=["[object Number]","[object Function]","[object RegExp]"],k=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,L=!this.i18nFormat||this.i18nFormat.handleAsObject,z=i.count!==void 0&&!Pe(i.count),W=zd.hasDefaultValue(i),X=z?this.pluralResolver.getSuffix(w,i.count,i):"",D=i.ordinal&&z?this.pluralResolver.getSuffix(w,i.count,{ordinal:!1}):"",N=z&&!i.ordinal&&i.count===0,O=N&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${X}`]||i[`defaultValue${D}`]||i.defaultValue;let V=C;L&&!C&&W&&(V=O);const F=j_(V),P=Object.prototype.toString.apply(V);if(L&&V&&F&&A.indexOf(P)<0&&!(Pe(k)&&Array.isArray(V))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const j=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,V,{...i,ns:f}):`key '${c} (${this.language})' returned an object instead of string.`;return a?(T.res=j,T.usedParams=this.getUsedParamsDetails(i),T):j}if(l){const j=Array.isArray(V),ee=j?[]:{},se=j?I:S;for(const ce in V)if(Object.prototype.hasOwnProperty.call(V,ce)){const de=`${se}${l}${ce}`;W&&!C?ee[ce]=this.translate(de,{...i,defaultValue:j_(O)?O[ce]:void 0,joinArrays:!1,ns:f}):ee[ce]=this.translate(de,{...i,joinArrays:!1,ns:f}),ee[ce]===de&&(ee[ce]=V[ce])}C=ee}}else if(L&&Pe(k)&&Array.isArray(C))C=C.join(k),C&&(C=this.extendTranslation(C,e,i,r));else{let j=!1,ee=!1;!this.isValidLookup(C)&&W&&(j=!0,C=O),this.isValidLookup(C)||(ee=!0,C=c);const ce=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ee?void 0:C,de=W&&O!==C&&this.options.updateMissing;if(ee||j||de){if(this.logger.log(de?"updateKey":"missingKey",w,h,c,de?O:C),l){const U=this.resolve(c,{...i,keySeparator:!1});U&&U.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let G=[];const te=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&te&&te[0])for(let U=0;U<te.length;U++)G.push(te[U]);else this.options.saveMissingTo==="all"?G=this.languageUtils.toResolveHierarchy(i.lng||this.language):G.push(i.lng||this.language);const le=(U,Z,pe)=>{var Re;const Ce=W&&pe!==C?pe:ce;this.options.missingKeyHandler?this.options.missingKeyHandler(U,h,Z,Ce,de,i):(Re=this.backendConnector)!=null&&Re.saveMissing&&this.backendConnector.saveMissing(U,h,Z,Ce,de,i),this.emit("missingKey",U,h,Z,C)};this.options.saveMissing&&(this.options.saveMissingPlurals&&z?G.forEach(U=>{const Z=this.pluralResolver.getSuffixes(U,i);N&&i[`defaultValue${this.options.pluralSeparator}zero`]&&Z.indexOf(`${this.options.pluralSeparator}zero`)<0&&Z.push(`${this.options.pluralSeparator}zero`),Z.forEach(pe=>{le([U],c+pe,i[`defaultValue${pe}`]||O)})}):le(G,c,O))}C=this.extendTranslation(C,e,i,T,r),ee&&C===c&&this.options.appendNamespaceToMissingKey&&(C=`${h}${m}${c}`),(ee||j)&&this.options.parseMissingKeyHandler&&(C=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${m}${c}`:c,j?C:void 0,i))}return a?(T.res=C,T.usedParams=this.getUsedParamsDetails(i),T):C}extendTranslation(e,t,r,i,a){var f,h;if((f=this.i18nFormat)!=null&&f.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const m=Pe(e)&&(((h=r==null?void 0:r.interpolation)==null?void 0:h.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let w;if(m){const T=e.match(this.interpolator.nestingRegexp);w=T&&T.length}let g=r.replace&&!Pe(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),e=this.interpolator.interpolate(e,g,r.lng||this.language||i.usedLng,r),m){const T=e.match(this.interpolator.nestingRegexp),C=T&&T.length;w<C&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...T)=>(a==null?void 0:a[0])===T[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${t[0]}`),null):this.translate(...T,t),r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,c=Pe(l)?[l]:l;return e!=null&&(c!=null&&c.length)&&r.applyPostProcessor!==!1&&(e=AT.handle(c,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,i,a,l,c;return Pe(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(r))return;const h=this.extractFromKey(f,t),m=h.key;i=m;let w=h.namespaces;this.options.fallbackNS&&(w=w.concat(this.options.fallbackNS));const g=t.count!==void 0&&!Pe(t.count),T=g&&!t.ordinal&&t.count===0,C=t.context!==void 0&&(Pe(t.context)||typeof t.context=="number")&&t.context!=="",S=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);w.forEach(I=>{var A,k;this.isValidLookup(r)||(c=I,!L_[`${S[0]}-${I}`]&&((A=this.utils)!=null&&A.hasLoadedNamespace)&&!((k=this.utils)!=null&&k.hasLoadedNamespace(c))&&(L_[`${S[0]}-${I}`]=!0,this.logger.warn(`key "${i}" for languages "${S.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(L=>{var X;if(this.isValidLookup(r))return;l=L;const z=[m];if((X=this.i18nFormat)!=null&&X.addLookupKeys)this.i18nFormat.addLookupKeys(z,m,L,I,t);else{let D;g&&(D=this.pluralResolver.getSuffix(L,t.count,t));const N=`${this.options.pluralSeparator}zero`,O=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(z.push(m+D),t.ordinal&&D.indexOf(O)===0&&z.push(m+D.replace(O,this.options.pluralSeparator)),T&&z.push(m+N)),C){const V=`${m}${this.options.contextSeparator}${t.context}`;z.push(V),g&&(z.push(V+D),t.ordinal&&D.indexOf(O)===0&&z.push(V+D.replace(O,this.options.pluralSeparator)),T&&z.push(V+N))}}let W;for(;W=z.pop();)this.isValidLookup(r)||(a=W,r=this.getResource(L,I,W,t))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:l,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,t,r,i):this.resourceStore.getResource(e,t,r,i)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Pe(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of t)delete i[a]}return i}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class V_{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Dr.create("languageUtils")}getScriptPartFromCode(e){if(e=uu(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=uu(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Pe(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return t=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Pe(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),i=[],a=l=>{l&&(this.isSupportedCode(l)?i.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return Pe(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Pe(e)&&a(this.formatLanguageCode(e)),r.forEach(l=>{i.indexOf(l)<0&&a(this.formatLanguageCode(l))}),i}}const F_={zero:0,one:1,two:2,few:3,many:4,other:5},$_={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Ej{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Dr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=uu(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),$_;if(!e.match(/-|_/))return $_;const f=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(f,t)}return this.pluralRulesCache[a]=l,l}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(i=>`${t}${i}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>F_[i]-F_[a]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,t,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const z_=(n,e,t,r=".",i=!0)=>{let a=pj(n,e,t);return!a&&i&&Pe(t)&&(a=jm(n,t,r),a===void 0&&(a=jm(e,t,r))),a},Cp=n=>n.replace(/\$/g,"$$$$");class Cj{constructor(e={}){var t;this.logger=Dr.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:l,suffix:c,suffixEscaped:f,formatSeparator:h,unescapeSuffix:m,unescapePrefix:w,nestingPrefix:g,nestingPrefixEscaped:T,nestingSuffix:C,nestingSuffixEscaped:S,nestingOptionsSeparator:I,maxReplaces:A,alwaysFormat:k}=e.interpolation;this.escape=t!==void 0?t:gj,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?Xo(a):l||"{{",this.suffix=c?Xo(c):f||"}}",this.formatSeparator=h||",",this.unescapePrefix=m?"":w||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=g?Xo(g):T||Xo("$t("),this.nestingSuffix=C?Xo(C):S||Xo(")"),this.nestingOptionsSeparator=I||",",this.maxReplaces=A||1e3,this.alwaysFormat=k!==void 0?k:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,i){var T;let a,l,c;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=C=>{if(C.indexOf(this.formatSeparator)<0){const k=z_(t,f,C,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(k,void 0,r,{...i,...t,interpolationkey:C}):k}const S=C.split(this.formatSeparator),I=S.shift().trim(),A=S.join(this.formatSeparator).trim();return this.format(z_(t,f,I,this.options.keySeparator,this.options.ignoreJSONStructure),A,r,{...i,...t,interpolationkey:I})};this.resetRegExp();const m=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,w=((T=i==null?void 0:i.interpolation)==null?void 0:T.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:C=>Cp(C)},{regex:this.regexp,safeValue:C=>this.escapeValue?Cp(this.escape(C)):Cp(C)}].forEach(C=>{for(c=0;a=C.regex.exec(e);){const S=a[1].trim();if(l=h(S),l===void 0)if(typeof m=="function"){const A=m(e,a,i);l=Pe(A)?A:""}else if(i&&Object.prototype.hasOwnProperty.call(i,S))l="";else if(w){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${e}`),l="";else!Pe(l)&&!this.useRawValueToEscape&&(l=P_(l));const I=C.safeValue(l);if(e=e.replace(a[0],I),w?(C.regex.lastIndex+=l.length,C.regex.lastIndex-=a[0].length):C.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,t,r={}){let i,a,l;const c=(f,h)=>{const m=this.nestingOptionsSeparator;if(f.indexOf(m)<0)return f;const w=f.split(new RegExp(`${m}[ ]*{`));let g=`{${w[1]}`;f=w[0],g=this.interpolate(g,l);const T=g.match(/'/g),C=g.match(/"/g);(((T==null?void 0:T.length)??0)%2===0&&!C||C.length%2!==0)&&(g=g.replace(/'/g,'"'));try{l=JSON.parse(g),h&&(l={...h,...l})}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,S),`${f}${m}${g}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,f};for(;i=this.nestingRegexp.exec(e);){let f=[];l={...r},l=l.replace&&!Pe(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;let h=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const m=i[1].split(this.formatSeparator).map(w=>w.trim());i[1]=m.shift(),f=m,h=!0}if(a=t(c.call(this,i[1].trim(),l),l),a&&i[0]===e&&!Pe(a))return a;Pe(a)||(a=P_(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),h&&(a=f.reduce((m,w)=>this.format(m,w,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const Sj=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(l=>{if(l){const[c,...f]=l.split(":"),h=f.join(":").trim().replace(/^'+|'+$/g,""),m=c.trim();t[m]||(t[m]=h),h==="false"&&(t[m]=!1),h==="true"&&(t[m]=!0),isNaN(h)||(t[m]=parseInt(h,10))}})}return{formatName:e,formatOptions:t}},U_=n=>{const e={};return(t,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const l=r+JSON.stringify(a);let c=e[l];return c||(c=n(uu(r),i),e[l]=c),c(t)}},Tj=n=>(e,t,r)=>n(uu(t),r)(e);class Ij{constructor(e={}){this.logger=Dr.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?U_:Tj;this.formats={number:r((i,a)=>{const l=new Intl.NumberFormat(i,{...a});return c=>l.format(c)}),currency:r((i,a)=>{const l=new Intl.NumberFormat(i,{...a,style:"currency"});return c=>l.format(c)}),datetime:r((i,a)=>{const l=new Intl.DateTimeFormat(i,{...a});return c=>l.format(c)}),relativetime:r((i,a)=>{const l=new Intl.RelativeTimeFormat(i,{...a});return c=>l.format(c,a.range||"day")}),list:r((i,a)=>{const l=new Intl.ListFormat(i,{...a});return c=>l.format(c)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=U_(t)}format(e,t,r,i={}){const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(c=>c.indexOf(")")>-1)){const c=a.findIndex(f=>f.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,c)].join(this.formatSeparator)}return a.reduce((c,f)=>{var w;const{formatName:h,formatOptions:m}=Sj(f);if(this.formats[h]){let g=c;try{const T=((w=i==null?void 0:i.formatParams)==null?void 0:w[i.interpolationkey])||{},C=T.locale||T.lng||i.locale||i.lng||r;g=this.formats[h](c,C,{...m,...i,...T})}catch(T){this.logger.warn(T)}return g}else this.logger.warn(`there was no format function for ${h}`);return c},e)}}const bj=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class Aj extends xf{constructor(e,t,r,i={}){var a,l;super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Dr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(l=(a=this.backend)==null?void 0:a.init)==null||l.call(a,r,i.backend,i)}queueLoad(e,t,r,i){const a={},l={},c={},f={};return e.forEach(h=>{let m=!0;t.forEach(w=>{const g=`${h}|${w}`;!r.reload&&this.store.hasResourceBundle(h,w)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?l[g]===void 0&&(l[g]=!0):(this.state[g]=1,m=!1,l[g]===void 0&&(l[g]=!0),a[g]===void 0&&(a[g]=!0),f[w]===void 0&&(f[w]=!0)))}),m||(c[h]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(f)}}loaded(e,t,r){const i=e.split("|"),a=i[0],l=i[1];t&&this.emit("failedLoading",a,l,t),!t&&r&&this.store.addResourceBundle(a,l,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const c={};this.queue.forEach(f=>{hj(f.loaded,[a],l),bj(f,e),t&&f.errors.push(t),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(h=>{c[h]||(c[h]={});const m=f.loaded[h];m.length&&m.forEach(w=>{c[h][w]===void 0&&(c[h][w]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(f=>!f.done)}read(e,t,r,i=0,a=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:i,wait:a,callback:l});return}this.readingCalls++;const c=(h,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const w=this.waitingReads.shift();this.read(w.lng,w.ns,w.fcName,w.tried,w.wait,w.callback)}if(h&&m&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,i+1,a*2,l)},a);return}l(h,m)},f=this.backend[r].bind(this.backend);if(f.length===2){try{const h=f(e,t);h&&typeof h.then=="function"?h.then(m=>c(null,m)).catch(c):c(null,h)}catch(h){c(h)}return}return f(e,t,c)}prepareLoading(e,t,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Pe(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Pe(t)&&(t=[t]);const a=this.queueLoad(e,t,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${t}loading namespace ${a} for language ${i} failed`,l),!l&&c&&this.logger.log(`${t}loaded namespace ${a} for language ${i}`,c),this.loaded(e,l,c)})}saveMissing(e,t,r,i,a,l={},c=()=>{}){var f,h,m,w,g;if((h=(f=this.services)==null?void 0:f.utils)!=null&&h.hasLoadedNamespace&&!((w=(m=this.services)==null?void 0:m.utils)!=null&&w.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((g=this.backend)!=null&&g.create){const T={...l,isUpdate:a},C=this.backend.create.bind(this.backend);if(C.length<6)try{let S;C.length===5?S=C(e,t,r,i,T):S=C(e,t,r,i),S&&typeof S.then=="function"?S.then(I=>c(null,I)).catch(c):c(null,S)}catch(S){c(S)}else C(e,t,r,i,c,T)}!e||!e[0]||this.store.addResource(e[0],t,r,i)}}}const B_=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Pe(n[1])&&(e.defaultValue=n[1]),Pe(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),H_=n=>{var e,t;return Pe(n.ns)&&(n.ns=[n.ns]),Pe(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Pe(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},Xc=()=>{},Rj=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class cu extends xf{constructor(e={},t){if(super(),this.options=H_(e),this.services={},this.logger=Dr,this.modules={external:[]},Rj(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Pe(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=B_();this.options={...r,...this.options,...H_(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Dr.init(i(this.modules.logger),this.options):Dr.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=Ij;const m=new V_(this.options);this.store=new O_(this.options.resources,this.options);const w=this.services;w.logger=Dr,w.resourceStore=this.store,w.languageUtils=m,w.pluralResolver=new Ej(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(w.formatter=i(h),w.formatter.init(w,this.options),this.options.interpolation.format=w.formatter.format.bind(w.formatter)),w.interpolator=new Cj(this.options),w.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},w.backendConnector=new Aj(i(this.modules.backend),w.resourceStore,w,this.options),w.backendConnector.on("*",(g,...T)=>{this.emit(g,...T)}),this.modules.languageDetector&&(w.languageDetector=i(this.modules.languageDetector),w.languageDetector.init&&w.languageDetector.init(w,this.options.detection,this.options)),this.modules.i18nFormat&&(w.i18nFormat=i(this.modules.i18nFormat),w.i18nFormat.init&&w.i18nFormat.init(this)),this.translator=new zd(this.services,this.options),this.translator.on("*",(g,...T)=>{this.emit(g,...T)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Xc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...m)=>this.store[h](...m)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...m)=>(this.store[h](...m),this)});const c=Pl(),f=()=>{const h=(m,w)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(w),t(m,w)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),c}loadResources(e,t=Xc){var a,l;let r=t;const i=Pe(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const c=[],f=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(w=>{w!=="cimode"&&c.indexOf(w)<0&&c.push(w)})};i?f(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(m=>f(m)),(l=(a=this.options.preload)==null?void 0:a.forEach)==null||l.call(a,h=>f(h)),this.services.backendConnector.load(c,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(h)})}else r(null)}reloadResources(e,t,r){const i=Pl();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Xc),this.services.backendConnector.reload(e,t,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&AT.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=Pl();this.emit("languageChanging",e);const i=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},a=(c,f)=>{f?this.isLanguageChangingTo===e&&(i(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,r.resolve((...h)=>this.t(...h)),t&&t(c,(...h)=>this.t(...h))},l=c=>{var m,w;!e&&!c&&this.services.languageDetector&&(c=[]);const f=Pe(c)?c:c&&c[0],h=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(Pe(c)?[c]:c);h&&(this.language||i(h),this.translator.language||this.translator.changeLanguage(h),(w=(m=this.services.languageDetector)==null?void 0:m.cacheUserLanguage)==null||w.call(m,h)),this.loadResources(h,g=>{a(g,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),r}getFixedT(e,t,r){const i=(a,l,...c)=>{let f;typeof l!="object"?f=this.options.overloadTranslationOptionHandler([a,l].concat(c)):f={...l},f.lng=f.lng||i.lng,f.lngs=f.lngs||i.lngs,f.ns=f.ns||i.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||r||i.keyPrefix);const h=this.options.keySeparator||".";let m;return f.keyPrefix&&Array.isArray(a)?m=a.map(w=>`${f.keyPrefix}${h}${w}`):m=f.keyPrefix?`${f.keyPrefix}${h}${a}`:a,this.t(m,f)};return Pe(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const l=(c,f)=>{const h=this.services.backendConnector.state[`${c}|${f}`];return h===-1||h===0||h===2};if(t.precheck){const c=t.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,e)&&(!i||l(a,e)))}loadNamespaces(e,t){const r=Pl();return this.options.ns?(Pe(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),t&&t(i)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Pl();Pe(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(l=>i.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=i.concat(a),this.loadResources(l=>{r.resolve(),t&&t(l)}),r):(t&&t(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new V_(B_());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new cu(e,t)}cloneInstance(e={},t=Xc){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new cu(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(c=>{a[c]=this[c]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const c=Object.keys(this.store.data).reduce((f,h)=>(f[h]={...this.store.data[h]},f[h]=Object.keys(f[h]).reduce((m,w)=>(m[w]={...f[h][w]},m),f[h]),f),{});a.store=new O_(c,i),a.services.resourceStore=a.store}return a.translator=new zd(a.services,i),a.translator.on("*",(c,...f)=>{a.emit(c,...f)}),a.init(i,t),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const nn=cu.createInstance();nn.createInstance=cu.createInstance;nn.createInstance;nn.dir;nn.init;nn.loadResources;nn.reloadResources;nn.use;nn.changeLanguage;nn.getFixedT;nn.t;nn.exists;nn.setDefaultNamespace;nn.hasLoadedNamespace;nn.loadNamespaces;nn.loadLanguages;const Nj={button:"Call Waiter",sending:"Sending...",try_again_in_seconds:"Please try again in {{count}} seconds.",message_default:"Customer called a waiter",sent_success:"Waiter call sent! Someone will come shortly.",sent_error:"An error occurred while sending the waiter call. Please try again."},Pj="Menu Management",kj="Add New Menu Item",Dj="Add a new item to the menu.",Mj="Add New Category",Oj="Add a new category to the menu.",Lj="Name",jj="Description",Vj="Price",Fj="Image URL",$j="Category",zj="Select Category",Uj="Add Item",Bj="Category Name",Hj="Add Category",Wj="Menu Items",Kj="Existing Menu Items",qj="Edit or delete items in the menu.",Qj="Categories",Gj="Existing Categories",Yj="Edit or delete categories.",Xj="Actions",Jj="Edit Menu Item",Zj="Update menu item information.",eV="Save",tV="Edit Category",nV="Update category name.",rV="Are you sure?",sV="Are you sure you want to permanently delete this menu item? This action cannot be undone.",iV="Are you sure you want to permanently delete this category? This action cannot be undone.",oV="Cancel",aV="Warning",lV="Please fill in all required fields.",uV="Success",cV="Menu item added successfully!",dV="Category added successfully!",fV="Menu item deleted successfully!",hV="Category deleted successfully!",pV="Menu item updated successfully!",mV="Category updated successfully!",gV="Error",yV="Error fetching menu data.",vV="Error adding menu item.",wV="Error adding category.",_V="Error deleting menu item.",xV="Error deleting category.",EV="Error updating menu item.",CV="Error updating category.",SV="Admin Dashboard",TV="Orders",IV="View active orders and update their status.",bV="Manage Orders",AV="Manage Menu",RV="Add, edit, or remove menu items.",NV="QR Codes",PV="View and print table QR codes.",kV="View QR Codes",DV="Please fill in name, price, and category.",MV="Please fill in category name.",OV="Error fetching new orders count.",LV="Our Menu",jV="Add to Cart",VV="Total",FV="Checkout",$V="Your Cart",zV="Your cart is empty.",UV="Continue Shopping",BV="Order Summary",HV="Delivery Information",WV="Address",KV="Phone",qV="Notes",QV="Place Order",GV="Thank You!",YV="Your order has been placed successfully.",XV="Order ID",JV="You can track your order status on the orders page.",ZV="Back to Menu",eF="Table",tF="All",nF={waiter_call:Nj,menuManagement:Pj,addNewMenuItem:kj,addNewMenuItemDescription:Dj,addNewCategory:Mj,addNewCategoryDescription:Oj,name:Lj,description:jj,price:Vj,imageUrl:Fj,category:$j,selectCategory:zj,addItem:Uj,categoryName:Bj,addCategory:Hj,menuItems:Wj,existingMenuItems:Kj,existingMenuItemsDescription:qj,categories:Qj,existingCategories:Gj,existingCategoriesDescription:Yj,actions:Xj,editMenuItem:Jj,updateMenuItemInfo:Zj,save:eV,editCategory:tV,updateCategoryName:nV,confirmDelete:rV,confirmDeleteItem:sV,confirmDeleteCategory:iV,cancel:oV,delete:"Delete",warning:aV,fillAllFields:lV,success:uV,itemAddedSuccessfully:cV,categoryAddedSuccessfully:dV,itemDeletedSuccessfully:fV,categoryDeletedSuccessfully:hV,itemUpdatedSuccessfully:pV,categoryUpdatedSuccessfully:mV,error:gV,errorFetchingMenuData:yV,errorAddingMenuItem:vV,errorAddingCategory:wV,errorDeletingMenuItem:_V,errorDeletingCategory:xV,errorUpdatingMenuItem:EV,errorUpdatingCategory:CV,adminDashboard:SV,orders:TV,new:"New",viewActiveOrders:IV,manageOrders:bV,manageMenu:AV,manageMenuDescription:RV,qrCodes:NV,viewPrintQrCodes:PV,viewQrCodes:kV,pleaseFillNamePriceCategory:DV,pleaseFillCategoryName:MV,errorFetchingNewOrdersCount:OV,ourMenu:LV,addToCart:jV,total:VV,checkout:FV,yourCart:$V,emptyCart:zV,continueShopping:UV,orderSummary:BV,deliveryInfo:HV,address:WV,phone:KV,notes:qV,placeOrder:QV,thankYou:GV,orderPlaced:YV,orderId:XV,trackOrder:JV,backToMenu:ZV,table:eF,all:tF},rF={button:" ",sending:"...",try_again_in_seconds:",    {{count}} .",message_default:"  ",sent_success:"  !  .",sent_error:"    . ,  ."},sF=" ",iF="   ",oF="    .",aF="  ",lF="    .",uF="",cF="",dF="",fF="URL ",hF="",pF=" ",mF=" ",gF=" ",yF=" ",vF=" ",wF="  ",_F="     .",xF="",EF=" ",CF="   .",SF="",TF="  ",IF="    .",bF="",AF=" ",RF="  .",NF=" ?",PF=" ,       ?    .",kF=" ,      ?    .",DF="",MF="",OF=",    .",LF="",jF="   !",VF="  !",FF="   !",$F="  !",zF="   !",UF="  !",BF="",HF="    .",WF="    .",KF="   .",qF="    .",QF="   .",GF="    .",YF="   .",XF=" ",JF="",ZF="      .",e3=" ",t3=" ",n3=",     .",r3="QR-",s3="   QR- .",i3=" QR-",o3=",  ,   .",a3=",   .",l3="     .",u3=" ",c3="  ",d3="",f3=" ",h3=" ",p3="  .",m3=" ",g3=" ",y3="  ",v3="",w3="",_3="",x3=" ",E3="!",C3="   .",S3="ID ",T3="        .",I3="  ",b3="",A3="",R3={waiter_call:rF,menuManagement:sF,addNewMenuItem:iF,addNewMenuItemDescription:oF,addNewCategory:aF,addNewCategoryDescription:lF,name:uF,description:cF,price:dF,imageUrl:fF,category:hF,selectCategory:pF,addItem:mF,categoryName:gF,addCategory:yF,menuItems:vF,existingMenuItems:wF,existingMenuItemsDescription:_F,categories:xF,existingCategories:EF,existingCategoriesDescription:CF,actions:SF,editMenuItem:TF,updateMenuItemInfo:IF,save:bF,editCategory:AF,updateCategoryName:RF,confirmDelete:NF,confirmDeleteItem:PF,confirmDeleteCategory:kF,cancel:DF,delete:"",warning:MF,fillAllFields:OF,success:LF,itemAddedSuccessfully:jF,categoryAddedSuccessfully:VF,itemDeletedSuccessfully:FF,categoryDeletedSuccessfully:$F,itemUpdatedSuccessfully:zF,categoryUpdatedSuccessfully:UF,error:BF,errorFetchingMenuData:HF,errorAddingMenuItem:WF,errorAddingCategory:KF,errorDeletingMenuItem:qF,errorDeletingCategory:QF,errorUpdatingMenuItem:GF,errorUpdatingCategory:YF,adminDashboard:XF,orders:JF,new:"",viewActiveOrders:ZF,manageOrders:e3,manageMenu:t3,manageMenuDescription:n3,qrCodes:r3,viewPrintQrCodes:s3,viewQrCodes:i3,pleaseFillNamePriceCategory:o3,pleaseFillCategoryName:a3,errorFetchingNewOrdersCount:l3,ourMenu:u3,addToCart:c3,total:d3,checkout:f3,yourCart:h3,emptyCart:p3,continueShopping:m3,orderSummary:g3,deliveryInfo:y3,address:v3,phone:w3,notes:_3,placeOrder:x3,thankYou:E3,orderPlaced:C3,orderId:S3,trackOrder:T3,backToMenu:I3,table:b3,all:A3},N3={button:"Kellner rufen",sending:"Senden...",try_again_in_seconds:"Bitte versuche es in {{count}} Sekunden erneut.",message_default:"Kunde hat einen Kellner gerufen",sent_success:"Kellnerruf gesendet! Jemand wird gleich kommen.",sent_error:"Beim Senden des Kellnerrufs ist ein Fehler aufgetreten. Bitte versuche es erneut."},P3="Menverwaltung",k3="Neuen Menpunkt hinzufgen",D3="Einen neuen Menpunkt hinzufgen.",M3="Neue Kategorie hinzufgen",O3="Eine neue Kategorie zum Men hinzufgen.",L3="Name",j3="Beschreibung",V3="Preis",F3="Bild-URL",$3="Kategorie",z3="Kategorie auswhlen",U3="Artikel hinzufgen",B3="Kategoriename",H3="Kategorie hinzufgen",W3="Menpunkte",K3="Bestehende Menpunkte",q3="Menpunkte bearbeiten oder lschen.",Q3="Kategorien",G3="Bestehende Kategorien",Y3="Kategorien bearbeiten oder lschen.",X3="Aktionen",J3="Menpunkt bearbeiten",Z3="Menpunktinformationen aktualisieren.",e$="Speichern",t$="Kategorie bearbeiten",n$="Kategoriename aktualisieren.",r$="Sind Sie sicher?",s$="Mchten Sie diesen Menpunkt wirklich dauerhaft lschen? Diese Aktion kann nicht rckgngig gemacht werden.",i$="Mchten Sie diese Kategorie wirklich dauerhaft lschen? Diese Aktion kann nicht rckgngig gemacht werden.",o$="Abbrechen",a$="Warnung",l$="Bitte fllen Sie alle Pflichtfelder aus.",u$="Erfolg",c$="Menpunkt erfolgreich hinzugefgt!",d$="Kategorie erfolgreich hinzugefgt!",f$="Menpunkt erfolgreich gelscht!",h$="Kategorie erfolgreich gelscht!",p$="Menpunkt erfolgreich aktualisiert!",m$="Kategorie erfolgreich aktualisiert!",g$="Fehler",y$="Fehler beim Abrufen der Mendaten.",v$="Fehler beim Hinzufgen des Menpunkts.",w$="Fehler beim Hinzufgen der Kategorie.",_$="Fehler beim Lschen des Menpunkts.",x$="Fehler beim Lschen der Kategorie.",E$="Fehler beim Aktualisieren des Menpunkts.",C$="Fehler beim Aktualisieren der Kategorie.",S$="Admin-Dashboard",T$="Bestellungen",I$="Aktive Bestellungen anzeigen und deren Status aktualisieren.",b$="Bestellungen verwalten",A$="Men verwalten",R$="Menpunkte hinzufgen, bearbeiten oder entfernen.",N$="QR-Codes",P$="Tisch-QR-Codes anzeigen und drucken.",k$="QR-Codes anzeigen",D$="Bitte geben Sie Name, Preis und Kategorie ein.",M$="Bitte geben Sie den Kategorienamen ein.",O$="Fehler beim Abrufen der Anzahl neuer Bestellungen.",L$="Unsere Speisekarte",j$="In den Warenkorb",V$="Gesamt",F$="Zur Kasse",$$="Ihr Warenkorb",z$="Ihr Warenkorb ist leer.",U$="Weiter einkaufen",B$="Bestellbersicht",H$="Lieferinformationen",W$="Adresse",K$="Telefon",q$="Notizen",Q$="Bestellung aufgeben",G$="Vielen Dank!",Y$="Ihre Bestellung wurde erfolgreich aufgegeben.",X$="Bestell-ID",J$="Sie knnen den Status Ihrer Bestellung auf der Bestellseite verfolgen.",Z$="Zurck zum Men",e6="Tisch",t6="Alle",n6={waiter_call:N3,menuManagement:P3,addNewMenuItem:k3,addNewMenuItemDescription:D3,addNewCategory:M3,addNewCategoryDescription:O3,name:L3,description:j3,price:V3,imageUrl:F3,category:$3,selectCategory:z3,addItem:U3,categoryName:B3,addCategory:H3,menuItems:W3,existingMenuItems:K3,existingMenuItemsDescription:q3,categories:Q3,existingCategories:G3,existingCategoriesDescription:Y3,actions:X3,editMenuItem:J3,updateMenuItemInfo:Z3,save:e$,editCategory:t$,updateCategoryName:n$,confirmDelete:r$,confirmDeleteItem:s$,confirmDeleteCategory:i$,cancel:o$,delete:"Lschen",warning:a$,fillAllFields:l$,success:u$,itemAddedSuccessfully:c$,categoryAddedSuccessfully:d$,itemDeletedSuccessfully:f$,categoryDeletedSuccessfully:h$,itemUpdatedSuccessfully:p$,categoryUpdatedSuccessfully:m$,error:g$,errorFetchingMenuData:y$,errorAddingMenuItem:v$,errorAddingCategory:w$,errorDeletingMenuItem:_$,errorDeletingCategory:x$,errorUpdatingMenuItem:E$,errorUpdatingCategory:C$,adminDashboard:S$,orders:T$,new:"Neu",viewActiveOrders:I$,manageOrders:b$,manageMenu:A$,manageMenuDescription:R$,qrCodes:N$,viewPrintQrCodes:P$,viewQrCodes:k$,pleaseFillNamePriceCategory:D$,pleaseFillCategoryName:M$,errorFetchingNewOrdersCount:O$,ourMenu:L$,addToCart:j$,total:V$,checkout:F$,yourCart:$$,emptyCart:z$,continueShopping:U$,orderSummary:B$,deliveryInfo:H$,address:W$,phone:K$,notes:q$,placeOrder:Q$,thankYou:G$,orderPlaced:Y$,orderId:X$,trackOrder:J$,backToMenu:Z$,table:e6,all:t6},r6={button:"Appeler le serveur",sending:"Envoi...",try_again_in_seconds:"Veuillez ressayer dans {{count}} secondes.",message_default:"Le client a appel un serveur",sent_success:"Appel du serveur envoy ! Quelquun va arriver sous peu.",sent_error:"Une erreur sest produite lors de lenvoi de lappel. Veuillez ressayer."},s6="Gestion du menu",i6="Ajouter un nouvel lment de menu",o6="Ajouter un nouvel lment au menu.",a6="Ajouter une nouvelle catgorie",l6="Ajouter une nouvelle catgorie au menu.",u6="Nom",c6="Description",d6="Prix",f6="URL de l'image",h6="Catgorie",p6="Slectionner une catgorie",m6="Ajouter un lment",g6="Nom de la catgorie",y6="Ajouter une catgorie",v6="lments du menu",w6="lments de menu existants",_6="Modifier ou supprimer des lments dans le menu.",x6="Catgories",E6="Catgories existantes",C6="Modifier ou supprimer des catgories.",S6="Actions",T6="Modifier l'lment de menu",I6="Mettre  jour les informations de l'lment de menu.",b6="Enregistrer",A6="Modifier la catgorie",R6="Mettre  jour le nom de la catgorie.",N6="tes-vous sr(e) ?",P6="tes-vous sr(e) de vouloir supprimer dfinitivement cet lment de menu ? Cette action est irrversible.",k6="tes-vous sr(e) de vouloir supprimer dfinitivement cette catgorie ? Cette action est irrversible.",D6="Annuler",M6="Avertissement",O6="Veuillez remplir tous les champs obligatoires.",L6="Succs",j6="lment de menu ajout avec succs !",V6="Catgorie ajoute avec succs !",F6="lment de menu supprim avec succs !",$6="Catgorie supprime avec succs !",z6="lment de menu mis  jour avec succs !",U6="Catgorie mise  jour avec succs !",B6="Erreur",H6="Erreur lors de la rcupration des donnes du menu.",W6="Erreur lors de l'ajout de l'lment de menu.",K6="Erreur lors de l'ajout de la catgorie.",q6="Erreur lors de la suppression de l'lment de menu.",Q6="Erreur lors de la suppression de la catgorie.",G6="Erreur lors de la mise  jour de l'lment de menu.",Y6="Erreur lors de la mise  jour de la catgorie.",X6="Tableau de bord administrateur",J6="Commandes",Z6="Afficher les commandes actives et mettre  jour leur statut.",e5="Grer les commandes",t5="Grer le menu",n5="Ajouter, modifier ou supprimer des lments de menu.",r5="Codes QR",s5="Afficher et imprimer les codes QR de table.",i5="Afficher les codes QR",o5="Veuillez remplir le nom, le prix et la catgorie.",a5="Veuillez remplir le nom de la catgorie.",l5="Erreur lors de la rcupration du nombre de nouvelles commandes.",u5="Notre menu",c5="Ajouter au panier",d5="Total",f5="Commander",h5="Votre panier",p5="Votre panier est vide.",m5="Continuer vos achats",g5="Rcapitulatif de la commande",y5="Informations de livraison",v5="Adresse",w5="Tlphone",_5="Notes",x5="Passer la commande",E5="Merci !",C5="Votre commande a t passe avec succs.",S5="ID de commande",T5="Vous pouvez suivre le statut de votre commande sur la page des commandes.",I5="Retour au menu",b5="Table",A5="Tout",R5={waiter_call:r6,menuManagement:s6,addNewMenuItem:i6,addNewMenuItemDescription:o6,addNewCategory:a6,addNewCategoryDescription:l6,name:u6,description:c6,price:d6,imageUrl:f6,category:h6,selectCategory:p6,addItem:m6,categoryName:g6,addCategory:y6,menuItems:v6,existingMenuItems:w6,existingMenuItemsDescription:_6,categories:x6,existingCategories:E6,existingCategoriesDescription:C6,actions:S6,editMenuItem:T6,updateMenuItemInfo:I6,save:b6,editCategory:A6,updateCategoryName:R6,confirmDelete:N6,confirmDeleteItem:P6,confirmDeleteCategory:k6,cancel:D6,delete:"Supprimer",warning:M6,fillAllFields:O6,success:L6,itemAddedSuccessfully:j6,categoryAddedSuccessfully:V6,itemDeletedSuccessfully:F6,categoryDeletedSuccessfully:$6,itemUpdatedSuccessfully:z6,categoryUpdatedSuccessfully:U6,error:B6,errorFetchingMenuData:H6,errorAddingMenuItem:W6,errorAddingCategory:K6,errorDeletingMenuItem:q6,errorDeletingCategory:Q6,errorUpdatingMenuItem:G6,errorUpdatingCategory:Y6,adminDashboard:X6,orders:J6,new:"Nouveau",viewActiveOrders:Z6,manageOrders:e5,manageMenu:t5,manageMenuDescription:n5,qrCodes:r5,viewPrintQrCodes:s5,viewQrCodes:i5,pleaseFillNamePriceCategory:o5,pleaseFillCategoryName:a5,errorFetchingNewOrdersCount:l5,ourMenu:u5,addToCart:c5,total:d5,checkout:f5,yourCart:h5,emptyCart:p5,continueShopping:m5,orderSummary:g5,deliveryInfo:y5,address:v5,phone:w5,notes:_5,placeOrder:x5,thankYou:E5,orderPlaced:C5,orderId:S5,trackOrder:T5,backToMenu:I5,table:b5,all:A5},N5={button:"Garson ar",sending:"Gnderiliyor...",try_again_in_seconds:"Ltfen {{count}} saniye sonra tekrar deneyin.",message_default:"Mteri garson ard",sent_success:"Garson ars gnderildi! Garson en ksa srede gelecektir.",sent_error:"Garson ars gnderilirken bir hata olutu. Ltfen tekrar deneyin."},P5="Men Ynetimi",k5="Yeni Men esi Ekle",D5="Menye yeni bir e ekleyin.",M5="Yeni Kategori Ekle",O5="Menye yeni bir kategori ekleyin.",L5="Ad",j5="Aklama",V5="Fiyat",F5="Resim URL",$5="Kategori",z5="Kategori Sein",U5="e Ekle",B5="Kategori Ad",H5="Kategori Ekle",W5="Men eleri",K5="Mevcut Men eleri",q5="Mendeki eleri dzenleyin veya silin.",Q5="Kategoriler",G5="Mevcut Kategoriler",Y5="Kategorileri dzenleyin veya silin.",X5="lemler",J5="Men esini Dzenle",Z5="Men esinin bilgilerini gncelleyin.",ez="Kaydet",tz="Kategoriyi Dzenle",nz="Kategori adn gncelleyin.",rz="Emin misiniz?",sz="Bu men esini kalc olarak silmek istediinizden emin misiniz? Bu ilem geri alnamaz.",iz="Bu kategoriyi kalc olarak silmek istediinizden emin misiniz? Bu ilem geri alnamaz.",oz="ptal",az="Uyar",lz="Ltfen tm gerekli alanlar doldurun.",uz="Baarl",cz="Men esi baaryla eklendi!",dz="Kategori baaryla eklendi!",fz="Men esi baaryla silindi!",hz="Kategori baaryla silindi!",pz="Men esi baaryla gncellendi!",mz="Kategori baaryla gncellendi!",gz="Hata",yz="Men verileri ekilirken bir hata olutu.",vz="Men esi eklenirken bir hata olutu.",wz="Kategori eklenirken bir hata olutu.",_z="Men esi silinirken bir hata olutu.",xz="Kategori silinirken bir hata olutu.",Ez="Men esi gncellenirken bir hata olutu.",Cz="Men esi gncellenirken bir hata olutu.",Sz="Ynetim Paneli",Tz="Sipariler",Iz="Aktif siparileri grntleyin ve durumlarn gncelleyin.",bz="Siparileri Ynet",Az="Meny Ynet",Rz="Men elerini ekleyin, dzenleyin veya kaldrn.",Nz="QR Kodlar",Pz="Masa QR kodlarn grntleyin ve yazdrn.",kz="QR Kodlar Grntle",Dz="Ltfen ad, fiyat ve kategori alanlarn doldurun.",Mz="Ltfen kategori adn doldurun.",Oz="Yeni sipari says ekilirken bir hata olutu.",Lz="Menmz",jz="Sepete Ekle",Vz="Toplam",Fz="deme Yap",$z="Sepetiniz",zz="Sepetiniz bo.",Uz="Alverie Devam Et",Bz="Sipari zeti",Hz="Teslimat Bilgileri",Wz="Adres",Kz="Telefon",qz="Notlar",Qz="Sipari Ver",Gz="Teekkr Ederiz!",Yz="Sipariiniz baaryla alnd.",Xz="Sipari ID",Jz="Sipariinizin durumunu sipariler sayfasndan takip edebilirsiniz.",Zz="Menye Geri Dn",e9="Masa",t9="Tm",n9={waiter_call:N5,menuManagement:P5,addNewMenuItem:k5,addNewMenuItemDescription:D5,addNewCategory:M5,addNewCategoryDescription:O5,name:L5,description:j5,price:V5,imageUrl:F5,category:$5,selectCategory:z5,addItem:U5,categoryName:B5,addCategory:H5,menuItems:W5,existingMenuItems:K5,existingMenuItemsDescription:q5,categories:Q5,existingCategories:G5,existingCategoriesDescription:Y5,actions:X5,editMenuItem:J5,updateMenuItemInfo:Z5,save:ez,editCategory:tz,updateCategoryName:nz,confirmDelete:rz,confirmDeleteItem:sz,confirmDeleteCategory:iz,cancel:oz,delete:"Sil",warning:az,fillAllFields:lz,success:uz,itemAddedSuccessfully:cz,categoryAddedSuccessfully:dz,itemDeletedSuccessfully:fz,categoryDeletedSuccessfully:hz,itemUpdatedSuccessfully:pz,categoryUpdatedSuccessfully:mz,error:gz,errorFetchingMenuData:yz,errorAddingMenuItem:vz,errorAddingCategory:wz,errorDeletingMenuItem:_z,errorDeletingCategory:xz,errorUpdatingMenuItem:Ez,errorUpdatingCategory:Cz,adminDashboard:Sz,orders:Tz,new:"Yeni",viewActiveOrders:Iz,manageOrders:bz,manageMenu:Az,manageMenuDescription:Rz,qrCodes:Nz,viewPrintQrCodes:Pz,viewQrCodes:kz,pleaseFillNamePriceCategory:Dz,pleaseFillCategoryName:Mz,errorFetchingNewOrdersCount:Oz,ourMenu:Lz,addToCart:jz,total:Vz,checkout:Fz,yourCart:$z,emptyCart:zz,continueShopping:Uz,orderSummary:Bz,deliveryInfo:Hz,address:Wz,phone:Kz,notes:qz,placeOrder:Qz,thankYou:Gz,orderPlaced:Yz,orderId:Xz,trackOrder:Jz,backToMenu:Zz,table:e9,all:t9};nn.use(Sk).init({resources:{en:{translation:nF},ru:{translation:R3},de:{translation:n6},fr:{translation:R5},tr:{translation:n9}},lng:"tr",fallbackLng:"en",interpolation:{escapeValue:!1}});$I.createRoot(document.getElementById("root")).render(v.jsx(E.StrictMode,{children:v.jsx(cj,{})}));
