function Vb(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function Kx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ep={exports:{}},Nl={},tp={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function Fb(){if(x0)return Ue;x0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),w=Symbol.iterator;function v(B){return B===null||typeof B!="object"?null:(B=w&&B[w]||B["@@iterator"],typeof B=="function"?B:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function b(B,Z,de){this.props=B,this.context=Z,this.refs=S,this.updater=de||T}b.prototype.isReactComponent={},b.prototype.setState=function(B,Z){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Z,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=b.prototype;function M(B,Z,de){this.props=B,this.context=Z,this.refs=S,this.updater=de||T}var L=M.prototype=new N;L.constructor=M,C(L,b.prototype),L.isPureReactComponent=!0;var U=Array.isArray,$=Object.prototype.hasOwnProperty,G={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function R(B,Z,de){var ge,Se={},Ae=null,fe=null;if(Z!=null)for(ge in Z.ref!==void 0&&(fe=Z.ref),Z.key!==void 0&&(Ae=""+Z.key),Z)$.call(Z,ge)&&!k.hasOwnProperty(ge)&&(Se[ge]=Z[ge]);var ve=arguments.length-2;if(ve===1)Se.children=de;else if(1<ve){for(var De=Array(ve),me=0;me<ve;me++)De[me]=arguments[me+2];Se.children=De}if(B&&B.defaultProps)for(ge in ve=B.defaultProps,ve)Se[ge]===void 0&&(Se[ge]=ve[ge]);return{$$typeof:n,type:B,key:Ae,ref:fe,props:Se,_owner:G.current}}function D(B,Z){return{$$typeof:n,type:B.type,key:Z,ref:B.ref,props:B.props,_owner:B._owner}}function V(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function F(B){var Z={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(de){return Z[de]})}var P=/\/+/g;function j(B,Z){return typeof B=="object"&&B!==null&&B.key!=null?F(""+B.key):Z.toString(36)}function ee(B,Z,de,ge,Se){var Ae=typeof B;(Ae==="undefined"||Ae==="boolean")&&(B=null);var fe=!1;if(B===null)fe=!0;else switch(Ae){case"string":case"number":fe=!0;break;case"object":switch(B.$$typeof){case n:case e:fe=!0}}if(fe)return fe=B,Se=Se(fe),B=ge===""?"."+j(fe,0):ge,U(Se)?(de="",B!=null&&(de=B.replace(P,"$&/")+"/"),ee(Se,Z,de,"",function(me){return me})):Se!=null&&(V(Se)&&(Se=D(Se,de+(!Se.key||fe&&fe.key===Se.key?"":(""+Se.key).replace(P,"$&/")+"/")+B)),Z.push(Se)),1;if(fe=0,ge=ge===""?".":ge+":",U(B))for(var ve=0;ve<B.length;ve++){Ae=B[ve];var De=ge+j(Ae,ve);fe+=ee(Ae,Z,de,De,Se)}else if(De=v(B),typeof De=="function")for(B=De.call(B),ve=0;!(Ae=B.next()).done;)Ae=Ae.value,De=ge+j(Ae,ve++),fe+=ee(Ae,Z,de,De,Se);else if(Ae==="object")throw Z=String(B),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return fe}function te(B,Z,de){if(B==null)return B;var ge=[],Se=0;return ee(B,ge,"","",function(Ae){return Z.call(de,Ae,Se++)}),ge}function re(B){if(B._status===-1){var Z=B._result;Z=Z(),Z.then(function(de){(B._status===0||B._status===-1)&&(B._status=1,B._result=de)},function(de){(B._status===0||B._status===-1)&&(B._status=2,B._result=de)}),B._status===-1&&(B._status=0,B._result=Z)}if(B._status===1)return B._result.default;throw B._result}var ue={current:null},Y={transition:null},ne={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:Y,ReactCurrentOwner:G};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:te,forEach:function(B,Z,de){te(B,function(){Z.apply(this,arguments)},de)},count:function(B){var Z=0;return te(B,function(){Z++}),Z},toArray:function(B){return te(B,function(Z){return Z})||[]},only:function(B){if(!V(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ue.Component=b,Ue.Fragment=t,Ue.Profiler=i,Ue.PureComponent=M,Ue.StrictMode=r,Ue.Suspense=f,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,Ue.act=le,Ue.cloneElement=function(B,Z,de){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ge=C({},B.props),Se=B.key,Ae=B.ref,fe=B._owner;if(Z!=null){if(Z.ref!==void 0&&(Ae=Z.ref,fe=G.current),Z.key!==void 0&&(Se=""+Z.key),B.type&&B.type.defaultProps)var ve=B.type.defaultProps;for(De in Z)$.call(Z,De)&&!k.hasOwnProperty(De)&&(ge[De]=Z[De]===void 0&&ve!==void 0?ve[De]:Z[De])}var De=arguments.length-2;if(De===1)ge.children=de;else if(1<De){ve=Array(De);for(var me=0;me<De;me++)ve[me]=arguments[me+2];ge.children=ve}return{$$typeof:n,type:B.type,key:Se,ref:Ae,props:ge,_owner:fe}},Ue.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Ue.createElement=R,Ue.createFactory=function(B){var Z=R.bind(null,B);return Z.type=B,Z},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(B){return{$$typeof:u,render:B}},Ue.isValidElement=V,Ue.lazy=function(B){return{$$typeof:m,_payload:{_status:-1,_result:B},_init:re}},Ue.memo=function(B,Z){return{$$typeof:h,type:B,compare:Z===void 0?null:Z}},Ue.startTransition=function(B){var Z=Y.transition;Y.transition={};try{B()}finally{Y.transition=Z}},Ue.unstable_act=le,Ue.useCallback=function(B,Z){return ue.current.useCallback(B,Z)},Ue.useContext=function(B){return ue.current.useContext(B)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(B){return ue.current.useDeferredValue(B)},Ue.useEffect=function(B,Z){return ue.current.useEffect(B,Z)},Ue.useId=function(){return ue.current.useId()},Ue.useImperativeHandle=function(B,Z,de){return ue.current.useImperativeHandle(B,Z,de)},Ue.useInsertionEffect=function(B,Z){return ue.current.useInsertionEffect(B,Z)},Ue.useLayoutEffect=function(B,Z){return ue.current.useLayoutEffect(B,Z)},Ue.useMemo=function(B,Z){return ue.current.useMemo(B,Z)},Ue.useReducer=function(B,Z,de){return ue.current.useReducer(B,Z,de)},Ue.useRef=function(B){return ue.current.useRef(B)},Ue.useState=function(B){return ue.current.useState(B)},Ue.useSyncExternalStore=function(B,Z,de){return ue.current.useSyncExternalStore(B,Z,de)},Ue.useTransition=function(){return ue.current.useTransition()},Ue.version="18.3.1",Ue}var _0;function Hm(){return _0||(_0=1,tp.exports=Fb()),tp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function $b(){if(E0)return Nl;E0=1;var n=Hm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,f,h){var m,w={},v=null,T=null;h!==void 0&&(v=""+h),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(T=f.ref);for(m in f)r.call(f,m)&&!a.hasOwnProperty(m)&&(w[m]=f[m]);if(u&&u.defaultProps)for(m in f=u.defaultProps,f)w[m]===void 0&&(w[m]=f[m]);return{$$typeof:e,type:u,key:v,ref:T,props:w,_owner:i.current}}return Nl.Fragment=t,Nl.jsx=l,Nl.jsxs=l,Nl}var C0;function zb(){return C0||(C0=1,ep.exports=$b()),ep.exports}var g=zb(),E=Hm();const st=Kx(E),Gx=Vb({__proto__:null,default:st},[E]);var Fu={},np={exports:{}},gn={},rp={exports:{}},sp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function Ub(){return S0||(S0=1,function(n){function e(Y,ne){var le=Y.length;Y.push(ne);e:for(;0<le;){var B=le-1>>>1,Z=Y[B];if(0<i(Z,ne))Y[B]=ne,Y[le]=Z,le=B;else break e}}function t(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ne=Y[0],le=Y.pop();if(le!==ne){Y[0]=le;e:for(var B=0,Z=Y.length,de=Z>>>1;B<de;){var ge=2*(B+1)-1,Se=Y[ge],Ae=ge+1,fe=Y[Ae];if(0>i(Se,le))Ae<Z&&0>i(fe,Se)?(Y[B]=fe,Y[Ae]=le,B=Ae):(Y[B]=Se,Y[ge]=le,B=ge);else if(Ae<Z&&0>i(fe,le))Y[B]=fe,Y[Ae]=le,B=Ae;else break e}}return ne}function i(Y,ne){var le=Y.sortIndex-ne.sortIndex;return le!==0?le:Y.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],h=[],m=1,w=null,v=3,T=!1,C=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(Y){for(var ne=t(h);ne!==null;){if(ne.callback===null)r(h);else if(ne.startTime<=Y)r(h),ne.sortIndex=ne.expirationTime,e(f,ne);else break;ne=t(h)}}function U(Y){if(S=!1,L(Y),!C)if(t(f)!==null)C=!0,re($);else{var ne=t(h);ne!==null&&ue(U,ne.startTime-Y)}}function $(Y,ne){C=!1,S&&(S=!1,N(R),R=-1),T=!0;var le=v;try{for(L(ne),w=t(f);w!==null&&(!(w.expirationTime>ne)||Y&&!F());){var B=w.callback;if(typeof B=="function"){w.callback=null,v=w.priorityLevel;var Z=B(w.expirationTime<=ne);ne=n.unstable_now(),typeof Z=="function"?w.callback=Z:w===t(f)&&r(f),L(ne)}else r(f);w=t(f)}if(w!==null)var de=!0;else{var ge=t(h);ge!==null&&ue(U,ge.startTime-ne),de=!1}return de}finally{w=null,v=le,T=!1}}var G=!1,k=null,R=-1,D=5,V=-1;function F(){return!(n.unstable_now()-V<D)}function P(){if(k!==null){var Y=n.unstable_now();V=Y;var ne=!0;try{ne=k(!0,Y)}finally{ne?j():(G=!1,k=null)}}else G=!1}var j;if(typeof M=="function")j=function(){M(P)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,te=ee.port2;ee.port1.onmessage=P,j=function(){te.postMessage(null)}}else j=function(){b(P,0)};function re(Y){k=Y,G||(G=!0,j())}function ue(Y,ne){R=b(function(){Y(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){C||T||(C=!0,re($))},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var le=v;v=ne;try{return Y()}finally{v=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,ne){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var le=v;v=Y;try{return ne()}finally{v=le}},n.unstable_scheduleCallback=function(Y,ne,le){var B=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?B+le:B):le=B,Y){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=le+Z,Y={id:m++,callback:ne,priorityLevel:Y,startTime:le,expirationTime:Z,sortIndex:-1},le>B?(Y.sortIndex=le,e(h,Y),t(f)===null&&Y===t(h)&&(S?(N(R),R=-1):S=!0,ue(U,le-B))):(Y.sortIndex=Z,e(f,Y),C||T||(C=!0,re($))),Y},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(Y){var ne=v;return function(){var le=v;v=ne;try{return Y.apply(this,arguments)}finally{v=le}}}}(sp)),sp}var T0;function Bb(){return T0||(T0=1,rp.exports=Ub()),rp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function Hb(){if(b0)return gn;b0=1;var n=Hm(),e=Bb();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},w={};function v(s){return f.call(w,s)?!0:f.call(m,s)?!1:h.test(s)?w[s]=!0:(m[s]=!0,!1)}function T(s,o,c,p){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function C(s,o,c,p){if(o===null||typeof o>"u"||T(s,o,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(s,o,c,p,y,_,A){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=_,this.removeEmptyString=A}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];b[o]=new S(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function M(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(N,M);b[o]=new S(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(N,M);b[o]=new S(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(N,M);b[o]=new S(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function L(s,o,c,p){var y=b.hasOwnProperty(o)?b[o]:null;(y!==null?y.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(C(o,c,y,p)&&(c=null),p||y===null?v(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):y.mustUseProperty?s[y.propertyName]=c===null?y.type===3?!1:"":c:(o=y.attributeName,p=y.attributeNamespace,c===null?s.removeAttribute(o):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?s.setAttributeNS(p,o,c):s.setAttribute(o,c))))}var U=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),G=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),F=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),Y=Symbol.iterator;function ne(s){return s===null||typeof s!="object"?null:(s=Y&&s[Y]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,B;function Z(s){if(B===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+s}var de=!1;function ge(s,o){if(!s||de)return"";de=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var p=X}Reflect.construct(s,[],o)}else{try{o.call()}catch(X){p=X}s.call(o.prototype)}else{try{throw Error()}catch(X){p=X}s()}}catch(X){if(X&&p&&typeof X.stack=="string"){for(var y=X.stack.split(`
`),_=p.stack.split(`
`),A=y.length-1,z=_.length-1;1<=A&&0<=z&&y[A]!==_[z];)z--;for(;1<=A&&0<=z;A--,z--)if(y[A]!==_[z]){if(A!==1||z!==1)do if(A--,z--,0>z||y[A]!==_[z]){var H=`
`+y[A].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=A&&0<=z);break}}}finally{de=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?Z(s):""}function Se(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=ge(s.type,!1),s;case 11:return s=ge(s.type.render,!1),s;case 1:return s=ge(s.type,!0),s;default:return""}}function Ae(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case G:return"Portal";case D:return"Profiler";case R:return"StrictMode";case j:return"Suspense";case ee:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case F:return(s.displayName||"Context")+".Consumer";case V:return(s._context.displayName||"Context")+".Provider";case P:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case te:return o=s.displayName||null,o!==null?o:Ae(s.type)||"Memo";case re:o=s._payload,s=s._init;try{return Ae(s(o))}catch{}}return null}function fe(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ve(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function De(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function me(s){var o=De(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),p=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,_=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return y.call(this)},set:function(A){p=""+A,_.call(this,A)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(A){p=""+A},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Re(s){s._valueTracker||(s._valueTracker=me(s))}function qe(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),p="";return s&&(p=De(s)?s.checked?"true":"false":s.value),s=p,s!==c?(o.setValue(s),!0):!1}function wt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ot(s,o){var c=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function kn(s,o){var c=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;c=ve(o.value!=null?o.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function qn(s,o){o=o.checked,o!=null&&L(s,"checked",o,!1)}function Kn(s,o){qn(s,o);var c=ve(o.value),p=o.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Gn(s,o.type,c):o.hasOwnProperty("defaultValue")&&Gn(s,o.type,ve(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function oo(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Gn(s,o,c){(o!=="number"||wt(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Ur=Array.isArray;function Br(s,o,c,p){if(s=s.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<s.length;c++)y=o.hasOwnProperty("$"+s[c].value),s[c].selected!==y&&(s[c].selected=y),y&&p&&(s[c].defaultSelected=!0)}else{for(c=""+ve(c),o=null,y=0;y<s.length;y++){if(s[y].value===c){s[y].selected=!0,p&&(s[y].defaultSelected=!0);return}o!==null||s[y].disabled||(o=s[y])}o!==null&&(o.selected=!0)}}function ja(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ao(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(Ur(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:ve(c)}}function lo(s,o){var c=ve(o.value),p=ve(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function La(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function At(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?At(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Hr,Va=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,p,y){MSApp.execUnsafeLocalFunction(function(){return s(o,c,p,y)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Hr=Hr||document.createElement("div"),Hr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Hr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function gs(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wi=["Webkit","ms","Moz","O"];Object.keys(vi).forEach(function(s){wi.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),vi[o]=vi[s]})});function Fa(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||vi.hasOwnProperty(s)&&vi[s]?(""+o).trim():o+"px"}function $a(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=Fa(c,o[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,y):s[c]=y}}var za=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ua(s,o){if(o){if(za[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Ba(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xi=null;function co(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var uo=null,Dn=null,xr=null;function fo(s){if(s=hl(s)){if(typeof uo!="function")throw Error(t(280));var o=s.stateNode;o&&(o=eu(o),uo(s.stateNode,s.type,o))}}function _r(s){Dn?xr?xr.push(s):xr=[s]:Dn=s}function Ha(){if(Dn){var s=Dn,o=xr;if(xr=Dn=null,fo(s),o)for(s=0;s<o.length;s++)fo(o[s])}}function _i(s,o){return s(o)}function Wa(){}var Wr=!1;function qa(s,o,c){if(Wr)return s(o,c);Wr=!0;try{return _i(s,o,c)}finally{Wr=!1,(Dn!==null||xr!==null)&&(Wa(),Ha())}}function Et(s,o){var c=s.stateNode;if(c===null)return null;var p=eu(c);if(p===null)return null;c=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var ho=!1;if(u)try{var Qn={};Object.defineProperty(Qn,"passive",{get:function(){ho=!0}}),window.addEventListener("test",Qn,Qn),window.removeEventListener("test",Qn,Qn)}catch{ho=!1}function Ei(s,o,c,p,y,_,A,z,H){var X=Array.prototype.slice.call(arguments,3);try{o.apply(c,X)}catch(ae){this.onError(ae)}}var Ci=!1,po=null,Yn=!1,Ka=null,Nf={onError:function(s){Ci=!0,po=s}};function mo(s,o,c,p,y,_,A,z,H){Ci=!1,po=null,Ei.apply(Nf,arguments)}function Tc(s,o,c,p,y,_,A,z,H){if(mo.apply(this,arguments),Ci){if(Ci){var X=po;Ci=!1,po=null}else throw Error(t(198));Yn||(Yn=!0,Ka=X)}}function Xn(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function Si(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Jn(s){if(Xn(s)!==s)throw Error(t(188))}function bc(s){var o=s.alternate;if(!o){if(o=Xn(s),o===null)throw Error(t(188));return o!==s?null:s}for(var c=s,p=o;;){var y=c.return;if(y===null)break;var _=y.alternate;if(_===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===c)return Jn(y),s;if(_===p)return Jn(y),o;_=_.sibling}throw Error(t(188))}if(c.return!==p.return)c=y,p=_;else{for(var A=!1,z=y.child;z;){if(z===c){A=!0,c=y,p=_;break}if(z===p){A=!0,p=y,c=_;break}z=z.sibling}if(!A){for(z=_.child;z;){if(z===c){A=!0,c=_,p=y;break}if(z===p){A=!0,p=_,c=y;break}z=z.sibling}if(!A)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:o}function Ga(s){return s=bc(s),s!==null?go(s):null}function go(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=go(s);if(o!==null)return o;s=s.sibling}return null}var yo=e.unstable_scheduleCallback,Qa=e.unstable_cancelCallback,Ic=e.unstable_shouldYield,Af=e.unstable_requestPaint,it=e.unstable_now,Nc=e.unstable_getCurrentPriorityLevel,Ti=e.unstable_ImmediatePriority,ys=e.unstable_UserBlockingPriority,Mn=e.unstable_NormalPriority,Ya=e.unstable_LowPriority,Ac=e.unstable_IdlePriority,bi=null,En=null;function Rc(s){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(bi,s,void 0,(s.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:kc,Xa=Math.log,Pc=Math.LN2;function kc(s){return s>>>=0,s===0?32:31-(Xa(s)/Pc|0)|0}var vo=64,wo=4194304;function vs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ii(s,o){var c=s.pendingLanes;if(c===0)return 0;var p=0,y=s.suspendedLanes,_=s.pingedLanes,A=c&268435455;if(A!==0){var z=A&~y;z!==0?p=vs(z):(_&=A,_!==0&&(p=vs(_)))}else A=c&~y,A!==0?p=vs(A):_!==0&&(p=vs(_));if(p===0)return 0;if(o!==0&&o!==p&&(o&y)===0&&(y=p&-p,_=o&-o,y>=_||y===16&&(_&4194240)!==0))return o;if((p&4)!==0&&(p|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=p;0<o;)c=31-sn(o),y=1<<c,p|=s[c],o&=~y;return p}function Rf(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qr(s,o){for(var c=s.suspendedLanes,p=s.pingedLanes,y=s.expirationTimes,_=s.pendingLanes;0<_;){var A=31-sn(_),z=1<<A,H=y[A];H===-1?((z&c)===0||(z&p)!==0)&&(y[A]=Rf(z,o)):H<=o&&(s.expiredLanes|=z),_&=~z}}function Cn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ni(){var s=vo;return vo<<=1,(vo&4194240)===0&&(vo=64),s}function ws(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function xs(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-sn(o),s[o]=c}function rt(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var y=31-sn(c),_=1<<y;o[y]=0,p[y]=-1,s[y]=-1,c&=~_}}function _s(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var p=31-sn(c),y=1<<p;y&o|s[p]&o&&(s[p]|=o),c&=~y}}var Ke=0;function Es(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Dc,xo,Mc,Oc,jc,Ja=!1,Er=[],zt=null,Zn=null,er=null,Cs=new Map,On=new Map,Cr=[],Pf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lc(s,o){switch(s){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Cs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":On.delete(o.pointerId)}}function cn(s,o,c,p,y,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:c,eventSystemFlags:p,nativeEvent:_,targetContainers:[y]},o!==null&&(o=hl(o),o!==null&&xo(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),s)}function kf(s,o,c,p,y){switch(o){case"focusin":return zt=cn(zt,s,o,c,p,y),!0;case"dragenter":return Zn=cn(Zn,s,o,c,p,y),!0;case"mouseover":return er=cn(er,s,o,c,p,y),!0;case"pointerover":var _=y.pointerId;return Cs.set(_,cn(Cs.get(_)||null,s,o,c,p,y)),!0;case"gotpointercapture":return _=y.pointerId,On.set(_,cn(On.get(_)||null,s,o,c,p,y)),!0}return!1}function Vc(s){var o=Di(s.target);if(o!==null){var c=Xn(o);if(c!==null){if(o=c.tag,o===13){if(o=Si(c),o!==null){s.blockedOn=o,jc(s.priority,function(){Mc(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Kr(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=_o(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);xi=p,c.target.dispatchEvent(p),xi=null}else return o=hl(c),o!==null&&xo(o),s.blockedOn=c,!1;o.shift()}return!0}function Ai(s,o,c){Kr(s)&&c.delete(o)}function Fc(){Ja=!1,zt!==null&&Kr(zt)&&(zt=null),Zn!==null&&Kr(Zn)&&(Zn=null),er!==null&&Kr(er)&&(er=null),Cs.forEach(Ai),On.forEach(Ai)}function tr(s,o){s.blockedOn===o&&(s.blockedOn=null,Ja||(Ja=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Fc)))}function nr(s){function o(y){return tr(y,s)}if(0<Er.length){tr(Er[0],s);for(var c=1;c<Er.length;c++){var p=Er[c];p.blockedOn===s&&(p.blockedOn=null)}}for(zt!==null&&tr(zt,s),Zn!==null&&tr(Zn,s),er!==null&&tr(er,s),Cs.forEach(o),On.forEach(o),c=0;c<Cr.length;c++)p=Cr[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<Cr.length&&(c=Cr[0],c.blockedOn===null);)Vc(c),c.blockedOn===null&&Cr.shift()}var Gr=U.ReactCurrentBatchConfig,Ss=!0;function ht(s,o,c,p){var y=Ke,_=Gr.transition;Gr.transition=null;try{Ke=1,Za(s,o,c,p)}finally{Ke=y,Gr.transition=_}}function Df(s,o,c,p){var y=Ke,_=Gr.transition;Gr.transition=null;try{Ke=4,Za(s,o,c,p)}finally{Ke=y,Gr.transition=_}}function Za(s,o,c,p){if(Ss){var y=_o(s,o,c,p);if(y===null)Hf(s,o,p,Ri,c),Lc(s,p);else if(kf(y,s,o,c,p))p.stopPropagation();else if(Lc(s,p),o&4&&-1<Pf.indexOf(s)){for(;y!==null;){var _=hl(y);if(_!==null&&Dc(_),_=_o(s,o,c,p),_===null&&Hf(s,o,p,Ri,c),_===y)break;y=_}y!==null&&p.stopPropagation()}else Hf(s,o,p,null,c)}}var Ri=null;function _o(s,o,c,p){if(Ri=null,s=co(p),s=Di(s),s!==null)if(o=Xn(s),o===null)s=null;else if(c=o.tag,c===13){if(s=Si(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Ri=s,null}function el(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nc()){case Ti:return 1;case ys:return 4;case Mn:case Ya:return 16;case Ac:return 536870912;default:return 16}default:return 16}}var Sn=null,Eo=null,un=null;function tl(){if(un)return un;var s,o=Eo,c=o.length,p,y="value"in Sn?Sn.value:Sn.textContent,_=y.length;for(s=0;s<c&&o[s]===y[s];s++);var A=c-s;for(p=1;p<=A&&o[c-p]===y[_-p];p++);return un=y.slice(s,1<p?1-p:void 0)}function Co(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Sr(){return!0}function nl(){return!1}function Ut(s){function o(c,p,y,_,A){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=_,this.target=A,this.currentTarget=null;for(var z in s)s.hasOwnProperty(z)&&(c=s[z],this[z]=c?c(_):_[z]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Sr:nl,this.isPropagationStopped=nl,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),o}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},So=Ut(rr),Tr=le({},rr,{view:0,detail:0}),Mf=Ut(Tr),To,Qr,Ts,Pi=le({},Tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:br,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ts&&(Ts&&s.type==="mousemove"?(To=s.screenX-Ts.screenX,Qr=s.screenY-Ts.screenY):Qr=To=0,Ts=s),To)},movementY:function(s){return"movementY"in s?s.movementY:Qr}}),bo=Ut(Pi),rl=le({},Pi,{dataTransfer:0}),$c=Ut(rl),Io=le({},Tr,{relatedTarget:0}),No=Ut(Io),zc=le({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),Yr=Ut(zc),Uc=le({},rr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Bc=Ut(Uc),Hc=le({},rr,{data:0}),sl=Ut(Hc),Ao={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},on={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Wc[s])?!!o[s]:!1}function br(){return qc}var d=le({},Tr,{key:function(s){if(s.key){var o=Ao[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Co(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?on[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:br,charCode:function(s){return s.type==="keypress"?Co(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Co(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),x=Ut(d),I=le({},Pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O=Ut(I),q=le({},Tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:br}),J=Ut(q),pe=le({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),nt=Ut(pe),Pt=le({},Pi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ge=Ut(Pt),jt=[9,13,27,32],Tt=u&&"CompositionEvent"in window,jn=null;u&&"documentMode"in document&&(jn=document.documentMode);var Tn=u&&"TextEvent"in window&&!jn,ki=u&&(!Tt||jn&&8<jn&&11>=jn),Ro=" ",py=!1;function my(s,o){switch(s){case"keyup":return jt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Po=!1;function OT(s,o){switch(s){case"compositionend":return gy(o);case"keypress":return o.which!==32?null:(py=!0,Ro);case"textInput":return s=o.data,s===Ro&&py?null:s;default:return null}}function jT(s,o){if(Po)return s==="compositionend"||!Tt&&my(s,o)?(s=tl(),un=Eo=Sn=null,Po=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ki&&o.locale!=="ko"?null:o.data;default:return null}}var LT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yy(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!LT[s.type]:o==="textarea"}function vy(s,o,c,p){_r(p),o=Xc(o,"onChange"),0<o.length&&(c=new So("onChange","change",null,c,p),s.push({event:c,listeners:o}))}var il=null,ol=null;function VT(s){jy(s,0)}function Kc(s){var o=jo(s);if(qe(o))return s}function FT(s,o){if(s==="change")return o}var wy=!1;if(u){var Of;if(u){var jf="oninput"in document;if(!jf){var xy=document.createElement("div");xy.setAttribute("oninput","return;"),jf=typeof xy.oninput=="function"}Of=jf}else Of=!1;wy=Of&&(!document.documentMode||9<document.documentMode)}function _y(){il&&(il.detachEvent("onpropertychange",Ey),ol=il=null)}function Ey(s){if(s.propertyName==="value"&&Kc(ol)){var o=[];vy(o,ol,s,co(s)),qa(VT,o)}}function $T(s,o,c){s==="focusin"?(_y(),il=o,ol=c,il.attachEvent("onpropertychange",Ey)):s==="focusout"&&_y()}function zT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Kc(ol)}function UT(s,o){if(s==="click")return Kc(o)}function BT(s,o){if(s==="input"||s==="change")return Kc(o)}function HT(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var sr=typeof Object.is=="function"?Object.is:HT;function al(s,o){if(sr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),p=Object.keys(o);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!f.call(o,y)||!sr(s[y],o[y]))return!1}return!0}function Cy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Sy(s,o){var c=Cy(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=o&&p>=o)return{node:c,offset:o-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Cy(c)}}function Ty(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Ty(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function by(){for(var s=window,o=wt();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=wt(s.document)}return o}function Lf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function WT(s){var o=by(),c=s.focusedElem,p=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&Ty(c.ownerDocument.documentElement,c)){if(p!==null&&Lf(c)){if(o=p.start,s=p.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var y=c.textContent.length,_=Math.min(p.start,y);p=p.end===void 0?_:Math.min(p.end,y),!s.extend&&_>p&&(y=p,p=_,_=y),y=Sy(c,_);var A=Sy(c,p);y&&A&&(s.rangeCount!==1||s.anchorNode!==y.node||s.anchorOffset!==y.offset||s.focusNode!==A.node||s.focusOffset!==A.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),s.removeAllRanges(),_>p?(s.addRange(o),s.extend(A.node,A.offset)):(o.setEnd(A.node,A.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var qT=u&&"documentMode"in document&&11>=document.documentMode,ko=null,Vf=null,ll=null,Ff=!1;function Iy(s,o,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ff||ko==null||ko!==wt(p)||(p=ko,"selectionStart"in p&&Lf(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ll&&al(ll,p)||(ll=p,p=Xc(Vf,"onSelect"),0<p.length&&(o=new So("onSelect","select",null,o,c),s.push({event:o,listeners:p}),o.target=ko)))}function Gc(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Do={animationend:Gc("Animation","AnimationEnd"),animationiteration:Gc("Animation","AnimationIteration"),animationstart:Gc("Animation","AnimationStart"),transitionend:Gc("Transition","TransitionEnd")},$f={},Ny={};u&&(Ny=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function Qc(s){if($f[s])return $f[s];if(!Do[s])return s;var o=Do[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in Ny)return $f[s]=o[c];return s}var Ay=Qc("animationend"),Ry=Qc("animationiteration"),Py=Qc("animationstart"),ky=Qc("transitionend"),Dy=new Map,My="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bs(s,o){Dy.set(s,o),a(o,[s])}for(var zf=0;zf<My.length;zf++){var Uf=My[zf],KT=Uf.toLowerCase(),GT=Uf[0].toUpperCase()+Uf.slice(1);bs(KT,"on"+GT)}bs(Ay,"onAnimationEnd"),bs(Ry,"onAnimationIteration"),bs(Py,"onAnimationStart"),bs("dblclick","onDoubleClick"),bs("focusin","onFocus"),bs("focusout","onBlur"),bs(ky,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QT=new Set("cancel close invalid load scroll toggle".split(" ").concat(cl));function Oy(s,o,c){var p=s.type||"unknown-event";s.currentTarget=c,Tc(p,o,void 0,s),s.currentTarget=null}function jy(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],y=p.event;p=p.listeners;e:{var _=void 0;if(o)for(var A=p.length-1;0<=A;A--){var z=p[A],H=z.instance,X=z.currentTarget;if(z=z.listener,H!==_&&y.isPropagationStopped())break e;Oy(y,z,X),_=H}else for(A=0;A<p.length;A++){if(z=p[A],H=z.instance,X=z.currentTarget,z=z.listener,H!==_&&y.isPropagationStopped())break e;Oy(y,z,X),_=H}}}if(Yn)throw s=Ka,Yn=!1,Ka=null,s}function lt(s,o){var c=o[Yf];c===void 0&&(c=o[Yf]=new Set);var p=s+"__bubble";c.has(p)||(Ly(o,s,2,!1),c.add(p))}function Bf(s,o,c){var p=0;o&&(p|=4),Ly(c,s,p,o)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function ul(s){if(!s[Yc]){s[Yc]=!0,r.forEach(function(c){c!=="selectionchange"&&(QT.has(c)||Bf(c,!1,s),Bf(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Yc]||(o[Yc]=!0,Bf("selectionchange",!1,o))}}function Ly(s,o,c,p){switch(el(o)){case 1:var y=ht;break;case 4:y=Df;break;default:y=Za}c=y.bind(null,o,c,s),y=void 0,!ho||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),p?y!==void 0?s.addEventListener(o,c,{capture:!0,passive:y}):s.addEventListener(o,c,!0):y!==void 0?s.addEventListener(o,c,{passive:y}):s.addEventListener(o,c,!1)}function Hf(s,o,c,p,y){var _=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var A=p.tag;if(A===3||A===4){var z=p.stateNode.containerInfo;if(z===y||z.nodeType===8&&z.parentNode===y)break;if(A===4)for(A=p.return;A!==null;){var H=A.tag;if((H===3||H===4)&&(H=A.stateNode.containerInfo,H===y||H.nodeType===8&&H.parentNode===y))return;A=A.return}for(;z!==null;){if(A=Di(z),A===null)return;if(H=A.tag,H===5||H===6){p=_=A;continue e}z=z.parentNode}}p=p.return}qa(function(){var X=_,ae=co(c),ce=[];e:{var oe=Dy.get(s);if(oe!==void 0){var ye=So,Ee=s;switch(s){case"keypress":if(Co(c)===0)break e;case"keydown":case"keyup":ye=x;break;case"focusin":Ee="focus",ye=No;break;case"focusout":Ee="blur",ye=No;break;case"beforeblur":case"afterblur":ye=No;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=$c;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=J;break;case Ay:case Ry:case Py:ye=Yr;break;case ky:ye=nt;break;case"scroll":ye=Mf;break;case"wheel":ye=Ge;break;case"copy":case"cut":case"paste":ye=Bc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=O}var Ce=(o&4)!==0,Ct=!Ce&&s==="scroll",K=Ce?oe!==null?oe+"Capture":null:oe;Ce=[];for(var W=X,Q;W!==null;){Q=W;var he=Q.stateNode;if(Q.tag===5&&he!==null&&(Q=he,K!==null&&(he=Et(W,K),he!=null&&Ce.push(dl(W,he,Q)))),Ct)break;W=W.return}0<Ce.length&&(oe=new ye(oe,Ee,null,c,ae),ce.push({event:oe,listeners:Ce}))}}if((o&7)===0){e:{if(oe=s==="mouseover"||s==="pointerover",ye=s==="mouseout"||s==="pointerout",oe&&c!==xi&&(Ee=c.relatedTarget||c.fromElement)&&(Di(Ee)||Ee[Xr]))break e;if((ye||oe)&&(oe=ae.window===ae?ae:(oe=ae.ownerDocument)?oe.defaultView||oe.parentWindow:window,ye?(Ee=c.relatedTarget||c.toElement,ye=X,Ee=Ee?Di(Ee):null,Ee!==null&&(Ct=Xn(Ee),Ee!==Ct||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(ye=null,Ee=X),ye!==Ee)){if(Ce=bo,he="onMouseLeave",K="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Ce=O,he="onPointerLeave",K="onPointerEnter",W="pointer"),Ct=ye==null?oe:jo(ye),Q=Ee==null?oe:jo(Ee),oe=new Ce(he,W+"leave",ye,c,ae),oe.target=Ct,oe.relatedTarget=Q,he=null,Di(ae)===X&&(Ce=new Ce(K,W+"enter",Ee,c,ae),Ce.target=Q,Ce.relatedTarget=Ct,he=Ce),Ct=he,ye&&Ee)t:{for(Ce=ye,K=Ee,W=0,Q=Ce;Q;Q=Mo(Q))W++;for(Q=0,he=K;he;he=Mo(he))Q++;for(;0<W-Q;)Ce=Mo(Ce),W--;for(;0<Q-W;)K=Mo(K),Q--;for(;W--;){if(Ce===K||K!==null&&Ce===K.alternate)break t;Ce=Mo(Ce),K=Mo(K)}Ce=null}else Ce=null;ye!==null&&Vy(ce,oe,ye,Ce,!1),Ee!==null&&Ct!==null&&Vy(ce,Ct,Ee,Ce,!0)}}e:{if(oe=X?jo(X):window,ye=oe.nodeName&&oe.nodeName.toLowerCase(),ye==="select"||ye==="input"&&oe.type==="file")var Te=FT;else if(yy(oe))if(wy)Te=BT;else{Te=zT;var Ie=$T}else(ye=oe.nodeName)&&ye.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Te=UT);if(Te&&(Te=Te(s,X))){vy(ce,Te,c,ae);break e}Ie&&Ie(s,oe,X),s==="focusout"&&(Ie=oe._wrapperState)&&Ie.controlled&&oe.type==="number"&&Gn(oe,"number",oe.value)}switch(Ie=X?jo(X):window,s){case"focusin":(yy(Ie)||Ie.contentEditable==="true")&&(ko=Ie,Vf=X,ll=null);break;case"focusout":ll=Vf=ko=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,Iy(ce,c,ae);break;case"selectionchange":if(qT)break;case"keydown":case"keyup":Iy(ce,c,ae)}var Ne;if(Tt)e:{switch(s){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Po?my(s,c)&&(Me="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Me="onCompositionStart");Me&&(ki&&c.locale!=="ko"&&(Po||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Po&&(Ne=tl()):(Sn=ae,Eo="value"in Sn?Sn.value:Sn.textContent,Po=!0)),Ie=Xc(X,Me),0<Ie.length&&(Me=new sl(Me,s,null,c,ae),ce.push({event:Me,listeners:Ie}),Ne?Me.data=Ne:(Ne=gy(c),Ne!==null&&(Me.data=Ne)))),(Ne=Tn?OT(s,c):jT(s,c))&&(X=Xc(X,"onBeforeInput"),0<X.length&&(ae=new sl("onBeforeInput","beforeinput",null,c,ae),ce.push({event:ae,listeners:X}),ae.data=Ne))}jy(ce,o)})}function dl(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Xc(s,o){for(var c=o+"Capture",p=[];s!==null;){var y=s,_=y.stateNode;y.tag===5&&_!==null&&(y=_,_=Et(s,c),_!=null&&p.unshift(dl(s,_,y)),_=Et(s,o),_!=null&&p.push(dl(s,_,y))),s=s.return}return p}function Mo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Vy(s,o,c,p,y){for(var _=o._reactName,A=[];c!==null&&c!==p;){var z=c,H=z.alternate,X=z.stateNode;if(H!==null&&H===p)break;z.tag===5&&X!==null&&(z=X,y?(H=Et(c,_),H!=null&&A.unshift(dl(c,H,z))):y||(H=Et(c,_),H!=null&&A.push(dl(c,H,z)))),c=c.return}A.length!==0&&s.push({event:o,listeners:A})}var YT=/\r\n?/g,XT=/\u0000|\uFFFD/g;function Fy(s){return(typeof s=="string"?s:""+s).replace(YT,`
`).replace(XT,"")}function Jc(s,o,c){if(o=Fy(o),Fy(s)!==o&&c)throw Error(t(425))}function Zc(){}var Wf=null,qf=null;function Kf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Gf=typeof setTimeout=="function"?setTimeout:void 0,JT=typeof clearTimeout=="function"?clearTimeout:void 0,$y=typeof Promise=="function"?Promise:void 0,ZT=typeof queueMicrotask=="function"?queueMicrotask:typeof $y<"u"?function(s){return $y.resolve(null).then(s).catch(eb)}:Gf;function eb(s){setTimeout(function(){throw s})}function Qf(s,o){var c=o,p=0;do{var y=c.nextSibling;if(s.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){s.removeChild(y),nr(o);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);nr(o)}function Is(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function zy(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Oo,fl="__reactProps$"+Oo,Xr="__reactContainer$"+Oo,Yf="__reactEvents$"+Oo,tb="__reactListeners$"+Oo,nb="__reactHandles$"+Oo;function Di(s){var o=s[Ir];if(o)return o;for(var c=s.parentNode;c;){if(o=c[Xr]||c[Ir]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=zy(s);s!==null;){if(c=s[Ir])return c;s=zy(s)}return o}s=c,c=s.parentNode}return null}function hl(s){return s=s[Ir]||s[Xr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function jo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function eu(s){return s[fl]||null}var Xf=[],Lo=-1;function Ns(s){return{current:s}}function ct(s){0>Lo||(s.current=Xf[Lo],Xf[Lo]=null,Lo--)}function ot(s,o){Lo++,Xf[Lo]=s.current,s.current=o}var As={},Yt=Ns(As),dn=Ns(!1),Mi=As;function Vo(s,o){var c=s.type.contextTypes;if(!c)return As;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var y={},_;for(_ in c)y[_]=o[_];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=y),y}function fn(s){return s=s.childContextTypes,s!=null}function tu(){ct(dn),ct(Yt)}function Uy(s,o,c){if(Yt.current!==As)throw Error(t(168));ot(Yt,o),ot(dn,c)}function By(s,o,c){var p=s.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in o))throw Error(t(108,fe(s)||"Unknown",y));return le({},c,p)}function nu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||As,Mi=Yt.current,ot(Yt,s),ot(dn,dn.current),!0}function Hy(s,o,c){var p=s.stateNode;if(!p)throw Error(t(169));c?(s=By(s,o,Mi),p.__reactInternalMemoizedMergedChildContext=s,ct(dn),ct(Yt),ot(Yt,s)):ct(dn),ot(dn,c)}var Jr=null,ru=!1,Jf=!1;function Wy(s){Jr===null?Jr=[s]:Jr.push(s)}function rb(s){ru=!0,Wy(s)}function Rs(){if(!Jf&&Jr!==null){Jf=!0;var s=0,o=Ke;try{var c=Jr;for(Ke=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}Jr=null,ru=!1}catch(y){throw Jr!==null&&(Jr=Jr.slice(s+1)),yo(Ti,Rs),y}finally{Ke=o,Jf=!1}}return null}var Fo=[],$o=0,su=null,iu=0,Ln=[],Vn=0,Oi=null,Zr=1,es="";function ji(s,o){Fo[$o++]=iu,Fo[$o++]=su,su=s,iu=o}function qy(s,o,c){Ln[Vn++]=Zr,Ln[Vn++]=es,Ln[Vn++]=Oi,Oi=s;var p=Zr;s=es;var y=32-sn(p)-1;p&=~(1<<y),c+=1;var _=32-sn(o)+y;if(30<_){var A=y-y%5;_=(p&(1<<A)-1).toString(32),p>>=A,y-=A,Zr=1<<32-sn(o)+y|c<<y|p,es=_+s}else Zr=1<<_|c<<y|p,es=s}function Zf(s){s.return!==null&&(ji(s,1),qy(s,1,0))}function eh(s){for(;s===su;)su=Fo[--$o],Fo[$o]=null,iu=Fo[--$o],Fo[$o]=null;for(;s===Oi;)Oi=Ln[--Vn],Ln[Vn]=null,es=Ln[--Vn],Ln[Vn]=null,Zr=Ln[--Vn],Ln[Vn]=null}var bn=null,In=null,pt=!1,ir=null;function Ky(s,o){var c=Un(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function Gy(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,bn=s,In=Is(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,bn=s,In=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Oi!==null?{id:Zr,overflow:es}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Un(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,bn=s,In=null,!0):!1;default:return!1}}function th(s){return(s.mode&1)!==0&&(s.flags&128)===0}function nh(s){if(pt){var o=In;if(o){var c=o;if(!Gy(s,o)){if(th(s))throw Error(t(418));o=Is(c.nextSibling);var p=bn;o&&Gy(s,o)?Ky(p,c):(s.flags=s.flags&-4097|2,pt=!1,bn=s)}}else{if(th(s))throw Error(t(418));s.flags=s.flags&-4097|2,pt=!1,bn=s}}}function Qy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;bn=s}function ou(s){if(s!==bn)return!1;if(!pt)return Qy(s),pt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Kf(s.type,s.memoizedProps)),o&&(o=In)){if(th(s))throw Yy(),Error(t(418));for(;o;)Ky(s,o),o=Is(o.nextSibling)}if(Qy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){In=Is(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}In=null}}else In=bn?Is(s.stateNode.nextSibling):null;return!0}function Yy(){for(var s=In;s;)s=Is(s.nextSibling)}function zo(){In=bn=null,pt=!1}function rh(s){ir===null?ir=[s]:ir.push(s)}var sb=U.ReactCurrentBatchConfig;function pl(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,s));var y=p,_=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(A){var z=y.refs;A===null?delete z[_]:z[_]=A},o._stringRef=_,o)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function au(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Xy(s){var o=s._init;return o(s._payload)}function Jy(s){function o(K,W){if(s){var Q=K.deletions;Q===null?(K.deletions=[W],K.flags|=16):Q.push(W)}}function c(K,W){if(!s)return null;for(;W!==null;)o(K,W),W=W.sibling;return null}function p(K,W){for(K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function y(K,W){return K=Vs(K,W),K.index=0,K.sibling=null,K}function _(K,W,Q){return K.index=Q,s?(Q=K.alternate,Q!==null?(Q=Q.index,Q<W?(K.flags|=2,W):Q):(K.flags|=2,W)):(K.flags|=1048576,W)}function A(K){return s&&K.alternate===null&&(K.flags|=2),K}function z(K,W,Q,he){return W===null||W.tag!==6?(W=Gh(Q,K.mode,he),W.return=K,W):(W=y(W,Q),W.return=K,W)}function H(K,W,Q,he){var Te=Q.type;return Te===k?ae(K,W,Q.props.children,he,Q.key):W!==null&&(W.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===re&&Xy(Te)===W.type)?(he=y(W,Q.props),he.ref=pl(K,W,Q),he.return=K,he):(he=Pu(Q.type,Q.key,Q.props,null,K.mode,he),he.ref=pl(K,W,Q),he.return=K,he)}function X(K,W,Q,he){return W===null||W.tag!==4||W.stateNode.containerInfo!==Q.containerInfo||W.stateNode.implementation!==Q.implementation?(W=Qh(Q,K.mode,he),W.return=K,W):(W=y(W,Q.children||[]),W.return=K,W)}function ae(K,W,Q,he,Te){return W===null||W.tag!==7?(W=Hi(Q,K.mode,he,Te),W.return=K,W):(W=y(W,Q),W.return=K,W)}function ce(K,W,Q){if(typeof W=="string"&&W!==""||typeof W=="number")return W=Gh(""+W,K.mode,Q),W.return=K,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case $:return Q=Pu(W.type,W.key,W.props,null,K.mode,Q),Q.ref=pl(K,null,W),Q.return=K,Q;case G:return W=Qh(W,K.mode,Q),W.return=K,W;case re:var he=W._init;return ce(K,he(W._payload),Q)}if(Ur(W)||ne(W))return W=Hi(W,K.mode,Q,null),W.return=K,W;au(K,W)}return null}function oe(K,W,Q,he){var Te=W!==null?W.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Te!==null?null:z(K,W,""+Q,he);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case $:return Q.key===Te?H(K,W,Q,he):null;case G:return Q.key===Te?X(K,W,Q,he):null;case re:return Te=Q._init,oe(K,W,Te(Q._payload),he)}if(Ur(Q)||ne(Q))return Te!==null?null:ae(K,W,Q,he,null);au(K,Q)}return null}function ye(K,W,Q,he,Te){if(typeof he=="string"&&he!==""||typeof he=="number")return K=K.get(Q)||null,z(W,K,""+he,Te);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case $:return K=K.get(he.key===null?Q:he.key)||null,H(W,K,he,Te);case G:return K=K.get(he.key===null?Q:he.key)||null,X(W,K,he,Te);case re:var Ie=he._init;return ye(K,W,Q,Ie(he._payload),Te)}if(Ur(he)||ne(he))return K=K.get(Q)||null,ae(W,K,he,Te,null);au(W,he)}return null}function Ee(K,W,Q,he){for(var Te=null,Ie=null,Ne=W,Me=W=0,Ft=null;Ne!==null&&Me<Q.length;Me++){Ne.index>Me?(Ft=Ne,Ne=null):Ft=Ne.sibling;var Ze=oe(K,Ne,Q[Me],he);if(Ze===null){Ne===null&&(Ne=Ft);break}s&&Ne&&Ze.alternate===null&&o(K,Ne),W=_(Ze,W,Me),Ie===null?Te=Ze:Ie.sibling=Ze,Ie=Ze,Ne=Ft}if(Me===Q.length)return c(K,Ne),pt&&ji(K,Me),Te;if(Ne===null){for(;Me<Q.length;Me++)Ne=ce(K,Q[Me],he),Ne!==null&&(W=_(Ne,W,Me),Ie===null?Te=Ne:Ie.sibling=Ne,Ie=Ne);return pt&&ji(K,Me),Te}for(Ne=p(K,Ne);Me<Q.length;Me++)Ft=ye(Ne,K,Me,Q[Me],he),Ft!==null&&(s&&Ft.alternate!==null&&Ne.delete(Ft.key===null?Me:Ft.key),W=_(Ft,W,Me),Ie===null?Te=Ft:Ie.sibling=Ft,Ie=Ft);return s&&Ne.forEach(function(Fs){return o(K,Fs)}),pt&&ji(K,Me),Te}function Ce(K,W,Q,he){var Te=ne(Q);if(typeof Te!="function")throw Error(t(150));if(Q=Te.call(Q),Q==null)throw Error(t(151));for(var Ie=Te=null,Ne=W,Me=W=0,Ft=null,Ze=Q.next();Ne!==null&&!Ze.done;Me++,Ze=Q.next()){Ne.index>Me?(Ft=Ne,Ne=null):Ft=Ne.sibling;var Fs=oe(K,Ne,Ze.value,he);if(Fs===null){Ne===null&&(Ne=Ft);break}s&&Ne&&Fs.alternate===null&&o(K,Ne),W=_(Fs,W,Me),Ie===null?Te=Fs:Ie.sibling=Fs,Ie=Fs,Ne=Ft}if(Ze.done)return c(K,Ne),pt&&ji(K,Me),Te;if(Ne===null){for(;!Ze.done;Me++,Ze=Q.next())Ze=ce(K,Ze.value,he),Ze!==null&&(W=_(Ze,W,Me),Ie===null?Te=Ze:Ie.sibling=Ze,Ie=Ze);return pt&&ji(K,Me),Te}for(Ne=p(K,Ne);!Ze.done;Me++,Ze=Q.next())Ze=ye(Ne,K,Me,Ze.value,he),Ze!==null&&(s&&Ze.alternate!==null&&Ne.delete(Ze.key===null?Me:Ze.key),W=_(Ze,W,Me),Ie===null?Te=Ze:Ie.sibling=Ze,Ie=Ze);return s&&Ne.forEach(function(Lb){return o(K,Lb)}),pt&&ji(K,Me),Te}function Ct(K,W,Q,he){if(typeof Q=="object"&&Q!==null&&Q.type===k&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case $:e:{for(var Te=Q.key,Ie=W;Ie!==null;){if(Ie.key===Te){if(Te=Q.type,Te===k){if(Ie.tag===7){c(K,Ie.sibling),W=y(Ie,Q.props.children),W.return=K,K=W;break e}}else if(Ie.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===re&&Xy(Te)===Ie.type){c(K,Ie.sibling),W=y(Ie,Q.props),W.ref=pl(K,Ie,Q),W.return=K,K=W;break e}c(K,Ie);break}else o(K,Ie);Ie=Ie.sibling}Q.type===k?(W=Hi(Q.props.children,K.mode,he,Q.key),W.return=K,K=W):(he=Pu(Q.type,Q.key,Q.props,null,K.mode,he),he.ref=pl(K,W,Q),he.return=K,K=he)}return A(K);case G:e:{for(Ie=Q.key;W!==null;){if(W.key===Ie)if(W.tag===4&&W.stateNode.containerInfo===Q.containerInfo&&W.stateNode.implementation===Q.implementation){c(K,W.sibling),W=y(W,Q.children||[]),W.return=K,K=W;break e}else{c(K,W);break}else o(K,W);W=W.sibling}W=Qh(Q,K.mode,he),W.return=K,K=W}return A(K);case re:return Ie=Q._init,Ct(K,W,Ie(Q._payload),he)}if(Ur(Q))return Ee(K,W,Q,he);if(ne(Q))return Ce(K,W,Q,he);au(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,W!==null&&W.tag===6?(c(K,W.sibling),W=y(W,Q),W.return=K,K=W):(c(K,W),W=Gh(Q,K.mode,he),W.return=K,K=W),A(K)):c(K,W)}return Ct}var Uo=Jy(!0),Zy=Jy(!1),lu=Ns(null),cu=null,Bo=null,sh=null;function ih(){sh=Bo=cu=null}function oh(s){var o=lu.current;ct(lu),s._currentValue=o}function ah(s,o,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===c)break;s=s.return}}function Ho(s,o){cu=s,sh=Bo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(hn=!0),s.firstContext=null)}function Fn(s){var o=s._currentValue;if(sh!==s)if(s={context:s,memoizedValue:o,next:null},Bo===null){if(cu===null)throw Error(t(308));Bo=s,cu.dependencies={lanes:0,firstContext:s}}else Bo=Bo.next=s;return o}var Li=null;function lh(s){Li===null?Li=[s]:Li.push(s)}function ev(s,o,c,p){var y=o.interleaved;return y===null?(c.next=c,lh(o)):(c.next=y.next,y.next=c),o.interleaved=c,ts(s,p)}function ts(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Ps=!1;function ch(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ns(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function ks(s,o,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(Je&2)!==0){var y=p.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),p.pending=o,ts(s,c)}return y=p.interleaved,y===null?(o.next=o,lh(p)):(o.next=y.next,y.next=o),p.interleaved=o,ts(s,c)}function uu(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var p=o.lanes;p&=s.pendingLanes,c|=p,o.lanes=c,_s(s,c)}}function nv(s,o){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var A={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};_===null?y=_=A:_=_.next=A,c=c.next}while(c!==null);_===null?y=_=o:_=_.next=o}else y=_=o;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function du(s,o,c,p){var y=s.updateQueue;Ps=!1;var _=y.firstBaseUpdate,A=y.lastBaseUpdate,z=y.shared.pending;if(z!==null){y.shared.pending=null;var H=z,X=H.next;H.next=null,A===null?_=X:A.next=X,A=H;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,z=ae.lastBaseUpdate,z!==A&&(z===null?ae.firstBaseUpdate=X:z.next=X,ae.lastBaseUpdate=H))}if(_!==null){var ce=y.baseState;A=0,ae=X=H=null,z=_;do{var oe=z.lane,ye=z.eventTime;if((p&oe)===oe){ae!==null&&(ae=ae.next={eventTime:ye,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Ee=s,Ce=z;switch(oe=o,ye=c,Ce.tag){case 1:if(Ee=Ce.payload,typeof Ee=="function"){ce=Ee.call(ye,ce,oe);break e}ce=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ce.payload,oe=typeof Ee=="function"?Ee.call(ye,ce,oe):Ee,oe==null)break e;ce=le({},ce,oe);break e;case 2:Ps=!0}}z.callback!==null&&z.lane!==0&&(s.flags|=64,oe=y.effects,oe===null?y.effects=[z]:oe.push(z))}else ye={eventTime:ye,lane:oe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ae===null?(X=ae=ye,H=ce):ae=ae.next=ye,A|=oe;if(z=z.next,z===null){if(z=y.shared.pending,z===null)break;oe=z,z=oe.next,oe.next=null,y.lastBaseUpdate=oe,y.shared.pending=null}}while(!0);if(ae===null&&(H=ce),y.baseState=H,y.firstBaseUpdate=X,y.lastBaseUpdate=ae,o=y.shared.interleaved,o!==null){y=o;do A|=y.lane,y=y.next;while(y!==o)}else _===null&&(y.shared.lanes=0);$i|=A,s.lanes=A,s.memoizedState=ce}}function rv(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var p=s[o],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(t(191,y));y.call(p)}}}var ml={},Nr=Ns(ml),gl=Ns(ml),yl=Ns(ml);function Vi(s){if(s===ml)throw Error(t(174));return s}function uh(s,o){switch(ot(yl,o),ot(gl,s),ot(Nr,ml),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Rt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Rt(o,s)}ct(Nr),ot(Nr,o)}function Wo(){ct(Nr),ct(gl),ct(yl)}function sv(s){Vi(yl.current);var o=Vi(Nr.current),c=Rt(o,s.type);o!==c&&(ot(gl,s),ot(Nr,c))}function dh(s){gl.current===s&&(ct(Nr),ct(gl))}var gt=Ns(0);function fu(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var fh=[];function hh(){for(var s=0;s<fh.length;s++)fh[s]._workInProgressVersionPrimary=null;fh.length=0}var hu=U.ReactCurrentDispatcher,ph=U.ReactCurrentBatchConfig,Fi=0,yt=null,kt=null,Lt=null,pu=!1,vl=!1,wl=0,ib=0;function Xt(){throw Error(t(321))}function mh(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!sr(s[c],o[c]))return!1;return!0}function gh(s,o,c,p,y,_){if(Fi=_,yt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,hu.current=s===null||s.memoizedState===null?cb:ub,s=c(p,y),vl){_=0;do{if(vl=!1,wl=0,25<=_)throw Error(t(301));_+=1,Lt=kt=null,o.updateQueue=null,hu.current=db,s=c(p,y)}while(vl)}if(hu.current=yu,o=kt!==null&&kt.next!==null,Fi=0,Lt=kt=yt=null,pu=!1,o)throw Error(t(300));return s}function yh(){var s=wl!==0;return wl=0,s}function Ar(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?yt.memoizedState=Lt=s:Lt=Lt.next=s,Lt}function $n(){if(kt===null){var s=yt.alternate;s=s!==null?s.memoizedState:null}else s=kt.next;var o=Lt===null?yt.memoizedState:Lt.next;if(o!==null)Lt=o,kt=s;else{if(s===null)throw Error(t(310));kt=s,s={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Lt===null?yt.memoizedState=Lt=s:Lt=Lt.next=s}return Lt}function xl(s,o){return typeof o=="function"?o(s):o}function vh(s){var o=$n(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=kt,y=p.baseQueue,_=c.pending;if(_!==null){if(y!==null){var A=y.next;y.next=_.next,_.next=A}p.baseQueue=y=_,c.pending=null}if(y!==null){_=y.next,p=p.baseState;var z=A=null,H=null,X=_;do{var ae=X.lane;if((Fi&ae)===ae)H!==null&&(H=H.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),p=X.hasEagerState?X.eagerState:s(p,X.action);else{var ce={lane:ae,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};H===null?(z=H=ce,A=p):H=H.next=ce,yt.lanes|=ae,$i|=ae}X=X.next}while(X!==null&&X!==_);H===null?A=p:H.next=z,sr(p,o.memoizedState)||(hn=!0),o.memoizedState=p,o.baseState=A,o.baseQueue=H,c.lastRenderedState=p}if(s=c.interleaved,s!==null){y=s;do _=y.lane,yt.lanes|=_,$i|=_,y=y.next;while(y!==s)}else y===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function wh(s){var o=$n(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=c.dispatch,y=c.pending,_=o.memoizedState;if(y!==null){c.pending=null;var A=y=y.next;do _=s(_,A.action),A=A.next;while(A!==y);sr(_,o.memoizedState)||(hn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),c.lastRenderedState=_}return[_,p]}function iv(){}function ov(s,o){var c=yt,p=$n(),y=o(),_=!sr(p.memoizedState,y);if(_&&(p.memoizedState=y,hn=!0),p=p.queue,xh(cv.bind(null,c,p,s),[s]),p.getSnapshot!==o||_||Lt!==null&&Lt.memoizedState.tag&1){if(c.flags|=2048,_l(9,lv.bind(null,c,p,y,o),void 0,null),Vt===null)throw Error(t(349));(Fi&30)!==0||av(c,o,y)}return y}function av(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=yt.updateQueue,o===null?(o={lastEffect:null,stores:null},yt.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function lv(s,o,c,p){o.value=c,o.getSnapshot=p,uv(o)&&dv(s)}function cv(s,o,c){return c(function(){uv(o)&&dv(s)})}function uv(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!sr(s,c)}catch{return!0}}function dv(s){var o=ts(s,1);o!==null&&cr(o,s,1,-1)}function fv(s){var o=Ar();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:s},o.queue=s,s=s.dispatch=lb.bind(null,yt,s),[o.memoizedState,s]}function _l(s,o,c,p){return s={tag:s,create:o,destroy:c,deps:p,next:null},o=yt.updateQueue,o===null?(o={lastEffect:null,stores:null},yt.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,o.lastEffect=s)),s}function hv(){return $n().memoizedState}function mu(s,o,c,p){var y=Ar();yt.flags|=s,y.memoizedState=_l(1|o,c,void 0,p===void 0?null:p)}function gu(s,o,c,p){var y=$n();p=p===void 0?null:p;var _=void 0;if(kt!==null){var A=kt.memoizedState;if(_=A.destroy,p!==null&&mh(p,A.deps)){y.memoizedState=_l(o,c,_,p);return}}yt.flags|=s,y.memoizedState=_l(1|o,c,_,p)}function pv(s,o){return mu(8390656,8,s,o)}function xh(s,o){return gu(2048,8,s,o)}function mv(s,o){return gu(4,2,s,o)}function gv(s,o){return gu(4,4,s,o)}function yv(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function vv(s,o,c){return c=c!=null?c.concat([s]):null,gu(4,4,yv.bind(null,o,s),c)}function _h(){}function wv(s,o){var c=$n();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&mh(o,p[1])?p[0]:(c.memoizedState=[s,o],s)}function xv(s,o){var c=$n();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&mh(o,p[1])?p[0]:(s=s(),c.memoizedState=[s,o],s)}function _v(s,o,c){return(Fi&21)===0?(s.baseState&&(s.baseState=!1,hn=!0),s.memoizedState=c):(sr(c,o)||(c=Ni(),yt.lanes|=c,$i|=c,s.baseState=!0),o)}function ob(s,o){var c=Ke;Ke=c!==0&&4>c?c:4,s(!0);var p=ph.transition;ph.transition={};try{s(!1),o()}finally{Ke=c,ph.transition=p}}function Ev(){return $n().memoizedState}function ab(s,o,c){var p=js(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},Cv(s))Sv(o,c);else if(c=ev(s,o,c,p),c!==null){var y=ln();cr(c,s,p,y),Tv(c,o,p)}}function lb(s,o,c){var p=js(s),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(Cv(s))Sv(o,y);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var A=o.lastRenderedState,z=_(A,c);if(y.hasEagerState=!0,y.eagerState=z,sr(z,A)){var H=o.interleaved;H===null?(y.next=y,lh(o)):(y.next=H.next,H.next=y),o.interleaved=y;return}}catch{}finally{}c=ev(s,o,y,p),c!==null&&(y=ln(),cr(c,s,p,y),Tv(c,o,p))}}function Cv(s){var o=s.alternate;return s===yt||o!==null&&o===yt}function Sv(s,o){vl=pu=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function Tv(s,o,c){if((c&4194240)!==0){var p=o.lanes;p&=s.pendingLanes,c|=p,o.lanes=c,_s(s,c)}}var yu={readContext:Fn,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},cb={readContext:Fn,useCallback:function(s,o){return Ar().memoizedState=[s,o===void 0?null:o],s},useContext:Fn,useEffect:pv,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,mu(4194308,4,yv.bind(null,o,s),c)},useLayoutEffect:function(s,o){return mu(4194308,4,s,o)},useInsertionEffect:function(s,o){return mu(4,2,s,o)},useMemo:function(s,o){var c=Ar();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var p=Ar();return o=c!==void 0?c(o):o,p.memoizedState=p.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},p.queue=s,s=s.dispatch=ab.bind(null,yt,s),[p.memoizedState,s]},useRef:function(s){var o=Ar();return s={current:s},o.memoizedState=s},useState:fv,useDebugValue:_h,useDeferredValue:function(s){return Ar().memoizedState=s},useTransition:function(){var s=fv(!1),o=s[0];return s=ob.bind(null,s[1]),Ar().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var p=yt,y=Ar();if(pt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),Vt===null)throw Error(t(349));(Fi&30)!==0||av(p,o,c)}y.memoizedState=c;var _={value:c,getSnapshot:o};return y.queue=_,pv(cv.bind(null,p,_,s),[s]),p.flags|=2048,_l(9,lv.bind(null,p,_,c,o),void 0,null),c},useId:function(){var s=Ar(),o=Vt.identifierPrefix;if(pt){var c=es,p=Zr;c=(p&~(1<<32-sn(p)-1)).toString(32)+c,o=":"+o+"R"+c,c=wl++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=ib++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},ub={readContext:Fn,useCallback:wv,useContext:Fn,useEffect:xh,useImperativeHandle:vv,useInsertionEffect:mv,useLayoutEffect:gv,useMemo:xv,useReducer:vh,useRef:hv,useState:function(){return vh(xl)},useDebugValue:_h,useDeferredValue:function(s){var o=$n();return _v(o,kt.memoizedState,s)},useTransition:function(){var s=vh(xl)[0],o=$n().memoizedState;return[s,o]},useMutableSource:iv,useSyncExternalStore:ov,useId:Ev,unstable_isNewReconciler:!1},db={readContext:Fn,useCallback:wv,useContext:Fn,useEffect:xh,useImperativeHandle:vv,useInsertionEffect:mv,useLayoutEffect:gv,useMemo:xv,useReducer:wh,useRef:hv,useState:function(){return wh(xl)},useDebugValue:_h,useDeferredValue:function(s){var o=$n();return kt===null?o.memoizedState=s:_v(o,kt.memoizedState,s)},useTransition:function(){var s=wh(xl)[0],o=$n().memoizedState;return[s,o]},useMutableSource:iv,useSyncExternalStore:ov,useId:Ev,unstable_isNewReconciler:!1};function or(s,o){if(s&&s.defaultProps){o=le({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function Eh(s,o,c,p){o=s.memoizedState,c=c(p,o),c=c==null?o:le({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var vu={isMounted:function(s){return(s=s._reactInternals)?Xn(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var p=ln(),y=js(s),_=ns(p,y);_.payload=o,c!=null&&(_.callback=c),o=ks(s,_,y),o!==null&&(cr(o,s,y,p),uu(o,s,y))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var p=ln(),y=js(s),_=ns(p,y);_.tag=1,_.payload=o,c!=null&&(_.callback=c),o=ks(s,_,y),o!==null&&(cr(o,s,y,p),uu(o,s,y))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=ln(),p=js(s),y=ns(c,p);y.tag=2,o!=null&&(y.callback=o),o=ks(s,y,p),o!==null&&(cr(o,s,p,c),uu(o,s,p))}};function bv(s,o,c,p,y,_,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,_,A):o.prototype&&o.prototype.isPureReactComponent?!al(c,p)||!al(y,_):!0}function Iv(s,o,c){var p=!1,y=As,_=o.contextType;return typeof _=="object"&&_!==null?_=Fn(_):(y=fn(o)?Mi:Yt.current,p=o.contextTypes,_=(p=p!=null)?Vo(s,y):As),o=new o(c,_),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=vu,s.stateNode=o,o._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=y,s.__reactInternalMemoizedMaskedChildContext=_),o}function Nv(s,o,c,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,p),o.state!==s&&vu.enqueueReplaceState(o,o.state,null)}function Ch(s,o,c,p){var y=s.stateNode;y.props=c,y.state=s.memoizedState,y.refs={},ch(s);var _=o.contextType;typeof _=="object"&&_!==null?y.context=Fn(_):(_=fn(o)?Mi:Yt.current,y.context=Vo(s,_)),y.state=s.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Eh(s,o,_,c),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&vu.enqueueReplaceState(y,y.state,null),du(s,c,y,p),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308)}function qo(s,o){try{var c="",p=o;do c+=Se(p),p=p.return;while(p);var y=c}catch(_){y=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:o,stack:y,digest:null}}function Sh(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function Th(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var fb=typeof WeakMap=="function"?WeakMap:Map;function Av(s,o,c){c=ns(-1,c),c.tag=3,c.payload={element:null};var p=o.value;return c.callback=function(){Tu||(Tu=!0,$h=p),Th(s,o)},c}function Rv(s,o,c){c=ns(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var y=o.value;c.payload=function(){return p(y)},c.callback=function(){Th(s,o)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(c.callback=function(){Th(s,o),typeof p!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})}),c}function Pv(s,o,c){var p=s.pingCache;if(p===null){p=s.pingCache=new fb;var y=new Set;p.set(o,y)}else y=p.get(o),y===void 0&&(y=new Set,p.set(o,y));y.has(c)||(y.add(c),s=bb.bind(null,s,o,c),o.then(s,s))}function kv(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Dv(s,o,c,p,y){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=ns(-1,1),o.tag=2,ks(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=y,s)}var hb=U.ReactCurrentOwner,hn=!1;function an(s,o,c,p){o.child=s===null?Zy(o,null,c,p):Uo(o,s.child,c,p)}function Mv(s,o,c,p,y){c=c.render;var _=o.ref;return Ho(o,y),p=gh(s,o,c,p,_,y),c=yh(),s!==null&&!hn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~y,rs(s,o,y)):(pt&&c&&Zf(o),o.flags|=1,an(s,o,p,y),o.child)}function Ov(s,o,c,p,y){if(s===null){var _=c.type;return typeof _=="function"&&!Kh(_)&&_.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=_,jv(s,o,_,p,y)):(s=Pu(c.type,null,p,o,o.mode,y),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,(s.lanes&y)===0){var A=_.memoizedProps;if(c=c.compare,c=c!==null?c:al,c(A,p)&&s.ref===o.ref)return rs(s,o,y)}return o.flags|=1,s=Vs(_,p),s.ref=o.ref,s.return=o,o.child=s}function jv(s,o,c,p,y){if(s!==null){var _=s.memoizedProps;if(al(_,p)&&s.ref===o.ref)if(hn=!1,o.pendingProps=p=_,(s.lanes&y)!==0)(s.flags&131072)!==0&&(hn=!0);else return o.lanes=s.lanes,rs(s,o,y)}return bh(s,o,c,p,y)}function Lv(s,o,c){var p=o.pendingProps,y=p.children,_=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Go,Nn),Nn|=c;else{if((c&1073741824)===0)return s=_!==null?_.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,ot(Go,Nn),Nn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=_!==null?_.baseLanes:c,ot(Go,Nn),Nn|=p}else _!==null?(p=_.baseLanes|c,o.memoizedState=null):p=c,ot(Go,Nn),Nn|=p;return an(s,o,y,c),o.child}function Vv(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function bh(s,o,c,p,y){var _=fn(c)?Mi:Yt.current;return _=Vo(o,_),Ho(o,y),c=gh(s,o,c,p,_,y),p=yh(),s!==null&&!hn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~y,rs(s,o,y)):(pt&&p&&Zf(o),o.flags|=1,an(s,o,c,y),o.child)}function Fv(s,o,c,p,y){if(fn(c)){var _=!0;nu(o)}else _=!1;if(Ho(o,y),o.stateNode===null)xu(s,o),Iv(o,c,p),Ch(o,c,p,y),p=!0;else if(s===null){var A=o.stateNode,z=o.memoizedProps;A.props=z;var H=A.context,X=c.contextType;typeof X=="object"&&X!==null?X=Fn(X):(X=fn(c)?Mi:Yt.current,X=Vo(o,X));var ae=c.getDerivedStateFromProps,ce=typeof ae=="function"||typeof A.getSnapshotBeforeUpdate=="function";ce||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(z!==p||H!==X)&&Nv(o,A,p,X),Ps=!1;var oe=o.memoizedState;A.state=oe,du(o,p,A,y),H=o.memoizedState,z!==p||oe!==H||dn.current||Ps?(typeof ae=="function"&&(Eh(o,c,ae,p),H=o.memoizedState),(z=Ps||bv(o,c,z,p,oe,H,X))?(ce||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(o.flags|=4194308)):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=H),A.props=p,A.state=H,A.context=X,p=z):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{A=o.stateNode,tv(s,o),z=o.memoizedProps,X=o.type===o.elementType?z:or(o.type,z),A.props=X,ce=o.pendingProps,oe=A.context,H=c.contextType,typeof H=="object"&&H!==null?H=Fn(H):(H=fn(c)?Mi:Yt.current,H=Vo(o,H));var ye=c.getDerivedStateFromProps;(ae=typeof ye=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(z!==ce||oe!==H)&&Nv(o,A,p,H),Ps=!1,oe=o.memoizedState,A.state=oe,du(o,p,A,y);var Ee=o.memoizedState;z!==ce||oe!==Ee||dn.current||Ps?(typeof ye=="function"&&(Eh(o,c,ye,p),Ee=o.memoizedState),(X=Ps||bv(o,c,X,p,oe,Ee,H)||!1)?(ae||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(p,Ee,H),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(p,Ee,H)),typeof A.componentDidUpdate=="function"&&(o.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof A.componentDidUpdate!="function"||z===s.memoizedProps&&oe===s.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&oe===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Ee),A.props=p,A.state=Ee,A.context=H,p=X):(typeof A.componentDidUpdate!="function"||z===s.memoizedProps&&oe===s.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&oe===s.memoizedState||(o.flags|=1024),p=!1)}return Ih(s,o,c,p,_,y)}function Ih(s,o,c,p,y,_){Vv(s,o);var A=(o.flags&128)!==0;if(!p&&!A)return y&&Hy(o,c,!1),rs(s,o,_);p=o.stateNode,hb.current=o;var z=A&&typeof c.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,s!==null&&A?(o.child=Uo(o,s.child,null,_),o.child=Uo(o,null,z,_)):an(s,o,z,_),o.memoizedState=p.state,y&&Hy(o,c,!0),o.child}function $v(s){var o=s.stateNode;o.pendingContext?Uy(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Uy(s,o.context,!1),uh(s,o.containerInfo)}function zv(s,o,c,p,y){return zo(),rh(y),o.flags|=256,an(s,o,c,p),o.child}var Nh={dehydrated:null,treeContext:null,retryLane:0};function Ah(s){return{baseLanes:s,cachePool:null,transitions:null}}function Uv(s,o,c){var p=o.pendingProps,y=gt.current,_=!1,A=(o.flags&128)!==0,z;if((z=A)||(z=s!==null&&s.memoizedState===null?!1:(y&2)!==0),z?(_=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(y|=1),ot(gt,y&1),s===null)return nh(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(A=p.children,s=p.fallback,_?(p=o.mode,_=o.child,A={mode:"hidden",children:A},(p&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=A):_=ku(A,p,0,null),s=Hi(s,p,c,null),_.return=o,s.return=o,_.sibling=s,o.child=_,o.child.memoizedState=Ah(c),o.memoizedState=Nh,s):Rh(o,A));if(y=s.memoizedState,y!==null&&(z=y.dehydrated,z!==null))return pb(s,o,A,p,z,y,c);if(_){_=p.fallback,A=o.mode,y=s.child,z=y.sibling;var H={mode:"hidden",children:p.children};return(A&1)===0&&o.child!==y?(p=o.child,p.childLanes=0,p.pendingProps=H,o.deletions=null):(p=Vs(y,H),p.subtreeFlags=y.subtreeFlags&14680064),z!==null?_=Vs(z,_):(_=Hi(_,A,c,null),_.flags|=2),_.return=o,p.return=o,p.sibling=_,o.child=p,p=_,_=o.child,A=s.child.memoizedState,A=A===null?Ah(c):{baseLanes:A.baseLanes|c,cachePool:null,transitions:A.transitions},_.memoizedState=A,_.childLanes=s.childLanes&~c,o.memoizedState=Nh,p}return _=s.child,s=_.sibling,p=Vs(_,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=c),p.return=o,p.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=p,o.memoizedState=null,p}function Rh(s,o){return o=ku({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function wu(s,o,c,p){return p!==null&&rh(p),Uo(o,s.child,null,c),s=Rh(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function pb(s,o,c,p,y,_,A){if(c)return o.flags&256?(o.flags&=-257,p=Sh(Error(t(422))),wu(s,o,A,p)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(_=p.fallback,y=o.mode,p=ku({mode:"visible",children:p.children},y,0,null),_=Hi(_,y,A,null),_.flags|=2,p.return=o,_.return=o,p.sibling=_,o.child=p,(o.mode&1)!==0&&Uo(o,s.child,null,A),o.child.memoizedState=Ah(A),o.memoizedState=Nh,_);if((o.mode&1)===0)return wu(s,o,A,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var z=p.dgst;return p=z,_=Error(t(419)),p=Sh(_,p,void 0),wu(s,o,A,p)}if(z=(A&s.childLanes)!==0,hn||z){if(p=Vt,p!==null){switch(A&-A){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|A))!==0?0:y,y!==0&&y!==_.retryLane&&(_.retryLane=y,ts(s,y),cr(p,s,y,-1))}return qh(),p=Sh(Error(t(421))),wu(s,o,A,p)}return y.data==="$?"?(o.flags|=128,o.child=s.child,o=Ib.bind(null,s),y._reactRetry=o,null):(s=_.treeContext,In=Is(y.nextSibling),bn=o,pt=!0,ir=null,s!==null&&(Ln[Vn++]=Zr,Ln[Vn++]=es,Ln[Vn++]=Oi,Zr=s.id,es=s.overflow,Oi=o),o=Rh(o,p.children),o.flags|=4096,o)}function Bv(s,o,c){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),ah(s.return,o,c)}function Ph(s,o,c,p,y){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=c,_.tailMode=y)}function Hv(s,o,c){var p=o.pendingProps,y=p.revealOrder,_=p.tail;if(an(s,o,p.children,c),p=gt.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Bv(s,c,o);else if(s.tag===19)Bv(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(ot(gt,p),(o.mode&1)===0)o.memoizedState=null;else switch(y){case"forwards":for(c=o.child,y=null;c!==null;)s=c.alternate,s!==null&&fu(s)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),Ph(o,!1,y,c,_);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(s=y.alternate,s!==null&&fu(s)===null){o.child=y;break}s=y.sibling,y.sibling=c,c=y,y=s}Ph(o,!0,c,null,_);break;case"together":Ph(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function xu(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function rs(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),$i|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,c=Vs(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=Vs(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function mb(s,o,c){switch(o.tag){case 3:$v(o),zo();break;case 5:sv(o);break;case 1:fn(o.type)&&nu(o);break;case 4:uh(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,y=o.memoizedProps.value;ot(lu,p._currentValue),p._currentValue=y;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(ot(gt,gt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?Uv(s,o,c):(ot(gt,gt.current&1),s=rs(s,o,c),s!==null?s.sibling:null);ot(gt,gt.current&1);break;case 19:if(p=(c&o.childLanes)!==0,(s.flags&128)!==0){if(p)return Hv(s,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ot(gt,gt.current),p)break;return null;case 22:case 23:return o.lanes=0,Lv(s,o,c)}return rs(s,o,c)}var Wv,kh,qv,Kv;Wv=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},kh=function(){},qv=function(s,o,c,p){var y=s.memoizedProps;if(y!==p){s=o.stateNode,Vi(Nr.current);var _=null;switch(c){case"input":y=Ot(s,y),p=Ot(s,p),_=[];break;case"select":y=le({},y,{value:void 0}),p=le({},p,{value:void 0}),_=[];break;case"textarea":y=ja(s,y),p=ja(s,p),_=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=Zc)}Ua(c,p);var A;c=null;for(X in y)if(!p.hasOwnProperty(X)&&y.hasOwnProperty(X)&&y[X]!=null)if(X==="style"){var z=y[X];for(A in z)z.hasOwnProperty(A)&&(c||(c={}),c[A]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?_||(_=[]):(_=_||[]).push(X,null));for(X in p){var H=p[X];if(z=y!=null?y[X]:void 0,p.hasOwnProperty(X)&&H!==z&&(H!=null||z!=null))if(X==="style")if(z){for(A in z)!z.hasOwnProperty(A)||H&&H.hasOwnProperty(A)||(c||(c={}),c[A]="");for(A in H)H.hasOwnProperty(A)&&z[A]!==H[A]&&(c||(c={}),c[A]=H[A])}else c||(_||(_=[]),_.push(X,c)),c=H;else X==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,z=z?z.__html:void 0,H!=null&&z!==H&&(_=_||[]).push(X,H)):X==="children"?typeof H!="string"&&typeof H!="number"||(_=_||[]).push(X,""+H):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(i.hasOwnProperty(X)?(H!=null&&X==="onScroll"&&lt("scroll",s),_||z===H||(_=[])):(_=_||[]).push(X,H))}c&&(_=_||[]).push("style",c);var X=_;(o.updateQueue=X)&&(o.flags|=4)}},Kv=function(s,o,c,p){c!==p&&(o.flags|=4)};function El(s,o){if(!pt)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Jt(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(o)for(var y=s.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=p,s.childLanes=c,o}function gb(s,o,c){var p=o.pendingProps;switch(eh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(o),null;case 1:return fn(o.type)&&tu(),Jt(o),null;case 3:return p=o.stateNode,Wo(),ct(dn),ct(Yt),hh(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(ou(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ir!==null&&(Bh(ir),ir=null))),kh(s,o),Jt(o),null;case 5:dh(o);var y=Vi(yl.current);if(c=o.type,s!==null&&o.stateNode!=null)qv(s,o,c,p,y),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(t(166));return Jt(o),null}if(s=Vi(Nr.current),ou(o)){p=o.stateNode,c=o.type;var _=o.memoizedProps;switch(p[Ir]=o,p[fl]=_,s=(o.mode&1)!==0,c){case"dialog":lt("cancel",p),lt("close",p);break;case"iframe":case"object":case"embed":lt("load",p);break;case"video":case"audio":for(y=0;y<cl.length;y++)lt(cl[y],p);break;case"source":lt("error",p);break;case"img":case"image":case"link":lt("error",p),lt("load",p);break;case"details":lt("toggle",p);break;case"input":kn(p,_),lt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!_.multiple},lt("invalid",p);break;case"textarea":ao(p,_),lt("invalid",p)}Ua(c,_),y=null;for(var A in _)if(_.hasOwnProperty(A)){var z=_[A];A==="children"?typeof z=="string"?p.textContent!==z&&(_.suppressHydrationWarning!==!0&&Jc(p.textContent,z,s),y=["children",z]):typeof z=="number"&&p.textContent!==""+z&&(_.suppressHydrationWarning!==!0&&Jc(p.textContent,z,s),y=["children",""+z]):i.hasOwnProperty(A)&&z!=null&&A==="onScroll"&&lt("scroll",p)}switch(c){case"input":Re(p),oo(p,_,!0);break;case"textarea":Re(p),La(p);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(p.onclick=Zc)}p=y,o.updateQueue=p,p!==null&&(o.flags|=4)}else{A=y.nodeType===9?y:y.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=At(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=A.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=A.createElement(c,{is:p.is}):(s=A.createElement(c),c==="select"&&(A=s,p.multiple?A.multiple=!0:p.size&&(A.size=p.size))):s=A.createElementNS(s,c),s[Ir]=o,s[fl]=p,Wv(s,o,!1,!1),o.stateNode=s;e:{switch(A=Ba(c,p),c){case"dialog":lt("cancel",s),lt("close",s),y=p;break;case"iframe":case"object":case"embed":lt("load",s),y=p;break;case"video":case"audio":for(y=0;y<cl.length;y++)lt(cl[y],s);y=p;break;case"source":lt("error",s),y=p;break;case"img":case"image":case"link":lt("error",s),lt("load",s),y=p;break;case"details":lt("toggle",s),y=p;break;case"input":kn(s,p),y=Ot(s,p),lt("invalid",s);break;case"option":y=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},y=le({},p,{value:void 0}),lt("invalid",s);break;case"textarea":ao(s,p),y=ja(s,p),lt("invalid",s);break;default:y=p}Ua(c,y),z=y;for(_ in z)if(z.hasOwnProperty(_)){var H=z[_];_==="style"?$a(s,H):_==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Va(s,H)):_==="children"?typeof H=="string"?(c!=="textarea"||H!=="")&&gs(s,H):typeof H=="number"&&gs(s,""+H):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?H!=null&&_==="onScroll"&&lt("scroll",s):H!=null&&L(s,_,H,A))}switch(c){case"input":Re(s),oo(s,p,!1);break;case"textarea":Re(s),La(s);break;case"option":p.value!=null&&s.setAttribute("value",""+ve(p.value));break;case"select":s.multiple=!!p.multiple,_=p.value,_!=null?Br(s,!!p.multiple,_,!1):p.defaultValue!=null&&Br(s,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(s.onclick=Zc)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Jt(o),null;case 6:if(s&&o.stateNode!=null)Kv(s,o,s.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(t(166));if(c=Vi(yl.current),Vi(Nr.current),ou(o)){if(p=o.stateNode,c=o.memoizedProps,p[Ir]=o,(_=p.nodeValue!==c)&&(s=bn,s!==null))switch(s.tag){case 3:Jc(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Jc(p.nodeValue,c,(s.mode&1)!==0)}_&&(o.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Ir]=o,o.stateNode=p}return Jt(o),null;case 13:if(ct(gt),p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(pt&&In!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Yy(),zo(),o.flags|=98560,_=!1;else if(_=ou(o),p!==null&&p.dehydrated!==null){if(s===null){if(!_)throw Error(t(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[Ir]=o}else zo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Jt(o),_=!1}else ir!==null&&(Bh(ir),ir=null),_=!0;if(!_)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(gt.current&1)!==0?Dt===0&&(Dt=3):qh())),o.updateQueue!==null&&(o.flags|=4),Jt(o),null);case 4:return Wo(),kh(s,o),s===null&&ul(o.stateNode.containerInfo),Jt(o),null;case 10:return oh(o.type._context),Jt(o),null;case 17:return fn(o.type)&&tu(),Jt(o),null;case 19:if(ct(gt),_=o.memoizedState,_===null)return Jt(o),null;if(p=(o.flags&128)!==0,A=_.rendering,A===null)if(p)El(_,!1);else{if(Dt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(A=fu(s),A!==null){for(o.flags|=128,El(_,!1),p=A.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=c,c=o.child;c!==null;)_=c,s=p,_.flags&=14680066,A=_.alternate,A===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=A.childLanes,_.lanes=A.lanes,_.child=A.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=A.memoizedProps,_.memoizedState=A.memoizedState,_.updateQueue=A.updateQueue,_.type=A.type,s=A.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return ot(gt,gt.current&1|2),o.child}s=s.sibling}_.tail!==null&&it()>Qo&&(o.flags|=128,p=!0,El(_,!1),o.lanes=4194304)}else{if(!p)if(s=fu(A),s!==null){if(o.flags|=128,p=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),El(_,!0),_.tail===null&&_.tailMode==="hidden"&&!A.alternate&&!pt)return Jt(o),null}else 2*it()-_.renderingStartTime>Qo&&c!==1073741824&&(o.flags|=128,p=!0,El(_,!1),o.lanes=4194304);_.isBackwards?(A.sibling=o.child,o.child=A):(c=_.last,c!==null?c.sibling=A:o.child=A,_.last=A)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=it(),o.sibling=null,c=gt.current,ot(gt,p?c&1|2:c&1),o):(Jt(o),null);case 22:case 23:return Wh(),p=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(Nn&1073741824)!==0&&(Jt(o),o.subtreeFlags&6&&(o.flags|=8192)):Jt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function yb(s,o){switch(eh(o),o.tag){case 1:return fn(o.type)&&tu(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Wo(),ct(dn),ct(Yt),hh(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return dh(o),null;case 13:if(ct(gt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));zo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ct(gt),null;case 4:return Wo(),null;case 10:return oh(o.type._context),null;case 22:case 23:return Wh(),null;case 24:return null;default:return null}}var _u=!1,Zt=!1,vb=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Ko(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){xt(s,o,p)}else c.current=null}function Dh(s,o,c){try{c()}catch(p){xt(s,o,p)}}var Gv=!1;function wb(s,o){if(Wf=Ss,s=by(),Lf(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var A=0,z=-1,H=-1,X=0,ae=0,ce=s,oe=null;t:for(;;){for(var ye;ce!==c||y!==0&&ce.nodeType!==3||(z=A+y),ce!==_||p!==0&&ce.nodeType!==3||(H=A+p),ce.nodeType===3&&(A+=ce.nodeValue.length),(ye=ce.firstChild)!==null;)oe=ce,ce=ye;for(;;){if(ce===s)break t;if(oe===c&&++X===y&&(z=A),oe===_&&++ae===p&&(H=A),(ye=ce.nextSibling)!==null)break;ce=oe,oe=ce.parentNode}ce=ye}c=z===-1||H===-1?null:{start:z,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for(qf={focusedElem:s,selectionRange:c},Ss=!1,_e=o;_e!==null;)if(o=_e,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,_e=s;else for(;_e!==null;){o=_e;try{var Ee=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Ce=Ee.memoizedProps,Ct=Ee.memoizedState,K=o.stateNode,W=K.getSnapshotBeforeUpdate(o.elementType===o.type?Ce:or(o.type,Ce),Ct);K.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(he){xt(o,o.return,he)}if(s=o.sibling,s!==null){s.return=o.return,_e=s;break}_e=o.return}return Ee=Gv,Gv=!1,Ee}function Cl(s,o,c){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&s)===s){var _=y.destroy;y.destroy=void 0,_!==void 0&&Dh(o,c,_)}y=y.next}while(y!==p)}}function Eu(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==o)}}function Mh(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function Qv(s){var o=s.alternate;o!==null&&(s.alternate=null,Qv(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Ir],delete o[fl],delete o[Yf],delete o[tb],delete o[nb])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Yv(s){return s.tag===5||s.tag===3||s.tag===4}function Xv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Yv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Oh(s,o,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Zc));else if(p!==4&&(s=s.child,s!==null))for(Oh(s,o,c),s=s.sibling;s!==null;)Oh(s,o,c),s=s.sibling}function jh(s,o,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(jh(s,o,c),s=s.sibling;s!==null;)jh(s,o,c),s=s.sibling}var Bt=null,ar=!1;function Ds(s,o,c){for(c=c.child;c!==null;)Jv(s,o,c),c=c.sibling}function Jv(s,o,c){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(bi,c)}catch{}switch(c.tag){case 5:Zt||Ko(c,o);case 6:var p=Bt,y=ar;Bt=null,Ds(s,o,c),Bt=p,ar=y,Bt!==null&&(ar?(s=Bt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Bt.removeChild(c.stateNode));break;case 18:Bt!==null&&(ar?(s=Bt,c=c.stateNode,s.nodeType===8?Qf(s.parentNode,c):s.nodeType===1&&Qf(s,c),nr(s)):Qf(Bt,c.stateNode));break;case 4:p=Bt,y=ar,Bt=c.stateNode.containerInfo,ar=!0,Ds(s,o,c),Bt=p,ar=y;break;case 0:case 11:case 14:case 15:if(!Zt&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var _=y,A=_.destroy;_=_.tag,A!==void 0&&((_&2)!==0||(_&4)!==0)&&Dh(c,o,A),y=y.next}while(y!==p)}Ds(s,o,c);break;case 1:if(!Zt&&(Ko(c,o),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(z){xt(c,o,z)}Ds(s,o,c);break;case 21:Ds(s,o,c);break;case 22:c.mode&1?(Zt=(p=Zt)||c.memoizedState!==null,Ds(s,o,c),Zt=p):Ds(s,o,c);break;default:Ds(s,o,c)}}function Zv(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new vb),o.forEach(function(p){var y=Nb.bind(null,s,p);c.has(p)||(c.add(p),p.then(y,y))})}}function lr(s,o){var c=o.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var _=s,A=o,z=A;e:for(;z!==null;){switch(z.tag){case 5:Bt=z.stateNode,ar=!1;break e;case 3:Bt=z.stateNode.containerInfo,ar=!0;break e;case 4:Bt=z.stateNode.containerInfo,ar=!0;break e}z=z.return}if(Bt===null)throw Error(t(160));Jv(_,A,y),Bt=null,ar=!1;var H=y.alternate;H!==null&&(H.return=null),y.return=null}catch(X){xt(y,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)e0(o,s),o=o.sibling}function e0(s,o){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(lr(o,s),Rr(s),p&4){try{Cl(3,s,s.return),Eu(3,s)}catch(Ce){xt(s,s.return,Ce)}try{Cl(5,s,s.return)}catch(Ce){xt(s,s.return,Ce)}}break;case 1:lr(o,s),Rr(s),p&512&&c!==null&&Ko(c,c.return);break;case 5:if(lr(o,s),Rr(s),p&512&&c!==null&&Ko(c,c.return),s.flags&32){var y=s.stateNode;try{gs(y,"")}catch(Ce){xt(s,s.return,Ce)}}if(p&4&&(y=s.stateNode,y!=null)){var _=s.memoizedProps,A=c!==null?c.memoizedProps:_,z=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{z==="input"&&_.type==="radio"&&_.name!=null&&qn(y,_),Ba(z,A);var X=Ba(z,_);for(A=0;A<H.length;A+=2){var ae=H[A],ce=H[A+1];ae==="style"?$a(y,ce):ae==="dangerouslySetInnerHTML"?Va(y,ce):ae==="children"?gs(y,ce):L(y,ae,ce,X)}switch(z){case"input":Kn(y,_);break;case"textarea":lo(y,_);break;case"select":var oe=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!_.multiple;var ye=_.value;ye!=null?Br(y,!!_.multiple,ye,!1):oe!==!!_.multiple&&(_.defaultValue!=null?Br(y,!!_.multiple,_.defaultValue,!0):Br(y,!!_.multiple,_.multiple?[]:"",!1))}y[fl]=_}catch(Ce){xt(s,s.return,Ce)}}break;case 6:if(lr(o,s),Rr(s),p&4){if(s.stateNode===null)throw Error(t(162));y=s.stateNode,_=s.memoizedProps;try{y.nodeValue=_}catch(Ce){xt(s,s.return,Ce)}}break;case 3:if(lr(o,s),Rr(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{nr(o.containerInfo)}catch(Ce){xt(s,s.return,Ce)}break;case 4:lr(o,s),Rr(s);break;case 13:lr(o,s),Rr(s),y=s.child,y.flags&8192&&(_=y.memoizedState!==null,y.stateNode.isHidden=_,!_||y.alternate!==null&&y.alternate.memoizedState!==null||(Fh=it())),p&4&&Zv(s);break;case 22:if(ae=c!==null&&c.memoizedState!==null,s.mode&1?(Zt=(X=Zt)||ae,lr(o,s),Zt=X):lr(o,s),Rr(s),p&8192){if(X=s.memoizedState!==null,(s.stateNode.isHidden=X)&&!ae&&(s.mode&1)!==0)for(_e=s,ae=s.child;ae!==null;){for(ce=_e=ae;_e!==null;){switch(oe=_e,ye=oe.child,oe.tag){case 0:case 11:case 14:case 15:Cl(4,oe,oe.return);break;case 1:Ko(oe,oe.return);var Ee=oe.stateNode;if(typeof Ee.componentWillUnmount=="function"){p=oe,c=oe.return;try{o=p,Ee.props=o.memoizedProps,Ee.state=o.memoizedState,Ee.componentWillUnmount()}catch(Ce){xt(p,c,Ce)}}break;case 5:Ko(oe,oe.return);break;case 22:if(oe.memoizedState!==null){r0(ce);continue}}ye!==null?(ye.return=oe,_e=ye):r0(ce)}ae=ae.sibling}e:for(ae=null,ce=s;;){if(ce.tag===5){if(ae===null){ae=ce;try{y=ce.stateNode,X?(_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(z=ce.stateNode,H=ce.memoizedProps.style,A=H!=null&&H.hasOwnProperty("display")?H.display:null,z.style.display=Fa("display",A))}catch(Ce){xt(s,s.return,Ce)}}}else if(ce.tag===6){if(ae===null)try{ce.stateNode.nodeValue=X?"":ce.memoizedProps}catch(Ce){xt(s,s.return,Ce)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===s)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===s)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===s)break e;ae===ce&&(ae=null),ce=ce.return}ae===ce&&(ae=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:lr(o,s),Rr(s),p&4&&Zv(s);break;case 21:break;default:lr(o,s),Rr(s)}}function Rr(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(Yv(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(gs(y,""),p.flags&=-33);var _=Xv(s);jh(s,_,y);break;case 3:case 4:var A=p.stateNode.containerInfo,z=Xv(s);Oh(s,z,A);break;default:throw Error(t(161))}}catch(H){xt(s,s.return,H)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function xb(s,o,c){_e=s,t0(s)}function t0(s,o,c){for(var p=(s.mode&1)!==0;_e!==null;){var y=_e,_=y.child;if(y.tag===22&&p){var A=y.memoizedState!==null||_u;if(!A){var z=y.alternate,H=z!==null&&z.memoizedState!==null||Zt;z=_u;var X=Zt;if(_u=A,(Zt=H)&&!X)for(_e=y;_e!==null;)A=_e,H=A.child,A.tag===22&&A.memoizedState!==null?s0(y):H!==null?(H.return=A,_e=H):s0(y);for(;_!==null;)_e=_,t0(_),_=_.sibling;_e=y,_u=z,Zt=X}n0(s)}else(y.subtreeFlags&8772)!==0&&_!==null?(_.return=y,_e=_):n0(s)}}function n0(s){for(;_e!==null;){var o=_e;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Zt||Eu(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!Zt)if(c===null)p.componentDidMount();else{var y=o.elementType===o.type?c.memoizedProps:or(o.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&rv(o,_,p);break;case 3:var A=o.updateQueue;if(A!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}rv(o,A,c)}break;case 5:var z=o.stateNode;if(c===null&&o.flags&4){c=z;var H=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&c.focus();break;case"img":H.src&&(c.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var ae=X.memoizedState;if(ae!==null){var ce=ae.dehydrated;ce!==null&&nr(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Zt||o.flags&512&&Mh(o)}catch(oe){xt(o,o.return,oe)}}if(o===s){_e=null;break}if(c=o.sibling,c!==null){c.return=o.return,_e=c;break}_e=o.return}}function r0(s){for(;_e!==null;){var o=_e;if(o===s){_e=null;break}var c=o.sibling;if(c!==null){c.return=o.return,_e=c;break}_e=o.return}}function s0(s){for(;_e!==null;){var o=_e;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Eu(4,o)}catch(H){xt(o,c,H)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var y=o.return;try{p.componentDidMount()}catch(H){xt(o,y,H)}}var _=o.return;try{Mh(o)}catch(H){xt(o,_,H)}break;case 5:var A=o.return;try{Mh(o)}catch(H){xt(o,A,H)}}}catch(H){xt(o,o.return,H)}if(o===s){_e=null;break}var z=o.sibling;if(z!==null){z.return=o.return,_e=z;break}_e=o.return}}var _b=Math.ceil,Cu=U.ReactCurrentDispatcher,Lh=U.ReactCurrentOwner,zn=U.ReactCurrentBatchConfig,Je=0,Vt=null,bt=null,Ht=0,Nn=0,Go=Ns(0),Dt=0,Sl=null,$i=0,Su=0,Vh=0,Tl=null,pn=null,Fh=0,Qo=1/0,ss=null,Tu=!1,$h=null,Ms=null,bu=!1,Os=null,Iu=0,bl=0,zh=null,Nu=-1,Au=0;function ln(){return(Je&6)!==0?it():Nu!==-1?Nu:Nu=it()}function js(s){return(s.mode&1)===0?1:(Je&2)!==0&&Ht!==0?Ht&-Ht:sb.transition!==null?(Au===0&&(Au=Ni()),Au):(s=Ke,s!==0||(s=window.event,s=s===void 0?16:el(s.type)),s)}function cr(s,o,c,p){if(50<bl)throw bl=0,zh=null,Error(t(185));xs(s,c,p),((Je&2)===0||s!==Vt)&&(s===Vt&&((Je&2)===0&&(Su|=c),Dt===4&&Ls(s,Ht)),mn(s,p),c===1&&Je===0&&(o.mode&1)===0&&(Qo=it()+500,ru&&Rs()))}function mn(s,o){var c=s.callbackNode;qr(s,o);var p=Ii(s,s===Vt?Ht:0);if(p===0)c!==null&&Qa(c),s.callbackNode=null,s.callbackPriority=0;else if(o=p&-p,s.callbackPriority!==o){if(c!=null&&Qa(c),o===1)s.tag===0?rb(o0.bind(null,s)):Wy(o0.bind(null,s)),ZT(function(){(Je&6)===0&&Rs()}),c=null;else{switch(Es(p)){case 1:c=Ti;break;case 4:c=ys;break;case 16:c=Mn;break;case 536870912:c=Ac;break;default:c=Mn}c=p0(c,i0.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function i0(s,o){if(Nu=-1,Au=0,(Je&6)!==0)throw Error(t(327));var c=s.callbackNode;if(Yo()&&s.callbackNode!==c)return null;var p=Ii(s,s===Vt?Ht:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||o)o=Ru(s,p);else{o=p;var y=Je;Je|=2;var _=l0();(Vt!==s||Ht!==o)&&(ss=null,Qo=it()+500,Ui(s,o));do try{Sb();break}catch(z){a0(s,z)}while(!0);ih(),Cu.current=_,Je=y,bt!==null?o=0:(Vt=null,Ht=0,o=Dt)}if(o!==0){if(o===2&&(y=Cn(s),y!==0&&(p=y,o=Uh(s,y))),o===1)throw c=Sl,Ui(s,0),Ls(s,p),mn(s,it()),c;if(o===6)Ls(s,p);else{if(y=s.current.alternate,(p&30)===0&&!Eb(y)&&(o=Ru(s,p),o===2&&(_=Cn(s),_!==0&&(p=_,o=Uh(s,_))),o===1))throw c=Sl,Ui(s,0),Ls(s,p),mn(s,it()),c;switch(s.finishedWork=y,s.finishedLanes=p,o){case 0:case 1:throw Error(t(345));case 2:Bi(s,pn,ss);break;case 3:if(Ls(s,p),(p&130023424)===p&&(o=Fh+500-it(),10<o)){if(Ii(s,0)!==0)break;if(y=s.suspendedLanes,(y&p)!==p){ln(),s.pingedLanes|=s.suspendedLanes&y;break}s.timeoutHandle=Gf(Bi.bind(null,s,pn,ss),o);break}Bi(s,pn,ss);break;case 4:if(Ls(s,p),(p&4194240)===p)break;for(o=s.eventTimes,y=-1;0<p;){var A=31-sn(p);_=1<<A,A=o[A],A>y&&(y=A),p&=~_}if(p=y,p=it()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*_b(p/1960))-p,10<p){s.timeoutHandle=Gf(Bi.bind(null,s,pn,ss),p);break}Bi(s,pn,ss);break;case 5:Bi(s,pn,ss);break;default:throw Error(t(329))}}}return mn(s,it()),s.callbackNode===c?i0.bind(null,s):null}function Uh(s,o){var c=Tl;return s.current.memoizedState.isDehydrated&&(Ui(s,o).flags|=256),s=Ru(s,o),s!==2&&(o=pn,pn=c,o!==null&&Bh(o)),s}function Bh(s){pn===null?pn=s:pn.push.apply(pn,s)}function Eb(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],_=y.getSnapshot;y=y.value;try{if(!sr(_(),y))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ls(s,o){for(o&=~Vh,o&=~Su,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-sn(o),p=1<<c;s[c]=-1,o&=~p}}function o0(s){if((Je&6)!==0)throw Error(t(327));Yo();var o=Ii(s,0);if((o&1)===0)return mn(s,it()),null;var c=Ru(s,o);if(s.tag!==0&&c===2){var p=Cn(s);p!==0&&(o=p,c=Uh(s,p))}if(c===1)throw c=Sl,Ui(s,0),Ls(s,o),mn(s,it()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Bi(s,pn,ss),mn(s,it()),null}function Hh(s,o){var c=Je;Je|=1;try{return s(o)}finally{Je=c,Je===0&&(Qo=it()+500,ru&&Rs())}}function zi(s){Os!==null&&Os.tag===0&&(Je&6)===0&&Yo();var o=Je;Je|=1;var c=zn.transition,p=Ke;try{if(zn.transition=null,Ke=1,s)return s()}finally{Ke=p,zn.transition=c,Je=o,(Je&6)===0&&Rs()}}function Wh(){Nn=Go.current,ct(Go)}function Ui(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,JT(c)),bt!==null)for(c=bt.return;c!==null;){var p=c;switch(eh(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&tu();break;case 3:Wo(),ct(dn),ct(Yt),hh();break;case 5:dh(p);break;case 4:Wo();break;case 13:ct(gt);break;case 19:ct(gt);break;case 10:oh(p.type._context);break;case 22:case 23:Wh()}c=c.return}if(Vt=s,bt=s=Vs(s.current,null),Ht=Nn=o,Dt=0,Sl=null,Vh=Su=$i=0,pn=Tl=null,Li!==null){for(o=0;o<Li.length;o++)if(c=Li[o],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,_=c.pending;if(_!==null){var A=_.next;_.next=y,p.next=A}c.pending=p}Li=null}return s}function a0(s,o){do{var c=bt;try{if(ih(),hu.current=yu,pu){for(var p=yt.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}pu=!1}if(Fi=0,Lt=kt=yt=null,vl=!1,wl=0,Lh.current=null,c===null||c.return===null){Dt=1,Sl=o,bt=null;break}e:{var _=s,A=c.return,z=c,H=o;if(o=Ht,z.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var X=H,ae=z,ce=ae.tag;if((ae.mode&1)===0&&(ce===0||ce===11||ce===15)){var oe=ae.alternate;oe?(ae.updateQueue=oe.updateQueue,ae.memoizedState=oe.memoizedState,ae.lanes=oe.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var ye=kv(A);if(ye!==null){ye.flags&=-257,Dv(ye,A,z,_,o),ye.mode&1&&Pv(_,X,o),o=ye,H=X;var Ee=o.updateQueue;if(Ee===null){var Ce=new Set;Ce.add(H),o.updateQueue=Ce}else Ee.add(H);break e}else{if((o&1)===0){Pv(_,X,o),qh();break e}H=Error(t(426))}}else if(pt&&z.mode&1){var Ct=kv(A);if(Ct!==null){(Ct.flags&65536)===0&&(Ct.flags|=256),Dv(Ct,A,z,_,o),rh(qo(H,z));break e}}_=H=qo(H,z),Dt!==4&&(Dt=2),Tl===null?Tl=[_]:Tl.push(_),_=A;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var K=Av(_,H,o);nv(_,K);break e;case 1:z=H;var W=_.type,Q=_.stateNode;if((_.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Ms===null||!Ms.has(Q)))){_.flags|=65536,o&=-o,_.lanes|=o;var he=Rv(_,z,o);nv(_,he);break e}}_=_.return}while(_!==null)}u0(c)}catch(Te){o=Te,bt===c&&c!==null&&(bt=c=c.return);continue}break}while(!0)}function l0(){var s=Cu.current;return Cu.current=yu,s===null?yu:s}function qh(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Vt===null||($i&268435455)===0&&(Su&268435455)===0||Ls(Vt,Ht)}function Ru(s,o){var c=Je;Je|=2;var p=l0();(Vt!==s||Ht!==o)&&(ss=null,Ui(s,o));do try{Cb();break}catch(y){a0(s,y)}while(!0);if(ih(),Je=c,Cu.current=p,bt!==null)throw Error(t(261));return Vt=null,Ht=0,Dt}function Cb(){for(;bt!==null;)c0(bt)}function Sb(){for(;bt!==null&&!Ic();)c0(bt)}function c0(s){var o=h0(s.alternate,s,Nn);s.memoizedProps=s.pendingProps,o===null?u0(s):bt=o,Lh.current=null}function u0(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=gb(c,o,Nn),c!==null){bt=c;return}}else{if(c=yb(c,o),c!==null){c.flags&=32767,bt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Dt=6,bt=null;return}}if(o=o.sibling,o!==null){bt=o;return}bt=o=s}while(o!==null);Dt===0&&(Dt=5)}function Bi(s,o,c){var p=Ke,y=zn.transition;try{zn.transition=null,Ke=1,Tb(s,o,c,p)}finally{zn.transition=y,Ke=p}return null}function Tb(s,o,c,p){do Yo();while(Os!==null);if((Je&6)!==0)throw Error(t(327));c=s.finishedWork;var y=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var _=c.lanes|c.childLanes;if(rt(s,_),s===Vt&&(bt=Vt=null,Ht=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||bu||(bu=!0,p0(Mn,function(){return Yo(),null})),_=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||_){_=zn.transition,zn.transition=null;var A=Ke;Ke=1;var z=Je;Je|=4,Lh.current=null,wb(s,c),e0(c,s),WT(qf),Ss=!!Wf,qf=Wf=null,s.current=c,xb(c),Af(),Je=z,Ke=A,zn.transition=_}else s.current=c;if(bu&&(bu=!1,Os=s,Iu=y),_=s.pendingLanes,_===0&&(Ms=null),Rc(c.stateNode),mn(s,it()),o!==null)for(p=s.onRecoverableError,c=0;c<o.length;c++)y=o[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(Tu)throw Tu=!1,s=$h,$h=null,s;return(Iu&1)!==0&&s.tag!==0&&Yo(),_=s.pendingLanes,(_&1)!==0?s===zh?bl++:(bl=0,zh=s):bl=0,Rs(),null}function Yo(){if(Os!==null){var s=Es(Iu),o=zn.transition,c=Ke;try{if(zn.transition=null,Ke=16>s?16:s,Os===null)var p=!1;else{if(s=Os,Os=null,Iu=0,(Je&6)!==0)throw Error(t(331));var y=Je;for(Je|=4,_e=s.current;_e!==null;){var _=_e,A=_.child;if((_e.flags&16)!==0){var z=_.deletions;if(z!==null){for(var H=0;H<z.length;H++){var X=z[H];for(_e=X;_e!==null;){var ae=_e;switch(ae.tag){case 0:case 11:case 15:Cl(8,ae,_)}var ce=ae.child;if(ce!==null)ce.return=ae,_e=ce;else for(;_e!==null;){ae=_e;var oe=ae.sibling,ye=ae.return;if(Qv(ae),ae===X){_e=null;break}if(oe!==null){oe.return=ye,_e=oe;break}_e=ye}}}var Ee=_.alternate;if(Ee!==null){var Ce=Ee.child;if(Ce!==null){Ee.child=null;do{var Ct=Ce.sibling;Ce.sibling=null,Ce=Ct}while(Ce!==null)}}_e=_}}if((_.subtreeFlags&2064)!==0&&A!==null)A.return=_,_e=A;else e:for(;_e!==null;){if(_=_e,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Cl(9,_,_.return)}var K=_.sibling;if(K!==null){K.return=_.return,_e=K;break e}_e=_.return}}var W=s.current;for(_e=W;_e!==null;){A=_e;var Q=A.child;if((A.subtreeFlags&2064)!==0&&Q!==null)Q.return=A,_e=Q;else e:for(A=W;_e!==null;){if(z=_e,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Eu(9,z)}}catch(Te){xt(z,z.return,Te)}if(z===A){_e=null;break e}var he=z.sibling;if(he!==null){he.return=z.return,_e=he;break e}_e=z.return}}if(Je=y,Rs(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(bi,s)}catch{}p=!0}return p}finally{Ke=c,zn.transition=o}}return!1}function d0(s,o,c){o=qo(c,o),o=Av(s,o,1),s=ks(s,o,1),o=ln(),s!==null&&(xs(s,1,o),mn(s,o))}function xt(s,o,c){if(s.tag===3)d0(s,s,c);else for(;o!==null;){if(o.tag===3){d0(o,s,c);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ms===null||!Ms.has(p))){s=qo(c,s),s=Rv(o,s,1),o=ks(o,s,1),s=ln(),o!==null&&(xs(o,1,s),mn(o,s));break}}o=o.return}}function bb(s,o,c){var p=s.pingCache;p!==null&&p.delete(o),o=ln(),s.pingedLanes|=s.suspendedLanes&c,Vt===s&&(Ht&c)===c&&(Dt===4||Dt===3&&(Ht&130023424)===Ht&&500>it()-Fh?Ui(s,0):Vh|=c),mn(s,o)}function f0(s,o){o===0&&((s.mode&1)===0?o=1:(o=wo,wo<<=1,(wo&130023424)===0&&(wo=4194304)));var c=ln();s=ts(s,o),s!==null&&(xs(s,o,c),mn(s,c))}function Ib(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),f0(s,c)}function Nb(s,o){var c=0;switch(s.tag){case 13:var p=s.stateNode,y=s.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(o),f0(s,c)}var h0;h0=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||dn.current)hn=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return hn=!1,mb(s,o,c);hn=(s.flags&131072)!==0}else hn=!1,pt&&(o.flags&1048576)!==0&&qy(o,iu,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;xu(s,o),s=o.pendingProps;var y=Vo(o,Yt.current);Ho(o,c),y=gh(null,o,p,s,y,c);var _=yh();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,fn(p)?(_=!0,nu(o)):_=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,ch(o),y.updater=vu,o.stateNode=y,y._reactInternals=o,Ch(o,p,s,c),o=Ih(null,o,p,!0,_,c)):(o.tag=0,pt&&_&&Zf(o),an(null,o,y,c),o=o.child),o;case 16:p=o.elementType;e:{switch(xu(s,o),s=o.pendingProps,y=p._init,p=y(p._payload),o.type=p,y=o.tag=Rb(p),s=or(p,s),y){case 0:o=bh(null,o,p,s,c);break e;case 1:o=Fv(null,o,p,s,c);break e;case 11:o=Mv(null,o,p,s,c);break e;case 14:o=Ov(null,o,p,or(p.type,s),c);break e}throw Error(t(306,p,""))}return o;case 0:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:or(p,y),bh(s,o,p,y,c);case 1:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:or(p,y),Fv(s,o,p,y,c);case 3:e:{if($v(o),s===null)throw Error(t(387));p=o.pendingProps,_=o.memoizedState,y=_.element,tv(s,o),du(o,p,null,c);var A=o.memoizedState;if(p=A.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){y=qo(Error(t(423)),o),o=zv(s,o,p,c,y);break e}else if(p!==y){y=qo(Error(t(424)),o),o=zv(s,o,p,c,y);break e}else for(In=Is(o.stateNode.containerInfo.firstChild),bn=o,pt=!0,ir=null,c=Zy(o,null,p,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(zo(),p===y){o=rs(s,o,c);break e}an(s,o,p,c)}o=o.child}return o;case 5:return sv(o),s===null&&nh(o),p=o.type,y=o.pendingProps,_=s!==null?s.memoizedProps:null,A=y.children,Kf(p,y)?A=null:_!==null&&Kf(p,_)&&(o.flags|=32),Vv(s,o),an(s,o,A,c),o.child;case 6:return s===null&&nh(o),null;case 13:return Uv(s,o,c);case 4:return uh(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=Uo(o,null,p,c):an(s,o,p,c),o.child;case 11:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:or(p,y),Mv(s,o,p,y,c);case 7:return an(s,o,o.pendingProps,c),o.child;case 8:return an(s,o,o.pendingProps.children,c),o.child;case 12:return an(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(p=o.type._context,y=o.pendingProps,_=o.memoizedProps,A=y.value,ot(lu,p._currentValue),p._currentValue=A,_!==null)if(sr(_.value,A)){if(_.children===y.children&&!dn.current){o=rs(s,o,c);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var z=_.dependencies;if(z!==null){A=_.child;for(var H=z.firstContext;H!==null;){if(H.context===p){if(_.tag===1){H=ns(-1,c&-c),H.tag=2;var X=_.updateQueue;if(X!==null){X=X.shared;var ae=X.pending;ae===null?H.next=H:(H.next=ae.next,ae.next=H),X.pending=H}}_.lanes|=c,H=_.alternate,H!==null&&(H.lanes|=c),ah(_.return,c,o),z.lanes|=c;break}H=H.next}}else if(_.tag===10)A=_.type===o.type?null:_.child;else if(_.tag===18){if(A=_.return,A===null)throw Error(t(341));A.lanes|=c,z=A.alternate,z!==null&&(z.lanes|=c),ah(A,c,o),A=_.sibling}else A=_.child;if(A!==null)A.return=_;else for(A=_;A!==null;){if(A===o){A=null;break}if(_=A.sibling,_!==null){_.return=A.return,A=_;break}A=A.return}_=A}an(s,o,y.children,c),o=o.child}return o;case 9:return y=o.type,p=o.pendingProps.children,Ho(o,c),y=Fn(y),p=p(y),o.flags|=1,an(s,o,p,c),o.child;case 14:return p=o.type,y=or(p,o.pendingProps),y=or(p.type,y),Ov(s,o,p,y,c);case 15:return jv(s,o,o.type,o.pendingProps,c);case 17:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:or(p,y),xu(s,o),o.tag=1,fn(p)?(s=!0,nu(o)):s=!1,Ho(o,c),Iv(o,p,y),Ch(o,p,y,c),Ih(null,o,p,!0,s,c);case 19:return Hv(s,o,c);case 22:return Lv(s,o,c)}throw Error(t(156,o.tag))};function p0(s,o){return yo(s,o)}function Ab(s,o,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(s,o,c,p){return new Ab(s,o,c,p)}function Kh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Rb(s){if(typeof s=="function")return Kh(s)?1:0;if(s!=null){if(s=s.$$typeof,s===P)return 11;if(s===te)return 14}return 2}function Vs(s,o){var c=s.alternate;return c===null?(c=Un(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Pu(s,o,c,p,y,_){var A=2;if(p=s,typeof s=="function")Kh(s)&&(A=1);else if(typeof s=="string")A=5;else e:switch(s){case k:return Hi(c.children,y,_,o);case R:A=8,y|=8;break;case D:return s=Un(12,c,o,y|2),s.elementType=D,s.lanes=_,s;case j:return s=Un(13,c,o,y),s.elementType=j,s.lanes=_,s;case ee:return s=Un(19,c,o,y),s.elementType=ee,s.lanes=_,s;case ue:return ku(c,y,_,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case V:A=10;break e;case F:A=9;break e;case P:A=11;break e;case te:A=14;break e;case re:A=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Un(A,c,o,y),o.elementType=s,o.type=p,o.lanes=_,o}function Hi(s,o,c,p){return s=Un(7,s,p,o),s.lanes=c,s}function ku(s,o,c,p){return s=Un(22,s,p,o),s.elementType=ue,s.lanes=c,s.stateNode={isHidden:!1},s}function Gh(s,o,c){return s=Un(6,s,null,o),s.lanes=c,s}function Qh(s,o,c){return o=Un(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function Pb(s,o,c,p,y){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ws(0),this.expirationTimes=ws(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ws(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Yh(s,o,c,p,y,_,A,z,H){return s=new Pb(s,o,c,z,H),o===1?(o=1,_===!0&&(o|=8)):o=0,_=Un(3,null,null,o),s.current=_,_.stateNode=s,_.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},ch(_),s}function kb(s,o,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:p==null?null:""+p,children:s,containerInfo:o,implementation:c}}function m0(s){if(!s)return As;s=s._reactInternals;e:{if(Xn(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(fn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(fn(c))return By(s,c,o)}return o}function g0(s,o,c,p,y,_,A,z,H){return s=Yh(c,p,!0,s,y,_,A,z,H),s.context=m0(null),c=s.current,p=ln(),y=js(c),_=ns(p,y),_.callback=o??null,ks(c,_,y),s.current.lanes=y,xs(s,y,p),mn(s,p),s}function Du(s,o,c,p){var y=o.current,_=ln(),A=js(y);return c=m0(c),o.context===null?o.context=c:o.pendingContext=c,o=ns(_,A),o.payload={element:s},p=p===void 0?null:p,p!==null&&(o.callback=p),s=ks(y,o,A),s!==null&&(cr(s,y,A,_),uu(s,y,A)),A}function Mu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function y0(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function Xh(s,o){y0(s,o),(s=s.alternate)&&y0(s,o)}function Db(){return null}var v0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Jh(s){this._internalRoot=s}Ou.prototype.render=Jh.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));Du(s,o,null,null)},Ou.prototype.unmount=Jh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;zi(function(){Du(null,s,null,null)}),o[Xr]=null}};function Ou(s){this._internalRoot=s}Ou.prototype.unstable_scheduleHydration=function(s){if(s){var o=Oc();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Cr.length&&o!==0&&o<Cr[c].priority;c++);Cr.splice(c,0,s),c===0&&Vc(s)}};function Zh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ju(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function w0(){}function Mb(s,o,c,p,y){if(y){if(typeof p=="function"){var _=p;p=function(){var X=Mu(A);_.call(X)}}var A=g0(o,p,s,0,null,!1,!1,"",w0);return s._reactRootContainer=A,s[Xr]=A.current,ul(s.nodeType===8?s.parentNode:s),zi(),A}for(;y=s.lastChild;)s.removeChild(y);if(typeof p=="function"){var z=p;p=function(){var X=Mu(H);z.call(X)}}var H=Yh(s,0,!1,null,null,!1,!1,"",w0);return s._reactRootContainer=H,s[Xr]=H.current,ul(s.nodeType===8?s.parentNode:s),zi(function(){Du(o,H,c,p)}),H}function Lu(s,o,c,p,y){var _=c._reactRootContainer;if(_){var A=_;if(typeof y=="function"){var z=y;y=function(){var H=Mu(A);z.call(H)}}Du(o,A,s,y)}else A=Mb(c,o,s,y,p);return Mu(A)}Dc=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=vs(o.pendingLanes);c!==0&&(_s(o,c|1),mn(o,it()),(Je&6)===0&&(Qo=it()+500,Rs()))}break;case 13:zi(function(){var p=ts(s,1);if(p!==null){var y=ln();cr(p,s,1,y)}}),Xh(s,1)}},xo=function(s){if(s.tag===13){var o=ts(s,134217728);if(o!==null){var c=ln();cr(o,s,134217728,c)}Xh(s,134217728)}},Mc=function(s){if(s.tag===13){var o=js(s),c=ts(s,o);if(c!==null){var p=ln();cr(c,s,o,p)}Xh(s,o)}},Oc=function(){return Ke},jc=function(s,o){var c=Ke;try{return Ke=s,o()}finally{Ke=c}},uo=function(s,o,c){switch(o){case"input":if(Kn(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var p=c[o];if(p!==s&&p.form===s.form){var y=eu(p);if(!y)throw Error(t(90));qe(p),Kn(p,y)}}}break;case"textarea":lo(s,c);break;case"select":o=c.value,o!=null&&Br(s,!!c.multiple,o,!1)}},_i=Hh,Wa=zi;var Ob={usingClientEntryPoint:!1,Events:[hl,jo,eu,_r,Ha,Hh]},Il={findFiberByHostInstance:Di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jb={bundleType:Il.bundleType,version:Il.version,rendererPackageName:Il.rendererPackageName,rendererConfig:Il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ga(s),s===null?null:s.stateNode},findFiberByHostInstance:Il.findFiberByHostInstance||Db,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{bi=Vu.inject(jb),En=Vu}catch{}}return gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ob,gn.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zh(o))throw Error(t(200));return kb(s,o,null,c)},gn.createRoot=function(s,o){if(!Zh(s))throw Error(t(299));var c=!1,p="",y=v0;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=Yh(s,1,!1,null,null,c,!1,p,y),s[Xr]=o.current,ul(s.nodeType===8?s.parentNode:s),new Jh(o)},gn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Ga(o),s=s===null?null:s.stateNode,s},gn.flushSync=function(s){return zi(s)},gn.hydrate=function(s,o,c){if(!ju(o))throw Error(t(200));return Lu(null,s,o,!0,c)},gn.hydrateRoot=function(s,o,c){if(!Zh(s))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,y=!1,_="",A=v0;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),o=g0(o,null,s,1,c??null,y,!1,_,A),s[Xr]=o.current,ul(s),p)for(s=0;s<p.length;s++)c=p[s],y=c._getVersion,y=y(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,y]:o.mutableSourceEagerHydrationData.push(c,y);return new Ou(o)},gn.render=function(s,o,c){if(!ju(o))throw Error(t(200));return Lu(null,s,o,!1,c)},gn.unmountComponentAtNode=function(s){if(!ju(s))throw Error(t(40));return s._reactRootContainer?(zi(function(){Lu(null,null,s,!1,function(){s._reactRootContainer=null,s[Xr]=null})}),!0):!1},gn.unstable_batchedUpdates=Hh,gn.unstable_renderSubtreeIntoContainer=function(s,o,c,p){if(!ju(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Lu(s,o,c,!1,p)},gn.version="18.3.1-next-f1338f8080-20240426",gn}var I0;function Qx(){if(I0)return np.exports;I0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),np.exports=Hb(),np.exports}var N0;function Wb(){if(N0)return Fu;N0=1;var n=Qx();return Fu.createRoot=n.createRoot,Fu.hydrateRoot=n.hydrateRoot,Fu}var qb=Wb(),Al={},A0;function Kb(){if(A0)return Al;A0=1,Object.defineProperty(Al,"__esModule",{value:!0}),Al.parse=l,Al.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,T){const C=new a,S=v.length;if(S<2)return C;const b=(T==null?void 0:T.decode)||m;let N=0;do{const M=v.indexOf("=",N);if(M===-1)break;const L=v.indexOf(";",N),U=L===-1?S:L;if(M>U){N=v.lastIndexOf(";",M-1)+1;continue}const $=u(v,N,M),G=f(v,M,$),k=v.slice($,G);if(C[k]===void 0){let R=u(v,M+1,U),D=f(v,U,R);const V=b(v.slice(R,D));C[k]=V}N=U+1}while(N<S);return C}function u(v,T,C){do{const S=v.charCodeAt(T);if(S!==32&&S!==9)return T}while(++T<C);return C}function f(v,T,C){for(;T>C;){const S=v.charCodeAt(--T);if(S!==32&&S!==9)return T+1}return C}function h(v,T,C){const S=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const b=S(T);if(!e.test(b))throw new TypeError(`argument val is invalid: ${T}`);let N=v+"="+b;if(!C)return N;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);N+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);N+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);N+="; Path="+C.path}if(C.expires){if(!w(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);N+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(N+="; HttpOnly"),C.secure&&(N+="; Secure"),C.partitioned&&(N+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return N}function m(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function w(v){return i.call(v)==="[object Date]"}return Al}Kb();var R0="popstate";function Gb(n={}){function e(i,a){let{pathname:l="/",search:u="",hash:f=""}=no(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Pp("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let f=i.location.href,h=f.indexOf("#");u=h===-1?f:f.slice(0,h)}return u+"#"+(typeof a=="string"?a:Jl(a))}function r(i,a){Bn(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return Yb(e,t,r,n)}function mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Bn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Qb(){return Math.random().toString(36).substring(2,10)}function P0(n,e){return{usr:n.state,key:n.key,idx:e}}function Pp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?no(e):e,state:t,key:e&&e.key||r||Qb()}}function Jl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function no(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function Yb(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u="POP",f=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function w(){u="POP";let b=m(),N=b==null?null:b-h;h=b,f&&f({action:u,location:S.location,delta:N})}function v(b,N){u="PUSH";let M=Pp(S.location,b,N);t&&t(M,b),h=m()+1;let L=P0(M,h),U=S.createHref(M);try{l.pushState(L,"",U)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(U)}a&&f&&f({action:u,location:S.location,delta:1})}function T(b,N){u="REPLACE";let M=Pp(S.location,b,N);t&&t(M,b),h=m();let L=P0(M,h),U=S.createHref(M);l.replaceState(L,"",U),a&&f&&f({action:u,location:S.location,delta:0})}function C(b){return Xb(b)}let S={get action(){return u},get location(){return n(i,l)},listen(b){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(R0,w),f=b,()=>{i.removeEventListener(R0,w),f=null}},createHref(b){return e(i,b)},createURL:C,encodeLocation(b){let N=C(b);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:T,go(b){return l.go(b)}};return S}function Xb(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),mt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Jl(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Yx(n,e,t="/"){return Jb(n,e,t,!1)}function Jb(n,e,t,r){let i=typeof e=="string"?no(e):e,a=cs(i.pathname||"/",t);if(a==null)return null;let l=Xx(n);Zb(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let h=uI(a);u=lI(l[f],h,r)}return u}function Xx(n,e=[],t=[],r=""){let i=(a,l,u)=>{let f={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(mt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let h=ls([r,f.relativePath]),m=t.concat(f);a.children&&a.children.length>0&&(mt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Xx(a.children,e,m,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:oI(h,a.index),routesMeta:m})};return n.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let f of Jx(a.path))i(a,l,f)}),e}function Jx(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=Jx(r.join("/")),u=[];return u.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&u.push(...l),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function Zb(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:aI(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var eI=/^:[\w-]+$/,tI=3,nI=2,rI=1,sI=10,iI=-2,k0=n=>n==="*";function oI(n,e){let t=n.split("/"),r=t.length;return t.some(k0)&&(r+=iI),e&&(r+=nI),t.filter(i=>!k0(i)).reduce((i,a)=>i+(eI.test(a)?tI:a===""?rI:sI),r)}function aI(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function lI(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",l=[];for(let u=0;u<r.length;++u){let f=r[u],h=u===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",w=md({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),v=f.route;if(!w&&h&&t&&!r[r.length-1].route.index&&(w=md({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!w)return null;Object.assign(i,w.params),l.push({params:i,pathname:ls([a,w.pathname]),pathnameBase:pI(ls([a,w.pathnameBase])),route:v}),w.pathnameBase!=="/"&&(a=ls([a,w.pathnameBase]))}return l}function md(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=cI(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:w},v)=>{if(m==="*"){let C=u[v]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const T=u[v];return w&&!T?h[m]=void 0:h[m]=(T||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:n}}function cI(n,e=!1,t=!0){Bn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function uI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function cs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function dI(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?no(n):n;return{pathname:t?t.startsWith("/")?t:fI(t,e):e,search:mI(r),hash:gI(i)}}function fI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function ip(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Wm(n){let e=hI(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function qm(n,e,t,r=!1){let i;typeof n=="string"?i=no(n):(i={...n},mt(!i.pathname||!i.pathname.includes("?"),ip("?","pathname","search",i)),mt(!i.pathname||!i.pathname.includes("#"),ip("#","pathname","hash",i)),mt(!i.search||!i.search.includes("#"),ip("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=t;else{let w=e.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),w-=1;i.pathname=v.join("/")}u=w>=0?e[w]:"/"}let f=dI(i,u),h=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var ls=n=>n.join("/").replace(/\/\/+/g,"/"),pI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),mI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,gI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function yI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Zx=["POST","PUT","PATCH","DELETE"];new Set(Zx);var vI=["GET",...Zx];new Set(vI);var Ea=E.createContext(null);Ea.displayName="DataRouter";var Wd=E.createContext(null);Wd.displayName="DataRouterState";var e_=E.createContext({isTransitioning:!1});e_.displayName="ViewTransition";var wI=E.createContext(new Map);wI.displayName="Fetchers";var xI=E.createContext(null);xI.displayName="Await";var yr=E.createContext(null);yr.displayName="Navigation";var hc=E.createContext(null);hc.displayName="Location";var vr=E.createContext({outlet:null,matches:[],isDataRoute:!1});vr.displayName="Route";var Km=E.createContext(null);Km.displayName="RouteError";function _I(n,{relative:e}={}){mt(Ca(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=E.useContext(yr),{hash:i,pathname:a,search:l}=mc(n,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:ls([t,a])),r.createHref({pathname:u,search:l,hash:i})}function Ca(){return E.useContext(hc)!=null}function di(){return mt(Ca(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(hc).location}var t_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n_(n){E.useContext(yr).static||E.useLayoutEffect(n)}function pc(){let{isDataRoute:n}=E.useContext(vr);return n?MI():EI()}function EI(){mt(Ca(),"useNavigate() may be used only in the context of a <Router> component.");let n=E.useContext(Ea),{basename:e,navigator:t}=E.useContext(yr),{matches:r}=E.useContext(vr),{pathname:i}=di(),a=JSON.stringify(Wm(r)),l=E.useRef(!1);return n_(()=>{l.current=!0}),E.useCallback((f,h={})=>{if(Bn(l.current,t_),!l.current)return;if(typeof f=="number"){t.go(f);return}let m=qm(f,JSON.parse(a),i,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ls([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,a,i,n])}E.createContext(null);function Gm(){let{matches:n}=E.useContext(vr),e=n[n.length-1];return e?e.params:{}}function mc(n,{relative:e}={}){let{matches:t}=E.useContext(vr),{pathname:r}=di(),i=JSON.stringify(Wm(t));return E.useMemo(()=>qm(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function CI(n,e){return r_(n,e)}function r_(n,e,t,r){var N;mt(Ca(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=E.useContext(yr),{matches:a}=E.useContext(vr),l=a[a.length-1],u=l?l.params:{},f=l?l.pathname:"/",h=l?l.pathnameBase:"/",m=l&&l.route;{let M=m&&m.path||"";s_(f,!m||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let w=di(),v;if(e){let M=typeof e=="string"?no(e):e;mt(h==="/"||((N=M.pathname)==null?void 0:N.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${M.pathname}" was given in the \`location\` prop.`),v=M}else v=w;let T=v.pathname||"/",C=T;if(h!=="/"){let M=h.replace(/^\//,"").split("/");C="/"+T.replace(/^\//,"").split("/").slice(M.length).join("/")}let S=Yx(n,{pathname:C});Bn(m||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Bn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=NI(S&&S.map(M=>Object.assign({},M,{params:Object.assign({},u,M.params),pathname:ls([h,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?h:ls([h,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),a,t,r);return e&&b?E.createElement(hc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},b):b}function SI(){let n=DI(),e=yI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:a},"ErrorBoundary")," or"," ",E.createElement("code",{style:a},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),t?E.createElement("pre",{style:i},t):null,l)}var TI=E.createElement(SI,null),bI=class extends E.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?E.createElement(vr.Provider,{value:this.props.routeContext},E.createElement(Km.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function II({routeContext:n,match:e,children:t}){let r=E.useContext(Ea);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(vr.Provider,{value:n},t)}function NI(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t==null?void 0:t.errors;if(a!=null){let f=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);mt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,u=-1;if(t)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:m,errors:w}=t,v=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!w||w[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,h,m)=>{let w,v=!1,T=null,C=null;t&&(w=a&&h.route.id?a[h.route.id]:void 0,T=h.route.errorElement||TI,l&&(u<0&&m===0?(s_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,C=null):u===m&&(v=!0,C=h.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,m+1)),b=()=>{let N;return w?N=T:v?N=C:h.route.Component?N=E.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=f,E.createElement(II,{match:h,routeContext:{outlet:f,matches:S,isDataRoute:t!=null},children:N})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?E.createElement(bI,{location:t.location,revalidation:t.revalidation,component:T,error:w,children:b(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):b()},null)}function Qm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AI(n){let e=E.useContext(Ea);return mt(e,Qm(n)),e}function RI(n){let e=E.useContext(Wd);return mt(e,Qm(n)),e}function PI(n){let e=E.useContext(vr);return mt(e,Qm(n)),e}function Ym(n){let e=PI(n),t=e.matches[e.matches.length-1];return mt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function kI(){return Ym("useRouteId")}function DI(){var r;let n=E.useContext(Km),e=RI("useRouteError"),t=Ym("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function MI(){let{router:n}=AI("useNavigate"),e=Ym("useNavigate"),t=E.useRef(!1);return n_(()=>{t.current=!0}),E.useCallback(async(i,a={})=>{Bn(t.current,t_),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var D0={};function s_(n,e,t){!e&&!D0[n]&&(D0[n]=!0,Bn(!1,t))}E.memo(OI);function OI({routes:n,future:e,state:t}){return r_(n,void 0,t,e)}function jI({to:n,replace:e,state:t,relative:r}){mt(Ca(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(yr);Bn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=E.useContext(vr),{pathname:l}=di(),u=pc(),f=qm(n,Wm(a),l,r==="path"),h=JSON.stringify(f);return E.useEffect(()=>{u(JSON.parse(h),{replace:e,state:t,relative:r})},[u,h,r,e,t]),null}function ur(n){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LI({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){mt(!Ca(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof t=="string"&&(t=no(t));let{pathname:f="/",search:h="",hash:m="",state:w=null,key:v="default"}=t,T=E.useMemo(()=>{let C=cs(f,l);return C==null?null:{location:{pathname:C,search:h,hash:m,state:w,key:v},navigationType:r}},[l,f,h,m,w,v,r]);return Bn(T!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:E.createElement(yr.Provider,{value:u},E.createElement(hc.Provider,{children:e,value:T}))}function VI({children:n,location:e}){return CI(kp(n),e)}function kp(n,e=[]){let t=[];return E.Children.forEach(n,(r,i)=>{if(!E.isValidElement(r))return;let a=[...e,i];if(r.type===E.Fragment){t.push.apply(t,kp(r.props.children,a));return}mt(r.type===ur,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=kp(r.props.children,a)),t.push(l)}),t}var td="get",nd="application/x-www-form-urlencoded";function qd(n){return n!=null&&typeof n.tagName=="string"}function FI(n){return qd(n)&&n.tagName.toLowerCase()==="button"}function $I(n){return qd(n)&&n.tagName.toLowerCase()==="form"}function zI(n){return qd(n)&&n.tagName.toLowerCase()==="input"}function UI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function BI(n,e){return n.button===0&&(!e||e==="_self")&&!UI(n)}var $u=null;function HI(){if($u===null)try{new FormData(document.createElement("form"),0),$u=!1}catch{$u=!0}return $u}var WI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function op(n){return n!=null&&!WI.has(n)?(Bn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nd}"`),null):n}function qI(n,e){let t,r,i,a,l;if($I(n)){let u=n.getAttribute("action");r=u?cs(u,e):null,t=n.getAttribute("method")||td,i=op(n.getAttribute("enctype"))||nd,a=new FormData(n)}else if(FI(n)||zI(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||u.getAttribute("action");if(r=f?cs(f,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||td,i=op(n.getAttribute("formenctype"))||op(u.getAttribute("enctype"))||nd,a=new FormData(u,n),!HI()){let{name:h,type:m,value:w}=n;if(m==="image"){let v=h?`${h}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else h&&a.append(h,w)}}else{if(qd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=td,r=null,i=nd,l=n}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:l}}function Xm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function KI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function QI(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await KI(a,t);return l.links?l.links():[]}return[]}));return ZI(r.flat(1).filter(GI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function M0(n,e,t,r,i,a){let l=(f,h)=>t[h]?f.route.id!==t[h].route.id:!0,u=(f,h)=>{var m;return t[h].pathname!==f.pathname||((m=t[h].route.path)==null?void 0:m.endsWith("*"))&&t[h].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,h)=>l(f,h)||u(f,h)):a==="data"?e.filter((f,h)=>{var w;let m=r.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function YI(n,e,{includeHydrateFallback:t}={}){return XI(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function XI(n){return[...new Set(n)]}function JI(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function ZI(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(JI(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var eN=new Set([100,101,204,205]);function tN(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&cs(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function i_(){let n=E.useContext(Ea);return Xm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function nN(){let n=E.useContext(Wd);return Xm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Jm=E.createContext(void 0);Jm.displayName="FrameworkContext";function o_(){let n=E.useContext(Jm);return Xm(n,"You must render this element inside a <HydratedRouter> element"),n}function rN(n,e){let t=E.useContext(Jm),[r,i]=E.useState(!1),[a,l]=E.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:w}=e,v=E.useRef(null);E.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let S=N=>{N.forEach(M=>{l(M.isIntersecting)})},b=new IntersectionObserver(S,{threshold:.5});return v.current&&b.observe(v.current),()=>{b.disconnect()}}},[n]),E.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let T=()=>{i(!0)},C=()=>{i(!1),l(!1)};return t?n!=="intent"?[a,v,{}]:[a,v,{onFocus:Rl(u,T),onBlur:Rl(f,C),onMouseEnter:Rl(h,T),onMouseLeave:Rl(m,C),onTouchStart:Rl(w,T)}]:[!1,v,{}]}function Rl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function sN({page:n,...e}){let{router:t}=i_(),r=E.useMemo(()=>Yx(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?E.createElement(oN,{page:n,matches:r,...e}):null}function iN(n){let{manifest:e,routeModules:t}=o_(),[r,i]=E.useState([]);return E.useEffect(()=>{let a=!1;return QI(n,e,t).then(l=>{a||i(l)}),()=>{a=!0}},[n,e,t]),r}function oN({page:n,matches:e,...t}){let r=di(),{manifest:i,routeModules:a}=o_(),{basename:l}=i_(),{loaderData:u,matches:f}=nN(),h=E.useMemo(()=>M0(n,e,f,i,r,"data"),[n,e,f,i,r]),m=E.useMemo(()=>M0(n,e,f,i,r,"assets"),[n,e,f,i,r]),w=E.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,S=!1;if(e.forEach(N=>{var L;let M=i.routes[N.route.id];!M||!M.hasLoader||(!h.some(U=>U.route.id===N.route.id)&&N.route.id in u&&((L=a[N.route.id])!=null&&L.shouldRevalidate)||M.hasClientLoader?S=!0:C.add(N.route.id))}),C.size===0)return[];let b=tN(n,l);return S&&C.size>0&&b.searchParams.set("_routes",e.filter(N=>C.has(N.route.id)).map(N=>N.route.id).join(",")),[b.pathname+b.search]},[l,u,r,i,h,e,n,a]),v=E.useMemo(()=>YI(m,i),[m,i]),T=iN(m);return E.createElement(E.Fragment,null,w.map(C=>E.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),v.map(C=>E.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),T.map(({key:C,link:S})=>E.createElement("link",{key:C,...S})))}function aN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var a_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{a_&&(window.__reactRouterVersion="7.6.2")}catch{}function lN({basename:n,children:e,window:t}){let r=E.useRef();r.current==null&&(r.current=Gb({window:t,v5Compat:!0}));let i=r.current,[a,l]=E.useState({action:i.action,location:i.location}),u=E.useCallback(f=>{E.startTransition(()=>l(f))},[l]);return E.useLayoutEffect(()=>i.listen(u),[i,u]),E.createElement(LI,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var l_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qs=E.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:u,target:f,to:h,preventScrollReset:m,viewTransition:w,...v},T){let{basename:C}=E.useContext(yr),S=typeof h=="string"&&l_.test(h),b,N=!1;if(typeof h=="string"&&S&&(b=h,a_))try{let D=new URL(window.location.href),V=h.startsWith("//")?new URL(D.protocol+h):new URL(h),F=cs(V.pathname,C);V.origin===D.origin&&F!=null?h=F+V.search+V.hash:N=!0}catch{Bn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=_I(h,{relative:i}),[L,U,$]=rN(r,v),G=fN(h,{replace:l,state:u,target:f,preventScrollReset:m,relative:i,viewTransition:w});function k(D){e&&e(D),D.defaultPrevented||G(D)}let R=E.createElement("a",{...v,...$,href:b||M,onClick:N||a?e:k,ref:aN(T,U),target:f,"data-discover":!S&&t==="render"?"true":void 0});return L&&!S?E.createElement(E.Fragment,null,R,E.createElement(sN,{page:M})):R});qs.displayName="Link";var cN=E.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:u,children:f,...h},m){let w=mc(l,{relative:h.relative}),v=di(),T=E.useContext(Wd),{navigator:C,basename:S}=E.useContext(yr),b=T!=null&&yN(w)&&u===!0,N=C.encodeLocation?C.encodeLocation(w).pathname:w.pathname,M=v.pathname,L=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(M=M.toLowerCase(),L=L?L.toLowerCase():null,N=N.toLowerCase()),L&&S&&(L=cs(L,S)||L);const U=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let $=M===N||!i&&M.startsWith(N)&&M.charAt(U)==="/",G=L!=null&&(L===N||!i&&L.startsWith(N)&&L.charAt(N.length)==="/"),k={isActive:$,isPending:G,isTransitioning:b},R=$?e:void 0,D;typeof r=="function"?D=r(k):D=[r,$?"active":null,G?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(k):a;return E.createElement(qs,{...h,"aria-current":R,className:D,ref:m,style:V,to:l,viewTransition:u},typeof f=="function"?f(k):f)});cN.displayName="NavLink";var uN=E.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:l=td,action:u,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:w,...v},T)=>{let C=mN(),S=gN(u,{relative:h}),b=l.toLowerCase()==="get"?"get":"post",N=typeof u=="string"&&l_.test(u),M=L=>{if(f&&f(L),L.defaultPrevented)return;L.preventDefault();let U=L.nativeEvent.submitter,$=(U==null?void 0:U.getAttribute("formmethod"))||l;C(U||L.currentTarget,{fetcherKey:e,method:$,navigate:t,replace:i,state:a,relative:h,preventScrollReset:m,viewTransition:w})};return E.createElement("form",{ref:T,method:b,action:S,onSubmit:r?f:M,...v,"data-discover":!N&&n==="render"?"true":void 0})});uN.displayName="Form";function dN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c_(n){let e=E.useContext(Ea);return mt(e,dN(n)),e}function fN(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let u=pc(),f=di(),h=mc(n,{relative:a});return E.useCallback(m=>{if(BI(m,e)){m.preventDefault();let w=t!==void 0?t:Jl(f)===Jl(h);u(n,{replace:w,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[f,u,h,t,r,e,n,i,a,l])}var hN=0,pN=()=>`__${String(++hN)}__`;function mN(){let{router:n}=c_("useSubmit"),{basename:e}=E.useContext(yr),t=kI();return E.useCallback(async(r,i={})=>{let{action:a,method:l,encType:u,formData:f,body:h}=qI(r,e);if(i.navigate===!1){let m=i.fetcherKey||pN();await n.fetch(m,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function gN(n,{relative:e}={}){let{basename:t}=E.useContext(yr),r=E.useContext(vr);mt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...mc(n||".",{relative:e})},l=di();if(n==null){a.search=l.search;let u=new URLSearchParams(a.search),f=u.getAll("index");if(f.some(m=>m==="")){u.delete("index"),f.filter(w=>w).forEach(w=>u.append("index",w));let m=u.toString();a.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ls([t,a.pathname])),Jl(a)}function yN(n,e={}){let t=E.useContext(e_);mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=c_("useViewTransitionState"),i=mc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=cs(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=cs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return md(i.pathname,l)!=null||md(i.pathname,a)!=null}[...eN];var Sa=Qx();const vN=Kx(Sa),u_=E.createContext(void 0),wN=({children:n})=>{const[e,t]=E.useState([]),[r,i]=E.useState(null),a=w=>{const v=String((w==null?void 0:w.id)??""),T={...w,id:v};t(C=>C.find(b=>String(b.id)===v)?C.map(b=>String(b.id)===v?{...b,quantity:b.quantity+1}:b):[...C,{...T,quantity:1}])},l=w=>{t(v=>v.filter(T=>String(T.id)!==String(w)))},u=(w,v)=>{if(v<=0){l(w);return}t(T=>T.map(C=>String(C.id)===String(w)?{...C,quantity:v}:C))},f=()=>{t([])},h=()=>e.reduce((w,v)=>w+v.price*v.quantity,0),m=()=>e.reduce((w,v)=>w+v.quantity,0);return g.jsx(u_.Provider,{value:{items:e,tableId:r,addToCart:a,removeFromCart:l,updateQuantity:u,clearCart:f,setTableId:i,getTotalPrice:h,getTotalItems:m},children:n})},Zm=()=>{const n=E.useContext(u_);if(n===void 0)throw new Error("useCart must be used within a CartProvider");return n},xN=()=>{};var O0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},_N=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],u=n[t++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},f_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,u=l?n[i+1]:0,f=i+2<n.length,h=f?n[i+2]:0,m=a>>2,w=(a&3)<<4|u>>4;let v=(u&15)<<2|h>>6,T=h&63;f||(T=64,l||(v=64)),r.push(t[m],t[w],t[v],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(d_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):_N(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const w=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||u==null||h==null||w==null)throw new EN;const v=a<<2|u>>4;if(r.push(v),h!==64){const T=u<<4&240|h>>2;if(r.push(T),w!==64){const C=h<<6&192|w;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class EN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CN=function(n){const e=d_(n);return f_.encodeByteArray(e,!0)},gd=function(n){return CN(n).replace(/\./g,"")},SN=function(n){try{return f_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=()=>TN().__FIREBASE_DEFAULTS__,IN=()=>{if(typeof process>"u"||typeof O0>"u")return;const n=O0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},NN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&SN(n[1]);return e&&JSON.parse(e)},eg=()=>{try{return xN()||bN()||IN()||NN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},AN=n=>{var e,t;return(t=(e=eg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},RN=n=>{const e=AN(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},h_=()=>{var n;return(n=eg())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(n){return n.endsWith(".cloudworkstations.dev")}async function kN(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[gd(JSON.stringify(t)),gd(JSON.stringify(l)),""].join(".")}const Wl={};function MN(){const n={prod:[],emulator:[]};for(const e of Object.keys(Wl))Wl[e]?n.emulator.push(e):n.prod.push(e);return n}function ON(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let j0=!1;function jN(n,e){if(typeof window>"u"||typeof document>"u"||!tg(window.location.host)||Wl[n]===e||Wl[n]||j0)return;Wl[n]=e;function t(v){return`__firebase__banner__${v}`}const r="__firebase__banner",a=MN().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,T){v.setAttribute("width","24"),v.setAttribute("id",T),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{j0=!0,l()},v}function m(v,T){v.setAttribute("id",T),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function w(){const v=ON(r),T=t("text"),C=document.getElementById(T)||document.createElement("span"),S=t("learnmore"),b=document.getElementById(S)||document.createElement("a"),N=t("preprendIcon"),M=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const L=v.element;u(L),m(b,S);const U=h();f(M,N),L.append(M,C,b,U),document.body.appendChild(L)}a?(C.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VN(){var n;const e=(n=eg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FN(){return!VN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $N(){try{return typeof indexedDB=="object"}catch{return!1}}function zN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="FirebaseError";class Ta extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=UN,Object.setPrototypeOf(this,Ta.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,p_.prototype.create)}}class p_{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?BN(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Ta(i,u,r)}}function BN(n,e){return n.replace(HN,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const HN=/\{\$([^}]+)}/g;function yd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(L0(a)&&L0(l)){if(!yd(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function L0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(n){return n&&n._delegate?n._delegate:n}class Zl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WN=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new PN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KN(e))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wi){return this.instances.has(e)}getOptions(e=Wi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qN(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wi){return this.component?this.component.multipleInstances?e:Wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qN(n){return n===Wi?void 0:n}function KN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new WN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ye||(Ye={}));const QN={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},YN=Ye.INFO,XN={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},JN=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=XN[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let m_=class{constructor(e){this.name=e,this._logLevel=YN,this._logHandler=JN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}};const ZN=(n,e)=>e.some(t=>n instanceof t);let V0,F0;function eA(){return V0||(V0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tA(){return F0||(F0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g_=new WeakMap,Dp=new WeakMap,y_=new WeakMap,ap=new WeakMap,ng=new WeakMap;function nA(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Qs(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&g_.set(t,n)}).catch(()=>{}),ng.set(e,n),e}function rA(n){if(Dp.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Dp.set(n,e)}let Mp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Dp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||y_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Qs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function sA(n){Mp=n(Mp)}function iA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(lp(this),e,...t);return y_.set(r,e.sort?e.sort():[e]),Qs(r)}:tA().includes(n)?function(...e){return n.apply(lp(this),e),Qs(g_.get(this))}:function(...e){return Qs(n.apply(lp(this),e))}}function oA(n){return typeof n=="function"?iA(n):(n instanceof IDBTransaction&&rA(n),ZN(n,eA())?new Proxy(n,Mp):n)}function Qs(n){if(n instanceof IDBRequest)return nA(n);if(ap.has(n))return ap.get(n);const e=oA(n);return e!==n&&(ap.set(n,e),ng.set(e,n)),e}const lp=n=>ng.get(n);function aA(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),u=Qs(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Qs(l.result),f.oldVersion,f.newVersion,Qs(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const lA=["get","getKey","getAll","getAllKeys","count"],cA=["put","add","delete","clear"],cp=new Map;function $0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(cp.get(e))return cp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=cA.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lA.includes(t)))return;const a=async function(l,...u){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),i&&f.done]))[0]};return cp.set(e,a),a}sA(n=>({...n,get:(e,t,r)=>$0(e,t)||n.get(e,t,r),has:(e,t)=>!!$0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(dA(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function dA(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Op="@firebase/app",z0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new m_("@firebase/app"),fA="@firebase/app-compat",hA="@firebase/analytics-compat",pA="@firebase/analytics",mA="@firebase/app-check-compat",gA="@firebase/app-check",yA="@firebase/auth",vA="@firebase/auth-compat",wA="@firebase/database",xA="@firebase/data-connect",_A="@firebase/database-compat",EA="@firebase/functions",CA="@firebase/functions-compat",SA="@firebase/installations",TA="@firebase/installations-compat",bA="@firebase/messaging",IA="@firebase/messaging-compat",NA="@firebase/performance",AA="@firebase/performance-compat",RA="@firebase/remote-config",PA="@firebase/remote-config-compat",kA="@firebase/storage",DA="@firebase/storage-compat",MA="@firebase/firestore",OA="@firebase/ai",jA="@firebase/firestore-compat",LA="firebase",VA="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="[DEFAULT]",FA={[Op]:"fire-core",[fA]:"fire-core-compat",[pA]:"fire-analytics",[hA]:"fire-analytics-compat",[gA]:"fire-app-check",[mA]:"fire-app-check-compat",[yA]:"fire-auth",[vA]:"fire-auth-compat",[wA]:"fire-rtdb",[xA]:"fire-data-connect",[_A]:"fire-rtdb-compat",[EA]:"fire-fn",[CA]:"fire-fn-compat",[SA]:"fire-iid",[TA]:"fire-iid-compat",[bA]:"fire-fcm",[IA]:"fire-fcm-compat",[NA]:"fire-perf",[AA]:"fire-perf-compat",[RA]:"fire-rc",[PA]:"fire-rc-compat",[kA]:"fire-gcs",[DA]:"fire-gcs-compat",[MA]:"fire-fst",[jA]:"fire-fst-compat",[OA]:"fire-vertex","fire-js":"fire-js",[LA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=new Map,$A=new Map,Lp=new Map;function U0(n,e){try{n.container.addComponent(e)}catch(t){us.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function wd(n){const e=n.name;if(Lp.has(e))return us.debug(`There were multiple attempts to register component ${e}.`),!1;Lp.set(e,n);for(const t of vd.values())U0(t,n);for(const t of $A.values())U0(t,n);return!0}function zA(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function UA(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ys=new p_("app","Firebase",BA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=VA;function v_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jp,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ys.create("bad-app-name",{appName:String(i)});if(t||(t=h_()),!t)throw Ys.create("no-options");const a=vd.get(i);if(a){if(yd(t,a.options)&&yd(r,a.config))return a;throw Ys.create("duplicate-app",{appName:i})}const l=new GN(i);for(const f of Lp.values())l.addComponent(f);const u=new HA(t,r,l);return vd.set(i,u),u}function qA(n=jp){const e=vd.get(n);if(!e&&n===jp&&h_())return v_();if(!e)throw Ys.create("no-app",{appName:n});return e}function oa(n,e,t){var r;let i=(r=FA[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),us.warn(u.join(" "));return}wd(new Zl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="firebase-heartbeat-database",GA=1,ec="firebase-heartbeat-store";let up=null;function w_(){return up||(up=aA(KA,GA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ec)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ys.create("idb-open",{originalErrorMessage:n.message})})),up}async function QA(n){try{const t=(await w_()).transaction(ec),r=await t.objectStore(ec).get(x_(n));return await t.done,r}catch(e){if(e instanceof Ta)us.warn(e.message);else{const t=Ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});us.warn(t.message)}}}async function B0(n,e){try{const r=(await w_()).transaction(ec,"readwrite");await r.objectStore(ec).put(e,x_(n)),await r.done}catch(t){if(t instanceof Ta)us.warn(t.message);else{const r=Ys.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});us.warn(r.message)}}}function x_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=1024,XA=30;class JA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new eR(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=H0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>XA){const l=tR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=H0(),{heartbeatsToSend:r,unsentEntries:i}=ZA(this._heartbeatsCache.heartbeats),a=gd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return us.warn(t),""}}}function H0(){return new Date().toISOString().substring(0,10)}function ZA(n,e=YA){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),W0(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),W0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class eR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $N()?zN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await QA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return B0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return B0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function W0(n){return gd(JSON.stringify({version:2,heartbeats:n})).length}function tR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(n){wd(new Zl("platform-logger",e=>new uA(e),"PRIVATE")),wd(new Zl("heartbeat",e=>new JA(e),"PRIVATE")),oa(Op,z0,n),oa(Op,z0,"esm2017"),oa("fire-js","")}nR("");var q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xs,__;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function D(){}D.prototype=R.prototype,k.D=R.prototype,k.prototype=new D,k.prototype.constructor=k,k.C=function(V,F,P){for(var j=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)j[ee-2]=arguments[ee];return R.prototype[F].apply(V,j)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,R,D){D||(D=0);var V=Array(16);if(typeof R=="string")for(var F=0;16>F;++F)V[F]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(F=0;16>F;++F)V[F]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=k.g[0],D=k.g[1],F=k.g[2];var P=k.g[3],j=R+(P^D&(F^P))+V[0]+3614090360&4294967295;R=D+(j<<7&4294967295|j>>>25),j=P+(F^R&(D^F))+V[1]+3905402710&4294967295,P=R+(j<<12&4294967295|j>>>20),j=F+(D^P&(R^D))+V[2]+606105819&4294967295,F=P+(j<<17&4294967295|j>>>15),j=D+(R^F&(P^R))+V[3]+3250441966&4294967295,D=F+(j<<22&4294967295|j>>>10),j=R+(P^D&(F^P))+V[4]+4118548399&4294967295,R=D+(j<<7&4294967295|j>>>25),j=P+(F^R&(D^F))+V[5]+1200080426&4294967295,P=R+(j<<12&4294967295|j>>>20),j=F+(D^P&(R^D))+V[6]+2821735955&4294967295,F=P+(j<<17&4294967295|j>>>15),j=D+(R^F&(P^R))+V[7]+4249261313&4294967295,D=F+(j<<22&4294967295|j>>>10),j=R+(P^D&(F^P))+V[8]+1770035416&4294967295,R=D+(j<<7&4294967295|j>>>25),j=P+(F^R&(D^F))+V[9]+2336552879&4294967295,P=R+(j<<12&4294967295|j>>>20),j=F+(D^P&(R^D))+V[10]+4294925233&4294967295,F=P+(j<<17&4294967295|j>>>15),j=D+(R^F&(P^R))+V[11]+2304563134&4294967295,D=F+(j<<22&4294967295|j>>>10),j=R+(P^D&(F^P))+V[12]+1804603682&4294967295,R=D+(j<<7&4294967295|j>>>25),j=P+(F^R&(D^F))+V[13]+4254626195&4294967295,P=R+(j<<12&4294967295|j>>>20),j=F+(D^P&(R^D))+V[14]+2792965006&4294967295,F=P+(j<<17&4294967295|j>>>15),j=D+(R^F&(P^R))+V[15]+1236535329&4294967295,D=F+(j<<22&4294967295|j>>>10),j=R+(F^P&(D^F))+V[1]+4129170786&4294967295,R=D+(j<<5&4294967295|j>>>27),j=P+(D^F&(R^D))+V[6]+3225465664&4294967295,P=R+(j<<9&4294967295|j>>>23),j=F+(R^D&(P^R))+V[11]+643717713&4294967295,F=P+(j<<14&4294967295|j>>>18),j=D+(P^R&(F^P))+V[0]+3921069994&4294967295,D=F+(j<<20&4294967295|j>>>12),j=R+(F^P&(D^F))+V[5]+3593408605&4294967295,R=D+(j<<5&4294967295|j>>>27),j=P+(D^F&(R^D))+V[10]+38016083&4294967295,P=R+(j<<9&4294967295|j>>>23),j=F+(R^D&(P^R))+V[15]+3634488961&4294967295,F=P+(j<<14&4294967295|j>>>18),j=D+(P^R&(F^P))+V[4]+3889429448&4294967295,D=F+(j<<20&4294967295|j>>>12),j=R+(F^P&(D^F))+V[9]+568446438&4294967295,R=D+(j<<5&4294967295|j>>>27),j=P+(D^F&(R^D))+V[14]+3275163606&4294967295,P=R+(j<<9&4294967295|j>>>23),j=F+(R^D&(P^R))+V[3]+4107603335&4294967295,F=P+(j<<14&4294967295|j>>>18),j=D+(P^R&(F^P))+V[8]+1163531501&4294967295,D=F+(j<<20&4294967295|j>>>12),j=R+(F^P&(D^F))+V[13]+2850285829&4294967295,R=D+(j<<5&4294967295|j>>>27),j=P+(D^F&(R^D))+V[2]+4243563512&4294967295,P=R+(j<<9&4294967295|j>>>23),j=F+(R^D&(P^R))+V[7]+1735328473&4294967295,F=P+(j<<14&4294967295|j>>>18),j=D+(P^R&(F^P))+V[12]+2368359562&4294967295,D=F+(j<<20&4294967295|j>>>12),j=R+(D^F^P)+V[5]+4294588738&4294967295,R=D+(j<<4&4294967295|j>>>28),j=P+(R^D^F)+V[8]+2272392833&4294967295,P=R+(j<<11&4294967295|j>>>21),j=F+(P^R^D)+V[11]+1839030562&4294967295,F=P+(j<<16&4294967295|j>>>16),j=D+(F^P^R)+V[14]+4259657740&4294967295,D=F+(j<<23&4294967295|j>>>9),j=R+(D^F^P)+V[1]+2763975236&4294967295,R=D+(j<<4&4294967295|j>>>28),j=P+(R^D^F)+V[4]+1272893353&4294967295,P=R+(j<<11&4294967295|j>>>21),j=F+(P^R^D)+V[7]+4139469664&4294967295,F=P+(j<<16&4294967295|j>>>16),j=D+(F^P^R)+V[10]+3200236656&4294967295,D=F+(j<<23&4294967295|j>>>9),j=R+(D^F^P)+V[13]+681279174&4294967295,R=D+(j<<4&4294967295|j>>>28),j=P+(R^D^F)+V[0]+3936430074&4294967295,P=R+(j<<11&4294967295|j>>>21),j=F+(P^R^D)+V[3]+3572445317&4294967295,F=P+(j<<16&4294967295|j>>>16),j=D+(F^P^R)+V[6]+76029189&4294967295,D=F+(j<<23&4294967295|j>>>9),j=R+(D^F^P)+V[9]+3654602809&4294967295,R=D+(j<<4&4294967295|j>>>28),j=P+(R^D^F)+V[12]+3873151461&4294967295,P=R+(j<<11&4294967295|j>>>21),j=F+(P^R^D)+V[15]+530742520&4294967295,F=P+(j<<16&4294967295|j>>>16),j=D+(F^P^R)+V[2]+3299628645&4294967295,D=F+(j<<23&4294967295|j>>>9),j=R+(F^(D|~P))+V[0]+4096336452&4294967295,R=D+(j<<6&4294967295|j>>>26),j=P+(D^(R|~F))+V[7]+1126891415&4294967295,P=R+(j<<10&4294967295|j>>>22),j=F+(R^(P|~D))+V[14]+2878612391&4294967295,F=P+(j<<15&4294967295|j>>>17),j=D+(P^(F|~R))+V[5]+4237533241&4294967295,D=F+(j<<21&4294967295|j>>>11),j=R+(F^(D|~P))+V[12]+1700485571&4294967295,R=D+(j<<6&4294967295|j>>>26),j=P+(D^(R|~F))+V[3]+2399980690&4294967295,P=R+(j<<10&4294967295|j>>>22),j=F+(R^(P|~D))+V[10]+4293915773&4294967295,F=P+(j<<15&4294967295|j>>>17),j=D+(P^(F|~R))+V[1]+2240044497&4294967295,D=F+(j<<21&4294967295|j>>>11),j=R+(F^(D|~P))+V[8]+1873313359&4294967295,R=D+(j<<6&4294967295|j>>>26),j=P+(D^(R|~F))+V[15]+4264355552&4294967295,P=R+(j<<10&4294967295|j>>>22),j=F+(R^(P|~D))+V[6]+2734768916&4294967295,F=P+(j<<15&4294967295|j>>>17),j=D+(P^(F|~R))+V[13]+1309151649&4294967295,D=F+(j<<21&4294967295|j>>>11),j=R+(F^(D|~P))+V[4]+4149444226&4294967295,R=D+(j<<6&4294967295|j>>>26),j=P+(D^(R|~F))+V[11]+3174756917&4294967295,P=R+(j<<10&4294967295|j>>>22),j=F+(R^(P|~D))+V[2]+718787259&4294967295,F=P+(j<<15&4294967295|j>>>17),j=D+(P^(F|~R))+V[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(F+(j<<21&4294967295|j>>>11))&4294967295,k.g[2]=k.g[2]+F&4294967295,k.g[3]=k.g[3]+P&4294967295}r.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var D=R-this.blockSize,V=this.B,F=this.h,P=0;P<R;){if(F==0)for(;P<=D;)i(this,k,P),P+=this.blockSize;if(typeof k=="string"){for(;P<R;)if(V[F++]=k.charCodeAt(P++),F==this.blockSize){i(this,V),F=0;break}}else for(;P<R;)if(V[F++]=k[P++],F==this.blockSize){i(this,V),F=0;break}}this.h=F,this.o+=R},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var D=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=D&255,D/=256;for(this.u(k),k=Array(16),R=D=0;4>R;++R)for(var V=0;32>V;V+=8)k[D++]=this.g[R]>>>V&255;return k};function a(k,R){var D=u;return Object.prototype.hasOwnProperty.call(D,k)?D[k]:D[k]=R(k)}function l(k,R){this.h=R;for(var D=[],V=!0,F=k.length-1;0<=F;F--){var P=k[F]|0;V&&P==R||(D[F]=P,V=!1)}this.g=D}var u={};function f(k){return-128<=k&&128>k?a(k,function(R){return new l([R|0],0>R?-1:0)}):new l([k|0],0>k?-1:0)}function h(k){if(isNaN(k)||!isFinite(k))return w;if(0>k)return b(h(-k));for(var R=[],D=1,V=0;k>=D;V++)R[V]=k/D|0,D*=4294967296;return new l(R,0)}function m(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return b(m(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=h(Math.pow(R,8)),V=w,F=0;F<k.length;F+=8){var P=Math.min(8,k.length-F),j=parseInt(k.substring(F,F+P),R);8>P?(P=h(Math.pow(R,P)),V=V.j(P).add(h(j))):(V=V.j(D),V=V.add(h(j)))}return V}var w=f(0),v=f(1),T=f(16777216);n=l.prototype,n.m=function(){if(S(this))return-b(this).m();for(var k=0,R=1,D=0;D<this.g.length;D++){var V=this.i(D);k+=(0<=V?V:4294967296+V)*R,R*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(C(this))return"0";if(S(this))return"-"+b(this).toString(k);for(var R=h(Math.pow(k,6)),D=this,V="";;){var F=U(D,R).g;D=N(D,F.j(R));var P=((0<D.g.length?D.g[0]:D.h)>>>0).toString(k);if(D=F,C(D))return P+V;for(;6>P.length;)P="0"+P;V=P+V}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function C(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function S(k){return k.h==-1}n.l=function(k){return k=N(this,k),S(k)?-1:C(k)?0:1};function b(k){for(var R=k.g.length,D=[],V=0;V<R;V++)D[V]=~k.g[V];return new l(D,~k.h).add(v)}n.abs=function(){return S(this)?b(this):this},n.add=function(k){for(var R=Math.max(this.g.length,k.g.length),D=[],V=0,F=0;F<=R;F++){var P=V+(this.i(F)&65535)+(k.i(F)&65535),j=(P>>>16)+(this.i(F)>>>16)+(k.i(F)>>>16);V=j>>>16,P&=65535,j&=65535,D[F]=j<<16|P}return new l(D,D[D.length-1]&-2147483648?-1:0)};function N(k,R){return k.add(b(R))}n.j=function(k){if(C(this)||C(k))return w;if(S(this))return S(k)?b(this).j(b(k)):b(b(this).j(k));if(S(k))return b(this.j(b(k)));if(0>this.l(T)&&0>k.l(T))return h(this.m()*k.m());for(var R=this.g.length+k.g.length,D=[],V=0;V<2*R;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(var F=0;F<k.g.length;F++){var P=this.i(V)>>>16,j=this.i(V)&65535,ee=k.i(F)>>>16,te=k.i(F)&65535;D[2*V+2*F]+=j*te,M(D,2*V+2*F),D[2*V+2*F+1]+=P*te,M(D,2*V+2*F+1),D[2*V+2*F+1]+=j*ee,M(D,2*V+2*F+1),D[2*V+2*F+2]+=P*ee,M(D,2*V+2*F+2)}for(V=0;V<R;V++)D[V]=D[2*V+1]<<16|D[2*V];for(V=R;V<2*R;V++)D[V]=0;return new l(D,0)};function M(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function L(k,R){this.g=k,this.h=R}function U(k,R){if(C(R))throw Error("division by zero");if(C(k))return new L(w,w);if(S(k))return R=U(b(k),R),new L(b(R.g),b(R.h));if(S(R))return R=U(k,b(R)),new L(b(R.g),R.h);if(30<k.g.length){if(S(k)||S(R))throw Error("slowDivide_ only works with positive integers.");for(var D=v,V=R;0>=V.l(k);)D=$(D),V=$(V);var F=G(D,1),P=G(V,1);for(V=G(V,2),D=G(D,2);!C(V);){var j=P.add(V);0>=j.l(k)&&(F=F.add(D),P=j),V=G(V,1),D=G(D,1)}return R=N(k,F.j(R)),new L(F,R)}for(F=w;0<=k.l(R);){for(D=Math.max(1,Math.floor(k.m()/R.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),P=h(D),j=P.j(R);S(j)||0<j.l(k);)D-=V,P=h(D),j=P.j(R);C(P)&&(P=v),F=F.add(P),k=N(k,j)}return new L(F,k)}n.A=function(k){return U(this,k).h},n.and=function(k){for(var R=Math.max(this.g.length,k.g.length),D=[],V=0;V<R;V++)D[V]=this.i(V)&k.i(V);return new l(D,this.h&k.h)},n.or=function(k){for(var R=Math.max(this.g.length,k.g.length),D=[],V=0;V<R;V++)D[V]=this.i(V)|k.i(V);return new l(D,this.h|k.h)},n.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),D=[],V=0;V<R;V++)D[V]=this.i(V)^k.i(V);return new l(D,this.h^k.h)};function $(k){for(var R=k.g.length+1,D=[],V=0;V<R;V++)D[V]=k.i(V)<<1|k.i(V-1)>>>31;return new l(D,k.h)}function G(k,R){var D=R>>5;R%=32;for(var V=k.g.length-D,F=[],P=0;P<V;P++)F[P]=0<R?k.i(P+D)>>>R|k.i(P+D+1)<<32-R:k.i(P+D);return new l(F,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,__=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,Xs=l}).apply(typeof q0<"u"?q0:typeof self<"u"?self:typeof window<"u"?window:{});var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E_,Ml,C_,rd,Vp,S_,T_,b_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,x,I){return d==Array.prototype||d==Object.prototype||(d[x]=I.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof zu=="object"&&zu];for(var x=0;x<d.length;++x){var I=d[x];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=t(this);function i(d,x){if(x)e:{var I=r;d=d.split(".");for(var O=0;O<d.length-1;O++){var q=d[O];if(!(q in I))break e;I=I[q]}d=d[d.length-1],O=I[d],x=x(O),x!=O&&x!=null&&e(I,d,{configurable:!0,writable:!0,value:x})}}function a(d,x){d instanceof String&&(d+="");var I=0,O=!1,q={next:function(){if(!O&&I<d.length){var J=I++;return{value:x(J,d[J]),done:!1}}return O=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(d){return d||function(){return a(this,function(x,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(d){var x=typeof d;return x=x!="object"?x:d?Array.isArray(d)?"array":x:"null",x=="array"||x=="object"&&typeof d.length=="number"}function h(d){var x=typeof d;return x=="object"&&d!=null||x=="function"}function m(d,x,I){return d.call.apply(d.bind,arguments)}function w(d,x,I){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,O),d.apply(x,q)}}return function(){return d.apply(x,arguments)}}function v(d,x,I){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:w,v.apply(null,arguments)}function T(d,x){var I=Array.prototype.slice.call(arguments,1);return function(){var O=I.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function C(d,x){function I(){}I.prototype=x.prototype,d.aa=x.prototype,d.prototype=new I,d.prototype.constructor=d,d.Qb=function(O,q,J){for(var pe=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)pe[nt-2]=arguments[nt];return x.prototype[q].apply(O,pe)}}function S(d){const x=d.length;if(0<x){const I=Array(x);for(let O=0;O<x;O++)I[O]=d[O];return I}return[]}function b(d,x){for(let I=1;I<arguments.length;I++){const O=arguments[I];if(f(O)){const q=d.length||0,J=O.length||0;d.length=q+J;for(let pe=0;pe<J;pe++)d[q+pe]=O[pe]}else d.push(O)}}class N{constructor(x,I){this.i=x,this.j=I,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function M(d){return/^[\s\xa0]*$/.test(d)}function L(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function U(d){return U[" "](d),d}U[" "]=function(){};var $=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function G(d,x,I){for(const O in d)x.call(I,d[O],O,d)}function k(d,x){for(const I in d)x.call(void 0,d[I],I,d)}function R(d){const x={};for(const I in d)x[I]=d[I];return x}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(d,x){let I,O;for(let q=1;q<arguments.length;q++){O=arguments[q];for(I in O)d[I]=O[I];for(let J=0;J<D.length;J++)I=D[J],Object.prototype.hasOwnProperty.call(O,I)&&(d[I]=O[I])}}function F(d){var x=1;d=d.split(":");const I=[];for(;0<x&&d.length;)I.push(d.shift()),x--;return d.length&&I.push(d.join(":")),I}function P(d){u.setTimeout(()=>{throw d},0)}function j(){var d=ne;let x=null;return d.g&&(x=d.g,d.g=d.g.next,d.g||(d.h=null),x.next=null),x}class ee{constructor(){this.h=this.g=null}add(x,I){const O=te.get();O.set(x,I),this.h?this.h.next=O:this.g=O,this.h=O}}var te=new N(()=>new re,d=>d.reset());class re{constructor(){this.next=this.g=this.h=null}set(x,I){this.h=x,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,Y=!1,ne=new ee,le=()=>{const d=u.Promise.resolve(void 0);ue=()=>{d.then(B)}};var B=()=>{for(var d;d=j();){try{d.h.call(d.g)}catch(I){P(I)}var x=te;x.j(d),100>x.h&&(x.h++,d.next=x.g,x.g=d)}Y=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(d,x){this.type=d,this.g=this.target=x,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,x=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const I=()=>{};u.addEventListener("test",I,x),u.removeEventListener("test",I,x)}catch{}return d}();function Se(d,x){if(de.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var I=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=x,x=d.relatedTarget){if($){e:{try{U(x.nodeName);var q=!0;break e}catch{}q=!1}q||(x=null)}}else I=="mouseover"?x=d.fromElement:I=="mouseout"&&(x=d.toElement);this.relatedTarget=x,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ae[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Se.aa.h.call(this)}}C(Se,de);var Ae={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),ve=0;function De(d,x,I,O,q){this.listener=d,this.proxy=null,this.src=x,this.type=I,this.capture=!!O,this.ha=q,this.key=++ve,this.da=this.fa=!1}function me(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Re(d){this.src=d,this.g={},this.h=0}Re.prototype.add=function(d,x,I,O,q){var J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);var pe=wt(d,x,O,q);return-1<pe?(x=d[pe],I||(x.fa=!1)):(x=new De(x,this.src,J,!!O,q),x.fa=I,d.push(x)),x};function qe(d,x){var I=x.type;if(I in d.g){var O=d.g[I],q=Array.prototype.indexOf.call(O,x,void 0),J;(J=0<=q)&&Array.prototype.splice.call(O,q,1),J&&(me(x),d.g[I].length==0&&(delete d.g[I],d.h--))}}function wt(d,x,I,O){for(var q=0;q<d.length;++q){var J=d[q];if(!J.da&&J.listener==x&&J.capture==!!I&&J.ha==O)return q}return-1}var Ot="closure_lm_"+(1e6*Math.random()|0),kn={};function qn(d,x,I,O,q){if(Array.isArray(x)){for(var J=0;J<x.length;J++)qn(d,x[J],I,O,q);return null}return I=La(I),d&&d[fe]?d.K(x,I,h(O)?!!O.capture:!1,q):Kn(d,x,I,!1,O,q)}function Kn(d,x,I,O,q,J){if(!x)throw Error("Invalid event type");var pe=h(q)?!!q.capture:!!q,nt=ao(d);if(nt||(d[Ot]=nt=new Re(d)),I=nt.add(x,I,O,pe,J),I.proxy)return I;if(O=oo(),I.proxy=O,O.src=d,O.listener=I,d.addEventListener)ge||(q=pe),q===void 0&&(q=!1),d.addEventListener(x.toString(),O,q);else if(d.attachEvent)d.attachEvent(Br(x.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return I}function oo(){function d(I){return x.call(d.src,d.listener,I)}const x=ja;return d}function Gn(d,x,I,O,q){if(Array.isArray(x))for(var J=0;J<x.length;J++)Gn(d,x[J],I,O,q);else O=h(O)?!!O.capture:!!O,I=La(I),d&&d[fe]?(d=d.i,x=String(x).toString(),x in d.g&&(J=d.g[x],I=wt(J,I,O,q),-1<I&&(me(J[I]),Array.prototype.splice.call(J,I,1),J.length==0&&(delete d.g[x],d.h--)))):d&&(d=ao(d))&&(x=d.g[x.toString()],d=-1,x&&(d=wt(x,I,O,q)),(I=-1<d?x[d]:null)&&Ur(I))}function Ur(d){if(typeof d!="number"&&d&&!d.da){var x=d.src;if(x&&x[fe])qe(x.i,d);else{var I=d.type,O=d.proxy;x.removeEventListener?x.removeEventListener(I,O,d.capture):x.detachEvent?x.detachEvent(Br(I),O):x.addListener&&x.removeListener&&x.removeListener(O),(I=ao(x))?(qe(I,d),I.h==0&&(I.src=null,x[Ot]=null)):me(d)}}}function Br(d){return d in kn?kn[d]:kn[d]="on"+d}function ja(d,x){if(d.da)d=!0;else{x=new Se(x,this);var I=d.listener,O=d.ha||d.src;d.fa&&Ur(d),d=I.call(O,x)}return d}function ao(d){return d=d[Ot],d instanceof Re?d:null}var lo="__closure_events_fn_"+(1e9*Math.random()>>>0);function La(d){return typeof d=="function"?d:(d[lo]||(d[lo]=function(x){return d.handleEvent(x)}),d[lo])}function At(){Z.call(this),this.i=new Re(this),this.M=this,this.F=null}C(At,Z),At.prototype[fe]=!0,At.prototype.removeEventListener=function(d,x,I,O){Gn(this,d,x,I,O)};function Rt(d,x){var I,O=d.F;if(O)for(I=[];O;O=O.F)I.push(O);if(d=d.M,O=x.type||x,typeof x=="string")x=new de(x,d);else if(x instanceof de)x.target=x.target||d;else{var q=x;x=new de(O,d),V(x,q)}if(q=!0,I)for(var J=I.length-1;0<=J;J--){var pe=x.g=I[J];q=Hr(pe,O,!0,x)&&q}if(pe=x.g=d,q=Hr(pe,O,!0,x)&&q,q=Hr(pe,O,!1,x)&&q,I)for(J=0;J<I.length;J++)pe=x.g=I[J],q=Hr(pe,O,!1,x)&&q}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var d=this.i,x;for(x in d.g){for(var I=d.g[x],O=0;O<I.length;O++)me(I[O]);delete d.g[x],d.h--}}this.F=null},At.prototype.K=function(d,x,I,O){return this.i.add(String(d),x,!1,I,O)},At.prototype.L=function(d,x,I,O){return this.i.add(String(d),x,!0,I,O)};function Hr(d,x,I,O){if(x=d.i.g[String(x)],!x)return!0;x=x.concat();for(var q=!0,J=0;J<x.length;++J){var pe=x[J];if(pe&&!pe.da&&pe.capture==I){var nt=pe.listener,Pt=pe.ha||pe.src;pe.fa&&qe(d.i,pe),q=nt.call(Pt,O)!==!1&&q}}return q&&!O.defaultPrevented}function Va(d,x,I){if(typeof d=="function")I&&(d=v(d,I));else if(d&&typeof d.handleEvent=="function")d=v(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:u.setTimeout(d,x||0)}function gs(d){d.g=Va(()=>{d.g=null,d.i&&(d.i=!1,gs(d))},d.l);const x=d.h;d.h=null,d.m.apply(null,x)}class vi extends Z{constructor(x,I){super(),this.m=x,this.l=I,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:gs(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wi(d){Z.call(this),this.h=d,this.g={}}C(wi,Z);var Fa=[];function $a(d){G(d.g,function(x,I){this.g.hasOwnProperty(I)&&Ur(x)},d),d.g={}}wi.prototype.N=function(){wi.aa.N.call(this),$a(this)},wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var za=u.JSON.stringify,Ua=u.JSON.parse,Ba=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function xi(){}xi.prototype.h=null;function co(d){return d.h||(d.h=d.i())}function uo(){}var Dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){de.call(this,"d")}C(xr,de);function fo(){de.call(this,"c")}C(fo,de);var _r={},Ha=null;function _i(){return Ha=Ha||new At}_r.La="serverreachability";function Wa(d){de.call(this,_r.La,d)}C(Wa,de);function Wr(d){const x=_i();Rt(x,new Wa(x))}_r.STAT_EVENT="statevent";function qa(d,x){de.call(this,_r.STAT_EVENT,d),this.stat=x}C(qa,de);function Et(d){const x=_i();Rt(x,new qa(x,d))}_r.Ma="timingevent";function ho(d,x){de.call(this,_r.Ma,d),this.size=x}C(ho,de);function Qn(d,x){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},x)}function Ei(){this.g=!0}Ei.prototype.xa=function(){this.g=!1};function Ci(d,x,I,O,q,J){d.info(function(){if(d.g)if(J)for(var pe="",nt=J.split("&"),Pt=0;Pt<nt.length;Pt++){var Ge=nt[Pt].split("=");if(1<Ge.length){var jt=Ge[0];Ge=Ge[1];var Tt=jt.split("_");pe=2<=Tt.length&&Tt[1]=="type"?pe+(jt+"="+Ge+"&"):pe+(jt+"=redacted&")}}else pe=null;else pe=J;return"XMLHTTP REQ ("+O+") [attempt "+q+"]: "+x+`
`+I+`
`+pe})}function po(d,x,I,O,q,J,pe){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+q+"]: "+x+`
`+I+`
`+J+" "+pe})}function Yn(d,x,I,O){d.info(function(){return"XMLHTTP TEXT ("+x+"): "+Nf(d,I)+(O?" "+O:"")})}function Ka(d,x){d.info(function(){return"TIMEOUT: "+x})}Ei.prototype.info=function(){};function Nf(d,x){if(!d.g)return x;if(!x)return null;try{var I=JSON.parse(x);if(I){for(d=0;d<I.length;d++)if(Array.isArray(I[d])){var O=I[d];if(!(2>O.length)){var q=O[1];if(Array.isArray(q)&&!(1>q.length)){var J=q[0];if(J!="noop"&&J!="stop"&&J!="close")for(var pe=1;pe<q.length;pe++)q[pe]=""}}}}return za(I)}catch{return x}}var mo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Tc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function Si(){}C(Si,xi),Si.prototype.g=function(){return new XMLHttpRequest},Si.prototype.i=function(){return{}},Xn=new Si;function Jn(d,x,I,O){this.j=d,this.i=x,this.l=I,this.R=O||1,this.U=new wi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bc}function bc(){this.i=null,this.g="",this.h=!1}var Ga={},go={};function yo(d,x,I){d.L=1,d.v=_s(Cn(x)),d.m=I,d.P=!0,Qa(d,null)}function Qa(d,x){d.F=Date.now(),it(d),d.A=Cn(d.v);var I=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),Cs(I.i,"t",O),d.C=0,I=d.j.J,d.h=new bc,d.g=Hc(d.j,I?x:null,!d.m),0<d.O&&(d.M=new vi(v(d.Y,d,d.g),d.O)),x=d.U,I=d.g,O=d.ca;var q="readystatechange";Array.isArray(q)||(q&&(Fa[0]=q.toString()),q=Fa);for(var J=0;J<q.length;J++){var pe=qn(I,q[J],O||x.handleEvent,!1,x.h||x);if(!pe)break;x.g[pe.key]=pe}x=d.H?R(d.H):{},d.m?(d.u||(d.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,x)):(d.u="GET",d.g.ea(d.A,d.u,null,x)),Wr(),Ci(d.i,d.u,d.A,d.l,d.R,d.m)}Jn.prototype.ca=function(d){d=d.target;const x=this.M;x&&un(d)==3?x.j():this.Y(d)},Jn.prototype.Y=function(d){try{if(d==this.g)e:{const Tt=un(this.g);var x=this.g.Ba();const jn=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||tl(this.g)))){this.J||Tt!=4||x==7||(x==8||0>=jn?Wr(3):Wr(2)),Ti(this);var I=this.g.Z();this.X=I;t:if(Ic(this)){var O=tl(this.g);d="";var q=O.length,J=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),ys(this);var pe="";break t}this.h.i=new u.TextDecoder}for(x=0;x<q;x++)this.h.h=!0,d+=this.h.i.decode(O[x],{stream:!(J&&x==q-1)});O.length=0,this.h.g+=d,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=I==200,po(this.i,this.u,this.A,this.l,this.R,Tt,I),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,Pt=this.g;if((nt=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(nt)){var Ge=nt;break t}}Ge=null}if(I=Ge)Yn(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ya(this,I);else{this.o=!1,this.s=3,Et(12),Mn(this),ys(this);break e}}if(this.P){I=!0;let Tn;for(;!this.J&&this.C<pe.length;)if(Tn=Af(this,pe),Tn==go){Tt==4&&(this.s=4,Et(14),I=!1),Yn(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==Ga){this.s=4,Et(15),Yn(this.i,this.l,pe,"[Invalid Chunk]"),I=!1;break}else Yn(this.i,this.l,Tn,null),Ya(this,Tn);if(Ic(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||pe.length!=0||this.h.h||(this.s=1,Et(16),I=!1),this.o=this.o&&I,!I)Yn(this.i,this.l,pe,"[Invalid Chunked Response]"),Mn(this),ys(this);else if(0<pe.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),rl(jt),jt.M=!0,Et(11))}}else Yn(this.i,this.l,pe,null),Ya(this,pe);Tt==4&&Mn(this),this.o&&!this.J&&(Tt==4?No(this.j,this):(this.o=!1,it(this)))}else Co(this.g),I==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),Mn(this),ys(this)}}}catch{}finally{}};function Ic(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Af(d,x){var I=d.C,O=x.indexOf(`
`,I);return O==-1?go:(I=Number(x.substring(I,O)),isNaN(I)?Ga:(O+=1,O+I>x.length?go:(x=x.slice(O,O+I),d.C=O+I,x)))}Jn.prototype.cancel=function(){this.J=!0,Mn(this)};function it(d){d.S=Date.now()+d.I,Nc(d,d.I)}function Nc(d,x){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Qn(v(d.ba,d),x)}function Ti(d){d.B&&(u.clearTimeout(d.B),d.B=null)}Jn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ka(this.i,this.A),this.L!=2&&(Wr(),Et(17)),Mn(this),this.s=2,ys(this)):Nc(this,this.S-d)};function ys(d){d.j.G==0||d.J||No(d.j,d)}function Mn(d){Ti(d);var x=d.M;x&&typeof x.ma=="function"&&x.ma(),d.M=null,$a(d.U),d.g&&(x=d.g,d.g=null,x.abort(),x.ma())}function Ya(d,x){try{var I=d.j;if(I.G!=0&&(I.g==d||sn(I.h,d))){if(!d.K&&sn(I.h,d)&&I.G==3){try{var O=I.Da.g.parse(x)}catch{O=null}if(Array.isArray(O)&&O.length==3){var q=O;if(q[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<d.F)Io(I),rr(I);else break e;bo(I),Et(18)}}else I.za=q[1],0<I.za-I.T&&37500>q[2]&&I.F&&I.v==0&&!I.C&&(I.C=Qn(v(I.Za,I),6e3));if(1>=Rc(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Yr(I,11)}else if((d.K||I.g==d)&&Io(I),!M(x))for(q=I.Da.g.parse(x),x=0;x<q.length;x++){let Ge=q[x];if(I.T=Ge[0],Ge=Ge[1],I.G==2)if(Ge[0]=="c"){I.K=Ge[1],I.ia=Ge[2];const jt=Ge[3];jt!=null&&(I.la=jt,I.j.info("VER="+I.la));const Tt=Ge[4];Tt!=null&&(I.Aa=Tt,I.j.info("SVER="+I.Aa));const jn=Ge[5];jn!=null&&typeof jn=="number"&&0<jn&&(O=1.5*jn,I.L=O,I.j.info("backChannelRequestTimeoutMs_="+O)),O=I;const Tn=d.g;if(Tn){const ki=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ki){var J=O.h;J.g||ki.indexOf("spdy")==-1&&ki.indexOf("quic")==-1&&ki.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Xa(J,J.h),J.h=null))}if(O.D){const Ro=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ro&&(O.ya=Ro,rt(O.I,O.D,Ro))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-d.F,I.j.info("Handshake RTT: "+I.R+"ms")),O=I;var pe=d;if(O.qa=Bc(O,O.J?O.ia:null,O.W),pe.K){Pc(O.h,pe);var nt=pe,Pt=O.L;Pt&&(nt.I=Pt),nt.B&&(Ti(nt),it(nt)),O.g=pe}else Pi(O);0<I.i.length&&Tr(I)}else Ge[0]!="stop"&&Ge[0]!="close"||Yr(I,7);else I.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Yr(I,7):Ut(I):Ge[0]!="noop"&&I.l&&I.l.ta(Ge),I.v=0)}}Wr(4)}catch{}}var Ac=class{constructor(d,x){this.g=d,this.map=x}};function bi(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function En(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Rc(d){return d.h?1:d.g?d.g.size:0}function sn(d,x){return d.h?d.h==x:d.g?d.g.has(x):!1}function Xa(d,x){d.g?d.g.add(x):d.h=x}function Pc(d,x){d.h&&d.h==x?d.h=null:d.g&&d.g.has(x)&&d.g.delete(x)}bi.prototype.cancel=function(){if(this.i=kc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function kc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let x=d.i;for(const I of d.g.values())x=x.concat(I.D);return x}return S(d.i)}function vo(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var x=[],I=d.length,O=0;O<I;O++)x.push(d[O]);return x}x=[],I=0;for(O in d)x[I++]=d[O];return x}function wo(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var x=[];d=d.length;for(var I=0;I<d;I++)x.push(I);return x}x=[],I=0;for(const O in d)x[I++]=O;return x}}}function vs(d,x){if(d.forEach&&typeof d.forEach=="function")d.forEach(x,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,x,void 0);else for(var I=wo(d),O=vo(d),q=O.length,J=0;J<q;J++)x.call(void 0,O[J],I&&I[J],d)}var Ii=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rf(d,x){if(d){d=d.split("&");for(var I=0;I<d.length;I++){var O=d[I].indexOf("="),q=null;if(0<=O){var J=d[I].substring(0,O);q=d[I].substring(O+1)}else J=d[I];x(J,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function qr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof qr){this.h=d.h,Ni(this,d.j),this.o=d.o,this.g=d.g,ws(this,d.s),this.l=d.l;var x=d.i,I=new Er;I.i=x.i,x.g&&(I.g=new Map(x.g),I.h=x.h),xs(this,I),this.m=d.m}else d&&(x=String(d).match(Ii))?(this.h=!1,Ni(this,x[1]||"",!0),this.o=Ke(x[2]||""),this.g=Ke(x[3]||"",!0),ws(this,x[4]),this.l=Ke(x[5]||"",!0),xs(this,x[6]||"",!0),this.m=Ke(x[7]||"")):(this.h=!1,this.i=new Er(null,this.h))}qr.prototype.toString=function(){var d=[],x=this.j;x&&d.push(Es(x,xo,!0),":");var I=this.g;return(I||x=="file")&&(d.push("//"),(x=this.o)&&d.push(Es(x,xo,!0),"@"),d.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&d.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&d.push("/"),d.push(Es(I,I.charAt(0)=="/"?Oc:Mc,!0))),(I=this.i.toString())&&d.push("?",I),(I=this.m)&&d.push("#",Es(I,Ja)),d.join("")};function Cn(d){return new qr(d)}function Ni(d,x,I){d.j=I?Ke(x,!0):x,d.j&&(d.j=d.j.replace(/:$/,""))}function ws(d,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);d.s=x}else d.s=null}function xs(d,x,I){x instanceof Er?(d.i=x,Cr(d.i,d.h)):(I||(x=Es(x,jc)),d.i=new Er(x,d.h))}function rt(d,x,I){d.i.set(x,I)}function _s(d){return rt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ke(d,x){return d?x?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Es(d,x,I){return typeof d=="string"?(d=encodeURI(d).replace(x,Dc),I&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Dc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var xo=/[#\/\?@]/g,Mc=/[#\?:]/g,Oc=/[#\?]/g,jc=/[#\?@]/g,Ja=/#/g;function Er(d,x){this.h=this.g=null,this.i=d||null,this.j=!!x}function zt(d){d.g||(d.g=new Map,d.h=0,d.i&&Rf(d.i,function(x,I){d.add(decodeURIComponent(x.replace(/\+/g," ")),I)}))}n=Er.prototype,n.add=function(d,x){zt(this),this.i=null,d=On(this,d);var I=this.g.get(d);return I||this.g.set(d,I=[]),I.push(x),this.h+=1,this};function Zn(d,x){zt(d),x=On(d,x),d.g.has(x)&&(d.i=null,d.h-=d.g.get(x).length,d.g.delete(x))}function er(d,x){return zt(d),x=On(d,x),d.g.has(x)}n.forEach=function(d,x){zt(this),this.g.forEach(function(I,O){I.forEach(function(q){d.call(x,q,O,this)},this)},this)},n.na=function(){zt(this);const d=Array.from(this.g.values()),x=Array.from(this.g.keys()),I=[];for(let O=0;O<x.length;O++){const q=d[O];for(let J=0;J<q.length;J++)I.push(x[O])}return I},n.V=function(d){zt(this);let x=[];if(typeof d=="string")er(this,d)&&(x=x.concat(this.g.get(On(this,d))));else{d=Array.from(this.g.values());for(let I=0;I<d.length;I++)x=x.concat(d[I])}return x},n.set=function(d,x){return zt(this),this.i=null,d=On(this,d),er(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[x]),this.h+=1,this},n.get=function(d,x){return d?(d=this.V(d),0<d.length?String(d[0]):x):x};function Cs(d,x,I){Zn(d,x),0<I.length&&(d.i=null,d.g.set(On(d,x),S(I)),d.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],x=Array.from(this.g.keys());for(var I=0;I<x.length;I++){var O=x[I];const J=encodeURIComponent(String(O)),pe=this.V(O);for(O=0;O<pe.length;O++){var q=J;pe[O]!==""&&(q+="="+encodeURIComponent(String(pe[O]))),d.push(q)}}return this.i=d.join("&")};function On(d,x){return x=String(x),d.j&&(x=x.toLowerCase()),x}function Cr(d,x){x&&!d.j&&(zt(d),d.i=null,d.g.forEach(function(I,O){var q=O.toLowerCase();O!=q&&(Zn(this,O),Cs(this,q,I))},d)),d.j=x}function Pf(d,x){const I=new Ei;if(u.Image){const O=new Image;O.onload=T(cn,I,"TestLoadImage: loaded",!0,x,O),O.onerror=T(cn,I,"TestLoadImage: error",!1,x,O),O.onabort=T(cn,I,"TestLoadImage: abort",!1,x,O),O.ontimeout=T(cn,I,"TestLoadImage: timeout",!1,x,O),u.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else x(!1)}function Lc(d,x){const I=new Ei,O=new AbortController,q=setTimeout(()=>{O.abort(),cn(I,"TestPingServer: timeout",!1,x)},1e4);fetch(d,{signal:O.signal}).then(J=>{clearTimeout(q),J.ok?cn(I,"TestPingServer: ok",!0,x):cn(I,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(q),cn(I,"TestPingServer: error",!1,x)})}function cn(d,x,I,O,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),O(I)}catch{}}function kf(){this.g=new Ba}function Vc(d,x,I){const O=I||"";try{vs(d,function(q,J){let pe=q;h(q)&&(pe=za(q)),x.push(O+J+"="+encodeURIComponent(pe))})}catch(q){throw x.push(O+"type="+encodeURIComponent("_badmap")),q}}function Kr(d){this.l=d.Ub||null,this.j=d.eb||!1}C(Kr,xi),Kr.prototype.g=function(){return new Ai(this.l,this.j)},Kr.prototype.i=function(d){return function(){return d}}({});function Ai(d,x){At.call(this),this.D=d,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ai,At),n=Ai.prototype,n.open=function(d,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=x,this.readyState=1,nr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(x.body=d),(this.D||u).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,nr(this)),this.g&&(this.readyState=3,nr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var x=d.value?d.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!d.done}))&&(this.response=this.responseText+=x)}d.done?tr(this):nr(this),this.readyState==3&&Fc(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,tr(this))},n.Qa=function(d){this.g&&(this.response=d,tr(this))},n.ga=function(){this.g&&tr(this)};function tr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,nr(d)}n.setRequestHeader=function(d,x){this.u.append(d,x)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],x=this.h.entries();for(var I=x.next();!I.done;)I=I.value,d.push(I[0]+": "+I[1]),I=x.next();return d.join(`\r
`)};function nr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Gr(d){let x="";return G(d,function(I,O){x+=O,x+=":",x+=I,x+=`\r
`}),x}function Ss(d,x,I){e:{for(O in I){var O=!1;break e}O=!0}O||(I=Gr(I),typeof d=="string"?I!=null&&encodeURIComponent(String(I)):rt(d,x,I))}function ht(d){At.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(ht,At);var Df=/^https?$/i,Za=["POST","PUT"];n=ht.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,x,I,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);x=x?x.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?co(this.o):co(Xn),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(x,String(d),!0),this.B=!1}catch(J){Ri(this,J);return}if(d=I||"",I=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var q in O)I.set(q,O[q]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const J of O.keys())I.set(J,O.get(J));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(I.keys()).find(J=>J.toLowerCase()=="content-type"),q=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Za,x,void 0))||O||q||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,pe]of I)this.g.setRequestHeader(J,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Eo(this),this.u=!0,this.g.send(d),this.u=!1}catch(J){Ri(this,J)}};function Ri(d,x){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=x,d.m=5,_o(d),Sn(d)}function _o(d){d.A||(d.A=!0,Rt(d,"complete"),Rt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Rt(this,"complete"),Rt(this,"abort"),Sn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sn(this,!0)),ht.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?el(this):this.bb())},n.bb=function(){el(this)};function el(d){if(d.h&&typeof l<"u"&&(!d.v[1]||un(d)!=4||d.Z()!=2)){if(d.u&&un(d)==4)Va(d.Ea,0,d);else if(Rt(d,"readystatechange"),un(d)==4){d.h=!1;try{const pe=d.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var I;if(!(I=x)){var O;if(O=pe===0){var q=String(d.D).match(Ii)[1]||null;!q&&u.self&&u.self.location&&(q=u.self.location.protocol.slice(0,-1)),O=!Df.test(q?q.toLowerCase():"")}I=O}if(I)Rt(d,"complete"),Rt(d,"success");else{d.m=6;try{var J=2<un(d)?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.Z()+"]",_o(d)}}finally{Sn(d)}}}}function Sn(d,x){if(d.g){Eo(d);const I=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,x||Rt(d,"ready");try{I.onreadystatechange=O}catch{}}}function Eo(d){d.I&&(u.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function un(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var x=this.g.responseText;return d&&x.indexOf(d)==0&&(x=x.substring(d.length)),Ua(x)}};function tl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Co(d){const x={};d=(d.g&&2<=un(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(M(d[O]))continue;var I=F(d[O]);const q=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const J=x[q]||[];x[q]=J,J.push(I)}k(x,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sr(d,x,I){return I&&I.internalChannelParams&&I.internalChannelParams[d]||x}function nl(d){this.Aa=0,this.i=[],this.j=new Ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sr("baseRetryDelayMs",5e3,d),this.cb=Sr("retryDelaySeedMs",1e4,d),this.Wa=Sr("forwardChannelMaxRetries",2,d),this.wa=Sr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new bi(d&&d.concurrentRequestLimit),this.Da=new kf,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=nl.prototype,n.la=8,n.G=1,n.connect=function(d,x,I,O){Et(0),this.W=d,this.H=x||{},I&&O!==void 0&&(this.H.OSID=I,this.H.OAID=O),this.F=this.X,this.I=Bc(this,null,this.W),Tr(this)};function Ut(d){if(So(d),d.G==3){var x=d.U++,I=Cn(d.I);if(rt(I,"SID",d.K),rt(I,"RID",x),rt(I,"TYPE","terminate"),Qr(d,I),x=new Jn(d,d.j,x),x.L=2,x.v=_s(Cn(I)),I=!1,u.navigator&&u.navigator.sendBeacon)try{I=u.navigator.sendBeacon(x.v.toString(),"")}catch{}!I&&u.Image&&(new Image().src=x.v,I=!0),I||(x.g=Hc(x.j,null),x.g.ea(x.v)),x.F=Date.now(),it(x)}Uc(d)}function rr(d){d.g&&(rl(d),d.g.cancel(),d.g=null)}function So(d){rr(d),d.u&&(u.clearTimeout(d.u),d.u=null),Io(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function Tr(d){if(!En(d.h)&&!d.s){d.s=!0;var x=d.Ga;ue||le(),Y||(ue(),Y=!0),ne.add(x,d),d.B=0}}function Mf(d,x){return Rc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=x.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Qn(v(d.Ga,d,x),zc(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const q=new Jn(this,this.j,d);let J=this.o;if(this.S&&(J?(J=R(J),V(J,this.S)):J=this.S),this.m!==null||this.O||(q.H=J,J=null),this.P)e:{for(var x=0,I=0;I<this.i.length;I++){t:{var O=this.i[I];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(x+=O,4096<x){x=I;break e}if(x===4096||I===this.i.length-1){x=I+1;break e}}x=1e3}else x=1e3;x=Ts(this,q,x),I=Cn(this.I),rt(I,"RID",d),rt(I,"CVER",22),this.D&&rt(I,"X-HTTP-Session-Id",this.D),Qr(this,I),J&&(this.O?x="headers="+encodeURIComponent(String(Gr(J)))+"&"+x:this.m&&Ss(I,this.m,J)),Xa(this.h,q),this.Ua&&rt(I,"TYPE","init"),this.P?(rt(I,"$req",x),rt(I,"SID","null"),q.T=!0,yo(q,I,null)):yo(q,I,x),this.G=2}}else this.G==3&&(d?To(this,d):this.i.length==0||En(this.h)||To(this))};function To(d,x){var I;x?I=x.l:I=d.U++;const O=Cn(d.I);rt(O,"SID",d.K),rt(O,"RID",I),rt(O,"AID",d.T),Qr(d,O),d.m&&d.o&&Ss(O,d.m,d.o),I=new Jn(d,d.j,I,d.B+1),d.m===null&&(I.H=d.o),x&&(d.i=x.D.concat(d.i)),x=Ts(d,I,1e3),I.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Xa(d.h,I),yo(I,O,x)}function Qr(d,x){d.H&&G(d.H,function(I,O){rt(x,O,I)}),d.l&&vs({},function(I,O){rt(x,O,I)})}function Ts(d,x,I){I=Math.min(d.i.length,I);var O=d.l?v(d.l.Na,d.l,d):null;e:{var q=d.i;let J=-1;for(;;){const pe=["count="+I];J==-1?0<I?(J=q[0].g,pe.push("ofs="+J)):J=0:pe.push("ofs="+J);let nt=!0;for(let Pt=0;Pt<I;Pt++){let Ge=q[Pt].g;const jt=q[Pt].map;if(Ge-=J,0>Ge)J=Math.max(0,q[Pt].g-100),nt=!1;else try{Vc(jt,pe,"req"+Ge+"_")}catch{O&&O(jt)}}if(nt){O=pe.join("&");break e}}}return d=d.i.splice(0,I),x.D=d,O}function Pi(d){if(!d.g&&!d.u){d.Y=1;var x=d.Fa;ue||le(),Y||(ue(),Y=!0),ne.add(x,d),d.v=0}}function bo(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Qn(v(d.Fa,d),zc(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,$c(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Qn(v(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),rr(this),$c(this))};function rl(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function $c(d){d.g=new Jn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var x=Cn(d.qa);rt(x,"RID","rpc"),rt(x,"SID",d.K),rt(x,"AID",d.T),rt(x,"CI",d.F?"0":"1"),!d.F&&d.ja&&rt(x,"TO",d.ja),rt(x,"TYPE","xmlhttp"),Qr(d,x),d.m&&d.o&&Ss(x,d.m,d.o),d.L&&(d.g.I=d.L);var I=d.g;d=d.ia,I.L=1,I.v=_s(Cn(x)),I.m=null,I.P=!0,Qa(I,d)}n.Za=function(){this.C!=null&&(this.C=null,rr(this),bo(this),Et(19))};function Io(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function No(d,x){var I=null;if(d.g==x){Io(d),rl(d),d.g=null;var O=2}else if(sn(d.h,x))I=x.D,Pc(d.h,x),O=1;else return;if(d.G!=0){if(x.o)if(O==1){I=x.m?x.m.length:0,x=Date.now()-x.F;var q=d.B;O=_i(),Rt(O,new ho(O,I)),Tr(d)}else Pi(d);else if(q=x.s,q==3||q==0&&0<x.X||!(O==1&&Mf(d,x)||O==2&&bo(d)))switch(I&&0<I.length&&(x=d.h,x.i=x.i.concat(I)),q){case 1:Yr(d,5);break;case 4:Yr(d,10);break;case 3:Yr(d,6);break;default:Yr(d,2)}}}function zc(d,x){let I=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(I*=2),I*x}function Yr(d,x){if(d.j.info("Error code "+x),x==2){var I=v(d.fb,d),O=d.Xa;const q=!O;O=new qr(O||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ni(O,"https"),_s(O),q?Pf(O.toString(),I):Lc(O.toString(),I)}else Et(2);d.G=0,d.l&&d.l.sa(x),Uc(d),So(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Uc(d){if(d.G=0,d.ka=[],d.l){const x=kc(d.h);(x.length!=0||d.i.length!=0)&&(b(d.ka,x),b(d.ka,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.ra()}}function Bc(d,x,I){var O=I instanceof qr?Cn(I):new qr(I);if(O.g!="")x&&(O.g=x+"."+O.g),ws(O,O.s);else{var q=u.location;O=q.protocol,x=x?x+"."+q.hostname:q.hostname,q=+q.port;var J=new qr(null);O&&Ni(J,O),x&&(J.g=x),q&&ws(J,q),I&&(J.l=I),O=J}return I=d.D,x=d.ya,I&&x&&rt(O,I,x),rt(O,"VER",d.la),Qr(d,O),O}function Hc(d,x,I){if(x&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=d.Ca&&!d.pa?new ht(new Kr({eb:I})):new ht(d.pa),x.Ha(d.J),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function sl(){}n=sl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ao(){}Ao.prototype.g=function(d,x){return new on(d,x)};function on(d,x){At.call(this),this.g=new nl(x),this.l=d,this.h=x&&x.messageUrlParams||null,d=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(d?d["X-WebChannel-Content-Type"]=x.messageContentType:d={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(d?d["X-WebChannel-Client-Profile"]=x.va:d={"X-WebChannel-Client-Profile":x.va}),this.g.S=d,(d=x&&x.Sb)&&!M(d)&&(this.g.m=d),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!M(x)&&(this.g.D=x,d=this.h,d!==null&&x in d&&(d=this.h,x in d&&delete d[x])),this.j=new br(this)}C(on,At),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Ut(this.g)},on.prototype.o=function(d){var x=this.g;if(typeof d=="string"){var I={};I.__data__=d,d=I}else this.u&&(I={},I.__data__=za(d),d=I);x.i.push(new Ac(x.Ya++,d)),x.G==3&&Tr(x)},on.prototype.N=function(){this.g.l=null,delete this.j,Ut(this.g),delete this.g,on.aa.N.call(this)};function Wc(d){xr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var x=d.__sm__;if(x){e:{for(const I in x){d=I;break e}d=void 0}(this.i=d)&&(d=this.i,x=x!==null&&d in x?x[d]:void 0),this.data=x}else this.data=d}C(Wc,xr);function qc(){fo.call(this),this.status=1}C(qc,fo);function br(d){this.g=d}C(br,sl),br.prototype.ua=function(){Rt(this.g,"a")},br.prototype.ta=function(d){Rt(this.g,new Wc(d))},br.prototype.sa=function(d){Rt(this.g,new qc)},br.prototype.ra=function(){Rt(this.g,"b")},Ao.prototype.createWebChannel=Ao.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,b_=function(){return new Ao},T_=function(){return _i()},S_=_r,Vp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mo.NO_ERROR=0,mo.TIMEOUT=8,mo.HTTP_ERROR=6,rd=mo,Tc.COMPLETE="complete",C_=Tc,uo.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",At.prototype.listen=At.prototype.K,Ml=uo,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,E_=ht}).apply(typeof zu<"u"?zu:typeof self<"u"?self:typeof window<"u"?window:{});const K0="@firebase/firestore",G0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new m_("@firebase/firestore");function ta(){return Qi.logLevel}function we(n,...e){if(Qi.logLevel<=Ye.DEBUG){const t=e.map(rg);Qi.debug(`Firestore (${ba}): ${n}`,...t)}}function ds(n,...e){if(Qi.logLevel<=Ye.ERROR){const t=e.map(rg);Qi.error(`Firestore (${ba}): ${n}`,...t)}}function fa(n,...e){if(Qi.logLevel<=Ye.WARN){const t=e.map(rg);Qi.warn(`Firestore (${ba}): ${n}`,...t)}}function rg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,I_(n,r,t)}function I_(n,e,t){let r=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ds(r),new Error(r)}function tt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||I_(e,i,r)}function Ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Ta{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tn.UNAUTHENTICATED))}shutdown(){}}class sR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class iR{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){tt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Js;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Js,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},u=f=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>u(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Js)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string",31837,{l:r}),new N_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class oR{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aR{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new oR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Q0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,UA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){tt(this.o===void 0,3512);const r=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Q0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(tt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Q0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=cR(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function ze(n,e){return n<e?-1:n>e?1:0}function Fp(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ze(r,i);{const a=A_(),l=uR(a.encode(Y0(n,t)),a.encode(Y0(e,t)));return l!==0?l:ze(r,i)}}t+=r>65535?2:1}return ze(n.length,e.length)}function Y0(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function uR(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ze(n[t],e[t]);return ze(n.length,e.length)}function ha(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=-62135596800,J0=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*J0);return new Xe(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<X0)throw new xe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J0}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-X0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new Xe(0,0))}static max(){return new je(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="__name__";class Pr{constructor(e,t,r){t===void 0?t=0:t>e.length&&ke(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ke(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Pr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Pr.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return ze(e.length,t.length)}static compareSegments(e,t){const r=Pr.isNumericId(e),i=Pr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Pr.extractNumericId(e).compare(Pr.extractNumericId(t)):Fp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xs.fromString(e.substring(4,e.length-2))}}class ft extends Pr{construct(e,t,r){return new ft(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ft(t)}static emptyPath(){return new ft([])}}const dR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends Pr{construct(e,t,r){return new qt(e,t,r)}static isValidIdentifier(e){return dR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Z0}static keyField(){return new qt([Z0])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new xe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new xe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new xe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new xe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(t)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(ft.fromString(e))}static fromName(e){return new be(ft.fromString(e).popFirst(5))}static empty(){return new be(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ft(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=-1;function fR(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=je.fromTimestamp(r===1e9?new Xe(t+1,0):new Xe(t,r));return new ti(i,be.empty(),e)}function hR(n){return new ti(n.readTime,n.key,tc)}class ti{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ti(je.min(),be.empty(),tc)}static max(){return new ti(je.max(),be.empty(),tc)}}function pR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(n.documentKey,e.documentKey),t!==0?t:ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==mR)throw n;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,r)=>{t(e)})}static reject(e){return new ie((t,r)=>{r(e)})}static waitFor(e){return new ie((t,r)=>{let i=0,a=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++a,l&&a===i&&t()},f=>r(f))}),l=!0,a===i&&t()})}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next(i=>i?ie.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ie((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let f=0;f<a;f++){const h=f;t(e[h]).next(m=>{l[h]=m,++u,u===a&&r(l)},m=>i(m))}})}static doWhile(e,t){return new ie((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function yR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Na(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Kd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=-1;function Gd(n){return n==null}function xd(n){return n===0&&1/n==-1/0}function vR(n){return typeof n=="number"&&Number.isInteger(n)&&!xd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="";function wR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ew(e)),e=xR(n.get(t),e);return ew(e)}function xR(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case P_:t+="";break;default:t+=a}}return t}function ew(n){return n+P_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function k_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){this.comparator=e,this.root=t||Wt.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uu(this.root,e,this.comparator,!0)}}class Uu{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Wt.RED,this.left=i??Wt.EMPTY,this.right=a??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Wt(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new Wt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nw(this.data.getIterator())}getIteratorFrom(e){return new nw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class nw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new Rn([])}unionWith(e){let t=new Mt(qt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Rn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ha(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new D_("Invalid base64 string: "+a):a}}(e);return new Gt(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const _R=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(n){if(tt(!!n,39018),typeof n=="string"){let e=0;const t=_R.exec(n);if(tt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(n.seconds),nanos:St(n.nanos)}}function St(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ri(n){return typeof n=="string"?Gt.fromBase64String(n):Gt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="server_timestamp",O_="__type__",j_="__previous_value__",L_="__local_write_time__";function ig(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[O_])===null||t===void 0?void 0:t.stringValue)===M_}function Qd(n){const e=n.mapValue.fields[j_];return ig(e)?Qd(e):e}function nc(n){const e=ni(n.mapValue.fields[L_].timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,t,r,i,a,l,u,f,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=m}}const _d="(default)";class rc{constructor(e,t){this.projectId=e,this.database=t||_d}static empty(){return new rc("","")}get isDefaultDatabase(){return this.database===_d}isEqual(e){return e instanceof rc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="__type__",CR="__max__",Bu={mapValue:{}},F_="__vector__",Ed="value";function si(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ig(n)?4:TR(n)?9007199254740991:SR(n)?10:11:ke(28295,{value:n})}function Fr(n,e){if(n===e)return!0;const t=si(n);if(t!==si(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return nc(n).isEqual(nc(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=ni(i.timestampValue),u=ni(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return ri(i.bytesValue).isEqual(ri(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return St(i.geoPointValue.latitude)===St(a.geoPointValue.latitude)&&St(i.geoPointValue.longitude)===St(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return St(i.integerValue)===St(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=St(i.doubleValue),u=St(a.doubleValue);return l===u?xd(l)===xd(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return ha(n.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(tw(l)!==tw(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!Fr(l[f],u[f])))return!1;return!0}(n,e);default:return ke(52216,{left:n})}}function sc(n,e){return(n.values||[]).find(t=>Fr(t,e))!==void 0}function pa(n,e){if(n===e)return 0;const t=si(n),r=si(e);if(t!==r)return ze(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return function(a,l){const u=St(a.integerValue||a.doubleValue),f=St(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return rw(n.timestampValue,e.timestampValue);case 4:return rw(nc(n),nc(e));case 5:return Fp(n.stringValue,e.stringValue);case 6:return function(a,l){const u=ri(a),f=ri(l);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),f=l.split("/");for(let h=0;h<u.length&&h<f.length;h++){const m=ze(u[h],f[h]);if(m!==0)return m}return ze(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const u=ze(St(a.latitude),St(l.latitude));return u!==0?u:ze(St(a.longitude),St(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return sw(n.arrayValue,e.arrayValue);case 10:return function(a,l){var u,f,h,m;const w=a.fields||{},v=l.fields||{},T=(u=w[Ed])===null||u===void 0?void 0:u.arrayValue,C=(f=v[Ed])===null||f===void 0?void 0:f.arrayValue,S=ze(((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0,((m=C==null?void 0:C.values)===null||m===void 0?void 0:m.length)||0);return S!==0?S:sw(T,C)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===Bu.mapValue&&l===Bu.mapValue)return 0;if(a===Bu.mapValue)return 1;if(l===Bu.mapValue)return-1;const u=a.fields||{},f=Object.keys(u),h=l.fields||{},m=Object.keys(h);f.sort(),m.sort();for(let w=0;w<f.length&&w<m.length;++w){const v=Fp(f[w],m[w]);if(v!==0)return v;const T=pa(u[f[w]],h[m[w]]);if(T!==0)return T}return ze(f.length,m.length)}(n.mapValue,e.mapValue);default:throw ke(23264,{Pe:t})}}function rw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ze(n,e);const t=ni(n),r=ni(e),i=ze(t.seconds,r.seconds);return i!==0?i:ze(t.nanos,r.nanos)}function sw(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=pa(t[i],r[i]);if(a)return a}return ze(t.length,r.length)}function ma(n){return $p(n)}function $p(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ni(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ri(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return be.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=$p(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${$p(t.fields[l])}`;return i+"}"}(n.mapValue):ke(61005,{value:n})}function sd(n){switch(si(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qd(n);return e?16+sd(e):16;case 5:return 2*n.stringValue.length;case 6:return ri(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+sd(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return fi(r.fields,(a,l)=>{i+=a.length+sd(l)}),i}(n.mapValue);default:throw ke(13486,{value:n})}}function iw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zp(n){return!!n&&"integerValue"in n}function og(n){return!!n&&"arrayValue"in n}function ow(n){return!!n&&"nullValue"in n}function aw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function id(n){return!!n&&"mapValue"in n}function SR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[V_])===null||t===void 0?void 0:t.stringValue)===F_}function ql(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return fi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ql(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ql(n.arrayValue.values[t]);return e}return Object.assign({},n)}function TR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===CR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!id(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(t)}setAll(e){let t=qt.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=ql(l):i.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());id(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];id(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){fi(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new wn(ql(this.value))}}function $_(n){const e=[];return fi(n.fields,(t,r)=>{const i=new qt([t]);if(id(r)){const a=$_(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,t,r,i,a,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new nn(e,0,je.min(),je.min(),je.min(),wn.empty(),0)}static newFoundDocument(e,t,r,i){return new nn(e,1,t,je.min(),r,i,0)}static newNoDocument(e,t){return new nn(e,2,t,je.min(),je.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new nn(e,3,t,je.min(),je.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,t){this.position=e,this.inclusive=t}}function lw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=be.comparator(be.fromName(l.referenceValue),t.key):r=pa(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function cw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,t="asc"){this.field=e,this.dir=t}}function bR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{}class Nt extends z_{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new NR(e,t,r):t==="array-contains"?new PR(e,r):t==="in"?new kR(e,r):t==="not-in"?new DR(e,r):t==="array-contains-any"?new MR(e,r):new Nt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new AR(e,r):new RR(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(pa(t,this.value)):t!==null&&si(this.value)===si(t)&&this.matchesComparison(pa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends z_{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new pr(e,t)}matches(e){return U_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function U_(n){return n.op==="and"}function B_(n){return IR(n)&&U_(n)}function IR(n){for(const e of n.filters)if(e instanceof pr)return!1;return!0}function Up(n){if(n instanceof Nt)return n.field.canonicalString()+n.op.toString()+ma(n.value);if(B_(n))return n.filters.map(e=>Up(e)).join(",");{const e=n.filters.map(t=>Up(t)).join(",");return`${n.op}(${e})`}}function H_(n,e){return n instanceof Nt?function(r,i){return i instanceof Nt&&r.op===i.op&&r.field.isEqual(i.field)&&Fr(r.value,i.value)}(n,e):n instanceof pr?function(r,i){return i instanceof pr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,u)=>a&&H_(l,i.filters[u]),!0):!1}(n,e):void ke(19439)}function W_(n){return n instanceof Nt?function(t){return`${t.field.canonicalString()} ${t.op} ${ma(t.value)}`}(n):n instanceof pr?function(t){return t.op.toString()+" {"+t.getFilters().map(W_).join(" ,")+"}"}(n):"Filter"}class NR extends Nt{constructor(e,t,r){super(e,t,r),this.key=be.fromName(r.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class AR extends Nt{constructor(e,t){super(e,"in",t),this.keys=q_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class RR extends Nt{constructor(e,t){super(e,"not-in",t),this.keys=q_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function q_(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>be.fromName(r.referenceValue))}class PR extends Nt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return og(t)&&sc(t.arrayValue,this.value)}}class kR extends Nt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&sc(this.value.arrayValue,t)}}class DR extends Nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!sc(this.value.arrayValue,t)}}class MR extends Nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!og(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>sc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,t=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Ie=null}}function uw(n,e=null,t=[],r=[],i=null,a=null,l=null){return new OR(n,e,t,r,i,a,l)}function ag(n){const e=Ve(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Up(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Gd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ma(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ma(r)).join(",")),e.Ie=t}return e.Ie}function lg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!bR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!H_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cw(n.startAt,e.startAt)&&cw(n.endAt,e.endAt)}function Bp(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,t=null,r=[],i=[],a=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function jR(n,e,t,r,i,a,l,u){return new Aa(n,e,t,r,i,a,l,u)}function cg(n){return new Aa(n)}function dw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function K_(n){return n.collectionGroup!==null}function Kl(n){const e=Ve(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Mt(qt.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new ic(a,r))}),t.has(qt.keyField().canonicalString())||e.Ee.push(new ic(qt.keyField(),r))}return e.Ee}function jr(n){const e=Ve(n);return e.de||(e.de=LR(e,Kl(n))),e.de}function LR(n,e){if(n.limitType==="F")return uw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new ic(i.field,a)});const t=n.endAt?new Cd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Cd(n.startAt.position,n.startAt.inclusive):null;return uw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Hp(n,e){const t=n.filters.concat([e]);return new Aa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Wp(n,e,t){return new Aa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Yd(n,e){return lg(jr(n),jr(e))&&n.limitType===e.limitType}function G_(n){return`${ag(jr(n))}|lt:${n.limitType}`}function na(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>W_(i)).join(", ")}]`),Gd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ma(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ma(i)).join(",")),`Target(${r})`}(jr(n))}; limitType=${n.limitType})`}function Xd(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):be.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Kl(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,f){const h=lw(l,u,f);return l.inclusive?h<=0:h<0}(r.startAt,Kl(r),i)||r.endAt&&!function(l,u,f){const h=lw(l,u,f);return l.inclusive?h>=0:h>0}(r.endAt,Kl(r),i))}(n,e)}function VR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Q_(n){return(e,t)=>{let r=!1;for(const i of Kl(n)){const a=FR(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function FR(n,e,t){const r=n.field.isKeyField()?be.comparator(e.key,t.key):function(a,l,u){const f=l.data.field(a),h=u.data.field(a);return f!==null&&h!==null?pa(f,h):ke(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ke(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fi(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return k_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=new vt(be.comparator);function fs(){return $R}const Y_=new vt(be.comparator);function Ol(...n){let e=Y_;for(const t of n)e=e.insert(t.key,t);return e}function X_(n){let e=Y_;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function qi(){return Gl()}function J_(){return Gl()}function Gl(){return new ro(n=>n.toString(),(n,e)=>n.isEqual(e))}const zR=new vt(be.comparator),UR=new Mt(be.comparator);function We(...n){let e=UR;for(const t of n)e=e.add(t);return e}const BR=new Mt(ze);function HR(){return BR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xd(e)?"-0":e}}function Z_(n){return{integerValue:""+n}}function WR(n,e){return vR(e)?Z_(e):ug(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(){this._=void 0}}function qR(n,e,t){return n instanceof Sd?function(i,a){const l={fields:{[O_]:{stringValue:M_},[L_]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&ig(a)&&(a=Qd(a)),a&&(l.fields[j_]=a),{mapValue:l}}(t,e):n instanceof oc?tE(n,e):n instanceof ac?nE(n,e):function(i,a){const l=eE(i,a),u=fw(l)+fw(i.Re);return zp(l)&&zp(i.Re)?Z_(u):ug(i.serializer,u)}(n,e)}function KR(n,e,t){return n instanceof oc?tE(n,e):n instanceof ac?nE(n,e):t}function eE(n,e){return n instanceof Td?function(r){return zp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Sd extends Jd{}class oc extends Jd{constructor(e){super(),this.elements=e}}function tE(n,e){const t=rE(e);for(const r of n.elements)t.some(i=>Fr(i,r))||t.push(r);return{arrayValue:{values:t}}}class ac extends Jd{constructor(e){super(),this.elements=e}}function nE(n,e){let t=rE(e);for(const r of n.elements)t=t.filter(i=>!Fr(i,r));return{arrayValue:{values:t}}}class Td extends Jd{constructor(e,t){super(),this.serializer=e,this.Re=t}}function fw(n){return St(n.integerValue||n.doubleValue)}function rE(n){return og(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function GR(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof oc&&i instanceof oc||r instanceof ac&&i instanceof ac?ha(r.elements,i.elements,Fr):r instanceof Td&&i instanceof Td?Fr(r.Re,i.Re):r instanceof Sd&&i instanceof Sd}(n.transform,e.transform)}class QR{constructor(e,t){this.version=e,this.transformResults=t}}class xn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function od(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Zd{}function sE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ef(n.key,xn.none()):new gc(n.key,n.data,xn.none());{const t=n.data,r=wn.empty();let i=new Mt(qt.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new hi(n.key,r,new Rn(i.toArray()),xn.none())}}function YR(n,e,t){n instanceof gc?function(i,a,l){const u=i.value.clone(),f=pw(i.fieldTransforms,a,l.transformResults);u.setAll(f),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof hi?function(i,a,l){if(!od(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=pw(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(iE(i)),f.setAll(u),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Ql(n,e,t,r){return n instanceof gc?function(a,l,u,f){if(!od(a.precondition,l))return u;const h=a.value.clone(),m=mw(a.fieldTransforms,f,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof hi?function(a,l,u,f){if(!od(a.precondition,l))return u;const h=mw(a.fieldTransforms,f,l),m=l.data;return m.setAll(iE(a)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,l,u){return od(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function XR(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=eE(r.transform,i||null);a!=null&&(t===null&&(t=wn.empty()),t.set(r.field,a))}return t||null}function hw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ha(r,i,(a,l)=>GR(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class gc extends Zd{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class hi extends Zd{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function iE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function pw(n,e,t){const r=new Map;tt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,KR(l,u,t[i]))}return r}function mw(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,qR(a,l,e))}return r}class ef extends Zd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JR extends Zd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&YR(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ql(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ql(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=J_();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=t.has(i.key)?null:u;const f=sE(l,u);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(je.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&ha(this.mutations,e.mutations,(t,r)=>hw(t,r))&&ha(this.baseMutations,e.baseMutations,(t,r)=>hw(t,r))}}class dg{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){tt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return zR}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new dg(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eP=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Qe;function nP(n){switch(n){case se.OK:return ke(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return ke(15467,{code:n})}}function oE(n){if(n===void 0)return ds("GRPC error has no .code"),se.UNKNOWN;switch(n){case It.OK:return se.OK;case It.CANCELLED:return se.CANCELLED;case It.UNKNOWN:return se.UNKNOWN;case It.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case It.INTERNAL:return se.INTERNAL;case It.UNAVAILABLE:return se.UNAVAILABLE;case It.UNAUTHENTICATED:return se.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case It.NOT_FOUND:return se.NOT_FOUND;case It.ALREADY_EXISTS:return se.ALREADY_EXISTS;case It.PERMISSION_DENIED:return se.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case It.ABORTED:return se.ABORTED;case It.OUT_OF_RANGE:return se.OUT_OF_RANGE;case It.UNIMPLEMENTED:return se.UNIMPLEMENTED;case It.DATA_LOSS:return se.DATA_LOSS;default:return ke(39323,{code:n})}}(Qe=It||(It={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=new Xs([4294967295,4294967295],0);function gw(n){const e=A_().encode(n),t=new __;return t.update(e),new Uint8Array(t.digest())}function yw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Xs([t,r],0),new Xs([i,a],0)]}class fg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new jl(`Invalid padding: ${t}`);if(r<0)throw new jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new jl(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Xs.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Xs.fromNumber(r)));return i.compare(rP)===1&&(i=new Xs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=gw(e),[r,i]=yw(t);for(let a=0;a<this.hashCount;a++){const l=this.we(r,i,a);if(!this.be(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new fg(a,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.pe===0)return;const t=gw(e),[r,i]=yw(t);for(let a=0;a<this.hashCount;a++){const l=this.we(r,i,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,yc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new tf(je.min(),i,new vt(ze),fs(),We())}}class yc{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new yc(r,t,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class aE{constructor(e,t){this.targetId=e,this.Ce=t}}class lE{constructor(e,t,r=Gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class vw{constructor(){this.Fe=0,this.Me=ww(),this.xe=Gt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=We(),t=We(),r=We();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ke(38017,{changeType:a})}}),new yc(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=ww()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,tt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class sP{constructor(e){this.ze=e,this.je=new Map,this.He=fs(),this.Je=Hu(),this.Ye=Hu(),this.Ze=new vt(ze)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:ke(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const a=i.target;if(Bp(a))if(r===0){const l=new be(a.path);this.tt(t,l,nn.newNoDocument(l,je.min()))}else tt(r===1,20013,{expectedCount:r});else{const l=this.ut(t);if(l!==r){const u=this.ct(e),f=u?this.lt(u,e,l):1;if(f!==0){this.st(t);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,u;try{l=ri(r).toUint8Array()}catch(f){if(f instanceof D_)return fa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new fg(l,i,a)}catch(f){return fa(f instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.pe===0?null:u}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.tt(t,a,null),i++)}),i}It(e){const t=new Map;this.je.forEach((a,l)=>{const u=this._t(l);if(u){if(a.current&&Bp(u.target)){const f=new be(u.target.path);this.Et(f).has(l)||this.dt(l,f)||this.tt(l,f,nn.newNoDocument(f,e))}a.Le&&(t.set(l,a.qe()),a.Qe())}});let r=We();this.Ye.forEach((a,l)=>{let u=!0;l.forEachWhile(f=>{const h=this._t(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.He.forEach((a,l)=>l.setReadTime(e));const i=new tf(e,t,this.Ze,this.He,r);return this.He=fs(),this.Je=Hu(),this.Ye=Hu(),this.Ze=new vt(ze),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new vw,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Mt(ze),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Mt(ze),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||we("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new vw),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Hu(){return new vt(be.comparator)}function ww(){return new vt(be.comparator)}const iP={asc:"ASCENDING",desc:"DESCENDING"},oP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aP={and:"AND",or:"OR"};class lP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qp(n,e){return n.useProto3Json||Gd(e)?e:{value:e}}function bd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function cP(n,e){return bd(n,e.toTimestamp())}function Lr(n){return tt(!!n,49232),je.fromTimestamp(function(t){const r=ni(t);return new Xe(r.seconds,r.nanos)}(n))}function hg(n,e){return Kp(n,e).canonicalString()}function Kp(n,e){const t=function(i){return new ft(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function uE(n){const e=ft.fromString(n);return tt(mE(e),10190,{key:e.toString()}),e}function Gp(n,e){return hg(n.databaseId,e.path)}function dp(n,e){const t=uE(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new be(fE(t))}function dE(n,e){return hg(n.databaseId,e)}function uP(n){const e=uE(n);return e.length===4?ft.emptyPath():fE(e)}function Qp(n){return new ft(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fE(n){return tt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function xw(n,e,t){return{name:Gp(n,e),fields:t.value.mapValue.fields}}function dP(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ke(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(h,m){return h.useProto3Json?(tt(m===void 0||typeof m=="string",58123),Gt.fromBase64String(m||"")):(tt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Gt.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(h){const m=h.code===void 0?se.UNKNOWN:oE(h.code);return new xe(m,h.message||"")}(l);t=new lE(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=dp(n,r.document.name),a=Lr(r.document.updateTime),l=r.document.createTime?Lr(r.document.createTime):je.min(),u=new wn({mapValue:{fields:r.document.fields}}),f=nn.newFoundDocument(i,a,l,u),h=r.targetIds||[],m=r.removedTargetIds||[];t=new ad(h,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=dp(n,r.document),a=r.readTime?Lr(r.readTime):je.min(),l=nn.newNoDocument(i,a),u=r.removedTargetIds||[];t=new ad([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=dp(n,r.document),a=r.removedTargetIds||[];t=new ad([],a,i,null)}else{if(!("filter"in e))return ke(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new tP(i,a),u=r.targetId;t=new aE(u,l)}}return t}function fP(n,e){let t;if(e instanceof gc)t={update:xw(n,e.key,e.value)};else if(e instanceof ef)t={delete:Gp(n,e.key)};else if(e instanceof hi)t={update:xw(n,e.key,e.data),updateMask:_P(e.fieldMask)};else{if(!(e instanceof JR))return ke(16599,{ft:e.type});t={verify:Gp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const u=l.transform;if(u instanceof Sd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof oc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ac)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Td)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw ke(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:cP(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ke(27497)}(n,e.precondition)),t}function hP(n,e){return n&&n.length>0?(tt(e!==void 0,14353),n.map(t=>function(i,a){let l=i.updateTime?Lr(i.updateTime):Lr(a);return l.isEqual(je.min())&&(l=Lr(a)),new QR(l,i.transformResults||[])}(t,e))):[]}function pP(n,e){return{documents:[dE(n,e.path)]}}function mP(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=dE(n,i);const a=function(h){if(h.length!==0)return pE(pr.create(h,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(h){if(h.length!==0)return h.map(m=>function(v){return{field:ra(v.field),direction:vP(v.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=qp(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:i}}function gP(n){let e=uP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){tt(r===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];t.where&&(a=function(w){const v=hE(w);return v instanceof pr&&B_(v)?v.getFilters():[v]}(t.where));let l=[];t.orderBy&&(l=function(w){return w.map(v=>function(C){return new ic(sa(C.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(v))}(t.orderBy));let u=null;t.limit&&(u=function(w){let v;return v=typeof w=="object"?w.value:w,Gd(v)?null:v}(t.limit));let f=null;t.startAt&&(f=function(w){const v=!!w.before,T=w.values||[];return new Cd(T,v)}(t.startAt));let h=null;return t.endAt&&(h=function(w){const v=!w.before,T=w.values||[];return new Cd(T,v)}(t.endAt)),jR(e,i,l,a,u,"F",f,h)}function yP(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=sa(t.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=sa(t.unaryFilter.field);return Nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=sa(t.unaryFilter.field);return Nt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=sa(t.unaryFilter.field);return Nt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}}(n):n.fieldFilter!==void 0?function(t){return Nt.create(sa(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return pr.create(t.compositeFilter.filters.map(r=>hE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ke(1026)}}(t.compositeFilter.op))}(n):ke(30097,{filter:n})}function vP(n){return iP[n]}function wP(n){return oP[n]}function xP(n){return aP[n]}function ra(n){return{fieldPath:n.canonicalString()}}function sa(n){return qt.fromServerFormat(n.fieldPath)}function pE(n){return n instanceof Nt?function(t){if(t.op==="=="){if(aw(t.value))return{unaryFilter:{field:ra(t.field),op:"IS_NAN"}};if(ow(t.value))return{unaryFilter:{field:ra(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(aw(t.value))return{unaryFilter:{field:ra(t.field),op:"IS_NOT_NAN"}};if(ow(t.value))return{unaryFilter:{field:ra(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ra(t.field),op:wP(t.op),value:t.value}}}(n):n instanceof pr?function(t){const r=t.getFilters().map(i=>pE(i));return r.length===1?r[0]:{compositeFilter:{op:xP(t.op),filters:r}}}(n):ke(54877,{filter:n})}function _P(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function mE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,t,r,i,a=je.min(),l=je.min(),u=Gt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.wt=e}}function CP(n){const e=gP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Wp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.Cn=new TP}addToCollectionParentIndex(e,t){return this.Cn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(ti.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(ti.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class TP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Mt(ft.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mt(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gE=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(gE,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ga(0)}static lr(){return new ga(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="LruGarbageCollector",bP=1048576;function Cw([n,e],[t,r]){const i=ze(n,t);return i===0?ze(e,r):i}class IP{constructor(e){this.Er=e,this.buffer=new Mt(Cw),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Cw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class NP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){we(Ew,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Na(t)?we(Ew,"Ignoring IndexedDB error during garbage collection: ",t):await Ia(t)}await this.mr(3e5)})}}class AP{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(Kd.le);const r=new IP(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(_w)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_w):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,a,l,u,f,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),i=this.params.maximumSequenceNumbersToCollect):i=w,l=Date.now(),this.nthSequenceNumber(e,i))).next(w=>(r=w,u=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(h=Date.now(),ta()<=Ye.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(f-u)+`ms
	Removed ${w} documents in `+(h-f)+`ms
Total Duration: ${h-m}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:w})))}}function RP(n,e){return new AP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.changes=new ro(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Ql(r.mutation,i,Rn.empty(),Xe.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,t,r=We()){const i=qi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=Ol();return a.forEach((u,f)=>{l=l.insert(u,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=qi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,We()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let a=fs();const l=Gl(),u=function(){return Gl()}();return t.forEach((f,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof hi)?a=a.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),Ql(m.mutation,h,m.mutation.getFieldMask(),Xe.now())):l.set(h.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((h,m)=>l.set(h,m)),t.forEach((h,m)=>{var w;return u.set(h,new kP(m,(w=l.get(h))!==null&&w!==void 0?w:null))}),u))}recalculateAndSaveOverlays(e,t){const r=Gl();let i=new vt((l,u)=>l-u),a=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(f=>{const h=t.get(f);if(h===null)return;let m=r.get(f)||Rn.empty();m=u.applyToLocalView(h,m),r.set(f,m);const w=(i.get(u.batchId)||We()).add(f);i=i.insert(u.batchId,w)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),h=f.key,m=f.value,w=J_();m.forEach(v=>{if(!a.has(v)){const T=sE(t.get(v),r.get(v));T!==null&&w.set(v,T),a=a.add(v)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,w))}return ie.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return be.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):K_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ie.resolve(qi());let u=tc,f=a;return l.next(h=>ie.forEach(h,(m,w)=>(u<w.largestBatchId&&(u=w.largestBatchId),a.get(m)?ie.resolve():this.remoteDocumentCache.getEntry(e,m).next(v=>{f=f.insert(m,v)}))).next(()=>this.populateOverlays(e,h,a)).next(()=>this.computeViews(e,f,h,We())).next(m=>({batchId:u,changes:X_(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next(r=>{let i=Ol();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=Ol();return this.indexManager.getCollectionParents(e,a).next(u=>ie.forEach(u,f=>{const h=function(w,v){return new Aa(v,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(m=>{m.forEach((w,v)=>{l=l.insert(w,v)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((f,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,nn.newInvalidDocument(m)))});let u=Ol();return l.forEach((f,h)=>{const m=a.get(f);m!==void 0&&Ql(m.mutation,h,Rn.empty(),Xe.now()),Xd(t,h)&&(u=u.insert(f,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ie.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Lr(i.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:CP(i.bundledQuery),readTime:Lr(i.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(){this.overlays=new vt(be.comparator),this.Qr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=qi();return ie.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.St(e,t,a)}),ie.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const i=qi(),a=t.length+1,l=new be(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,h=f.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new vt((h,m)=>h-m);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let m=a.get(h.largestBatchId);m===null&&(m=qi(),a=a.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const u=qi(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((h,m)=>u.set(h,m)),!(u.size()>=i)););return ie.resolve(u)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new eP(t,r));let a=this.Qr.get(t);a===void 0&&(a=We(),this.Qr.set(t,a)),this.Qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this.$r=new Mt($t.Ur),this.Kr=new Mt($t.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new $t(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new $t(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new be(new ft([])),r=new $t(t,e),i=new $t(t,e+1),a=[];return this.Kr.forEachInRange([r,i],l=>{this.zr(l),a.push(l.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new be(new ft([])),r=new $t(t,e),i=new $t(t,e+1);let a=We();return this.Kr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new $t(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return be.comparator(e.key,t.key)||ze(e.Zr,t.Zr)}static Wr(e,t){return ze(e.Zr,t.Zr)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Mt($t.Ur)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new ZR(a,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Xr=this.Xr.add(new $t(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ie.resolve(l)}lookupMutationBatch(e,t){return ie.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),a=i<0?0:i;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?sg:this.nr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new $t(t,0),i=new $t(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,i],l=>{const u=this.ei(l.Zr);a.push(u)}),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mt(ze);return t.forEach(i=>{const a=new $t(i,0),l=new $t(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,l],u=>{r=r.add(u.Zr)})}),ie.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;be.isDocumentKey(a)||(a=a.child(""));const l=new $t(new be(a),0);let u=new Mt(ze);return this.Xr.forEachWhile(f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(f.Zr)),!0)},l),ie.resolve(this.ni(u))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){tt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ie.forEach(t.mutations,i=>{const a=new $t(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new $t(t,0),i=this.Xr.firstAfterOrEqual(r);return ie.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.ii=e,this.docs=function(){return new vt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(t))}getEntries(e,t){let r=fs();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():nn.newInvalidDocument(i))}),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=fs();const l=t.path,u=new be(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:h,value:{document:m}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||pR(hR(m),r)<=0||(i.has(m.key)||Xd(t,m))&&(a=a.insert(m.key,m.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,t,r,i){ke(9500)}si(e,t){return ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new FP(this)}getSize(e){return ie.resolve(this.size)}}class FP extends PP{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),ie.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.persistence=e,this.oi=new ro(t=>ag(t),lg),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this._i=0,this.ai=new pg,this.targetCount=0,this.ui=ga.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),ie.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new ga(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Tr(t),ie.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.oi.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.oi.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),ie.waitFor(a).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),ie.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,t){this.ci={},this.overlays={},this.li=new Kd(0),this.hi=!1,this.hi=!0,this.Pi=new jP,this.referenceDelegate=e(this),this.Ti=new $P(this),this.indexManager=new SP,this.remoteDocumentCache=function(i){return new VP(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new EP(t),this.Ei=new MP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new OP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new LP(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){we("MemoryPersistence","Starting transaction:",e);const i=new zP(this.li.next());return this.referenceDelegate.di(),r(i).next(a=>this.referenceDelegate.Ai(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ri(e,t){return ie.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class zP extends gR{constructor(e){super(),this.currentSequenceNumber=e}}class mg{constructor(e){this.persistence=e,this.Vi=new pg,this.mi=null}static fi(e){return new mg(e)}get gi(){if(this.mi)return this.mi;throw ke(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.gi,r=>{const i=be.fromPath(r);return this.pi(e,i).next(a=>{a||t.removeEntry(i,je.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ie.or([()=>ie.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Id{constructor(e,t){this.persistence=e,this.yi=new ro(r=>wR(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=RP(this,t)}static fi(e,t){return new Id(e,t)}di(){}Ai(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return ie.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(a=>a?ie.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.si(e,l=>this.Dr(e,l,t).next(u=>{u||(r++,a.removeEntry(l,je.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ie.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=sd(e.data.value)),t}Dr(e,t,r){return ie.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return ie.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=We(),i=We();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new gg(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return FN()?8:yR(LN())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ws(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.bs(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new UP;return this.Ss(e,t,l).next(u=>{if(a.result=u,this.fs)return this.Ds(e,t,l,u.size)})}).next(()=>a.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(ta()<=Ye.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",na(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ie.resolve()):(ta()<=Ye.DEBUG&&we("QueryEngine","Query:",na(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(ta()<=Ye.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",na(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jr(t))):ie.resolve())}ws(e,t){if(dw(t))return ie.resolve(null);let r=jr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Wp(t,null,"F"),r=jr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=We(...a);return this.ys.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(f=>{const h=this.vs(t,u);return this.Cs(t,h,l,f.readTime)?this.ws(e,Wp(t,null,"F")):this.Fs(e,h,t,f)}))})))}bs(e,t,r,i){return dw(t)||i.isEqual(je.min())?ie.resolve(null):this.ys.getDocuments(e,r).next(a=>{const l=this.vs(t,a);return this.Cs(t,l,r,i)?ie.resolve(null):(ta()<=Ye.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),na(t)),this.Fs(e,l,t,fR(i,tc)).next(u=>u))})}vs(e,t){let r=new Mt(Q_(e));return t.forEach((i,a)=>{Xd(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,r){return ta()<=Ye.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",na(t)),this.ys.getDocumentsMatchingQuery(e,t,ti.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="LocalStore",HP=3e8;class WP{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new vt(ze),this.Os=new ro(a=>ag(a),lg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DP(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function qP(n,e,t,r){return new WP(n,e,t,r)}async function vE(n,e){const t=Ve(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],u=[];let f=We();for(const h of i){l.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}for(const h of a){u.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}return t.localDocuments.getDocuments(r,f).next(h=>({ks:h,removedBatchIds:l,addedBatchIds:u}))})})}function KP(n,e){const t=Ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return function(u,f,h,m){const w=h.batch,v=w.keys();let T=ie.resolve();return v.forEach(C=>{T=T.next(()=>m.getEntry(f,C)).next(S=>{const b=h.docVersions.get(C);tt(b!==null,48541),S.version.compareTo(b)<0&&(w.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),m.addEntry(S)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(f,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=We();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(f=f.add(u.batch.mutations[h].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function wE(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function GP(n,e){const t=Ve(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const u=[];e.targetChanges.forEach((m,w)=>{const v=i.get(w);if(!v)return;u.push(t.Ti.removeMatchingKeys(a,m.removedDocuments,w).next(()=>t.Ti.addMatchingKeys(a,m.addedDocuments,w)));let T=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?T=T.withResumeToken(Gt.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),i=i.insert(w,T),function(S,b,N){return S.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=HP?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(v,T,m)&&u.push(t.Ti.updateTargetData(a,T))});let f=fs(),h=We();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,m))}),u.push(QP(a,l,e.documentUpdates).next(m=>{f=m.qs,h=m.Qs})),!r.isEqual(je.min())){const m=t.Ti.getLastRemoteSnapshotVersion(a).next(w=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(m)}return ie.waitFor(u).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,h)).next(()=>f)}).then(a=>(t.xs=i,a))}function QP(n,e,t){let r=We(),i=We();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=fs();return t.forEach((u,f)=>{const h=a.get(u);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(je.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):we(yg,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",f.version)}),{qs:l,Qs:i}})}function YP(n,e){const t=Ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=sg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XP(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(a=>a?(i=a,ie.resolve(i)):t.Ti.allocateTargetId(r).next(l=>(i=new Ks(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function Yp(n,e,t){const r=Ve(n),i=r.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Na(l))throw l;we(yg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function Sw(n,e,t){const r=Ve(n);let i=je.min(),a=We();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,h,m){const w=Ve(f),v=w.Os.get(m);return v!==void 0?ie.resolve(w.xs.get(v)):w.Ti.getTargetData(h,m)}(r,l,jr(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(l,u.targetId).next(f=>{a=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(l,e,t?i:je.min(),t?a:We())).next(u=>(JP(r,VR(e),u),{documents:u,$s:a})))}function JP(n,e,t){let r=n.Ns.get(e)||je.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ns.set(e,r)}class Tw{constructor(){this.activeTargetIds=HR()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZP{constructor(){this.xo=new Tw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Tw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="ConnectivityMonitor";class Iw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){we(bw,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){we(bw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu=null;function Xp(){return Wu===null?Wu=function(){return 268435456+Math.round(2147483648*Math.random())}():Wu++,"0x"+Wu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="RestConnection",t2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class n2{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===_d?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,a){const l=Xp(),u=this.jo(e,t.toUriEncodedString());we(fp,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,i,a);const{host:h}=new URL(u),m=tg(h);return this.Jo(e,u,f,r,m).then(w=>(we(fp,`Received RPC '${e}' ${l}: `,w),w),w=>{throw fa(fp,`RPC '${e}' ${l} failed with error: `,w,"url: ",u,"request:",r),w})}Yo(e,t,r,i,a,l){return this.zo(e,t,r,i,a)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ba}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}jo(e,t){const r=t2[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class s2 extends n2{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const l=Xp();return new Promise((u,f)=>{const h=new E_;h.setWithCredentials(!0),h.listenOnce(C_.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case rd.NO_ERROR:const w=h.getResponseJson();we(en,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),u(w);break;case rd.TIMEOUT:we(en,`RPC '${e}' ${l} timed out`),f(new xe(se.DEADLINE_EXCEEDED,"Request time out"));break;case rd.HTTP_ERROR:const v=h.getStatus();if(we(en,`RPC '${e}' ${l} failed with status:`,v,"response text:",h.getResponseText()),v>0){let T=h.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T==null?void 0:T.error;if(C&&C.status&&C.message){const S=function(N){const M=N.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(M)>=0?M:se.UNKNOWN}(C.status);f(new xe(S,C.message))}else f(new xe(se.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new xe(se.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{h_:e,streamId:l,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{we(en,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(i);we(en,`RPC '${e}' ${l} sending request:`,i),h.send(t,"POST",m,r,15)})}I_(e,t,r){const i=Xp(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=b_(),u=T_(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const m=a.join("");we(en,`Creating RPC '${e}' stream ${i}: ${m}`,f);const w=l.createWebChannel(m,f);this.E_(w);let v=!1,T=!1;const C=new r2({Zo:b=>{T?we(en,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(v||(we(en,`Opening RPC '${e}' stream ${i} transport.`),w.open(),v=!0),we(en,`RPC '${e}' stream ${i} sending:`,b),w.send(b))},Xo:()=>w.close()}),S=(b,N,M)=>{b.listen(N,L=>{try{M(L)}catch(U){setTimeout(()=>{throw U},0)}})};return S(w,Ml.EventType.OPEN,()=>{T||(we(en,`RPC '${e}' stream ${i} transport opened.`),C.__())}),S(w,Ml.EventType.CLOSE,()=>{T||(T=!0,we(en,`RPC '${e}' stream ${i} transport closed`),C.u_(),this.d_(w))}),S(w,Ml.EventType.ERROR,b=>{T||(T=!0,fa(en,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),C.u_(new xe(se.UNAVAILABLE,"The operation could not be completed")))}),S(w,Ml.EventType.MESSAGE,b=>{var N;if(!T){const M=b.data[0];tt(!!M,16349);const L=M,U=(L==null?void 0:L.error)||((N=L[0])===null||N===void 0?void 0:N.error);if(U){we(en,`RPC '${e}' stream ${i} received error:`,U);const $=U.status;let G=function(D){const V=It[D];if(V!==void 0)return oE(V)}($),k=U.message;G===void 0&&(G=se.INTERNAL,k="Unknown error status: "+$+" with message "+U.message),T=!0,C.u_(new xe(G,k)),w.close()}else we(en,`RPC '${e}' stream ${i} received:`,M),C.c_(M)}}),S(u,S_.STAT_EVENT,b=>{b.stat===Vp.PROXY?we(en,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Vp.NOPROXY&&we(en,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function hp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(n){return new lP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,t,r=1e3,i=1.5,a=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="PersistentStream";class _E{constructor(e,t,r,i,a,l,u,f){this.xi=e,this.S_=r,this.D_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new xE(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(ds(t.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{const i=new xe(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){const r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return we(Nw,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(we(Nw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class i2 extends _E{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=dP(this.serializer,e),r=function(a){if(!("targetChange"in a))return je.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?je.min():l.readTime?Lr(l.readTime):je.min()}(e);return this.listener.Y_(t,r)}Z_(e){const t={};t.database=Qp(this.serializer),t.addTarget=function(a,l){let u;const f=l.target;if(u=Bp(f)?{documents:pP(a,f)}:{query:mP(a,f).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=cE(a,l.resumeToken);const h=qp(a,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(je.min())>0){u.readTime=bd(a,l.snapshotVersion.toTimestamp());const h=qp(a,l.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=yP(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){const t={};t.database=Qp(this.serializer),t.removeTarget=e,this.Q_(t)}}class o2 extends _E{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=hP(e.writeResults,e.commitTime),r=Lr(e.commitTime);return this.listener.ra(r,t)}ia(){const e={};e.database=Qp(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>fP(this.serializer,r))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{}class l2 extends a2{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new xe(se.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.zo(e,Kp(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(se.UNKNOWN,a.toString())})}Yo(e,t,r,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Yo(e,Kp(t,r),i,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(se.UNKNOWN,l.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class c2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ds(t),this.ua=!1):we("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="RemoteStore";class u2{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(l=>{r.enqueueAndForget(async()=>{so(this)&&(we(Yi,"Restarting streams for network reachability change."),await async function(f){const h=Ve(f);h.da.add(4),await vc(h),h.Va.set("Unknown"),h.da.delete(4),await rf(h)}(this))})}),this.Va=new c2(r,i)}}async function rf(n){if(so(n))for(const e of n.Aa)await e(!0)}async function vc(n){for(const e of n.Aa)await e(!1)}function EE(n,e){const t=Ve(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),_g(t)?xg(t):Ra(t).N_()&&wg(t,e))}function vg(n,e){const t=Ve(n),r=Ra(t);t.Ea.delete(e),r.N_()&&CE(t,e),t.Ea.size===0&&(r.N_()?r.k_():so(t)&&t.Va.set("Unknown"))}function wg(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ra(n).Z_(e)}function CE(n,e){n.ma.Ke(e),Ra(n).X_(e)}function xg(n){n.ma=new sP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Ra(n).start(),n.Va.ca()}function _g(n){return so(n)&&!Ra(n).O_()&&n.Ea.size>0}function so(n){return Ve(n).da.size===0}function SE(n){n.ma=void 0}async function d2(n){n.Va.set("Online")}async function f2(n){n.Ea.forEach((e,t)=>{wg(n,e)})}async function h2(n,e){SE(n),_g(n)?(n.Va.Pa(e),xg(n)):n.Va.set("Unknown")}async function p2(n,e,t){if(n.Va.set("Online"),e instanceof lE&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ea.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ea.delete(u),i.ma.removeTarget(u))}(n,e)}catch(r){we(Yi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nd(n,r)}else if(e instanceof ad?n.ma.Xe(e):e instanceof aE?n.ma.ot(e):n.ma.nt(e),!t.isEqual(je.min()))try{const r=await wE(n.localStore);t.compareTo(r)>=0&&await function(a,l){const u=a.ma.It(l);return u.targetChanges.forEach((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const m=a.Ea.get(h);m&&a.Ea.set(h,m.withResumeToken(f.resumeToken,l))}}),u.targetMismatches.forEach((f,h)=>{const m=a.Ea.get(f);if(!m)return;a.Ea.set(f,m.withResumeToken(Gt.EMPTY_BYTE_STRING,m.snapshotVersion)),CE(a,f);const w=new Ks(m.target,f,h,m.sequenceNumber);wg(a,w)}),a.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){we(Yi,"Failed to raise snapshot:",r),await Nd(n,r)}}async function Nd(n,e,t){if(!Na(e))throw e;n.da.add(1),await vc(n),n.Va.set("Offline"),t||(t=()=>wE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{we(Yi,"Retrying IndexedDB access"),await t(),n.da.delete(1),await rf(n)})}function TE(n,e){return e().catch(t=>Nd(n,t,e))}async function sf(n){const e=Ve(n),t=ii(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:sg;for(;m2(e);)try{const i=await YP(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,g2(e,i)}catch(i){await Nd(e,i)}bE(e)&&IE(e)}function m2(n){return so(n)&&n.Ia.length<10}function g2(n,e){n.Ia.push(e);const t=ii(n);t.N_()&&t.ea&&t.ta(e.mutations)}function bE(n){return so(n)&&!ii(n).O_()&&n.Ia.length>0}function IE(n){ii(n).start()}async function y2(n){ii(n).ia()}async function v2(n){const e=ii(n);for(const t of n.Ia)e.ta(t.mutations)}async function w2(n,e,t){const r=n.Ia.shift(),i=dg.from(r,e,t);await TE(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await sf(n)}async function x2(n,e){e&&ii(n).ea&&await async function(r,i){if(function(l){return nP(l)&&l!==se.ABORTED}(i.code)){const a=r.Ia.shift();ii(r).L_(),await TE(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await sf(r)}}(n,e),bE(n)&&IE(n)}async function Aw(n,e){const t=Ve(n);t.asyncQueue.verifyOperationInProgress(),we(Yi,"RemoteStore received new credentials");const r=so(t);t.da.add(3),await vc(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await rf(t)}async function _2(n,e){const t=Ve(n);e?(t.da.delete(2),await rf(t)):e||(t.da.add(2),await vc(t),t.Va.set("Unknown"))}function Ra(n){return n.fa||(n.fa=function(t,r,i){const a=Ve(t);return a.oa(),new i2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:d2.bind(null,n),n_:f2.bind(null,n),i_:h2.bind(null,n),Y_:p2.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),_g(n)?xg(n):n.Va.set("Unknown")):(await n.fa.stop(),SE(n))})),n.fa}function ii(n){return n.ga||(n.ga=function(t,r,i){const a=Ve(t);return a.oa(),new o2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:y2.bind(null,n),i_:x2.bind(null,n),na:v2.bind(null,n),ra:w2.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await sf(n)):(await n.ga.stop(),n.Ia.length>0&&(we(Yi,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,u=new Eg(e,t,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cg(n,e){if(ds("AsyncQueue",`${e}: ${n}`),Na(n))return new xe(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{static emptySet(e){return new aa(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||be.comparator(t.key,r.key):(t,r)=>be.comparator(t.key,r.key),this.keyedMap=Ol(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof aa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new aa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.pa=new vt(be.comparator)}track(e){const t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):ke(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}}class ya{constructor(e,t,r,i,a,l,u,f,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new ya(e,t,aa.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class C2{constructor(){this.queries=Pw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Ve(t),a=i.queries;i.queries=Pw(),a.forEach((l,u)=>{for(const f of u.Sa)f.onError(r)})})(this,new xe(se.ABORTED,"Firestore shutting down"))}}function Pw(){return new ro(n=>G_(n),Yd)}async function NE(n,e){const t=Ve(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.Da()&&e.va()&&(r=2):(a=new E2,r=e.va()?0:1);try{switch(r){case 0:a.ba=await t.onListen(i,!0);break;case 1:a.ba=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=Cg(l,`Initialization of query '${na(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,a),a.Sa.push(e),e.Fa(t.onlineState),a.ba&&e.Ma(a.ba)&&Sg(t)}async function AE(n,e){const t=Ve(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.va()?0:1:!a.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function S2(n,e){const t=Ve(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const u of l.Sa)u.Ma(i)&&(r=!0);l.ba=i}}r&&Sg(t)}function T2(n,e,t){const r=Ve(n),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);r.queries.delete(e)}function Sg(n){n.Ca.forEach(e=>{e.next()})}var Jp,kw;(kw=Jp||(Jp={})).xa="default",kw.Cache="cache";class RE{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ya(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Jp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e){this.key=e}}class kE{constructor(e){this.key=e}}class b2{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=We(),this.mutatedKeys=We(),this.Za=Q_(e),this.Xa=new aa(this.Za)}get eu(){return this.Ha}tu(e,t){const r=t?t.nu:new Rw,i=t?t.Xa:this.Xa;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,w)=>{const v=i.get(m),T=Xd(this.query,w)?w:null,C=!!v&&this.mutatedKeys.has(v.key),S=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let b=!1;v&&T?v.data.isEqual(T.data)?C!==S&&(r.track({type:3,doc:T}),b=!0):this.ru(v,T)||(r.track({type:2,doc:T}),b=!0,(f&&this.Za(T,f)>0||h&&this.Za(T,h)<0)&&(u=!0)):!v&&T?(r.track({type:0,doc:T}),b=!0):v&&!T&&(r.track({type:1,doc:v}),b=!0,(f||h)&&(u=!0)),b&&(T?(l=l.add(T),a=S?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{Xa:l,nu:r,Cs:u,mutatedKeys:a}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const l=e.nu.wa();l.sort((m,w)=>function(T,C){const S=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Vt:b})}};return S(T)-S(C)}(m.type,w.type)||this.Za(m.doc,w.doc)),this.iu(r),i=i!=null&&i;const u=t&&!i?this.su():[],f=this.Ya.size===0&&this.current&&!i?1:0,h=f!==this.Ja;return this.Ja=f,l.length!==0||h?{snapshot:new ya(this.query,e.Xa,a,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:u}:{ou:u}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Rw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=We(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new kE(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new PE(r))}),t}au(e){this.Ha=e.$s,this.Ya=We();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return ya.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Tg="SyncEngine";class I2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class N2{constructor(e){this.key=e,this.cu=!1}}class A2{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new ro(u=>G_(u),Yd),this.Pu=new Map,this.Tu=new Set,this.Iu=new vt(be.comparator),this.Eu=new Map,this.du=new pg,this.Au={},this.Ru=new Map,this.Vu=ga.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function R2(n,e,t=!0){const r=VE(n);let i;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.uu()):i=await DE(r,e,t,!0),i}async function P2(n,e){const t=VE(n);await DE(t,e,!0,!1)}async function DE(n,e,t,r){const i=await XP(n.localStore,jr(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let u;return r&&(u=await k2(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&EE(n.remoteStore,i),u}async function k2(n,e,t,r,i){n.fu=(w,v,T)=>async function(S,b,N,M){let L=b.view.tu(N);L.Cs&&(L=await Sw(S.localStore,b.query,!1).then(({documents:k})=>b.view.tu(k,L)));const U=M&&M.targetChanges.get(b.targetId),$=M&&M.targetMismatches.get(b.targetId)!=null,G=b.view.applyChanges(L,S.isPrimaryClient,U,$);return Mw(S,b.targetId,G.ou),G.snapshot}(n,w,v,T);const a=await Sw(n.localStore,e,!0),l=new b2(e,a.$s),u=l.tu(a.documents),f=yc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=l.applyChanges(u,n.isPrimaryClient,f);Mw(n,t,h.ou);const m=new I2(e,t,l);return n.hu.set(e,m),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),h.snapshot}async function D2(n,e,t){const r=Ve(n),i=r.hu.get(e),a=r.Pu.get(i.targetId);if(a.length>1)return r.Pu.set(i.targetId,a.filter(l=>!Yd(l,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Yp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&vg(r.remoteStore,i.targetId),Zp(r,i.targetId)}).catch(Ia)):(Zp(r,i.targetId),await Yp(r.localStore,i.targetId,!0))}async function M2(n,e){const t=Ve(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),vg(t.remoteStore,r.targetId))}async function O2(n,e,t){const r=U2(n);try{const i=await function(l,u){const f=Ve(l),h=Xe.now(),m=u.reduce((T,C)=>T.add(C.key),We());let w,v;return f.persistence.runTransaction("Locally write mutations","readwrite",T=>{let C=fs(),S=We();return f.Bs.getEntries(T,m).next(b=>{C=b,C.forEach((N,M)=>{M.isValidDocument()||(S=S.add(N))})}).next(()=>f.localDocuments.getOverlayedDocuments(T,C)).next(b=>{w=b;const N=[];for(const M of u){const L=XR(M,w.get(M.key).overlayedDocument);L!=null&&N.push(new hi(M.key,L,$_(L.value.mapValue),xn.exists(!0)))}return f.mutationQueue.addMutationBatch(T,h,N,u)}).next(b=>{v=b;const N=b.applyToLocalDocumentSet(w,S);return f.documentOverlayCache.saveOverlays(T,b.batchId,N)})}).then(()=>({batchId:v.batchId,changes:X_(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,f){let h=l.Au[l.currentUser.toKey()];h||(h=new vt(ze)),h=h.insert(u,f),l.Au[l.currentUser.toKey()]=h}(r,i.batchId,t),await wc(r,i.changes),await sf(r.remoteStore)}catch(i){const a=Cg(i,"Failed to persist write");t.reject(a)}}async function ME(n,e){const t=Ve(n);try{const r=await GP(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Eu.get(a);l&&(tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.cu=!0:i.modifiedDocuments.size>0?tt(l.cu,14607):i.removedDocuments.size>0&&(tt(l.cu,42227),l.cu=!1))}),await wc(t,r,e)}catch(r){await Ia(r)}}function Dw(n,e,t){const r=Ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.hu.forEach((a,l)=>{const u=l.view.Fa(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const f=Ve(l);f.onlineState=u;let h=!1;f.queries.forEach((m,w)=>{for(const v of w.Sa)v.Fa(u)&&(h=!0)}),h&&Sg(f)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function j2(n,e,t){const r=Ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Eu.get(e),a=i&&i.key;if(a){let l=new vt(be.comparator);l=l.insert(a,nn.newNoDocument(a,je.min()));const u=We().add(a),f=new tf(je.min(),new Map,new vt(ze),l,u);await ME(r,f),r.Iu=r.Iu.remove(a),r.Eu.delete(e),bg(r)}else await Yp(r.localStore,e,!1).then(()=>Zp(r,e,t)).catch(Ia)}async function L2(n,e){const t=Ve(n),r=e.batch.batchId;try{const i=await KP(t.localStore,e);jE(t,r,null),OE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await wc(t,i)}catch(i){await Ia(i)}}async function V2(n,e,t){const r=Ve(n);try{const i=await function(l,u){const f=Ve(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return f.mutationQueue.lookupMutationBatch(h,u).next(w=>(tt(w!==null,37113),m=w.keys(),f.mutationQueue.removeMutationBatch(h,w))).next(()=>f.mutationQueue.performConsistencyCheck(h)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(h,m,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>f.localDocuments.getDocuments(h,m))})}(r.localStore,e);jE(r,e,t),OE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await wc(r,i)}catch(i){await Ia(i)}}function OE(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function jE(n,e,t){const r=Ve(n);let i=r.Au[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function Zp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||LE(n,r)})}function LE(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(vg(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),bg(n))}function Mw(n,e,t){for(const r of t)r instanceof PE?(n.du.addReference(r.key,e),F2(n,r)):r instanceof kE?(we(Tg,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||LE(n,r.key)):ke(19791,{pu:r})}function F2(n,e){const t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(we(Tg,"New document in limbo: "+t),n.Tu.add(r),bg(n))}function bg(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new be(ft.fromString(e)),r=n.Vu.next();n.Eu.set(r,new N2(t)),n.Iu=n.Iu.insert(t,r),EE(n.remoteStore,new Ks(jr(cg(t.path)),r,"TargetPurposeLimboResolution",Kd.le))}}async function wc(n,e,t){const r=Ve(n),i=[],a=[],l=[];r.hu.isEmpty()||(r.hu.forEach((u,f)=>{l.push(r.fu(f,e,t).then(h=>{var m;if((h||t)&&r.isPrimaryClient){const w=h?!h.fromCache:(m=t==null?void 0:t.targetChanges.get(f.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(h){i.push(h);const w=gg.Rs(f.targetId,h);a.push(w)}}))}),await Promise.all(l),r.lu.Y_(i),await async function(f,h){const m=Ve(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ie.forEach(h,v=>ie.forEach(v.ds,T=>m.persistence.referenceDelegate.addReference(w,v.targetId,T)).next(()=>ie.forEach(v.As,T=>m.persistence.referenceDelegate.removeReference(w,v.targetId,T)))))}catch(w){if(!Na(w))throw w;we(yg,"Failed to update sequence numbers: "+w)}for(const w of h){const v=w.targetId;if(!w.fromCache){const T=m.xs.get(v),C=T.snapshotVersion,S=T.withLastLimboFreeSnapshotVersion(C);m.xs=m.xs.insert(v,S)}}}(r.localStore,a))}async function $2(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){we(Tg,"User change. New user:",e.toKey());const r=await vE(t.localStore,e);t.currentUser=e,function(a,l){a.Ru.forEach(u=>{u.forEach(f=>{f.reject(new xe(se.CANCELLED,l))})}),a.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wc(t,r.ks)}}function z2(n,e){const t=Ve(n),r=t.Eu.get(e);if(r&&r.cu)return We().add(r.key);{let i=We();const a=t.Pu.get(e);if(!a)return i;for(const l of a){const u=t.hu.get(l);i=i.unionWith(u.view.eu)}return i}}function VE(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ME.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=z2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j2.bind(null,e),e.lu.Y_=S2.bind(null,e.eventManager),e.lu.gu=T2.bind(null,e.eventManager),e}function U2(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=V2.bind(null,e),e}class Ad{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return qP(this.persistence,new BP,e.initialUser,this.serializer)}Su(e){return new yE(mg.fi,this.serializer)}bu(e){return new ZP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ad.provider={build:()=>new Ad};class B2 extends Ad{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){tt(this.persistence.referenceDelegate instanceof Id,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new NP(r,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new yE(r=>Id.fi(r,t),this.serializer)}}class em{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Dw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$2.bind(null,this.syncEngine),await _2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new C2}()}createDatastore(e){const t=nf(e.databaseInfo.databaseId),r=function(a){return new s2(a)}(e.databaseInfo);return function(a,l,u,f){return new l2(a,l,u,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,u){return new u2(r,i,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>Dw(this.syncEngine,t,0),function(){return Iw.C()?new Iw:new e2}())}createSyncEngine(e,t){return function(i,a,l,u,f,h,m){const w=new A2(i,a,l,u,f,h);return m&&(w.mu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=Ve(i);we(Yi,"RemoteStore shutting down."),a.da.add(5),await vc(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}em.provider={build:()=>new em};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ds("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="FirestoreClient";class H2{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=tn.UNAUTHENTICATED,this.clientId=R_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{we(oi,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(we(oi,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Cg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function pp(n,e){n.asyncQueue.verifyOperationInProgress(),we(oi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await vE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Ow(n,e){n.asyncQueue.verifyOperationInProgress();const t=await W2(n);we(oi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Aw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Aw(e.remoteStore,i)),n._onlineComponents=e}async function W2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){we(oi,"Using user provided OfflineComponentProvider");try{await pp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;fa("Error using user provided cache. Falling back to memory cache: "+t),await pp(n,new Ad)}}else we(oi,"Using default OfflineComponentProvider"),await pp(n,new B2(void 0));return n._offlineComponents}async function $E(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(we(oi,"Using user provided OnlineComponentProvider"),await Ow(n,n._uninitializedComponentsProvider._online)):(we(oi,"Using default OnlineComponentProvider"),await Ow(n,new em))),n._onlineComponents}function q2(n){return $E(n).then(e=>e.syncEngine)}async function tm(n){const e=await $E(n),t=e.eventManager;return t.onListen=R2.bind(null,e.syncEngine),t.onUnlisten=D2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=P2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=M2.bind(null,e.syncEngine),t}function K2(n,e,t={}){const r=new Js;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,f,h){const m=new FE({next:v=>{m.xu(),l.enqueueAndForget(()=>AE(a,w)),v.fromCache&&f.source==="server"?h.reject(new xe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),w=new RE(u,m,{includeMetadataChanges:!0,Qa:!0});return NE(a,w)}(await tm(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(n,e,t){if(!t)throw new xe(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function G2(n,e,t,r){if(e===!0&&r===!0)throw new xe(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Lw(n){if(!be.isDocumentKey(n))throw new xe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Vw(n){if(be.isDocumentKey(n))throw new xe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function of(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke(12329,{type:typeof n})}function hr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=of(n);throw new xe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="firestore.googleapis.com",Fw=!0;class $w{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BE,this.ssl=Fw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Fw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bP)throw new xe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new xe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new xe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new xe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class af{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $w({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $w(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rR;switch(r.type){case"firstParty":return new aR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=jw.get(t);r&&(we("ComponentProvider","Removing Datastore"),jw.delete(t),r.terminate())}(this),Promise.resolve()}}function Q2(n,e,t,r={}){var i;n=hr(n,af);const a=tg(e),l=n._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a&&(kN(`https://${f}`),jN("Firestore",!0)),l.host!==BE&&l.host!==f&&fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},l),{host:f,ssl:a,emulatorOptions:r});if(!yd(h,u)&&(n._setSettings(h),r.mockUserToken)){let m,w;if(typeof r.mockUserToken=="string")m=r.mockUserToken,w=tn.MOCK_USER;else{m=DN(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new xe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new tn(v)}n._authCredentials=new sR(new N_(m,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pi(this.firestore,e,this._query)}}class _n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class Zs extends pi{constructor(e,t,r){super(e,t,cg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new be(e))}withConverter(e){return new Zs(this.firestore,e,this._path)}}function Kt(n,e,...t){if(n=Hn(n),UE("collection","path",e),n instanceof af){const r=ft.fromString(e,...t);return Vw(r),new Zs(n,null,r)}{if(!(n instanceof _n||n instanceof Zs))throw new xe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ft.fromString(e,...t));return Vw(r),new Zs(n.firestore,null,r)}}function vn(n,e,...t){if(n=Hn(n),arguments.length===1&&(e=R_.newId()),UE("doc","path",e),n instanceof af){const r=ft.fromString(e,...t);return Lw(r),new _n(n,null,new be(r))}{if(!(n instanceof _n||n instanceof Zs))throw new xe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ft.fromString(e,...t));return Lw(r),new _n(n.firestore,n instanceof Zs?n.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="AsyncQueue";class Uw{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new xE(this,"async_queue_retry"),this.rc=()=>{const r=hp();r&&we(zw,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const t=hp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=hp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Js;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Na(e))throw e;we(zw,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,ds("INTERNAL UNHANDLED ERROR: ",Bw(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const i=Eg.createAndSchedule(this,e,t,r,a=>this.uc(a));return this.Zu.push(i),i}oc(){this.Xu&&ke(47125,{cc:Bw(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function Bw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(n,["next","error","complete"])}class ai extends af{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Uw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Uw(e),this._firestoreClient=void 0,await e}}}function Y2(n,e){const t=typeof n=="object"?n:qA(),r=typeof n=="string"?n:_d,i=zA(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=RN("firestore");a&&Q2(i,...a)}return i}function lf(n){if(n._terminated)throw new xe(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||X2(n),n._firestoreClient}function X2(n){var e,t,r;const i=n._freezeSettings(),a=function(u,f,h,m){return new ER(u,f,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,zE(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new H2(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this._byteString=e}static fromBase64String(e){try{return new va(Gt.fromBase64String(e))}catch(t){throw new xe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new va(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=/^__.*__$/;class Z2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new hi(e,this.data,this.fieldMask,t,this.fieldTransforms):new gc(e,this.data,t,this.fieldTransforms)}}class HE{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new hi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function WE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ic:n})}}class Rg{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Rg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Rd(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(WE(this.Ic)&&J2.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class ek{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||nf(e)}bc(e,t,r,i=!1){return new Rg({Ic:e,methodName:t,wc:r,path:qt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cf(n){const e=n._freezeSettings(),t=nf(n._databaseId);return new ek(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qE(n,e,t,r,i,a={}){const l=n.bc(a.merge||a.mergeFields?2:0,e,t,i);Pg("Data must be an object, but it was:",l,r);const u=QE(r,l);let f,h;if(a.merge)f=new Rn(l.fieldMask),h=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const w of a.mergeFields){const v=nm(e,w,t);if(!l.contains(v))throw new xe(se.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);XE(m,v)||m.push(v)}f=new Rn(m),h=l.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,h=l.fieldTransforms;return new Z2(new wn(u),f,h)}class uf extends Ig{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uf}}function KE(n,e,t,r){const i=n.bc(1,e,t);Pg("Data must be an object, but it was:",i,r);const a=[],l=wn.empty();fi(r,(f,h)=>{const m=kg(e,f,t);h=Hn(h);const w=i.mc(m);if(h instanceof uf)a.push(m);else{const v=_c(h,w);v!=null&&(a.push(m),l.set(m,v))}});const u=new Rn(a);return new HE(l,u,i.fieldTransforms)}function GE(n,e,t,r,i,a){const l=n.bc(1,e,t),u=[nm(e,r,t)],f=[i];if(a.length%2!=0)throw new xe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)u.push(nm(e,a[v])),f.push(a[v+1]);const h=[],m=wn.empty();for(let v=u.length-1;v>=0;--v)if(!XE(h,u[v])){const T=u[v];let C=f[v];C=Hn(C);const S=l.mc(T);if(C instanceof uf)h.push(T);else{const b=_c(C,S);b!=null&&(h.push(T),m.set(T,b))}}const w=new Rn(h);return new HE(m,w,l.fieldTransforms)}function tk(n,e,t,r=!1){return _c(t,n.bc(r?4:3,e))}function _c(n,e){if(YE(n=Hn(n)))return Pg("Unsupported field value:",e,n),QE(n,e);if(n instanceof Ig)return function(r,i){if(!WE(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const u of r){let f=_c(u,i.fc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=Hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WR(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Xe.fromDate(r);return{timestampValue:bd(i.serializer,a)}}if(r instanceof Xe){const a=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bd(i.serializer,a)}}if(r instanceof Ng)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof va)return{bytesValue:cE(i.serializer,r._byteString)};if(r instanceof _n){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:hg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ag)return function(l,u){return{mapValue:{fields:{[V_]:{stringValue:F_},[Ed]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw u.gc("VectorValues must only contain numeric values.");return ug(u.serializer,h)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${of(r)}`)}(n,e)}function QE(n,e){const t={};return k_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fi(n,(r,i)=>{const a=_c(i,e.Ac(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function YE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Xe||n instanceof Ng||n instanceof va||n instanceof _n||n instanceof Ig||n instanceof Ag)}function Pg(n,e,t){if(!YE(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=of(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function nm(n,e,t){if((e=Hn(e))instanceof xc)return e._internalPath;if(typeof e=="string")return kg(n,e);throw Rd("Field path arguments must be of type string or ",n,!1,void 0,t)}const nk=new RegExp("[~\\*/\\[\\]]");function kg(n,e,t){if(e.search(nk)>=0)throw Rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xc(...e.split("."))._internalPath}catch{throw Rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rd(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new xe(se.INVALID_ARGUMENT,u+n+f)}function XE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(df("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class rk extends JE{data(){return super.data()}}function df(n,e){return typeof e=="string"?kg(n,e):e instanceof xc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dg{}class eC extends Dg{}function Gs(n,e,...t){let r=[];e instanceof Dg&&r.push(e),r=r.concat(t),function(a){const l=a.filter(f=>f instanceof Mg).length,u=a.filter(f=>f instanceof ff).length;if(l>1||l>0&&u>0)throw new xe(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class ff extends eC{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ff(e,t,r)}_apply(e){const t=this._parse(e);return tC(e._query,t),new pi(e.firestore,e.converter,Hp(e._query,t))}_parse(e){const t=cf(e.firestore);return function(a,l,u,f,h,m,w){let v;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new xe(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){qw(w,m);const C=[];for(const S of w)C.push(Ww(f,a,S));v={arrayValue:{values:C}}}else v=Ww(f,a,w)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||qw(w,m),v=tk(u,l,w,m==="in"||m==="not-in");return Nt.create(h,m,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function as(n,e,t){const r=e,i=df("where",n);return ff._create(i,r,t)}class Mg extends Dg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mg(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:pr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let l=i;const u=a.getFlattenedFilters();for(const f of u)tC(l,f),l=Hp(l,f)}(e._query,t),new pi(e.firestore,e.converter,Hp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Og extends eC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Og(e,t)}_apply(e){const t=function(i,a,l){if(i.startAt!==null)throw new xe(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new xe(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ic(a,l)}(e._query,this._field,this._direction);return new pi(e.firestore,e.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new Aa(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function lc(n,e="asc"){const t=e,r=df("orderBy",n);return Og._create(r,t)}function Ww(n,e,t){if(typeof(t=Hn(t))=="string"){if(t==="")throw new xe(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!K_(e)&&t.indexOf("/")!==-1)throw new xe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ft.fromString(t));if(!be.isDocumentKey(r))throw new xe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return iw(n,new be(r))}if(t instanceof _n)return iw(n,t._key);throw new xe(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${of(t)}.`)}function qw(n,e){if(!Array.isArray(n)||n.length===0)throw new xe(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tC(n,e){const t=function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new xe(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class sk{convertValue(e,t="none"){switch(si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return fi(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ed].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>St(l.doubleValue));return new Ag(a)}convertGeoPoint(e){return new Ng(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Qd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(nc(e));default:return null}}convertTimestamp(e){const t=ni(e);return new Xe(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ft.fromString(e);tt(mE(r),9688,{name:e});const i=new rc(r.get(1),r.get(3)),a=new be(r.popFirst(5));return i.isEqual(t)||ds(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rC extends JE{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(df("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ld extends rC{data(e={}){return super.data(e)}}class sC{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ll(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ld(this._firestore,this._userDataWriter,r.key,r,new Ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const f=new ld(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ll(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const f=new ld(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ll(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:ik(u.type),doc:f,oldIndex:h,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ik(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:n})}}class jg extends sk{constructor(e){super(),this.firestore=e}convertBytes(e){return new va(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,t)}}function li(n){n=hr(n,pi);const e=hr(n.firestore,ai),t=lf(e),r=new jg(e);return ZE(n._query),K2(t,n._query).then(i=>new sC(e,r,n,i))}function Ki(n,e,t,...r){n=hr(n,_n);const i=hr(n.firestore,ai),a=cf(i);let l;return l=typeof(e=Hn(e))=="string"||e instanceof xc?GE(a,"updateDoc",n._key,e,t,r):KE(a,"updateDoc",n._key,e),hf(i,[l.toMutation(n._key,xn.exists(!0))])}function Kw(n){return hf(hr(n.firestore,ai),[new ef(n._key,xn.none())])}function Pd(n,e){const t=hr(n.firestore,ai),r=vn(n),i=nC(n.converter,e);return hf(t,[qE(cf(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,xn.exists(!1))]).then(()=>r)}function kd(n,...e){var t,r,i;n=Hn(n);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||Hw(e[l])||(a=e[l],l++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Hw(e[l])){const w=e[l];e[l]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[l+1]=(r=w.error)===null||r===void 0?void 0:r.bind(w),e[l+2]=(i=w.complete)===null||i===void 0?void 0:i.bind(w)}let f,h,m;if(n instanceof _n)h=hr(n.firestore,ai),m=cg(n._key.path),f={next:w=>{e[l]&&e[l](ok(h,n,w))},error:e[l+1],complete:e[l+2]};else{const w=hr(n,pi);h=hr(w.firestore,ai),m=w._query;const v=new jg(h);f={next:T=>{e[l]&&e[l](new sC(h,v,w,T))},error:e[l+1],complete:e[l+2]},ZE(n._query)}return function(v,T,C,S){const b=new FE(S),N=new RE(T,b,C);return v.asyncQueue.enqueueAndForget(async()=>NE(await tm(v),N)),()=>{b.xu(),v.asyncQueue.enqueueAndForget(async()=>AE(await tm(v),N))}}(lf(h),m,u,f)}function hf(n,e){return function(r,i){const a=new Js;return r.asyncQueue.enqueueAndForget(async()=>O2(await q2(r),i,a)),a.promise}(lf(n),e)}function ok(n,e,t){const r=t.docs.get(e._key),i=new jg(n);return new rC(n,i,e._key,r,new Ll(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=cf(e)}set(e,t,r){this._verifyNotCommitted();const i=mp(e,this._firestore),a=nC(i.converter,t,r),l=qE(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,xn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=mp(e,this._firestore);let l;return l=typeof(t=Hn(t))=="string"||t instanceof xc?GE(this._dataReader,"WriteBatch.update",a._key,t,r,i):KE(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(l.toMutation(a._key,xn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=mp(e,this._firestore);return this._mutations=this._mutations.concat(new ef(t._key,xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mp(n,e){if((n=Hn(n)).firestore!==e)throw new xe(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(n){return lf(n=hr(n,ai)),new ak(n,e=>hf(n,e))}(function(e,t=!0){(function(i){ba=i})(WA),wd(new Zl("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new ai(new iR(r.getProvider("auth-internal")),new lR(l,r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new xe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rc(h.options.projectId,m)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),oa(K0,G0,e),oa(K0,G0,"esm2017")})();var ck="firebase",uk="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oa(ck,uk,"app");const dk={apiKey:"AIzaSyDwlqDKuq9fpSqfvzON6tBEgMx63IQLMw0",authDomain:"cafeqr-d658f.firebaseapp.com",projectId:"cafeqr-d658f",storageBucket:"cafeqr-d658f.firebasestorage.app",messagingSenderId:"266670888353",appId:"1:266670888353:web:bb50567816c2681197e7e0"},fk=v_(dk),et=Y2(fk),hk=async()=>{const n=Kt(et,"menuItems");return(await li(n)).docs.map(r=>({id:r.id,...r.data()}))},pk=async()=>{const n=Kt(et,"categories");return(await li(n)).docs.map(r=>({id:r.id,...r.data()}))},mk=async(n,e)=>{const t=Kt(et,"waiterCalls"),r={tableId:n,timestamp:Xe.now(),status:"pending",message:e||""};await Pd(t,r)},cd=[{id:1,name:"Masa 1",qrCode:"table-1"},{id:2,name:"Masa 2",qrCode:"table-2"},{id:3,name:"Masa 3",qrCode:"table-3"},{id:4,name:"Masa 4",qrCode:"table-4"},{id:5,name:"Masa 5",qrCode:"table-5"},{id:6,name:"Masa 6",qrCode:"table-6"},{id:7,name:"Masa 7",qrCode:"table-7"},{id:8,name:"Masa 8",qrCode:"table-8"},{id:9,name:"Masa 9",qrCode:"table-9"},{id:10,name:"Masa 10",qrCode:"table-10"},{id:11,name:"Masa 11",qrCode:"table-11"},{id:12,name:"Masa 12",qrCode:"table-12"},{id:13,name:"Masa 13",qrCode:"table-13"},{id:14,name:"Masa 14",qrCode:"table-14"},{id:15,name:"Masa 15",qrCode:"table-15"},{id:16,name:"Masa 16",qrCode:"table-16"},{id:17,name:"Masa 17",qrCode:"table-17"},{id:18,name:"Masa 18",qrCode:"table-18"},{id:19,name:"Masa 19",qrCode:"table-19"},{id:20,name:"Masa 20",qrCode:"table-20"}],gk=(n,e,t,r)=>{var a,l,u,f;const i=[t,{code:e,...r||{}}];if((l=(a=n==null?void 0:n.services)==null?void 0:a.logger)!=null&&l.forward)return n.services.logger.forward(i,"warn","react-i18next::",!0);Gi(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(f=(u=n==null?void 0:n.services)==null?void 0:u.logger)!=null&&f.warn?n.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},Gw={},rm=(n,e,t,r)=>{Gi(t)&&Gw[t]||(Gi(t)&&(Gw[t]=new Date),gk(n,e,t,r))},iC=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},sm=(n,e,t)=>{n.loadNamespaces(e,iC(n,t))},Qw=(n,e,t,r)=>{if(Gi(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return sm(n,t,r);t.forEach(i=>{n.options.ns.indexOf(i)<0&&n.options.ns.push(i)}),n.loadLanguages(e,iC(n,r))},yk=(n,e,t={})=>!e.languages||!e.languages.length?(rm(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,i)=>{var a;if(((a=t.bindI18n)==null?void 0:a.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,n))return!1}}),Gi=n=>typeof n=="string",vk=n=>typeof n=="object"&&n!==null,wk=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,xk={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},_k=n=>xk[n],Ek=n=>n.replace(wk,_k);let im={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Ek};const Ck=(n={})=>{im={...im,...n}},Sk=()=>im;let oC;const Tk=n=>{oC=n},bk=()=>oC,Ik={type:"3rdParty",init(n){Ck(n.options.react),Tk(n)}},Nk=E.createContext();class Ak{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Rk=(n,e)=>{const t=E.useRef();return E.useEffect(()=>{t.current=n},[n,e]),t.current},aC=(n,e,t,r)=>n.getFixedT(e,t,r),Pk=(n,e,t,r)=>E.useCallback(aC(n,e,t,r),[n,e,t,r]),pf=(n,e={})=>{var U,$,G,k;const{i18n:t}=e,{i18n:r,defaultNS:i}=E.useContext(Nk)||{},a=t||r||bk();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Ak),!a){rm(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const R=(V,F)=>Gi(F)?F:vk(F)&&Gi(F.defaultValue)?F.defaultValue:Array.isArray(V)?V[V.length-1]:V,D=[R,{},!1];return D.t=R,D.i18n={},D.ready=!1,D}(U=a.options.react)!=null&&U.wait&&rm(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...Sk(),...a.options.react,...e},{useSuspense:u,keyPrefix:f}=l;let h=i||(($=a.options)==null?void 0:$.defaultNS);h=Gi(h)?[h]:h||["translation"],(k=(G=a.reportNamespaces).addUsedNamespaces)==null||k.call(G,h);const m=(a.isInitialized||a.initializedStoreOnce)&&h.every(R=>yk(R,a,l)),w=Pk(a,e.lng||null,l.nsMode==="fallback"?h:h[0],f),v=()=>w,T=()=>aC(a,e.lng||null,l.nsMode==="fallback"?h:h[0],f),[C,S]=E.useState(v);let b=h.join();e.lng&&(b=`${e.lng}${b}`);const N=Rk(b),M=E.useRef(!0);E.useEffect(()=>{const{bindI18n:R,bindI18nStore:D}=l;M.current=!0,!m&&!u&&(e.lng?Qw(a,e.lng,h,()=>{M.current&&S(T)}):sm(a,h,()=>{M.current&&S(T)})),m&&N&&N!==b&&M.current&&S(T);const V=()=>{M.current&&S(T)};return R&&(a==null||a.on(R,V)),D&&(a==null||a.store.on(D,V)),()=>{M.current=!1,a&&(R==null||R.split(" ").forEach(F=>a.off(F,V))),D&&a&&D.split(" ").forEach(F=>a.store.off(F,V))}},[a,b]),E.useEffect(()=>{M.current&&m&&S(v)},[a,f,m]);const L=[C,a,m];if(L.t=C,L.i18n=a,L.ready=m,m||!m&&!u)return L;throw new Promise(R=>{e.lng?Qw(a,e.lng,h,()=>R()):sm(a,h,()=>R())})},kk=({tableId:n})=>{const{t:e}=pf(),[t,r]=E.useState(!1),[i,a]=E.useState(null),l=async()=>{const u=Date.now();if(i&&u-i<3e4){const f=Math.ceil((3e4-(u-i))/1e3);alert(e("waiter_call.try_again_in_seconds",{count:f}));return}r(!0);try{await mk(n,e("waiter_call.message_default")),a(u),alert(e("waiter_call.sent_success"))}catch(f){console.error("Garson ars gnderilirken hata olutu:",f),alert(e("waiter_call.sent_error"))}finally{r(!1)}};return g.jsx("button",{onClick:l,disabled:t,className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${t?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:t?e("waiter_call.sending"):` ${e("waiter_call.button")}`})},Dk=({tableId:n})=>{const{items:e,getTotalItems:t,getTotalPrice:r,updateQuantity:i,removeFromCart:a}=Zm(),[l,u]=E.useState(!1),f=pc();return t()===0?null:g.jsxs("div",{className:"fixed bottom-4 right-4 z-50",children:[!l&&g.jsxs("button",{onClick:()=>u(!0),className:"bg-amber-500 hover:bg-amber-600 text-white rounded-full p-4 shadow-lg flex items-center gap-2 transition-all duration-200 hover:scale-105",children:[g.jsxs("div",{className:"relative",children:["",g.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:t()})]}),g.jsxs("span",{className:"font-medium",children:[r()," "]})]}),l&&g.jsxs("div",{className:"bg-white rounded-lg shadow-xl border-2 border-amber-200 w-80 max-h-96 overflow-hidden",children:[g.jsxs("div",{className:"bg-amber-500 text-white p-3 flex justify-between items-center",children:[g.jsxs("h3",{className:"font-semibold",children:["Sepetim (",t()," rn)"]}),g.jsx("button",{onClick:()=>u(!1),className:"text-white hover:text-amber-200",children:""})]}),g.jsx("div",{className:"max-h-48 overflow-y-auto p-3 space-y-2",children:e.map(h=>g.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"font-medium text-sm",children:h.name_tr}),g.jsxs("div",{className:"text-amber-600 text-sm",children:[h.price," "]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>i(String(h.id),h.quantity-1),className:"bg-gray-200 hover:bg-gray-300 text-gray-700 w-6 h-6 rounded-full text-xs",children:"-"}),g.jsx("span",{className:"text-sm font-medium w-6 text-center",children:h.quantity}),g.jsx("button",{onClick:()=>i(String(h.id),h.quantity+1),className:"bg-amber-500 hover:bg-amber-600 text-white w-6 h-6 rounded-full text-xs",children:"+"}),g.jsx("button",{onClick:()=>a(String(h.id)),className:"bg-red-500 hover:bg-red-600 text-white w-6 h-6 rounded-full text-xs ml-1",children:""})]})]},h.id))}),g.jsxs("div",{className:"border-t p-3 bg-gray-50",children:[g.jsxs("div",{className:"flex justify-between items-center mb-3",children:[g.jsx("span",{className:"font-semibold",children:"Toplam:"}),g.jsxs("span",{className:"font-bold text-amber-600 text-lg",children:[r()," "]})]}),g.jsx("button",{onClick:()=>f(`/checkout/${n}`),className:"w-full bg-amber-500 hover:bg-amber-600 text-white py-2 px-4 rounded-md font-medium transition-colors",children:"Siparii Tamamla"})]})]})]})};function Yw(n,[e,t]){return Math.min(t,Math.max(e,n))}function Le(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Mk(n,e){const t=E.createContext(e),r=a=>{const{children:l,...u}=a,f=E.useMemo(()=>u,Object.values(u));return g.jsx(t.Provider,{value:f,children:l})};r.displayName=n+"Provider";function i(a){const l=E.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,i]}function mi(n,e=[]){let t=[];function r(a,l){const u=E.createContext(l),f=t.length;t=[...t,l];const h=w=>{var N;const{scope:v,children:T,...C}=w,S=((N=v==null?void 0:v[n])==null?void 0:N[f])||u,b=E.useMemo(()=>C,Object.values(C));return g.jsx(S.Provider,{value:b,children:T})};h.displayName=a+"Provider";function m(w,v){var S;const T=((S=v==null?void 0:v[n])==null?void 0:S[f])||u,C=E.useContext(T);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${w}\` must be used within \`${a}\``)}return[h,m]}const i=()=>{const a=t.map(l=>E.createContext(l));return function(u){const f=(u==null?void 0:u[n])||a;return E.useMemo(()=>({[`__scope${n}`]:{...u,[n]:f}}),[u,f])}};return i.scopeName=n,[r,Ok(i,...e)]}function Ok(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((u,{useScope:f,scopeName:h})=>{const w=f(a)[`__scope${h}`];return{...u,...w}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function Xw(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function lC(...n){return e=>{let t=!1;const r=n.map(i=>{const a=Xw(i,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():Xw(n[i],null)}}}}function at(...n){return E.useCallback(lC(...n),n)}function wa(n){const e=Lk(n),t=E.forwardRef((r,i)=>{const{children:a,...l}=r,u=E.Children.toArray(a),f=u.find(Fk);if(f){const h=f.props.children,m=u.map(w=>w===f?E.Children.count(h)>1?E.Children.only(null):E.isValidElement(h)?h.props.children:null:w);return g.jsx(e,{...l,ref:i,children:E.isValidElement(h)?E.cloneElement(h,void 0,m):null})}return g.jsx(e,{...l,ref:i,children:a})});return t.displayName=`${n}.Slot`,t}var jk=wa("Slot");function Lk(n){const e=E.forwardRef((t,r)=>{const{children:i,...a}=t;if(E.isValidElement(i)){const l=zk(i),u=$k(a,i.props);return i.type!==E.Fragment&&(u.ref=r?lC(r,l):l),E.cloneElement(i,u)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var cC=Symbol("radix.slottable");function Vk(n){const e=({children:t})=>g.jsx(g.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=cC,e}function Fk(n){return E.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===cC}function $k(n,e){const t={...e};for(const r in e){const i=n[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?t[r]=(...u)=>{const f=a(...u);return i(...u),f}:i&&(t[r]=i):r==="style"?t[r]={...i,...a}:r==="className"&&(t[r]=[i,a].filter(Boolean).join(" "))}return{...n,...t}}function zk(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Lg(n){const e=n+"CollectionProvider",[t,r]=mi(e),[i,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:b,children:N}=S,M=st.useRef(null),L=st.useRef(new Map).current;return g.jsx(i,{scope:b,itemMap:L,collectionRef:M,children:N})};l.displayName=e;const u=n+"CollectionSlot",f=wa(u),h=st.forwardRef((S,b)=>{const{scope:N,children:M}=S,L=a(u,N),U=at(b,L.collectionRef);return g.jsx(f,{ref:U,children:M})});h.displayName=u;const m=n+"CollectionItemSlot",w="data-radix-collection-item",v=wa(m),T=st.forwardRef((S,b)=>{const{scope:N,children:M,...L}=S,U=st.useRef(null),$=at(b,U),G=a(m,N);return st.useEffect(()=>(G.itemMap.set(U,{ref:U,...L}),()=>void G.itemMap.delete(U))),g.jsx(v,{[w]:"",ref:$,children:M})});T.displayName=m;function C(S){const b=a(n+"CollectionConsumer",S);return st.useCallback(()=>{const M=b.collectionRef.current;if(!M)return[];const L=Array.from(M.querySelectorAll(`[${w}]`));return Array.from(b.itemMap.values()).sort((G,k)=>L.indexOf(G.ref.current)-L.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:l,Slot:h,ItemSlot:T},C,r]}var Uk=E.createContext(void 0);function Vg(n){const e=E.useContext(Uk);return n||e||"ltr"}var Bk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$e=Bk.reduce((n,e)=>{const t=wa(`Primitive.${e}`),r=E.forwardRef((i,a)=>{const{asChild:l,...u}=i,f=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(f,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function uC(n,e){n&&Sa.flushSync(()=>n.dispatchEvent(e))}function Wn(n){const e=E.useRef(n);return E.useEffect(()=>{e.current=n}),E.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function Hk(n,e=globalThis==null?void 0:globalThis.document){const t=Wn(n);E.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var Wk="DismissableLayer",om="dismissableLayer.update",qk="dismissableLayer.pointerDownOutside",Kk="dismissableLayer.focusOutside",Jw,dC=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mf=E.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...f}=n,h=E.useContext(dC),[m,w]=E.useState(null),v=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=E.useState({}),C=at(e,k=>w(k)),S=Array.from(h.layers),[b]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=S.indexOf(b),M=m?S.indexOf(m):-1,L=h.layersWithOutsidePointerEventsDisabled.size>0,U=M>=N,$=Qk(k=>{const R=k.target,D=[...h.branches].some(V=>V.contains(R));!U||D||(i==null||i(k),l==null||l(k),k.defaultPrevented||u==null||u())},v),G=Yk(k=>{const R=k.target;[...h.branches].some(V=>V.contains(R))||(a==null||a(k),l==null||l(k),k.defaultPrevented||u==null||u())},v);return Hk(k=>{M===h.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&u&&(k.preventDefault(),u()))},v),E.useEffect(()=>{if(m)return t&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Jw=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),Zw(),()=>{t&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Jw)}},[m,v,t,h]),E.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),Zw())},[m,h]),E.useEffect(()=>{const k=()=>T({});return document.addEventListener(om,k),()=>document.removeEventListener(om,k)},[]),g.jsx($e.div,{...f,ref:C,style:{pointerEvents:L?U?"auto":"none":void 0,...n.style},onFocusCapture:Le(n.onFocusCapture,G.onFocusCapture),onBlurCapture:Le(n.onBlurCapture,G.onBlurCapture),onPointerDownCapture:Le(n.onPointerDownCapture,$.onPointerDownCapture)})});mf.displayName=Wk;var Gk="DismissableLayerBranch",fC=E.forwardRef((n,e)=>{const t=E.useContext(dC),r=E.useRef(null),i=at(e,r);return E.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),g.jsx($e.div,{...n,ref:i})});fC.displayName=Gk;function Qk(n,e=globalThis==null?void 0:globalThis.document){const t=Wn(n),r=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let f=function(){hC(qk,t,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function Yk(n,e=globalThis==null?void 0:globalThis.document){const t=Wn(n),r=E.useRef(!1);return E.useEffect(()=>{const i=a=>{a.target&&!r.current&&hC(Kk,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Zw(){const n=new CustomEvent(om);document.dispatchEvent(n)}function hC(n,e,t,{discrete:r}){const i=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?uC(i,a):i.dispatchEvent(a)}var Xk=mf,Jk=fC,gp=0;function pC(){E.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??ex()),document.body.insertAdjacentElement("beforeend",n[1]??ex()),gp++,()=>{gp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),gp--}},[])}function ex(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var yp="focusScope.autoFocusOnMount",vp="focusScope.autoFocusOnUnmount",tx={bubbles:!1,cancelable:!0},Zk="FocusScope",Fg=E.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=n,[u,f]=E.useState(null),h=Wn(i),m=Wn(a),w=E.useRef(null),v=at(e,S=>f(S)),T=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let S=function(L){if(T.paused||!u)return;const U=L.target;u.contains(U)?w.current=U:Us(w.current,{select:!0})},b=function(L){if(T.paused||!u)return;const U=L.relatedTarget;U!==null&&(u.contains(U)||Us(w.current,{select:!0}))},N=function(L){if(document.activeElement===document.body)for(const $ of L)$.removedNodes.length>0&&Us(u)};document.addEventListener("focusin",S),document.addEventListener("focusout",b);const M=new MutationObserver(N);return u&&M.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",b),M.disconnect()}}},[r,u,T.paused]),E.useEffect(()=>{if(u){rx.add(T);const S=document.activeElement;if(!u.contains(S)){const N=new CustomEvent(yp,tx);u.addEventListener(yp,h),u.dispatchEvent(N),N.defaultPrevented||(eD(iD(mC(u)),{select:!0}),document.activeElement===S&&Us(u))}return()=>{u.removeEventListener(yp,h),setTimeout(()=>{const N=new CustomEvent(vp,tx);u.addEventListener(vp,m),u.dispatchEvent(N),N.defaultPrevented||Us(S??document.body,{select:!0}),u.removeEventListener(vp,m),rx.remove(T)},0)}}},[u,h,m,T]);const C=E.useCallback(S=>{if(!t&&!r||T.paused)return;const b=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,N=document.activeElement;if(b&&N){const M=S.currentTarget,[L,U]=tD(M);L&&U?!S.shiftKey&&N===U?(S.preventDefault(),t&&Us(L,{select:!0})):S.shiftKey&&N===L&&(S.preventDefault(),t&&Us(U,{select:!0})):N===M&&S.preventDefault()}},[t,r,T.paused]);return g.jsx($e.div,{tabIndex:-1,...l,ref:v,onKeyDown:C})});Fg.displayName=Zk;function eD(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Us(r,{select:e}),document.activeElement!==t)return}function tD(n){const e=mC(n),t=nx(e,n),r=nx(e.reverse(),n);return[t,r]}function mC(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function nx(n,e){for(const t of n)if(!nD(t,{upTo:e}))return t}function nD(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function rD(n){return n instanceof HTMLInputElement&&"select"in n}function Us(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&rD(n)&&e&&n.select()}}var rx=sD();function sD(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=sx(n,e),n.unshift(e)},remove(e){var t;n=sx(n,e),(t=n[0])==null||t.resume()}}}function sx(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function iD(n){return n.filter(e=>e.tagName!=="A")}var Qt=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},oD=Gx[" useId ".trim().toString()]||(()=>{}),aD=0;function ei(n){const[e,t]=E.useState(oD());return Qt(()=>{t(r=>r??String(aD++))},[n]),e?`radix-${e}`:""}const lD=["top","right","bottom","left"],ci=Math.min,An=Math.max,Dd=Math.round,qu=Math.floor,Vr=n=>({x:n,y:n}),cD={left:"right",right:"left",bottom:"top",top:"bottom"},uD={start:"end",end:"start"};function am(n,e,t){return An(n,ci(e,t))}function hs(n,e){return typeof n=="function"?n(e):n}function ps(n){return n.split("-")[0]}function Pa(n){return n.split("-")[1]}function $g(n){return n==="x"?"y":"x"}function zg(n){return n==="y"?"height":"width"}function Mr(n){return["top","bottom"].includes(ps(n))?"y":"x"}function Ug(n){return $g(Mr(n))}function dD(n,e,t){t===void 0&&(t=!1);const r=Pa(n),i=Ug(n),a=zg(i);let l=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Md(l)),[l,Md(l)]}function fD(n){const e=Md(n);return[lm(n),e,lm(e)]}function lm(n){return n.replace(/start|end/g,e=>uD[e])}function hD(n,e,t){const r=["left","right"],i=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?a:l;default:return[]}}function pD(n,e,t,r){const i=Pa(n);let a=hD(ps(n),t==="start",r);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(lm)))),a}function Md(n){return n.replace(/left|right|bottom|top/g,e=>cD[e])}function mD(n){return{top:0,right:0,bottom:0,left:0,...n}}function gC(n){return typeof n!="number"?mD(n):{top:n,right:n,bottom:n,left:n}}function Od(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function ix(n,e,t){let{reference:r,floating:i}=n;const a=Mr(e),l=Ug(e),u=zg(l),f=ps(e),h=a==="y",m=r.x+r.width/2-i.width/2,w=r.y+r.height/2-i.height/2,v=r[u]/2-i[u]/2;let T;switch(f){case"top":T={x:m,y:r.y-i.height};break;case"bottom":T={x:m,y:r.y+r.height};break;case"right":T={x:r.x+r.width,y:w};break;case"left":T={x:r.x-i.width,y:w};break;default:T={x:r.x,y:r.y}}switch(Pa(e)){case"start":T[l]-=v*(t&&h?-1:1);break;case"end":T[l]+=v*(t&&h?-1:1);break}return T}const gD=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:l}=t,u=a.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:n,floating:e,strategy:i}),{x:m,y:w}=ix(h,r,f),v=r,T={},C=0;for(let S=0;S<u.length;S++){const{name:b,fn:N}=u[S],{x:M,y:L,data:U,reset:$}=await N({x:m,y:w,initialPlacement:r,placement:v,strategy:i,middlewareData:T,rects:h,platform:l,elements:{reference:n,floating:e}});m=M??m,w=L??w,T={...T,[b]:{...T[b],...U}},$&&C<=50&&(C++,typeof $=="object"&&($.placement&&(v=$.placement),$.rects&&(h=$.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:i}):$.rects),{x:m,y:w}=ix(h,v,f)),S=-1)}return{x:m,y:w,placement:v,strategy:i,middlewareData:T}};async function cc(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:l,elements:u,strategy:f}=n,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:w="floating",altBoundary:v=!1,padding:T=0}=hs(e,n),C=gC(T),b=u[v?w==="floating"?"reference":"floating":w],N=Od(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(b)))==null||t?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:h,rootBoundary:m,strategy:f})),M=w==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,L=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),U=await(a.isElement==null?void 0:a.isElement(L))?await(a.getScale==null?void 0:a.getScale(L))||{x:1,y:1}:{x:1,y:1},$=Od(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:M,offsetParent:L,strategy:f}):M);return{top:(N.top-$.top+C.top)/U.y,bottom:($.bottom-N.bottom+C.bottom)/U.y,left:(N.left-$.left+C.left)/U.x,right:($.right-N.right+C.right)/U.x}}const yD=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:a,platform:l,elements:u,middlewareData:f}=e,{element:h,padding:m=0}=hs(n,e)||{};if(h==null)return{};const w=gC(m),v={x:t,y:r},T=Ug(i),C=zg(T),S=await l.getDimensions(h),b=T==="y",N=b?"top":"left",M=b?"bottom":"right",L=b?"clientHeight":"clientWidth",U=a.reference[C]+a.reference[T]-v[T]-a.floating[C],$=v[T]-a.reference[T],G=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let k=G?G[L]:0;(!k||!await(l.isElement==null?void 0:l.isElement(G)))&&(k=u.floating[L]||a.floating[C]);const R=U/2-$/2,D=k/2-S[C]/2-1,V=ci(w[N],D),F=ci(w[M],D),P=V,j=k-S[C]-F,ee=k/2-S[C]/2+R,te=am(P,ee,j),re=!f.arrow&&Pa(i)!=null&&ee!==te&&a.reference[C]/2-(ee<P?V:F)-S[C]/2<0,ue=re?ee<P?ee-P:ee-j:0;return{[T]:v[T]+ue,data:{[T]:te,centerOffset:ee-te-ue,...re&&{alignmentOffset:ue}},reset:re}}}),vD=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:a,rects:l,initialPlacement:u,platform:f,elements:h}=e,{mainAxis:m=!0,crossAxis:w=!0,fallbackPlacements:v,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:S=!0,...b}=hs(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const N=ps(i),M=Mr(u),L=ps(u)===u,U=await(f.isRTL==null?void 0:f.isRTL(h.floating)),$=v||(L||!S?[Md(u)]:fD(u)),G=C!=="none";!v&&G&&$.push(...pD(u,S,C,U));const k=[u,...$],R=await cc(e,b),D=[];let V=((r=a.flip)==null?void 0:r.overflows)||[];if(m&&D.push(R[N]),w){const ee=dD(i,l,U);D.push(R[ee[0]],R[ee[1]])}if(V=[...V,{placement:i,overflows:D}],!D.every(ee=>ee<=0)){var F,P;const ee=(((F=a.flip)==null?void 0:F.index)||0)+1,te=k[ee];if(te&&(!(w==="alignment"?M!==Mr(te):!1)||V.every(Y=>Y.overflows[0]>0&&Mr(Y.placement)===M)))return{data:{index:ee,overflows:V},reset:{placement:te}};let re=(P=V.filter(ue=>ue.overflows[0]<=0).sort((ue,Y)=>ue.overflows[1]-Y.overflows[1])[0])==null?void 0:P.placement;if(!re)switch(T){case"bestFit":{var j;const ue=(j=V.filter(Y=>{if(G){const ne=Mr(Y.placement);return ne===M||ne==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(ne=>ne>0).reduce((ne,le)=>ne+le,0)]).sort((Y,ne)=>Y[1]-ne[1])[0])==null?void 0:j[0];ue&&(re=ue);break}case"initialPlacement":re=u;break}if(i!==re)return{reset:{placement:re}}}return{}}}};function ox(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function ax(n){return lD.some(e=>n[e]>=0)}const wD=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=hs(n,e);switch(r){case"referenceHidden":{const a=await cc(e,{...i,elementContext:"reference"}),l=ox(a,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:ax(l)}}}case"escaped":{const a=await cc(e,{...i,altBoundary:!0}),l=ox(a,t.floating);return{data:{escapedOffsets:l,escaped:ax(l)}}}default:return{}}}}};async function xD(n,e){const{placement:t,platform:r,elements:i}=n,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=ps(t),u=Pa(t),f=Mr(t)==="y",h=["left","top"].includes(l)?-1:1,m=a&&f?-1:1,w=hs(e,n);let{mainAxis:v,crossAxis:T,alignmentAxis:C}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return u&&typeof C=="number"&&(T=u==="end"?C*-1:C),f?{x:T*m,y:v*h}:{x:v*h,y:T*m}}const _D=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:a,placement:l,middlewareData:u}=e,f=await xD(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:a+f.y,data:{...f,placement:l}}}}},ED=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:b=>{let{x:N,y:M}=b;return{x:N,y:M}}},...f}=hs(n,e),h={x:t,y:r},m=await cc(e,f),w=Mr(ps(i)),v=$g(w);let T=h[v],C=h[w];if(a){const b=v==="y"?"top":"left",N=v==="y"?"bottom":"right",M=T+m[b],L=T-m[N];T=am(M,T,L)}if(l){const b=w==="y"?"top":"left",N=w==="y"?"bottom":"right",M=C+m[b],L=C-m[N];C=am(M,C,L)}const S=u.fn({...e,[v]:T,[w]:C});return{...S,data:{x:S.x-t,y:S.y-r,enabled:{[v]:a,[w]:l}}}}}},CD=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:a,middlewareData:l}=e,{offset:u=0,mainAxis:f=!0,crossAxis:h=!0}=hs(n,e),m={x:t,y:r},w=Mr(i),v=$g(w);let T=m[v],C=m[w];const S=hs(u,e),b=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(f){const L=v==="y"?"height":"width",U=a.reference[v]-a.floating[L]+b.mainAxis,$=a.reference[v]+a.reference[L]-b.mainAxis;T<U?T=U:T>$&&(T=$)}if(h){var N,M;const L=v==="y"?"width":"height",U=["top","left"].includes(ps(i)),$=a.reference[w]-a.floating[L]+(U&&((N=l.offset)==null?void 0:N[w])||0)+(U?0:b.crossAxis),G=a.reference[w]+a.reference[L]+(U?0:((M=l.offset)==null?void 0:M[w])||0)-(U?b.crossAxis:0);C<$?C=$:C>G&&(C=G)}return{[v]:T,[w]:C}}}},SD=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:a,platform:l,elements:u}=e,{apply:f=()=>{},...h}=hs(n,e),m=await cc(e,h),w=ps(i),v=Pa(i),T=Mr(i)==="y",{width:C,height:S}=a.floating;let b,N;w==="top"||w==="bottom"?(b=w,N=v===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(N=w,b=v==="end"?"top":"bottom");const M=S-m.top-m.bottom,L=C-m.left-m.right,U=ci(S-m[b],M),$=ci(C-m[N],L),G=!e.middlewareData.shift;let k=U,R=$;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(R=L),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=M),G&&!v){const V=An(m.left,0),F=An(m.right,0),P=An(m.top,0),j=An(m.bottom,0);T?R=C-2*(V!==0||F!==0?V+F:An(m.left,m.right)):k=S-2*(P!==0||j!==0?P+j:An(m.top,m.bottom))}await f({...e,availableWidth:R,availableHeight:k});const D=await l.getDimensions(u.floating);return C!==D.width||S!==D.height?{reset:{rects:!0}}:{}}}};function gf(){return typeof window<"u"}function ka(n){return yC(n)?(n.nodeName||"").toLowerCase():"#document"}function Pn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function zr(n){var e;return(e=(yC(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function yC(n){return gf()?n instanceof Node||n instanceof Pn(n).Node:!1}function mr(n){return gf()?n instanceof Element||n instanceof Pn(n).Element:!1}function $r(n){return gf()?n instanceof HTMLElement||n instanceof Pn(n).HTMLElement:!1}function lx(n){return!gf()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Pn(n).ShadowRoot}function Ec(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=gr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function TD(n){return["table","td","th"].includes(ka(n))}function yf(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Bg(n){const e=Hg(),t=mr(n)?gr(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function bD(n){let e=ui(n);for(;$r(e)&&!xa(e);){if(Bg(e))return e;if(yf(e))return null;e=ui(e)}return null}function Hg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xa(n){return["html","body","#document"].includes(ka(n))}function gr(n){return Pn(n).getComputedStyle(n)}function vf(n){return mr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ui(n){if(ka(n)==="html")return n;const e=n.assignedSlot||n.parentNode||lx(n)&&n.host||zr(n);return lx(e)?e.host:e}function vC(n){const e=ui(n);return xa(e)?n.ownerDocument?n.ownerDocument.body:n.body:$r(e)&&Ec(e)?e:vC(e)}function uc(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=vC(n),a=i===((r=n.ownerDocument)==null?void 0:r.body),l=Pn(i);if(a){const u=cm(l);return e.concat(l,l.visualViewport||[],Ec(i)?i:[],u&&t?uc(u):[])}return e.concat(i,uc(i,[],t))}function cm(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function wC(n){const e=gr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=$r(n),a=i?n.offsetWidth:t,l=i?n.offsetHeight:r,u=Dd(t)!==a||Dd(r)!==l;return u&&(t=a,r=l),{width:t,height:r,$:u}}function Wg(n){return mr(n)?n:n.contextElement}function la(n){const e=Wg(n);if(!$r(e))return Vr(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:a}=wC(e);let l=(a?Dd(t.width):t.width)/r,u=(a?Dd(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const ID=Vr(0);function xC(n){const e=Pn(n);return!Hg()||!e.visualViewport?ID:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ND(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Pn(n)?!1:e}function Xi(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=Wg(n);let l=Vr(1);e&&(r?mr(r)&&(l=la(r)):l=la(n));const u=ND(a,t,r)?xC(a):Vr(0);let f=(i.left+u.x)/l.x,h=(i.top+u.y)/l.y,m=i.width/l.x,w=i.height/l.y;if(a){const v=Pn(a),T=r&&mr(r)?Pn(r):r;let C=v,S=cm(C);for(;S&&r&&T!==C;){const b=la(S),N=S.getBoundingClientRect(),M=gr(S),L=N.left+(S.clientLeft+parseFloat(M.paddingLeft))*b.x,U=N.top+(S.clientTop+parseFloat(M.paddingTop))*b.y;f*=b.x,h*=b.y,m*=b.x,w*=b.y,f+=L,h+=U,C=Pn(S),S=cm(C)}}return Od({width:m,height:w,x:f,y:h})}function qg(n,e){const t=vf(n).scrollLeft;return e?e.left+t:Xi(zr(n)).left+t}function _C(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:qg(n,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function AD(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const a=i==="fixed",l=zr(r),u=e?yf(e.floating):!1;if(r===l||u&&a)return t;let f={scrollLeft:0,scrollTop:0},h=Vr(1);const m=Vr(0),w=$r(r);if((w||!w&&!a)&&((ka(r)!=="body"||Ec(l))&&(f=vf(r)),$r(r))){const T=Xi(r);h=la(r),m.x=T.x+r.clientLeft,m.y=T.y+r.clientTop}const v=l&&!w&&!a?_C(l,f,!0):Vr(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-f.scrollLeft*h.x+m.x+v.x,y:t.y*h.y-f.scrollTop*h.y+m.y+v.y}}function RD(n){return Array.from(n.getClientRects())}function PD(n){const e=zr(n),t=vf(n),r=n.ownerDocument.body,i=An(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=An(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+qg(n);const u=-t.scrollTop;return gr(r).direction==="rtl"&&(l+=An(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:l,y:u}}function kD(n,e){const t=Pn(n),r=zr(n),i=t.visualViewport;let a=r.clientWidth,l=r.clientHeight,u=0,f=0;if(i){a=i.width,l=i.height;const h=Hg();(!h||h&&e==="fixed")&&(u=i.offsetLeft,f=i.offsetTop)}return{width:a,height:l,x:u,y:f}}function DD(n,e){const t=Xi(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,a=$r(n)?la(n):Vr(1),l=n.clientWidth*a.x,u=n.clientHeight*a.y,f=i*a.x,h=r*a.y;return{width:l,height:u,x:f,y:h}}function cx(n,e,t){let r;if(e==="viewport")r=kD(n,t);else if(e==="document")r=PD(zr(n));else if(mr(e))r=DD(e,t);else{const i=xC(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Od(r)}function EC(n,e){const t=ui(n);return t===e||!mr(t)||xa(t)?!1:gr(t).position==="fixed"||EC(t,e)}function MD(n,e){const t=e.get(n);if(t)return t;let r=uc(n,[],!1).filter(u=>mr(u)&&ka(u)!=="body"),i=null;const a=gr(n).position==="fixed";let l=a?ui(n):n;for(;mr(l)&&!xa(l);){const u=gr(l),f=Bg(l);!f&&u.position==="fixed"&&(i=null),(a?!f&&!i:!f&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ec(l)&&!f&&EC(n,l))?r=r.filter(m=>m!==l):i=u,l=ui(l)}return e.set(n,r),r}function OD(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const l=[...t==="clippingAncestors"?yf(e)?[]:MD(e,this._c):[].concat(t),r],u=l[0],f=l.reduce((h,m)=>{const w=cx(e,m,i);return h.top=An(w.top,h.top),h.right=ci(w.right,h.right),h.bottom=ci(w.bottom,h.bottom),h.left=An(w.left,h.left),h},cx(e,u,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function jD(n){const{width:e,height:t}=wC(n);return{width:e,height:t}}function LD(n,e,t){const r=$r(e),i=zr(e),a=t==="fixed",l=Xi(n,!0,a,e);let u={scrollLeft:0,scrollTop:0};const f=Vr(0);function h(){f.x=qg(i)}if(r||!r&&!a)if((ka(e)!=="body"||Ec(i))&&(u=vf(e)),r){const T=Xi(e,!0,a,e);f.x=T.x+e.clientLeft,f.y=T.y+e.clientTop}else i&&h();a&&!r&&i&&h();const m=i&&!r&&!a?_C(i,u):Vr(0),w=l.left+u.scrollLeft-f.x-m.x,v=l.top+u.scrollTop-f.y-m.y;return{x:w,y:v,width:l.width,height:l.height}}function wp(n){return gr(n).position==="static"}function ux(n,e){if(!$r(n)||gr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return zr(n)===t&&(t=t.ownerDocument.body),t}function CC(n,e){const t=Pn(n);if(yf(n))return t;if(!$r(n)){let i=ui(n);for(;i&&!xa(i);){if(mr(i)&&!wp(i))return i;i=ui(i)}return t}let r=ux(n,e);for(;r&&TD(r)&&wp(r);)r=ux(r,e);return r&&xa(r)&&wp(r)&&!Bg(r)?t:r||bD(n)||t}const VD=async function(n){const e=this.getOffsetParent||CC,t=this.getDimensions,r=await t(n.floating);return{reference:LD(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function FD(n){return gr(n).direction==="rtl"}const $D={convertOffsetParentRelativeRectToViewportRelativeRect:AD,getDocumentElement:zr,getClippingRect:OD,getOffsetParent:CC,getElementRects:VD,getClientRects:RD,getDimensions:jD,getScale:la,isElement:mr,isRTL:FD};function SC(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function zD(n,e){let t=null,r;const i=zr(n);function a(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),a();const h=n.getBoundingClientRect(),{left:m,top:w,width:v,height:T}=h;if(u||e(),!v||!T)return;const C=qu(w),S=qu(i.clientWidth-(m+v)),b=qu(i.clientHeight-(w+T)),N=qu(m),L={rootMargin:-C+"px "+-S+"px "+-b+"px "+-N+"px",threshold:An(0,ci(1,f))||1};let U=!0;function $(G){const k=G[0].intersectionRatio;if(k!==f){if(!U)return l();k?l(!1,k):r=setTimeout(()=>{l(!1,1e-7)},1e3)}k===1&&!SC(h,n.getBoundingClientRect())&&l(),U=!1}try{t=new IntersectionObserver($,{...L,root:i.ownerDocument})}catch{t=new IntersectionObserver($,L)}t.observe(n)}return l(!0),a}function UD(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,h=Wg(n),m=i||a?[...h?uc(h):[],...uc(e)]:[];m.forEach(N=>{i&&N.addEventListener("scroll",t,{passive:!0}),a&&N.addEventListener("resize",t)});const w=h&&u?zD(h,t):null;let v=-1,T=null;l&&(T=new ResizeObserver(N=>{let[M]=N;M&&M.target===h&&T&&(T.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var L;(L=T)==null||L.observe(e)})),t()}),h&&!f&&T.observe(h),T.observe(e));let C,S=f?Xi(n):null;f&&b();function b(){const N=Xi(n);S&&!SC(S,N)&&t(),S=N,C=requestAnimationFrame(b)}return t(),()=>{var N;m.forEach(M=>{i&&M.removeEventListener("scroll",t),a&&M.removeEventListener("resize",t)}),w==null||w(),(N=T)==null||N.disconnect(),T=null,f&&cancelAnimationFrame(C)}}const BD=_D,HD=ED,WD=vD,qD=SD,KD=wD,dx=yD,GD=CD,QD=(n,e,t)=>{const r=new Map,i={platform:$D,...t},a={...i.platform,_c:r};return gD(n,e,{...i,platform:a})};var YD=typeof document<"u",XD=function(){},ud=YD?E.useLayoutEffect:XD;function jd(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!jd(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const a=i[r];if(!(a==="_owner"&&n.$$typeof)&&!jd(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function TC(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function fx(n,e){const t=TC(n);return Math.round(e*t)/t}function xp(n){const e=E.useRef(n);return ud(()=>{e.current=n}),e}function JD(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:f,open:h}=n,[m,w]=E.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[v,T]=E.useState(r);jd(v,r)||T(r);const[C,S]=E.useState(null),[b,N]=E.useState(null),M=E.useCallback(Y=>{Y!==G.current&&(G.current=Y,S(Y))},[]),L=E.useCallback(Y=>{Y!==k.current&&(k.current=Y,N(Y))},[]),U=a||C,$=l||b,G=E.useRef(null),k=E.useRef(null),R=E.useRef(m),D=f!=null,V=xp(f),F=xp(i),P=xp(h),j=E.useCallback(()=>{if(!G.current||!k.current)return;const Y={placement:e,strategy:t,middleware:v};F.current&&(Y.platform=F.current),QD(G.current,k.current,Y).then(ne=>{const le={...ne,isPositioned:P.current!==!1};ee.current&&!jd(R.current,le)&&(R.current=le,Sa.flushSync(()=>{w(le)}))})},[v,e,t,F,P]);ud(()=>{h===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,w(Y=>({...Y,isPositioned:!1})))},[h]);const ee=E.useRef(!1);ud(()=>(ee.current=!0,()=>{ee.current=!1}),[]),ud(()=>{if(U&&(G.current=U),$&&(k.current=$),U&&$){if(V.current)return V.current(U,$,j);j()}},[U,$,j,V,D]);const te=E.useMemo(()=>({reference:G,floating:k,setReference:M,setFloating:L}),[M,L]),re=E.useMemo(()=>({reference:U,floating:$}),[U,$]),ue=E.useMemo(()=>{const Y={position:t,left:0,top:0};if(!re.floating)return Y;const ne=fx(re.floating,m.x),le=fx(re.floating,m.y);return u?{...Y,transform:"translate("+ne+"px, "+le+"px)",...TC(re.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ne,top:le}},[t,u,re.floating,m.x,m.y]);return E.useMemo(()=>({...m,update:j,refs:te,elements:re,floatingStyles:ue}),[m,j,te,re,ue])}const ZD=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?dx({element:r.current,padding:i}).fn(t):{}:r?dx({element:r,padding:i}).fn(t):{}}}},eM=(n,e)=>({...BD(n),options:[n,e]}),tM=(n,e)=>({...HD(n),options:[n,e]}),nM=(n,e)=>({...GD(n),options:[n,e]}),rM=(n,e)=>({...WD(n),options:[n,e]}),sM=(n,e)=>({...qD(n),options:[n,e]}),iM=(n,e)=>({...KD(n),options:[n,e]}),oM=(n,e)=>({...ZD(n),options:[n,e]});var aM="Arrow",bC=E.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...a}=n;return g.jsx($e.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});bC.displayName=aM;var lM=bC;function cM(n){const[e,t]=E.useState(void 0);return Qt(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,u;if("borderBoxSize"in a){const f=a.borderBoxSize,h=Array.isArray(f)?f[0]:f;l=h.inlineSize,u=h.blockSize}else l=n.offsetWidth,u=n.offsetHeight;t({width:l,height:u})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Kg="Popper",[IC,NC]=mi(Kg),[uM,AC]=IC(Kg),RC=n=>{const{__scopePopper:e,children:t}=n,[r,i]=E.useState(null);return g.jsx(uM,{scope:e,anchor:r,onAnchorChange:i,children:t})};RC.displayName=Kg;var PC="PopperAnchor",kC=E.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,a=AC(PC,t),l=E.useRef(null),u=at(e,l);return E.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:g.jsx($e.div,{...i,ref:u})});kC.displayName=PC;var Gg="PopperContent",[dM,fM]=IC(Gg),DC=E.forwardRef((n,e)=>{var fe,ve,De,me,Re,qe;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:w="partial",hideWhenDetached:v=!1,updatePositionStrategy:T="optimized",onPlaced:C,...S}=n,b=AC(Gg,t),[N,M]=E.useState(null),L=at(e,wt=>M(wt)),[U,$]=E.useState(null),G=cM(U),k=(G==null?void 0:G.width)??0,R=(G==null?void 0:G.height)??0,D=r+(a!=="center"?"-"+a:""),V=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},F=Array.isArray(h)?h:[h],P=F.length>0,j={padding:V,boundary:F.filter(pM),altBoundary:P},{refs:ee,floatingStyles:te,placement:re,isPositioned:ue,middlewareData:Y}=JD({strategy:"fixed",placement:D,whileElementsMounted:(...wt)=>UD(...wt,{animationFrame:T==="always"}),elements:{reference:b.anchor},middleware:[eM({mainAxis:i+R,alignmentAxis:l}),f&&tM({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?nM():void 0,...j}),f&&rM({...j}),sM({...j,apply:({elements:wt,rects:Ot,availableWidth:kn,availableHeight:qn})=>{const{width:Kn,height:oo}=Ot.reference,Gn=wt.floating.style;Gn.setProperty("--radix-popper-available-width",`${kn}px`),Gn.setProperty("--radix-popper-available-height",`${qn}px`),Gn.setProperty("--radix-popper-anchor-width",`${Kn}px`),Gn.setProperty("--radix-popper-anchor-height",`${oo}px`)}}),U&&oM({element:U,padding:u}),mM({arrowWidth:k,arrowHeight:R}),v&&iM({strategy:"referenceHidden",...j})]}),[ne,le]=jC(re),B=Wn(C);Qt(()=>{ue&&(B==null||B())},[ue,B]);const Z=(fe=Y.arrow)==null?void 0:fe.x,de=(ve=Y.arrow)==null?void 0:ve.y,ge=((De=Y.arrow)==null?void 0:De.centerOffset)!==0,[Se,Ae]=E.useState();return Qt(()=>{N&&Ae(window.getComputedStyle(N).zIndex)},[N]),g.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:ue?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(me=Y.transformOrigin)==null?void 0:me.x,(Re=Y.transformOrigin)==null?void 0:Re.y].join(" "),...((qe=Y.hide)==null?void 0:qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:g.jsx(dM,{scope:t,placedSide:ne,onArrowChange:$,arrowX:Z,arrowY:de,shouldHideArrow:ge,children:g.jsx($e.div,{"data-side":ne,"data-align":le,...S,ref:L,style:{...S.style,animation:ue?void 0:"none"}})})})});DC.displayName=Gg;var MC="PopperArrow",hM={top:"bottom",right:"left",bottom:"top",left:"right"},OC=E.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,a=fM(MC,r),l=hM[a.placedSide];return g.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:g.jsx(lM,{...i,ref:t,style:{...i.style,display:"block"}})})});OC.displayName=MC;function pM(n){return n!==null}var mM=n=>({name:"transformOrigin",options:n,fn(e){var b,N,M;const{placement:t,rects:r,middlewareData:i}=e,l=((b=i.arrow)==null?void 0:b.centerOffset)!==0,u=l?0:n.arrowWidth,f=l?0:n.arrowHeight,[h,m]=jC(t),w={start:"0%",center:"50%",end:"100%"}[m],v=(((N=i.arrow)==null?void 0:N.x)??0)+u/2,T=(((M=i.arrow)==null?void 0:M.y)??0)+f/2;let C="",S="";return h==="bottom"?(C=l?w:`${v}px`,S=`${-f}px`):h==="top"?(C=l?w:`${v}px`,S=`${r.floating.height+f}px`):h==="right"?(C=`${-f}px`,S=l?w:`${T}px`):h==="left"&&(C=`${r.floating.width+f}px`,S=l?w:`${T}px`),{data:{x:C,y:S}}}});function jC(n){const[e,t="center"]=n.split("-");return[e,t]}var gM=RC,yM=kC,vM=DC,wM=OC,xM="Portal",wf=E.forwardRef((n,e)=>{var u;const{container:t,...r}=n,[i,a]=E.useState(!1);Qt(()=>a(!0),[]);const l=t||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?vN.createPortal(g.jsx($e.div,{...r,ref:e}),l):null});wf.displayName=xM;var _M=Gx[" useInsertionEffect ".trim().toString()]||Qt;function _a({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,a,l]=EM({defaultProp:e,onChange:t}),u=n!==void 0,f=u?n:i;{const m=E.useRef(n!==void 0);E.useEffect(()=>{const w=m.current;w!==u&&console.warn(`${r} is changing from ${w?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,r])}const h=E.useCallback(m=>{var w;if(u){const v=CM(m)?m(n):m;v!==n&&((w=l.current)==null||w.call(l,v))}else a(m)},[u,n,a,l]);return[f,h]}function EM({defaultProp:n,onChange:e}){const[t,r]=E.useState(n),i=E.useRef(t),a=E.useRef(e);return _M(()=>{a.current=e},[e]),E.useEffect(()=>{var l;i.current!==t&&((l=a.current)==null||l.call(a,t),i.current=t)},[t,i]),[t,r,a]}function CM(n){return typeof n=="function"}function SM(n){const e=E.useRef({value:n,previous:n});return E.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var LC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),TM="VisuallyHidden",Qg=E.forwardRef((n,e)=>g.jsx($e.span,{...n,ref:e,style:{...LC,...n.style}}));Qg.displayName=TM;var bM=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Xo=new WeakMap,Ku=new WeakMap,Gu={},_p=0,VC=function(n){return n&&(n.host||VC(n.parentNode))},IM=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=VC(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},NM=function(n,e,t,r){var i=IM(e,Array.isArray(n)?n:[n]);Gu[t]||(Gu[t]=new WeakMap);var a=Gu[t],l=[],u=new Set,f=new Set(i),h=function(w){!w||u.has(w)||(u.add(w),h(w.parentNode))};i.forEach(h);var m=function(w){!w||f.has(w)||Array.prototype.forEach.call(w.children,function(v){if(u.has(v))m(v);else try{var T=v.getAttribute(r),C=T!==null&&T!=="false",S=(Xo.get(v)||0)+1,b=(a.get(v)||0)+1;Xo.set(v,S),a.set(v,b),l.push(v),S===1&&C&&Ku.set(v,!0),b===1&&v.setAttribute(t,"true"),C||v.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",v,N)}})};return m(e),u.clear(),_p++,function(){l.forEach(function(w){var v=Xo.get(w)-1,T=a.get(w)-1;Xo.set(w,v),a.set(w,T),v||(Ku.has(w)||w.removeAttribute(r),Ku.delete(w)),T||w.removeAttribute(t)}),_p--,_p||(Xo=new WeakMap,Xo=new WeakMap,Ku=new WeakMap,Gu={})}},FC=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=bM(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),NM(r,i,t,"aria-hidden")):function(){return null}},Dr=function(){return Dr=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Dr.apply(this,arguments)};function $C(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function AM(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}var dd="right-scroll-bar-position",fd="width-before-scroll-bar",RM="with-scroll-bars-hidden",PM="--removed-body-scroll-bar-size";function Ep(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function kM(n,e){var t=E.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var DM=typeof window<"u"?E.useLayoutEffect:E.useEffect,hx=new WeakMap;function MM(n,e){var t=kM(null,function(r){return n.forEach(function(i){return Ep(i,r)})});return DM(function(){var r=hx.get(t);if(r){var i=new Set(r),a=new Set(n),l=t.current;i.forEach(function(u){a.has(u)||Ep(u,null)}),a.forEach(function(u){i.has(u)||Ep(u,l)})}hx.set(t,n)},[n]),t}function OM(n){return n}function jM(n,e){e===void 0&&(e=OM);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var l=e(a,r);return t.push(l),function(){t=t.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(r=!0;t.length;){var l=t;t=[],l.forEach(a)}t={push:function(u){return a(u)},filter:function(){return t}}},assignMedium:function(a){r=!0;var l=[];if(t.length){var u=t;t=[],u.forEach(a),l=t}var f=function(){var m=l;l=[],m.forEach(a)},h=function(){return Promise.resolve().then(f)};h(),t={push:function(m){l.push(m),h()},filter:function(m){return l=l.filter(m),t}}}};return i}function LM(n){n===void 0&&(n={});var e=jM(null);return e.options=Dr({async:!0,ssr:!1},n),e}var zC=function(n){var e=n.sideCar,t=$C(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Dr({},t))};zC.isSideCarExport=!0;function VM(n,e){return n.useMedium(e),zC}var UC=LM(),Cp=function(){},xf=E.forwardRef(function(n,e){var t=E.useRef(null),r=E.useState({onScrollCapture:Cp,onWheelCapture:Cp,onTouchMoveCapture:Cp}),i=r[0],a=r[1],l=n.forwardProps,u=n.children,f=n.className,h=n.removeScrollBar,m=n.enabled,w=n.shards,v=n.sideCar,T=n.noRelative,C=n.noIsolation,S=n.inert,b=n.allowPinchZoom,N=n.as,M=N===void 0?"div":N,L=n.gapMode,U=$C(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=v,G=MM([t,e]),k=Dr(Dr({},U),i);return E.createElement(E.Fragment,null,m&&E.createElement($,{sideCar:UC,removeScrollBar:h,shards:w,noRelative:T,noIsolation:C,inert:S,setCallbacks:a,allowPinchZoom:!!b,lockRef:t,gapMode:L}),l?E.cloneElement(E.Children.only(u),Dr(Dr({},k),{ref:G})):E.createElement(M,Dr({},k,{className:f,ref:G}),u))});xf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xf.classNames={fullWidth:fd,zeroRight:dd};var FM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $M(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=FM();return e&&n.setAttribute("nonce",e),n}function zM(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function UM(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var BM=function(){var n=0,e=null;return{add:function(t){n==0&&(e=$M())&&(zM(e,t),UM(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},HM=function(){var n=BM();return function(e,t){E.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},BC=function(){var n=HM(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},WM={left:0,top:0,right:0,gap:0},Sp=function(n){return parseInt(n||"",10)||0},qM=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[Sp(t),Sp(r),Sp(i)]},KM=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return WM;var e=qM(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},GM=BC(),ca="data-scroll-locked",QM=function(n,e,t,r){var i=n.left,a=n.top,l=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(RM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(ca,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dd,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(fd,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(dd," .").concat(dd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(fd," .").concat(fd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ca,`] {
    `).concat(PM,": ").concat(u,`px;
  }
`)},px=function(){var n=parseInt(document.body.getAttribute(ca)||"0",10);return isFinite(n)?n:0},YM=function(){E.useEffect(function(){return document.body.setAttribute(ca,(px()+1).toString()),function(){var n=px()-1;n<=0?document.body.removeAttribute(ca):document.body.setAttribute(ca,n.toString())}},[])},XM=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;YM();var a=E.useMemo(function(){return KM(i)},[i]);return E.createElement(GM,{styles:QM(a,!e,i,t?"":"!important")})},um=!1;if(typeof window<"u")try{var Qu=Object.defineProperty({},"passive",{get:function(){return um=!0,!0}});window.addEventListener("test",Qu,Qu),window.removeEventListener("test",Qu,Qu)}catch{um=!1}var Jo=um?{passive:!1}:!1,JM=function(n){return n.tagName==="TEXTAREA"},HC=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!JM(n)&&t[e]==="visible")},ZM=function(n){return HC(n,"overflowY")},eO=function(n){return HC(n,"overflowX")},mx=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=WC(n,r);if(i){var a=qC(n,r),l=a[1],u=a[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},tO=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},nO=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},WC=function(n,e){return n==="v"?ZM(e):eO(e)},qC=function(n,e){return n==="v"?tO(e):nO(e)},rO=function(n,e){return n==="h"&&e==="rtl"?-1:1},sO=function(n,e,t,r,i){var a=rO(n,window.getComputedStyle(e).direction),l=a*r,u=t.target,f=e.contains(u),h=!1,m=l>0,w=0,v=0;do{if(!u)break;var T=qC(n,u),C=T[0],S=T[1],b=T[2],N=S-b-a*C;(C||N)&&WC(n,u)&&(w+=N,v+=C);var M=u.parentNode;u=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!f&&u!==document.body||f&&(e.contains(u)||e===u));return(m&&Math.abs(w)<1||!m&&Math.abs(v)<1)&&(h=!0),h},Yu=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},gx=function(n){return[n.deltaX,n.deltaY]},yx=function(n){return n&&"current"in n?n.current:n},iO=function(n,e){return n[0]===e[0]&&n[1]===e[1]},oO=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},aO=0,Zo=[];function lO(n){var e=E.useRef([]),t=E.useRef([0,0]),r=E.useRef(),i=E.useState(aO++)[0],a=E.useState(BC)[0],l=E.useRef(n);E.useEffect(function(){l.current=n},[n]),E.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var S=AM([n.lockRef.current],(n.shards||[]).map(yx),!0).filter(Boolean);return S.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),S.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var u=E.useCallback(function(S,b){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!l.current.allowPinchZoom;var N=Yu(S),M=t.current,L="deltaX"in S?S.deltaX:M[0]-N[0],U="deltaY"in S?S.deltaY:M[1]-N[1],$,G=S.target,k=Math.abs(L)>Math.abs(U)?"h":"v";if("touches"in S&&k==="h"&&G.type==="range")return!1;var R=mx(k,G);if(!R)return!0;if(R?$=k:($=k==="v"?"h":"v",R=mx(k,G)),!R)return!1;if(!r.current&&"changedTouches"in S&&(L||U)&&(r.current=$),!$)return!0;var D=r.current||$;return sO(D,b,S,D==="h"?L:U)},[]),f=E.useCallback(function(S){var b=S;if(!(!Zo.length||Zo[Zo.length-1]!==a)){var N="deltaY"in b?gx(b):Yu(b),M=e.current.filter(function($){return $.name===b.type&&($.target===b.target||b.target===$.shadowParent)&&iO($.delta,N)})[0];if(M&&M.should){b.cancelable&&b.preventDefault();return}if(!M){var L=(l.current.shards||[]).map(yx).filter(Boolean).filter(function($){return $.contains(b.target)}),U=L.length>0?u(b,L[0]):!l.current.noIsolation;U&&b.cancelable&&b.preventDefault()}}},[]),h=E.useCallback(function(S,b,N,M){var L={name:S,delta:b,target:N,should:M,shadowParent:cO(N)};e.current.push(L),setTimeout(function(){e.current=e.current.filter(function(U){return U!==L})},1)},[]),m=E.useCallback(function(S){t.current=Yu(S),r.current=void 0},[]),w=E.useCallback(function(S){h(S.type,gx(S),S.target,u(S,n.lockRef.current))},[]),v=E.useCallback(function(S){h(S.type,Yu(S),S.target,u(S,n.lockRef.current))},[]);E.useEffect(function(){return Zo.push(a),n.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:v}),document.addEventListener("wheel",f,Jo),document.addEventListener("touchmove",f,Jo),document.addEventListener("touchstart",m,Jo),function(){Zo=Zo.filter(function(S){return S!==a}),document.removeEventListener("wheel",f,Jo),document.removeEventListener("touchmove",f,Jo),document.removeEventListener("touchstart",m,Jo)}},[]);var T=n.removeScrollBar,C=n.inert;return E.createElement(E.Fragment,null,C?E.createElement(a,{styles:oO(i)}):null,T?E.createElement(XM,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function cO(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const uO=VM(UC,lO);var Yg=E.forwardRef(function(n,e){return E.createElement(xf,Dr({},n,{ref:e,sideCar:uO}))});Yg.classNames=xf.classNames;var dO=[" ","Enter","ArrowUp","ArrowDown"],fO=[" ","Enter"],Ji="Select",[_f,Ef,hO]=Lg(Ji),[Da,d9]=mi(Ji,[hO,NC]),Cf=NC(),[pO,gi]=Da(Ji),[mO,gO]=Da(Ji),KC=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:a,value:l,defaultValue:u,onValueChange:f,dir:h,name:m,autoComplete:w,disabled:v,required:T,form:C}=n,S=Cf(e),[b,N]=E.useState(null),[M,L]=E.useState(null),[U,$]=E.useState(!1),G=Vg(h),[k,R]=_a({prop:r,defaultProp:i??!1,onChange:a,caller:Ji}),[D,V]=_a({prop:l,defaultProp:u,onChange:f,caller:Ji}),F=E.useRef(null),P=b?C||!!b.closest("form"):!0,[j,ee]=E.useState(new Set),te=Array.from(j).map(re=>re.props.value).join(";");return g.jsx(gM,{...S,children:g.jsxs(pO,{required:T,scope:e,trigger:b,onTriggerChange:N,valueNode:M,onValueNodeChange:L,valueNodeHasChildren:U,onValueNodeHasChildrenChange:$,contentId:ei(),value:D,onValueChange:V,open:k,onOpenChange:R,dir:G,triggerPointerDownPosRef:F,disabled:v,children:[g.jsx(_f.Provider,{scope:e,children:g.jsx(mO,{scope:n.__scopeSelect,onNativeOptionAdd:E.useCallback(re=>{ee(ue=>new Set(ue).add(re))},[]),onNativeOptionRemove:E.useCallback(re=>{ee(ue=>{const Y=new Set(ue);return Y.delete(re),Y})},[]),children:t})}),P?g.jsxs(y1,{"aria-hidden":!0,required:T,tabIndex:-1,name:m,autoComplete:w,value:D,onChange:re=>V(re.target.value),disabled:v,form:C,children:[D===void 0?g.jsx("option",{value:""}):null,Array.from(j)]},te):null]})})};KC.displayName=Ji;var GC="SelectTrigger",QC=E.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,a=Cf(t),l=gi(GC,t),u=l.disabled||r,f=at(e,l.onTriggerChange),h=Ef(t),m=E.useRef("touch"),[w,v,T]=w1(S=>{const b=h().filter(L=>!L.disabled),N=b.find(L=>L.value===l.value),M=x1(b,S,N);M!==void 0&&l.onValueChange(M.value)}),C=S=>{u||(l.onOpenChange(!0),T()),S&&(l.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return g.jsx(yM,{asChild:!0,...a,children:g.jsx($e.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":v1(l.value)?"":void 0,...i,ref:f,onClick:Le(i.onClick,S=>{S.currentTarget.focus(),m.current!=="mouse"&&C(S)}),onPointerDown:Le(i.onPointerDown,S=>{m.current=S.pointerType;const b=S.target;b.hasPointerCapture(S.pointerId)&&b.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(C(S),S.preventDefault())}),onKeyDown:Le(i.onKeyDown,S=>{const b=w.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&v(S.key),!(b&&S.key===" ")&&dO.includes(S.key)&&(C(),S.preventDefault())})})})});QC.displayName=GC;var YC="SelectValue",XC=E.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:a,placeholder:l="",...u}=n,f=gi(YC,t),{onValueNodeHasChildrenChange:h}=f,m=a!==void 0,w=at(e,f.onValueNodeChange);return Qt(()=>{h(m)},[h,m]),g.jsx($e.span,{...u,ref:w,style:{pointerEvents:"none"},children:v1(f.value)?g.jsx(g.Fragment,{children:l}):a})});XC.displayName=YC;var yO="SelectIcon",JC=E.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return g.jsx($e.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});JC.displayName=yO;var vO="SelectPortal",ZC=n=>g.jsx(wf,{asChild:!0,...n});ZC.displayName=vO;var Zi="SelectContent",e1=E.forwardRef((n,e)=>{const t=gi(Zi,n.__scopeSelect),[r,i]=E.useState();if(Qt(()=>{i(new DocumentFragment)},[]),!t.open){const a=r;return a?Sa.createPortal(g.jsx(t1,{scope:n.__scopeSelect,children:g.jsx(_f.Slot,{scope:n.__scopeSelect,children:g.jsx("div",{children:n.children})})}),a):null}return g.jsx(n1,{...n,ref:e})});e1.displayName=Zi;var fr=10,[t1,yi]=Da(Zi),wO="SelectContentImpl",xO=wa("SelectContent.RemoveScroll"),n1=E.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:l,side:u,sideOffset:f,align:h,alignOffset:m,arrowPadding:w,collisionBoundary:v,collisionPadding:T,sticky:C,hideWhenDetached:S,avoidCollisions:b,...N}=n,M=gi(Zi,t),[L,U]=E.useState(null),[$,G]=E.useState(null),k=at(e,fe=>U(fe)),[R,D]=E.useState(null),[V,F]=E.useState(null),P=Ef(t),[j,ee]=E.useState(!1),te=E.useRef(!1);E.useEffect(()=>{if(L)return FC(L)},[L]),pC();const re=E.useCallback(fe=>{const[ve,...De]=P().map(qe=>qe.ref.current),[me]=De.slice(-1),Re=document.activeElement;for(const qe of fe)if(qe===Re||(qe==null||qe.scrollIntoView({block:"nearest"}),qe===ve&&$&&($.scrollTop=0),qe===me&&$&&($.scrollTop=$.scrollHeight),qe==null||qe.focus(),document.activeElement!==Re))return},[P,$]),ue=E.useCallback(()=>re([R,L]),[re,R,L]);E.useEffect(()=>{j&&ue()},[j,ue]);const{onOpenChange:Y,triggerPointerDownPosRef:ne}=M;E.useEffect(()=>{if(L){let fe={x:0,y:0};const ve=me=>{var Re,qe;fe={x:Math.abs(Math.round(me.pageX)-(((Re=ne.current)==null?void 0:Re.x)??0)),y:Math.abs(Math.round(me.pageY)-(((qe=ne.current)==null?void 0:qe.y)??0))}},De=me=>{fe.x<=10&&fe.y<=10?me.preventDefault():L.contains(me.target)||Y(!1),document.removeEventListener("pointermove",ve),ne.current=null};return ne.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",De,{capture:!0})}}},[L,Y,ne]),E.useEffect(()=>{const fe=()=>Y(!1);return window.addEventListener("blur",fe),window.addEventListener("resize",fe),()=>{window.removeEventListener("blur",fe),window.removeEventListener("resize",fe)}},[Y]);const[le,B]=w1(fe=>{const ve=P().filter(Re=>!Re.disabled),De=ve.find(Re=>Re.ref.current===document.activeElement),me=x1(ve,fe,De);me&&setTimeout(()=>me.ref.current.focus())}),Z=E.useCallback((fe,ve,De)=>{const me=!te.current&&!De;(M.value!==void 0&&M.value===ve||me)&&(D(fe),me&&(te.current=!0))},[M.value]),de=E.useCallback(()=>L==null?void 0:L.focus(),[L]),ge=E.useCallback((fe,ve,De)=>{const me=!te.current&&!De;(M.value!==void 0&&M.value===ve||me)&&F(fe)},[M.value]),Se=r==="popper"?dm:r1,Ae=Se===dm?{side:u,sideOffset:f,align:h,alignOffset:m,arrowPadding:w,collisionBoundary:v,collisionPadding:T,sticky:C,hideWhenDetached:S,avoidCollisions:b}:{};return g.jsx(t1,{scope:t,content:L,viewport:$,onViewportChange:G,itemRefCallback:Z,selectedItem:R,onItemLeave:de,itemTextRefCallback:ge,focusSelectedItem:ue,selectedItemText:V,position:r,isPositioned:j,searchRef:le,children:g.jsx(Yg,{as:xO,allowPinchZoom:!0,children:g.jsx(Fg,{asChild:!0,trapped:M.open,onMountAutoFocus:fe=>{fe.preventDefault()},onUnmountAutoFocus:Le(i,fe=>{var ve;(ve=M.trigger)==null||ve.focus({preventScroll:!0}),fe.preventDefault()}),children:g.jsx(mf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:fe=>fe.preventDefault(),onDismiss:()=>M.onOpenChange(!1),children:g.jsx(Se,{role:"listbox",id:M.contentId,"data-state":M.open?"open":"closed",dir:M.dir,onContextMenu:fe=>fe.preventDefault(),...N,...Ae,onPlaced:()=>ee(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Le(N.onKeyDown,fe=>{const ve=fe.ctrlKey||fe.altKey||fe.metaKey;if(fe.key==="Tab"&&fe.preventDefault(),!ve&&fe.key.length===1&&B(fe.key),["ArrowUp","ArrowDown","Home","End"].includes(fe.key)){let me=P().filter(Re=>!Re.disabled).map(Re=>Re.ref.current);if(["ArrowUp","End"].includes(fe.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(fe.key)){const Re=fe.target,qe=me.indexOf(Re);me=me.slice(qe+1)}setTimeout(()=>re(me)),fe.preventDefault()}})})})})})})});n1.displayName=wO;var _O="SelectItemAlignedPosition",r1=E.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,a=gi(Zi,t),l=yi(Zi,t),[u,f]=E.useState(null),[h,m]=E.useState(null),w=at(e,k=>m(k)),v=Ef(t),T=E.useRef(!1),C=E.useRef(!0),{viewport:S,selectedItem:b,selectedItemText:N,focusSelectedItem:M}=l,L=E.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&h&&S&&b&&N){const k=a.trigger.getBoundingClientRect(),R=h.getBoundingClientRect(),D=a.valueNode.getBoundingClientRect(),V=N.getBoundingClientRect();if(a.dir!=="rtl"){const Re=V.left-R.left,qe=D.left-Re,wt=k.left-qe,Ot=k.width+wt,kn=Math.max(Ot,R.width),qn=window.innerWidth-fr,Kn=Yw(qe,[fr,Math.max(fr,qn-kn)]);u.style.minWidth=Ot+"px",u.style.left=Kn+"px"}else{const Re=R.right-V.right,qe=window.innerWidth-D.right-Re,wt=window.innerWidth-k.right-qe,Ot=k.width+wt,kn=Math.max(Ot,R.width),qn=window.innerWidth-fr,Kn=Yw(qe,[fr,Math.max(fr,qn-kn)]);u.style.minWidth=Ot+"px",u.style.right=Kn+"px"}const F=v(),P=window.innerHeight-fr*2,j=S.scrollHeight,ee=window.getComputedStyle(h),te=parseInt(ee.borderTopWidth,10),re=parseInt(ee.paddingTop,10),ue=parseInt(ee.borderBottomWidth,10),Y=parseInt(ee.paddingBottom,10),ne=te+re+j+Y+ue,le=Math.min(b.offsetHeight*5,ne),B=window.getComputedStyle(S),Z=parseInt(B.paddingTop,10),de=parseInt(B.paddingBottom,10),ge=k.top+k.height/2-fr,Se=P-ge,Ae=b.offsetHeight/2,fe=b.offsetTop+Ae,ve=te+re+fe,De=ne-ve;if(ve<=ge){const Re=F.length>0&&b===F[F.length-1].ref.current;u.style.bottom="0px";const qe=h.clientHeight-S.offsetTop-S.offsetHeight,wt=Math.max(Se,Ae+(Re?de:0)+qe+ue),Ot=ve+wt;u.style.height=Ot+"px"}else{const Re=F.length>0&&b===F[0].ref.current;u.style.top="0px";const wt=Math.max(ge,te+S.offsetTop+(Re?Z:0)+Ae)+De;u.style.height=wt+"px",S.scrollTop=ve-ge+S.offsetTop}u.style.margin=`${fr}px 0`,u.style.minHeight=le+"px",u.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>T.current=!0)}},[v,a.trigger,a.valueNode,u,h,S,b,N,a.dir,r]);Qt(()=>L(),[L]);const[U,$]=E.useState();Qt(()=>{h&&$(window.getComputedStyle(h).zIndex)},[h]);const G=E.useCallback(k=>{k&&C.current===!0&&(L(),M==null||M(),C.current=!1)},[L,M]);return g.jsx(CO,{scope:t,contentWrapper:u,shouldExpandOnScrollRef:T,onScrollButtonChange:G,children:g.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:U},children:g.jsx($e.div,{...i,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});r1.displayName=_O;var EO="SelectPopperPosition",dm=E.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=fr,...a}=n,l=Cf(t);return g.jsx(vM,{...l,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});dm.displayName=EO;var[CO,Xg]=Da(Zi,{}),fm="SelectViewport",s1=E.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,a=yi(fm,t),l=Xg(fm,t),u=at(e,a.onViewportChange),f=E.useRef(0);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),g.jsx(_f.Slot,{scope:t,children:g.jsx($e.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Le(i.onScroll,h=>{const m=h.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:v}=l;if(v!=null&&v.current&&w){const T=Math.abs(f.current-m.scrollTop);if(T>0){const C=window.innerHeight-fr*2,S=parseFloat(w.style.minHeight),b=parseFloat(w.style.height),N=Math.max(S,b);if(N<C){const M=N+T,L=Math.min(C,M),U=M-L;w.style.height=L+"px",w.style.bottom==="0px"&&(m.scrollTop=U>0?U:0,w.style.justifyContent="flex-end")}}}f.current=m.scrollTop})})})]})});s1.displayName=fm;var i1="SelectGroup",[SO,TO]=Da(i1),bO=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=ei();return g.jsx(SO,{scope:t,id:i,children:g.jsx($e.div,{role:"group","aria-labelledby":i,...r,ref:e})})});bO.displayName=i1;var o1="SelectLabel",a1=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=TO(o1,t);return g.jsx($e.div,{id:i.id,...r,ref:e})});a1.displayName=o1;var Ld="SelectItem",[IO,l1]=Da(Ld),c1=E.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:a,...l}=n,u=gi(Ld,t),f=yi(Ld,t),h=u.value===r,[m,w]=E.useState(a??""),[v,T]=E.useState(!1),C=at(e,M=>{var L;return(L=f.itemRefCallback)==null?void 0:L.call(f,M,r,i)}),S=ei(),b=E.useRef("touch"),N=()=>{i||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.jsx(IO,{scope:t,value:r,disabled:i,textId:S,isSelected:h,onItemTextChange:E.useCallback(M=>{w(L=>L||((M==null?void 0:M.textContent)??"").trim())},[]),children:g.jsx(_f.ItemSlot,{scope:t,value:r,disabled:i,textValue:m,children:g.jsx($e.div,{role:"option","aria-labelledby":S,"data-highlighted":v?"":void 0,"aria-selected":h&&v,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:C,onFocus:Le(l.onFocus,()=>T(!0)),onBlur:Le(l.onBlur,()=>T(!1)),onClick:Le(l.onClick,()=>{b.current!=="mouse"&&N()}),onPointerUp:Le(l.onPointerUp,()=>{b.current==="mouse"&&N()}),onPointerDown:Le(l.onPointerDown,M=>{b.current=M.pointerType}),onPointerMove:Le(l.onPointerMove,M=>{var L;b.current=M.pointerType,i?(L=f.onItemLeave)==null||L.call(f):b.current==="mouse"&&M.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(l.onPointerLeave,M=>{var L;M.currentTarget===document.activeElement&&((L=f.onItemLeave)==null||L.call(f))}),onKeyDown:Le(l.onKeyDown,M=>{var U;((U=f.searchRef)==null?void 0:U.current)!==""&&M.key===" "||(fO.includes(M.key)&&N(),M.key===" "&&M.preventDefault())})})})})});c1.displayName=Ld;var Vl="SelectItemText",u1=E.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...a}=n,l=gi(Vl,t),u=yi(Vl,t),f=l1(Vl,t),h=gO(Vl,t),[m,w]=E.useState(null),v=at(e,N=>w(N),f.onItemTextChange,N=>{var M;return(M=u.itemTextRefCallback)==null?void 0:M.call(u,N,f.value,f.disabled)}),T=m==null?void 0:m.textContent,C=E.useMemo(()=>g.jsx("option",{value:f.value,disabled:f.disabled,children:T},f.value),[f.disabled,f.value,T]),{onNativeOptionAdd:S,onNativeOptionRemove:b}=h;return Qt(()=>(S(C),()=>b(C)),[S,b,C]),g.jsxs(g.Fragment,{children:[g.jsx($e.span,{id:f.textId,...a,ref:v}),f.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Sa.createPortal(a.children,l.valueNode):null]})});u1.displayName=Vl;var d1="SelectItemIndicator",f1=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return l1(d1,t).isSelected?g.jsx($e.span,{"aria-hidden":!0,...r,ref:e}):null});f1.displayName=d1;var hm="SelectScrollUpButton",h1=E.forwardRef((n,e)=>{const t=yi(hm,n.__scopeSelect),r=Xg(hm,n.__scopeSelect),[i,a]=E.useState(!1),l=at(e,r.onScrollButtonChange);return Qt(()=>{if(t.viewport&&t.isPositioned){let u=function(){const h=f.scrollTop>0;a(h)};const f=t.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),i?g.jsx(m1,{...n,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=t;u&&f&&(u.scrollTop=u.scrollTop-f.offsetHeight)}}):null});h1.displayName=hm;var pm="SelectScrollDownButton",p1=E.forwardRef((n,e)=>{const t=yi(pm,n.__scopeSelect),r=Xg(pm,n.__scopeSelect),[i,a]=E.useState(!1),l=at(e,r.onScrollButtonChange);return Qt(()=>{if(t.viewport&&t.isPositioned){let u=function(){const h=f.scrollHeight-f.clientHeight,m=Math.ceil(f.scrollTop)<h;a(m)};const f=t.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),i?g.jsx(m1,{...n,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=t;u&&f&&(u.scrollTop=u.scrollTop+f.offsetHeight)}}):null});p1.displayName=pm;var m1=E.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,a=yi("SelectScrollButton",t),l=E.useRef(null),u=Ef(t),f=E.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return E.useEffect(()=>()=>f(),[f]),Qt(()=>{var m;const h=u().find(w=>w.ref.current===document.activeElement);(m=h==null?void 0:h.ref.current)==null||m.scrollIntoView({block:"nearest"})},[u]),g.jsx($e.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Le(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Le(i.onPointerMove,()=>{var h;(h=a.onItemLeave)==null||h.call(a),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Le(i.onPointerLeave,()=>{f()})})}),NO="SelectSeparator",g1=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return g.jsx($e.div,{"aria-hidden":!0,...r,ref:e})});g1.displayName=NO;var mm="SelectArrow",AO=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Cf(t),a=gi(mm,t),l=yi(mm,t);return a.open&&l.position==="popper"?g.jsx(wM,{...i,...r,ref:e}):null});AO.displayName=mm;var RO="SelectBubbleInput",y1=E.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const i=E.useRef(null),a=at(r,i),l=SM(e);return E.useEffect(()=>{const u=i.current;if(!u)return;const f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(l!==e&&m){const w=new Event("change",{bubbles:!0});m.call(u,e),u.dispatchEvent(w)}},[l,e]),g.jsx($e.select,{...t,style:{...LC,...t.style},ref:a,defaultValue:e})});y1.displayName=RO;function v1(n){return n===""||n===void 0}function w1(n){const e=Wn(n),t=E.useRef(""),r=E.useRef(0),i=E.useCallback(l=>{const u=t.current+l;e(u),function f(h){t.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>f(""),1e3))}(u)},[e]),a=E.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,a]}function x1(n,e,t){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let l=PO(n,Math.max(a,0));i.length===1&&(l=l.filter(h=>h!==t));const f=l.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return f!==t?f:void 0}function PO(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var kO=KC,_1=QC,DO=XC,MO=JC,OO=ZC,E1=e1,jO=s1,C1=a1,S1=c1,LO=u1,VO=f1,T1=h1,b1=p1,I1=g1;/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=(n,e)=>{const t=E.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:u="",children:f,...h},m)=>E.createElement("svg",{ref:m,...FO,width:i,height:i,stroke:r,strokeWidth:l?Number(a)*24/Number(i):a,className:["lucide",`lucide-${$O(n)}`,u].join(" "),...h},[...e.map(([w,v])=>E.createElement(w,v)),...Array.isArray(f)?f:[f]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=io("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=io("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=io("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=io("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=io("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=io("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=io("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function R1(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=R1(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function P1(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=R1(n))&&(r&&(r+=" "),r+=e);return r}const Jg="-",BO=n=>{const e=WO(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const u=l.split(Jg);return u[0]===""&&u.length!==1&&u.shift(),k1(u,e)||HO(l)},getConflictingClassGroupIds:(l,u)=>{const f=t[l]||[];return u&&r[l]?[...f,...r[l]]:f}}},k1=(n,e)=>{var l;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?k1(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=n.join(Jg);return(l=e.validators.find(({validator:u})=>u(a)))==null?void 0:l.classGroupId},_x=/^\[(.+)\]$/,HO=n=>{if(_x.test(n)){const e=_x.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},WO=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return KO(Object.entries(n.classGroups),t).forEach(([a,l])=>{gm(l,r,a,e)}),r},gm=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const a=i===""?e:Ex(e,i);a.classGroupId=t;return}if(typeof i=="function"){if(qO(i)){gm(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([a,l])=>{gm(l,Ex(e,a),t,r)})})},Ex=(n,e)=>{let t=n;return e.split(Jg).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},qO=n=>n.isThemeGetter,KO=(n,e)=>e?n.map(([t,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,u])=>[e+l,u])):a);return[t,i]}):n,GO=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(a,l)=>{t.set(a,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let l=t.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return i(a,l),l},set(a,l){t.has(a)?t.set(a,l):i(a,l)}}},D1="!",QO=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],a=e.length,l=u=>{const f=[];let h=0,m=0,w;for(let b=0;b<u.length;b++){let N=u[b];if(h===0){if(N===i&&(r||u.slice(b,b+a)===e)){f.push(u.slice(m,b)),m=b+a;continue}if(N==="/"){w=b;continue}}N==="["?h++:N==="]"&&h--}const v=f.length===0?u:u.substring(m),T=v.startsWith(D1),C=T?v.substring(1):v,S=w&&w>m?w-m:void 0;return{modifiers:f,hasImportantModifier:T,baseClassName:C,maybePostfixModifierPosition:S}};return t?u=>t({className:u,parseClassName:l}):l},YO=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},XO=n=>({cache:GO(n.cacheSize),parseClassName:QO(n),...BO(n)}),JO=/\s+/,ZO=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],l=n.trim().split(JO);let u="";for(let f=l.length-1;f>=0;f-=1){const h=l[f],{modifiers:m,hasImportantModifier:w,baseClassName:v,maybePostfixModifierPosition:T}=t(h);let C=!!T,S=r(C?v.substring(0,T):v);if(!S){if(!C){u=h+(u.length>0?" "+u:u);continue}if(S=r(v),!S){u=h+(u.length>0?" "+u:u);continue}C=!1}const b=YO(m).join(":"),N=w?b+D1:b,M=N+S;if(a.includes(M))continue;a.push(M);const L=i(S,C);for(let U=0;U<L.length;++U){const $=L[U];a.push(N+$)}u=h+(u.length>0?" "+u:u)}return u};function ej(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=M1(e))&&(r&&(r+=" "),r+=t);return r}const M1=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=M1(n[r]))&&(t&&(t+=" "),t+=e);return t};function tj(n,...e){let t,r,i,a=l;function l(f){const h=e.reduce((m,w)=>w(m),n());return t=XO(h),r=t.cache.get,i=t.cache.set,a=u,u(f)}function u(f){const h=r(f);if(h)return h;const m=ZO(f,t);return i(f,m),m}return function(){return a(ej.apply(null,arguments))}}const ut=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},O1=/^\[(?:([a-z-]+):)?(.+)\]$/i,nj=/^\d+\/\d+$/,rj=new Set(["px","full","screen"]),sj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ij=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,aj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,is=n=>ua(n)||rj.has(n)||nj.test(n),$s=n=>Ma(n,"length",gj),ua=n=>!!n&&!Number.isNaN(Number(n)),Tp=n=>Ma(n,"number",ua),Pl=n=>!!n&&Number.isInteger(Number(n)),cj=n=>n.endsWith("%")&&ua(n.slice(0,-1)),Fe=n=>O1.test(n),zs=n=>sj.test(n),uj=new Set(["length","size","percentage"]),dj=n=>Ma(n,uj,j1),fj=n=>Ma(n,"position",j1),hj=new Set(["image","url"]),pj=n=>Ma(n,hj,vj),mj=n=>Ma(n,"",yj),kl=()=>!0,Ma=(n,e,t)=>{const r=O1.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},gj=n=>ij.test(n)&&!oj.test(n),j1=()=>!1,yj=n=>aj.test(n),vj=n=>lj.test(n),wj=()=>{const n=ut("colors"),e=ut("spacing"),t=ut("blur"),r=ut("brightness"),i=ut("borderColor"),a=ut("borderRadius"),l=ut("borderSpacing"),u=ut("borderWidth"),f=ut("contrast"),h=ut("grayscale"),m=ut("hueRotate"),w=ut("invert"),v=ut("gap"),T=ut("gradientColorStops"),C=ut("gradientColorStopPositions"),S=ut("inset"),b=ut("margin"),N=ut("opacity"),M=ut("padding"),L=ut("saturate"),U=ut("scale"),$=ut("sepia"),G=ut("skew"),k=ut("space"),R=ut("translate"),D=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Fe,e],P=()=>[Fe,e],j=()=>["",is,$s],ee=()=>["auto",ua,Fe],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],re=()=>["solid","dashed","dotted","double","none"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],ne=()=>["","0",Fe],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[ua,Fe];return{cacheSize:500,separator:":",theme:{colors:[kl],spacing:[is,$s],blur:["none","",zs,Fe],brightness:B(),borderColor:[n],borderRadius:["none","","full",zs,Fe],borderSpacing:P(),borderWidth:j(),contrast:B(),grayscale:ne(),hueRotate:B(),invert:ne(),gap:P(),gradientColorStops:[n],gradientColorStopPositions:[cj,$s],inset:F(),margin:F(),opacity:B(),padding:P(),saturate:B(),scale:B(),sepia:ne(),skew:B(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Fe]}],container:["container"],columns:[{columns:[zs]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),Fe]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pl,Fe]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Fe]}],grow:[{grow:ne()}],shrink:[{shrink:ne()}],order:[{order:["first","last","none",Pl,Fe]}],"grid-cols":[{"grid-cols":[kl]}],"col-start-end":[{col:["auto",{span:["full",Pl,Fe]},Fe]}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":[kl]}],"row-start-end":[{row:["auto",{span:[Pl,Fe]},Fe]}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Fe]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[M]}],px:[{px:[M]}],py:[{py:[M]}],ps:[{ps:[M]}],pe:[{pe:[M]}],pt:[{pt:[M]}],pr:[{pr:[M]}],pb:[{pb:[M]}],pl:[{pl:[M]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Fe,e]}],"min-w":[{"min-w":[Fe,e,"min","max","fit"]}],"max-w":[{"max-w":[Fe,e,"none","full","min","max","fit","prose",{screen:[zs]},zs]}],h:[{h:[Fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",zs,$s]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Tp]}],"font-family":[{font:[kl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Fe]}],"line-clamp":[{"line-clamp":["none",ua,Tp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",is,Fe]}],"list-image":[{"list-image":["none",Fe]}],"list-style-type":[{list:["none","disc","decimal",Fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",is,$s]}],"underline-offset":[{"underline-offset":["auto",is,Fe]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),fj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",dj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},pj]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[T]}],"gradient-via":[{via:[T]}],"gradient-to":[{to:[T]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...re(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:re()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...re()]}],"outline-offset":[{"outline-offset":[is,Fe]}],"outline-w":[{outline:[is,$s]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[is,$s]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",zs,mj]}],"shadow-color":[{shadow:[kl]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...ue(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ue()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",zs,Fe]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[w]}],saturate:[{saturate:[L]}],sepia:[{sepia:[$]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[L]}],"backdrop-sepia":[{"backdrop-sepia":[$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Fe]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",Fe]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",Fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[U]}],"scale-x":[{"scale-x":[U]}],"scale-y":[{"scale-y":[U]}],rotate:[{rotate:[Pl,Fe]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Fe]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[is,$s,Tp]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xj=tj(wj);function Pe(...n){return xj(P1(n))}const ym=kO,vm=DO,Vd=E.forwardRef(({className:n,children:e,...t},r)=>g.jsxs(_1,{ref:r,className:Pe("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-white placeholder:text-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:border-zinc-800 dark:ring-offset-zinc-950 dark:placeholder:text-zinc-400 dark:focus:ring-zinc-300",n),...t,children:[e,g.jsx(MO,{asChild:!0,children:g.jsx(N1,{className:"h-4 w-4 opacity-50"})})]}));Vd.displayName=_1.displayName;const L1=E.forwardRef(({className:n,...e},t)=>g.jsx(T1,{ref:t,className:Pe("flex cursor-default items-center justify-center py-1",n),...e,children:g.jsx(UO,{className:"h-4 w-4"})}));L1.displayName=T1.displayName;const V1=E.forwardRef(({className:n,...e},t)=>g.jsx(b1,{ref:t,className:Pe("flex cursor-default items-center justify-center py-1",n),...e,children:g.jsx(N1,{className:"h-4 w-4"})}));V1.displayName=b1.displayName;const Fd=E.forwardRef(({className:n,children:e,position:t="popper",...r},i)=>g.jsx(OO,{children:g.jsxs(E1,{ref:i,className:Pe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white text-zinc-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[g.jsx(L1,{}),g.jsx(jO,{className:Pe("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),g.jsx(V1,{})]})}));Fd.displayName=E1.displayName;const _j=E.forwardRef(({className:n,...e},t)=>g.jsx(C1,{ref:t,className:Pe("px-2 py-1.5 text-sm font-semibold",n),...e}));_j.displayName=C1.displayName;const Ws=E.forwardRef(({className:n,children:e,...t},r)=>g.jsxs(S1,{ref:r,className:Pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",n),...t,children:[g.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(VO,{children:g.jsx(zO,{className:"h-4 w-4"})})}),g.jsx(LO,{children:e})]}));Ws.displayName=S1.displayName;const Ej=E.forwardRef(({className:n,...e},t)=>g.jsx(I1,{ref:t,className:Pe("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",n),...e}));Ej.displayName=I1.displayName;const Cj=()=>{const{tableId:n}=Gm(),[e,t]=E.useState("all"),[r,i]=E.useState([]),[a,l]=E.useState([]),[u,f]=E.useState([]),{addToCart:h,setTableId:m}=Zm(),{t:w,i18n:v}=pf();E.useEffect(()=>{n&&m(n)},[n,m]),E.useEffect(()=>{(async()=>{const S=await hk();i(S);const b=await pk();l(b)})()},[]),E.useEffect(()=>{f(e==="all"?r:r.filter(C=>C.category===e))},[e,r]);const T=C=>{v.changeLanguage(C)};return g.jsxs("div",{className:"container mx-auto px-4 py-8",children:[g.jsxs("div",{className:"bg-amber-100 rounded-lg p-4 mb-6",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold text-amber-800",children:w("ourMenu")}),n&&g.jsxs("p",{className:"text-amber-700 mt-2",children:[w("table"),": ",n]})]}),g.jsxs(ym,{onValueChange:T,defaultValue:v.language,children:[g.jsx(Vd,{className:"w-[120px]",children:g.jsx(vm,{placeholder:"Dil Se"})}),g.jsxs(Fd,{children:[g.jsx(Ws,{value:"tr",children:"Trke"}),g.jsx(Ws,{value:"en",children:"English"}),g.jsx(Ws,{value:"ru",children:""}),g.jsx(Ws,{value:"de",children:"Deutsch"}),g.jsx(Ws,{value:"fr",children:"Franais"})]})]})]}),n&&g.jsx("div",{className:"max-w-xs",children:g.jsx(kk,{tableId:n})})]}),g.jsx("div",{className:"overflow-x-auto pb-2 mb-6",children:g.jsxs("div",{className:"flex space-x-2 min-w-max",children:[g.jsx("button",{onClick:()=>t("all"),className:`px-4 py-2 rounded-full text-sm font-medium ${e==="all"?"bg-amber-600 text-white":"bg-amber-100 text-amber-800 hover:bg-amber-200"}`,children:w("all")}),a.map(C=>g.jsx("button",{onClick:()=>t(C.id),className:`px-4 py-2 rounded-full text-sm font-medium ${e===C.id?"bg-amber-600 text-white":"bg-amber-100 text-amber-800 hover:bg-amber-200"}`,children:C["name_"+v.language]||C.name_tr},C.id))]})}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(C=>g.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[g.jsx("div",{className:"h-48 overflow-hidden",children:g.jsx("img",{src:C.image,alt:C["name_"+v.language]||C.name_tr,className:"w-full h-full object-cover"})}),g.jsxs("div",{className:"p-4",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:C["name_"+v.language]||C.name_tr}),g.jsxs("span",{className:"text-amber-600 font-bold",children:[C.price," "]})]}),g.jsx("p",{className:"text-gray-600 text-sm mt-1",children:C["description_"+v.language]||C.description_tr}),g.jsx("button",{onClick:()=>h(C),className:"mt-4 w-full bg-amber-500 hover:bg-amber-600 text-white py-2 px-4 rounded-md transition-colors",children:w("addToCart")})]})]},C.id))}),n&&g.jsx(Dk,{tableId:n})]})},Sj=()=>{const{tableId:n}=Gm(),e=pc(),{items:t,getTotalPrice:r,clearCart:i}=Zm(),a=async()=>{try{const l=document.getElementById("order-note"),u=l?l.value:"",f=crypto.randomUUID(),h=(Array.isArray(t)?t:[]).map(S=>({id:String((S==null?void 0:S.id)??""),name:String((S==null?void 0:S.name)??(S==null?void 0:S.name_tr)??"Tanmsz"),price:Number.isFinite(S==null?void 0:S.price)?Number(S.price):0,quantity:Number.isFinite(S==null?void 0:S.quantity)?Number(S.quantity):0})),m=typeof n=="string"?n:"",w=Kt(et,"orders"),v=Gs(w,as("tableId","==",m),as("paymentStatus","==","pending")),T=await li(v);if(!T.empty){const S=T.docs[0],b=S.data(),N=(Array.isArray(b==null?void 0:b.items)?b.items:[]).filter(R=>R&&typeof R=="object").map(R=>({id:String((R==null?void 0:R.id)??""),name:String((R==null?void 0:R.name)??"Tanmsz"),price:Number.isFinite(R==null?void 0:R.price)?Number(R.price):0,quantity:Number.isFinite(R==null?void 0:R.quantity)?Number(R.quantity):0})),M=new Map;for(const R of N){const D=String(R.id);M.set(D,{...R})}for(const R of h){const D=String(R.id),V=M.get(D);V?M.set(D,{...V,quantity:(V.quantity||0)+(R.quantity||0)}):M.set(D,{...R})}const L=Array.from(M.values()),U=L.reduce((R,D)=>R+Number(D.price)*Number(D.quantity),0),$=typeof(b==null?void 0:b.orderNote)=="string"?b.orderNote.trim():"",G=(u??"").trim(),k=$&&G?`${$} | ${G}`:$||G||"";await Ki(vn(et,"orders",S.id),{items:L,totalPrice:U,orderNote:k||null,timestamp:Xe.now()}),alert("Sipariiniz mevcut ak hesaba eklendi. Teekkr ederiz."),i(),e(`/thank-you/${n}`);return}const C={tableId:m,sessionId:typeof f=="string"?f:"",items:h,totalPrice:Number.isFinite(r())?Number(r()):0,orderNote:u??"",timestamp:Xe.now(),status:"new",paymentStatus:"pending"};await Pd(Kt(et,"orders"),C),alert("Sipariiniz alnd! Teekkr ederiz."),i(),e(`/thank-you/${n}`)}catch(l){console.error("Error submitting order:",l);const u=typeof(l==null?void 0:l.message)=="string"?l.message:String(l);alert(`Sipari gnderilirken bir hata olutu. Ltfen tekrar deneyin.
Detay: ${u}`)}};return t.length===0?g.jsx("div",{className:"container mx-auto px-4 py-8",children:g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Sepetiniz Bo"}),g.jsx("p",{className:"text-gray-600 mb-4",children:"Sipari verebilmek iin sepetinize rn eklemelisiniz."}),g.jsx("button",{onClick:()=>e(`/menu/${n}`),className:"bg-amber-500 hover:bg-amber-600 text-white py-2 px-4 rounded-md transition-colors",children:"Menye Dn"})]})}):g.jsx("div",{className:"container mx-auto px-4 py-8",children:g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Siparii Tamamla"}),n&&g.jsx("div",{className:"mb-4 p-3 bg-amber-50 rounded-md",children:g.jsxs("p",{className:"text-amber-700 font-medium",children:["Masa: ",n]})}),g.jsxs("div",{className:"mt-6",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Sipari zeti"}),g.jsx("div",{className:"border-t border-b border-gray-200 py-4 divide-y divide-gray-200",children:t.map(l=>g.jsxs("div",{className:"py-3 flex justify-between",children:[g.jsx("div",{className:"flex items-center",children:g.jsxs("span",{className:"text-gray-800",children:[l.quantity," x ",l.name]})}),g.jsxs("span",{className:"text-gray-800 font-medium",children:[l.price*l.quantity," "]})]},l.id))}),g.jsxs("div",{className:"mt-4 flex justify-between items-center text-xl font-bold",children:[g.jsx("span",{children:"Toplam:"}),g.jsxs("span",{children:[r()," "]})]})]}),g.jsxs("div",{className:"mt-8",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Sipari Notu"}),g.jsx("textarea",{id:"order-note",className:"w-full border border-gray-300 rounded-md p-3 h-24 focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"zel istekleriniz varsa buraya yazabilirsiniz..."})]}),g.jsx("button",{onClick:a,className:"mt-6 w-full bg-amber-500 hover:bg-amber-600 text-white py-3 px-4 rounded-md transition-colors text-lg font-medium",children:"Siparii Onayla"})]})})},Tj=()=>{const{tableId:n}=Gm();return g.jsx("div",{className:"container mx-auto px-4 py-16 flex flex-col items-center",children:g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-md w-full text-center",children:[g.jsx("div",{className:"w-16 h-16 mx-auto bg-green-100 rounded-full flex items-center justify-center mb-6",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),g.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Sipariiniz Alnd!"}),g.jsx("p",{className:"text-gray-600 mb-6",children:"Sipariiniz baaryla alnd ve hazrlanmaya baland. Ksa sre iinde masanza servis edilecektir."}),n&&g.jsx("div",{className:"mb-6 p-3 bg-amber-50 rounded-md",children:g.jsxs("p",{className:"text-amber-700 font-medium",children:["Masa: ",n]})}),g.jsx("p",{className:"text-sm text-gray-500",children:"Bizi tercih ettiiniz iin teekkr ederiz."})]})})},bj=1,Ij=1e6;let bp=0;function Nj(){return bp=(bp+1)%Number.MAX_SAFE_INTEGER,bp.toString()}const Ip=new Map,Cx=n=>{if(Ip.has(n))return;const e=setTimeout(()=>{Ip.delete(n),Yl({type:"REMOVE_TOAST",toastId:n})},Ij);Ip.set(n,e)},Aj=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,bj)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?Cx(t):n.toasts.forEach(r=>{Cx(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},hd=[];let pd={toasts:[]};function Yl(n){pd=Aj(pd,n),hd.forEach(e=>{e(pd)})}function Rj({...n}){const e=Nj(),t=i=>Yl({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Yl({type:"DISMISS_TOAST",toastId:e});return Yl({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function Zg(){const[n,e]=E.useState(pd);return E.useEffect(()=>(hd.push(e),()=>{const t=hd.indexOf(e);t>-1&&hd.splice(t,1)}),[n]),{...n,toast:Rj,dismiss:t=>Yl({type:"DISMISS_TOAST",toastId:t})}}function Pj(n,e){return E.useReducer((t,r)=>e[t][r]??t,n)}var Oa=n=>{const{present:e,children:t}=n,r=kj(e),i=typeof t=="function"?t({present:r.isPresent}):E.Children.only(t),a=at(r.ref,Dj(i));return typeof t=="function"||r.isPresent?E.cloneElement(i,{ref:a}):null};Oa.displayName="Presence";function kj(n){const[e,t]=E.useState(),r=E.useRef(null),i=E.useRef(n),a=E.useRef("none"),l=n?"mounted":"unmounted",[u,f]=Pj(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const h=Xu(r.current);a.current=u==="mounted"?h:"none"},[u]),Qt(()=>{const h=r.current,m=i.current;if(m!==n){const v=a.current,T=Xu(h);n?f("MOUNT"):T==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(m&&v!==T?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,f]),Qt(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,w=T=>{const S=Xu(r.current).includes(T.animationName);if(T.target===e&&S&&(f("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},v=T=>{T.target===e&&(a.current=Xu(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:E.useCallback(h=>{r.current=h?getComputedStyle(h):null,t(h)},[])}}function Xu(n){return(n==null?void 0:n.animationName)||"none"}function Dj(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var ey="ToastProvider",[ty,Mj,Oj]=Lg("Toast"),[F1,f9]=mi("Toast",[Oj]),[jj,Sf]=F1(ey),$1=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:l}=n,[u,f]=E.useState(null),[h,m]=E.useState(0),w=E.useRef(!1),v=E.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${ey}\`. Expected non-empty \`string\`.`),g.jsx(ty.Provider,{scope:e,children:g.jsx(jj,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:h,viewport:u,onViewportChange:f,onToastAdd:E.useCallback(()=>m(T=>T+1),[]),onToastRemove:E.useCallback(()=>m(T=>T-1),[]),isFocusedToastEscapeKeyDownRef:w,isClosePausedRef:v,children:l})})};$1.displayName=ey;var z1="ToastViewport",Lj=["F8"],wm="toast.viewportPause",xm="toast.viewportResume",U1=E.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=Lj,label:i="Notifications ({hotkey})",...a}=n,l=Sf(z1,t),u=Mj(t),f=E.useRef(null),h=E.useRef(null),m=E.useRef(null),w=E.useRef(null),v=at(e,w,l.onViewportChange),T=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=l.toastCount>0;E.useEffect(()=>{const b=N=>{var L;r.length!==0&&r.every(U=>N[U]||N.code===U)&&((L=w.current)==null||L.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),E.useEffect(()=>{const b=f.current,N=w.current;if(C&&b&&N){const M=()=>{if(!l.isClosePausedRef.current){const G=new CustomEvent(wm);N.dispatchEvent(G),l.isClosePausedRef.current=!0}},L=()=>{if(l.isClosePausedRef.current){const G=new CustomEvent(xm);N.dispatchEvent(G),l.isClosePausedRef.current=!1}},U=G=>{!b.contains(G.relatedTarget)&&L()},$=()=>{b.contains(document.activeElement)||L()};return b.addEventListener("focusin",M),b.addEventListener("focusout",U),b.addEventListener("pointermove",M),b.addEventListener("pointerleave",$),window.addEventListener("blur",M),window.addEventListener("focus",L),()=>{b.removeEventListener("focusin",M),b.removeEventListener("focusout",U),b.removeEventListener("pointermove",M),b.removeEventListener("pointerleave",$),window.removeEventListener("blur",M),window.removeEventListener("focus",L)}}},[C,l.isClosePausedRef]);const S=E.useCallback(({tabbingDirection:b})=>{const M=u().map(L=>{const U=L.ref.current,$=[U,...Yj(U)];return b==="forwards"?$:$.reverse()});return(b==="forwards"?M.reverse():M).flat()},[u]);return E.useEffect(()=>{const b=w.current;if(b){const N=M=>{var $,G,k;const L=M.altKey||M.ctrlKey||M.metaKey;if(M.key==="Tab"&&!L){const R=document.activeElement,D=M.shiftKey;if(M.target===b&&D){($=h.current)==null||$.focus();return}const P=S({tabbingDirection:D?"backwards":"forwards"}),j=P.findIndex(ee=>ee===R);Np(P.slice(j+1))?M.preventDefault():D?(G=h.current)==null||G.focus():(k=m.current)==null||k.focus()}};return b.addEventListener("keydown",N),()=>b.removeEventListener("keydown",N)}},[u,S]),g.jsxs(Jk,{ref:f,role:"region","aria-label":i.replace("{hotkey}",T),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&g.jsx(_m,{ref:h,onFocusFromOutsideViewport:()=>{const b=S({tabbingDirection:"forwards"});Np(b)}}),g.jsx(ty.Slot,{scope:t,children:g.jsx($e.ol,{tabIndex:-1,...a,ref:v})}),C&&g.jsx(_m,{ref:m,onFocusFromOutsideViewport:()=>{const b=S({tabbingDirection:"backwards"});Np(b)}})]})});U1.displayName=z1;var B1="ToastFocusProxy",_m=E.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,a=Sf(B1,t);return g.jsx(Qg,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:l=>{var h;const u=l.relatedTarget;!((h=a.viewport)!=null&&h.contains(u))&&r()}})});_m.displayName=B1;var Cc="Toast",Vj="toast.swipeStart",Fj="toast.swipeMove",$j="toast.swipeCancel",zj="toast.swipeEnd",H1=E.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:a,...l}=n,[u,f]=_a({prop:r,defaultProp:i??!0,onChange:a,caller:Cc});return g.jsx(Oa,{present:t||u,children:g.jsx(Hj,{open:u,...l,ref:e,onClose:()=>f(!1),onPause:Wn(n.onPause),onResume:Wn(n.onResume),onSwipeStart:Le(n.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Le(n.onSwipeMove,h=>{const{x:m,y:w}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${w}px`)}),onSwipeCancel:Le(n.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Le(n.onSwipeEnd,h=>{const{x:m,y:w}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${w}px`),f(!1)})})})});H1.displayName=Cc;var[Uj,Bj]=F1(Cc,{onClose(){}}),Hj=E.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:a,onClose:l,onEscapeKeyDown:u,onPause:f,onResume:h,onSwipeStart:m,onSwipeMove:w,onSwipeCancel:v,onSwipeEnd:T,...C}=n,S=Sf(Cc,t),[b,N]=E.useState(null),M=at(e,ee=>N(ee)),L=E.useRef(null),U=E.useRef(null),$=i||S.duration,G=E.useRef(0),k=E.useRef($),R=E.useRef(0),{onToastAdd:D,onToastRemove:V}=S,F=Wn(()=>{var te;(b==null?void 0:b.contains(document.activeElement))&&((te=S.viewport)==null||te.focus()),l()}),P=E.useCallback(ee=>{!ee||ee===1/0||(window.clearTimeout(R.current),G.current=new Date().getTime(),R.current=window.setTimeout(F,ee))},[F]);E.useEffect(()=>{const ee=S.viewport;if(ee){const te=()=>{P(k.current),h==null||h()},re=()=>{const ue=new Date().getTime()-G.current;k.current=k.current-ue,window.clearTimeout(R.current),f==null||f()};return ee.addEventListener(wm,re),ee.addEventListener(xm,te),()=>{ee.removeEventListener(wm,re),ee.removeEventListener(xm,te)}}},[S.viewport,$,f,h,P]),E.useEffect(()=>{a&&!S.isClosePausedRef.current&&P($)},[a,$,S.isClosePausedRef,P]),E.useEffect(()=>(D(),()=>V()),[D,V]);const j=E.useMemo(()=>b?X1(b):null,[b]);return S.viewport?g.jsxs(g.Fragment,{children:[j&&g.jsx(Wj,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:j}),g.jsx(Uj,{scope:t,onClose:F,children:Sa.createPortal(g.jsx(ty.ItemSlot,{scope:t,children:g.jsx(Xk,{asChild:!0,onEscapeKeyDown:Le(u,()=>{S.isFocusedToastEscapeKeyDownRef.current||F(),S.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx($e.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":S.swipeDirection,...C,ref:M,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Le(n.onKeyDown,ee=>{ee.key==="Escape"&&(u==null||u(ee.nativeEvent),ee.nativeEvent.defaultPrevented||(S.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:Le(n.onPointerDown,ee=>{ee.button===0&&(L.current={x:ee.clientX,y:ee.clientY})}),onPointerMove:Le(n.onPointerMove,ee=>{if(!L.current)return;const te=ee.clientX-L.current.x,re=ee.clientY-L.current.y,ue=!!U.current,Y=["left","right"].includes(S.swipeDirection),ne=["left","up"].includes(S.swipeDirection)?Math.min:Math.max,le=Y?ne(0,te):0,B=Y?0:ne(0,re),Z=ee.pointerType==="touch"?10:2,de={x:le,y:B},ge={originalEvent:ee,delta:de};ue?(U.current=de,Ju(Fj,w,ge,{discrete:!1})):Sx(de,S.swipeDirection,Z)?(U.current=de,Ju(Vj,m,ge,{discrete:!1}),ee.target.setPointerCapture(ee.pointerId)):(Math.abs(te)>Z||Math.abs(re)>Z)&&(L.current=null)}),onPointerUp:Le(n.onPointerUp,ee=>{const te=U.current,re=ee.target;if(re.hasPointerCapture(ee.pointerId)&&re.releasePointerCapture(ee.pointerId),U.current=null,L.current=null,te){const ue=ee.currentTarget,Y={originalEvent:ee,delta:te};Sx(te,S.swipeDirection,S.swipeThreshold)?Ju(zj,T,Y,{discrete:!0}):Ju($j,v,Y,{discrete:!0}),ue.addEventListener("click",ne=>ne.preventDefault(),{once:!0})}})})})}),S.viewport)})]}):null}),Wj=n=>{const{__scopeToast:e,children:t,...r}=n,i=Sf(Cc,e),[a,l]=E.useState(!1),[u,f]=E.useState(!1);return Gj(()=>l(!0)),E.useEffect(()=>{const h=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(h)},[]),u?null:g.jsx(wf,{asChild:!0,children:g.jsx(Qg,{...r,children:a&&g.jsxs(g.Fragment,{children:[i.label," ",t]})})})},qj="ToastTitle",W1=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return g.jsx($e.div,{...r,ref:e})});W1.displayName=qj;var Kj="ToastDescription",q1=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return g.jsx($e.div,{...r,ref:e})});q1.displayName=Kj;var K1="ToastAction",G1=E.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?g.jsx(Y1,{altText:t,asChild:!0,children:g.jsx(ny,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${K1}\`. Expected non-empty \`string\`.`),null)});G1.displayName=K1;var Q1="ToastClose",ny=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=Bj(Q1,t);return g.jsx(Y1,{asChild:!0,children:g.jsx($e.button,{type:"button",...r,ref:e,onClick:Le(n.onClick,i.onClose)})})});ny.displayName=Q1;var Y1=E.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return g.jsx($e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function X1(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Qj(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...X1(r))}}),e}function Ju(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,a=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?uC(i,a):i.dispatchEvent(a)}var Sx=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),a=r>i;return e==="left"||e==="right"?a&&r>t:!a&&i>t};function Gj(n=()=>{}){const e=Wn(n);Qt(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function Qj(n){return n.nodeType===n.ELEMENT_NODE}function Yj(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Np(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var Xj=$1,J1=U1,Z1=H1,eS=W1,tS=q1,nS=G1,rS=ny;const Tx=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,bx=P1,ry=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return bx(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(h=>{const m=t==null?void 0:t[h],w=a==null?void 0:a[h];if(m===null)return null;const v=Tx(m)||Tx(w);return i[h][v]}),u=t&&Object.entries(t).reduce((h,m)=>{let[w,v]=m;return v===void 0||(h[w]=v),h},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:w,className:v,...T}=m;return Object.entries(T).every(C=>{let[S,b]=C;return Array.isArray(b)?b.includes({...a,...u}[S]):{...a,...u}[S]===b})?[...h,w,v]:h},[]);return bx(n,l,f,t==null?void 0:t.class,t==null?void 0:t.className)},Jj=Xj,sS=E.forwardRef(({className:n,...e},t)=>g.jsx(J1,{ref:t,className:Pe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));sS.displayName=J1.displayName;const Zj=ry("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border border-zinc-200 p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full dark:border-zinc-800",{variants:{variant:{default:"border bg-white text-zinc-950 dark:bg-zinc-950 dark:text-zinc-50",destructive:"destructive group border-red-500 bg-red-500 text-zinc-50 dark:border-red-900 dark:bg-red-900 dark:text-zinc-50"}},defaultVariants:{variant:"default"}}),iS=E.forwardRef(({className:n,variant:e,...t},r)=>g.jsx(Z1,{ref:r,className:Pe(Zj({variant:e}),n),...t}));iS.displayName=Z1.displayName;const e4=E.forwardRef(({className:n,...e},t)=>g.jsx(nS,{ref:t,className:Pe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-zinc-200 bg-transparent px-3 text-sm font-medium transition-colors hover:bg-zinc-100 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-zinc-100/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-zinc-50 group-[.destructive]:focus:ring-red-500 dark:border-zinc-800 dark:hover:bg-zinc-800 dark:focus:ring-zinc-300 dark:group-[.destructive]:border-zinc-800/40 dark:group-[.destructive]:hover:border-red-900/30 dark:group-[.destructive]:hover:bg-red-900 dark:group-[.destructive]:hover:text-zinc-50 dark:group-[.destructive]:focus:ring-red-900",n),...e}));e4.displayName=nS.displayName;const oS=E.forwardRef(({className:n,...e},t)=>g.jsx(rS,{ref:t,className:Pe("absolute right-1 top-1 rounded-md p-1 text-zinc-950/50 opacity-0 transition-opacity hover:text-zinc-950 focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 dark:text-zinc-50/50 dark:hover:text-zinc-50",n),"toast-close":"",...e,children:g.jsx(A1,{className:"h-4 w-4"})}));oS.displayName=rS.displayName;const aS=E.forwardRef(({className:n,...e},t)=>g.jsx(eS,{ref:t,className:Pe("text-sm font-semibold [&+div]:text-xs",n),...e}));aS.displayName=eS.displayName;const lS=E.forwardRef(({className:n,...e},t)=>g.jsx(tS,{ref:t,className:Pe("text-sm opacity-90",n),...e}));lS.displayName=tS.displayName;function cS(){const{toasts:n}=Zg();return g.jsxs(Jj,{children:[n.map(function({id:e,title:t,description:r,action:i,...a}){return g.jsxs(iS,{...a,children:[g.jsxs("div",{className:"grid gap-1",children:[t&&g.jsx(aS,{children:t}),r&&g.jsx(lS,{children:r})]}),i,g.jsx(oS,{})]},e)}),g.jsx(sS,{})]})}const t4=()=>{const[n,e]=E.useState(0),{toast:t}=Zg(),{t:r}=pf();return E.useEffect(()=>{(async()=>{try{const a=Kt(et,"orders"),l=Gs(a,as("status","==","pending")),u=await li(l);e(u.size)}catch(a){console.error("Error fetching new orders count:",a),t({title:r("error"),description:r("errorFetchingNewOrdersCount"),variant:"destructive"})}})()},[t,r]),g.jsxs("div",{className:"container mx-auto px-4 py-8",children:[g.jsx(cS,{}),g.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:r("adminDashboard")}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[g.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:r("orders")}),g.jsxs("div",{className:"bg-blue-100 text-blue-800 rounded-full px-3 py-1 text-xs font-semibold",children:[n," ",r("new")]})]}),g.jsx("p",{className:"text-gray-600 mb-6",children:r("viewActiveOrders")}),g.jsx(qs,{to:"/admin/orders",className:"block w-full bg-amber-500 hover:bg-amber-600 text-white text-center py-2 px-4 rounded-md transition-colors",children:r("manageOrders")})]})}),g.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:g.jsxs("div",{className:"p-6",children:[g.jsx("div",{className:"flex items-center justify-between mb-4",children:g.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:r("menuManagement")})}),g.jsx("p",{className:"text-gray-600 mb-6",children:r("manageMenuDescription")}),g.jsx(qs,{to:"/admin/menu",className:"block w-full bg-amber-500 hover:bg-amber-600 text-white text-center py-2 px-4 rounded-md transition-colors",children:r("manageMenu")})]})}),g.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:g.jsxs("div",{className:"p-6",children:[g.jsx("div",{className:"flex items-center justify-between mb-4",children:g.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Gemi Sipariler"})}),g.jsx("p",{className:"text-gray-600 mb-6",children:"denen siparileri grntle ve raporla"}),g.jsx(qs,{to:"/admin/order-history",className:"block w-full bg-green-500 hover:bg-green-600 text-white text-center py-2 px-4 rounded-md transition-colors",children:"Gemi Sipariler"})]})}),g.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:g.jsxs("div",{className:"p-6",children:[g.jsx("div",{className:"flex items-center justify-between mb-4",children:g.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:r("qrCodes")})}),g.jsx("p",{className:"text-gray-600 mb-6",children:r("viewPrintQrCodes")}),g.jsx(qs,{to:"/admin/qrcodes",className:"block w-full bg-amber-500 hover:bg-amber-600 text-white text-center py-2 px-4 rounded-md transition-colors",children:r("viewQrCodes")})]})})]})]})},kr=(n=800,e=200)=>{try{const t=new(window.AudioContext||window.webkitAudioContext),r=t.createOscillator(),i=t.createGain();r.connect(i),i.connect(t.destination),r.frequency.value=n,r.type="sine",i.gain.setValueAtTime(.3,t.currentTime),i.gain.exponentialRampToValueAtTime(.01,t.currentTime+e/1e3),r.start(t.currentTime),r.stop(t.currentTime+e/1e3)}catch(t){console.log("Web Audio API desteklenmiyor:",t)}},n4=()=>{try{const n=new Audio("/sounds/new-order.mp3");n.volume=.8,n.play().catch(()=>{kr(800,200),setTimeout(()=>kr(1e3,200),300)})}catch{kr(800,200),setTimeout(()=>kr(1e3,200),300)}},r4=()=>{try{const n=new Audio("/sounds/waiter-call.mp3");n.volume=.7,n.play().catch(()=>{kr(600,150),setTimeout(()=>kr(800,150),200),setTimeout(()=>kr(1e3,150),400)})}catch{kr(600,150),setTimeout(()=>kr(800,150),200),setTimeout(()=>kr(1e3,150),400)}},s4=()=>{const[n,e]=E.useState([]),[t,r]=E.useState(0);E.useEffect(()=>{const h=Kt(et,"waiterCalls"),m=Gs(h,as("status","in",["pending","acknowledged"]),lc("status"),lc("timestamp","desc")),w=kd(m,v=>{const T=v.docs.map(S=>({id:S.id,...S.data()}));T.filter(S=>S.status==="pending").length>0&&t!==0&&(r4(),i()),e(T),r(T.length)});return()=>w()},[t]);const i=()=>{Notification.permission==="granted"&&new Notification("Garson ars!",{body:"Bir masadan garson ars var.",icon:"/favicon.ico"})},a=async(h,m)=>{try{const w=vn(et,"waiterCalls",h);await Ki(w,{status:m})}catch(w){console.error("ar durumu gncellenirken hata olutu:",w)}},l=h=>{const m=h.toDate();return new Intl.DateTimeFormat("tr-TR",{hour:"2-digit",minute:"2-digit"}).format(m)},u=h=>{switch(h){case"pending":return"bg-red-100 text-red-800 border-red-200";case"acknowledged":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},f=h=>{switch(h){case"pending":return"Bekliyor";case"acknowledged":return"Grld";case"resolved":return"zld";default:return h}};return n.length===0?null:g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:[" Garson arlar (",n.length,")"]}),n.some(h=>h.status==="pending")&&g.jsx("div",{className:"animate-pulse",children:g.jsx("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:"YEN"})})]}),g.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:n.map(h=>g.jsx("div",{className:`p-3 rounded-lg border-2 ${u(h.status)}`,children:g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("div",{className:"font-medium",children:h.tableId.replace("table-","Masa ")}),g.jsx("div",{className:"text-sm opacity-75",children:l(h.timestamp)}),h.message&&g.jsx("div",{className:"text-sm mt-1",children:h.message})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-white bg-opacity-50",children:f(h.status)}),g.jsxs("div",{className:"flex gap-1",children:[h.status==="pending"&&g.jsx("button",{onClick:()=>a(h.id,"acknowledged"),className:"text-xs bg-yellow-500 hover:bg-yellow-600 text-white px-2 py-1 rounded",children:"Grdm"}),h.status!=="resolved"&&g.jsx("button",{onClick:()=>a(h.id,"resolved"),className:"text-xs bg-green-500 hover:bg-green-600 text-white px-2 py-1 rounded",children:"zld"})]})]})]})},h.id))})]})},Zu=({order:n,onStatusUpdate:e,onOrderSelect:t})=>{const r=l=>{switch(l){case"new":return{color:"bg-green-100 border-green-300 text-green-800",label:"Yeni Sipari",bgColor:"bg-green-50"};case"preparing":return{color:"bg-yellow-100 border-yellow-300 text-yellow-800",label:"Hazrlanyor",bgColor:"bg-yellow-50"};case"ready":return{color:"bg-blue-100 border-blue-300 text-blue-800",label:"Hazr",bgColor:"bg-blue-50"};case"delivered":return{color:"bg-gray-100 border-gray-300 text-gray-800",label:"Teslim Edildi",bgColor:"bg-gray-50"}}},i=l=>{const u=l.toDate();return new Intl.DateTimeFormat("tr-TR",{hour:"2-digit",minute:"2-digit"}).format(u)},a=r(n.status);return g.jsxs("div",{className:`${a.bgColor} rounded-lg border-2 ${a.color} p-4 cursor-pointer hover:shadow-lg transition-all duration-200 transform hover:scale-105`,onClick:()=>t(n),children:[g.jsxs("div",{className:"flex justify-between items-start mb-3",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold text-gray-800",children:typeof n.tableId=="string"&&n.tableId.length>0?n.tableId.replace("table-","Masa "):"Masa -"}),g.jsx("p",{className:"text-sm text-gray-600",children:i(n.timestamp)}),g.jsx("p",{className:"text-xs text-gray-500",children:(()=>{const l=n==null?void 0:n.sessionId;return typeof l=="string"&&l.length>0?`Session: ${l.slice(-8)}`:"Session: -"})()})]}),g.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-semibold ${a.color}`,children:a.label})]}),g.jsxs("div",{className:"mb-3",children:[g.jsxs("div",{className:"text-sm text-gray-700",children:[g.jsxs("span",{className:"font-medium",children:[n.items.length," rn"]}),g.jsx("span",{className:"mx-2",children:""}),g.jsxs("span",{className:"font-bold text-amber-600",children:[n.totalPrice," "]})]}),g.jsxs("div",{className:"mt-2 space-y-1",children:[(Array.isArray(n.items)?n.items:[]).slice(0,2).map((l,u)=>g.jsxs("div",{className:"text-xs text-gray-600",children:[l==null?void 0:l.quantity,"x ",(l==null?void 0:l.name)??"-"]},u)),Array.isArray(n.items)&&n.items.length>2&&g.jsxs("div",{className:"text-xs text-gray-500 italic",children:["+",n.items.length-2," rn daha..."]})]})]}),g.jsxs("div",{className:"flex gap-2 mt-3",children:[n.status==="new"&&g.jsx("button",{onClick:l=>{l.stopPropagation(),e(n.id,"preparing")},className:"flex-1 bg-yellow-500 hover:bg-yellow-600 text-white text-xs py-2 px-3 rounded-md transition-colors",children:"Hazrla"}),n.status==="preparing"&&g.jsx("button",{onClick:l=>{l.stopPropagation(),e(n.id,"ready")},className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white text-xs py-2 px-3 rounded-md transition-colors",children:"Hazr"}),n.status==="ready"&&g.jsx("button",{onClick:l=>{l.stopPropagation(),e(n.id,"delivered")},className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white text-xs py-2 px-3 rounded-md transition-colors",children:"Teslim Et"}),g.jsx("button",{onClick:l=>{l.stopPropagation(),t(n)},className:"bg-amber-500 hover:bg-amber-600 text-white text-xs py-2 px-3 rounded-md transition-colors",children:"Detay"})]}),n.orderNote&&g.jsxs("div",{className:"mt-3 p-2 bg-white bg-opacity-50 rounded text-xs text-gray-700",children:[g.jsx("span",{className:"font-medium",children:"Not:"})," ",n.orderNote]})]})},i4=({orders:n,onStatusUpdate:e,onOrderSelect:t})=>{if(!Array.isArray(n))return g.jsx("div",{className:"text-center py-12",children:g.jsx("h3",{className:"text-xl font-semibold text-gray-600",children:"Sipariler ykleniyor..."})});const r=Array.isArray(n)?n.filter(Boolean):[],i={new:r.filter(l=>(l==null?void 0:l.status)==="new"),preparing:r.filter(l=>(l==null?void 0:l.status)==="preparing"),ready:r.filter(l=>(l==null?void 0:l.status)==="ready"),delivered:r.filter(l=>(l==null?void 0:l.status)==="delivered")},a=l=>{switch(l){case"new":return` Yeni Sipariler (${i.new.length})`;case"preparing":return` Hazrlanyor (${i.preparing.length})`;case"ready":return` Hazr (${i.ready.length})`;case"delivered":return` Teslim Edildi (${i.delivered.length})`}};return n.length===0?g.jsxs("div",{className:"text-center py-12",children:[g.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),g.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Henz sipari yok"}),g.jsx("p",{className:"text-gray-500",children:"Yeni sipariler geldiinde burada grnecek."})]}):g.jsxs("div",{className:"space-y-8",children:[i.new.length>0&&g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:a("new")}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:i.new.map(l=>g.jsx(Zu,{order:l,onStatusUpdate:e,onOrderSelect:t},l.id))})]}),i.preparing.length>0&&g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:a("preparing")}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:i.preparing.map(l=>g.jsx(Zu,{order:l,onStatusUpdate:e,onOrderSelect:t},l.id))})]}),i.ready.length>0&&g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:a("ready")}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:i.ready.map(l=>g.jsx(Zu,{order:l,onStatusUpdate:e,onOrderSelect:t},l.id))})]}),Array.isArray(i.delivered)&&i.delivered.length>0&&g.jsxs("div",{children:[g.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:a("delivered")}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:(i.delivered||[]).slice(0,10).map(l=>g.jsx(Zu,{order:l,onStatusUpdate:e,onOrderSelect:t},l.id))}),Array.isArray(i.delivered)&&i.delivered.length>10&&g.jsxs("p",{className:"text-sm text-gray-500 mt-4 text-center",children:["Son 10 teslim edilmi sipari gsteriliyor. Toplam: ",i.delivered.length]})]})]})},o4=()=>{const[n,e]=E.useState([]),[t,r]=E.useState(null),[i,a]=E.useState(0),[l,u]=E.useState(!1),[f,h]=E.useState(""),[m,w]=E.useState(!1),[v,T]=E.useState(null),C=$=>{switch($){case"new":return{color:"bg-green-100 text-green-800",label:"Yeni"};case"preparing":return{color:"bg-yellow-100 text-yellow-800",label:"Hazrlanyor"};case"ready":return{color:"bg-blue-100 text-blue-800",label:"Hazr"};case"delivered":return{color:"bg-gray-100 text-gray-800",label:"Teslim Edildi"}}};E.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]);const S=()=>{try{const $=window.AudioContext||window.webkitAudioContext;if(!$)return;const G=new $,k=300,R=300,D=3e3,V="sine",F=880;let P=0;const j=()=>{const te=G.createOscillator(),re=G.createGain();te.type=V,te.frequency.value=F,te.connect(re),re.connect(G.destination);const ue=G.currentTime;re.gain.setValueAtTime(0,ue),re.gain.linearRampToValueAtTime(.2,ue+.01),re.gain.linearRampToValueAtTime(0,ue+k/1e3),te.start(ue),te.stop(ue+k/1e3),te.onended=()=>{te.disconnect(),re.disconnect()}},ee=setInterval(()=>{G.state==="suspended"&&G.resume().catch(()=>{}),j(),P+=k+R,P>=D&&(clearInterval(ee),setTimeout(()=>G.close().catch(()=>{}),500))},k+R)}catch{}},b=()=>{Notification.permission==="granted"&&new Notification("Yeni Sipari!",{body:"Yeni bir sipari geldi.",icon:"/favicon.ico"})},N=$=>{const G=typeof($==null?void 0:$.sessionId)=="string"&&$.sessionId.length>0?$.sessionId:"",R=(Array.isArray($==null?void 0:$.items)?$.items:[]).filter(re=>re&&typeof re=="object").map(re=>({id:String((re==null?void 0:re.id)??""),name:String((re==null?void 0:re.name)??"Tanmsz"),price:Number.isFinite(re==null?void 0:re.price)?Number(re.price):0,quantity:Number.isFinite(re==null?void 0:re.quantity)?Number(re.quantity):0})),V=["new","preparing","ready","delivered"].includes($==null?void 0:$.status)?$.status:"new",F=Number.isFinite($==null?void 0:$.totalPrice)?Number($.totalPrice):0,P=typeof($==null?void 0:$.tableId)=="string"&&$.tableId.length>0?$.tableId:"",j=typeof($==null?void 0:$.orderNote)=="string"&&$.orderNote.length>0?$.orderNote:void 0,ee=$!=null&&$.timestamp&&typeof $.timestamp.toDate=="function"?$.timestamp:Xe.now(),te=($==null?void 0:$.paymentStatus)==="paid"?"paid":"pending";return{id:String(($==null?void 0:$.id)??""),tableId:P,sessionId:G,items:R,status:V,totalPrice:F,orderNote:j,timestamp:ee,paymentStatus:te}};E.useEffect(()=>{const $=Kt(et,"orders"),G=Gs($,lc("timestamp","desc")),k=kd(G,R=>{const D=R.docs.map(F=>{const P=F.data();return N({id:F.id,...P})});D.length>i&&i!==0&&(n4(),b());const V=D.filter(F=>F.paymentStatus!=="paid");e(V),a(D.length)},R=>{console.error("onSnapshot error for orders:",R)});return()=>k()},[i]),E.useEffect(()=>{const $={current:new Set},G=Kt(et,"waiterCalls"),k=Gs(G,lc("timestamp","desc")),R=kd(k,D=>{D.docChanges().filter(V=>V.type==="added").forEach(V=>{const F=V.doc.id;if($.current.has(F))return;$.current.add(F);const P=V.doc.data(),j=typeof(P==null?void 0:P.status)=="string"?P.status:"pending",ee=typeof(P==null?void 0:P.tableId)=="string"?P.tableId:"unknown";if(j==="pending"&&(S(),"Notification"in window&&Notification.permission==="granted"))try{new Notification("Garson ars",{body:`Masa: ${ee}`,icon:"/favicon.ico"})}catch{}})},D=>{console.error("onSnapshot error for waiterCalls:",D)});return()=>R()},[]);const M=async($,G)=>{try{const k=vn(et,"orders",$);await Ki(k,{status:G})}catch(k){console.error("Error updating order status:",k),alert("Sipari durumu gncellenirken bir hata olutu.")}},L=async()=>{var k,R;if(!t)return;const $=t.tableId,G=f.trim();if(!G||G===$){T("Ltfen farkl bir hedef masa sein.");return}T(null),w(!0);try{const D=Gs(Kt(et,"orders"),as("tableId","==",$),as("paymentStatus","==","pending")),F=(await li(D)).docs;if(F.length===0){T("Tanacak bekleyen sipari bulunamad."),w(!1);return}const P=Gs(Kt(et,"orders"),as("tableId","==",G),as("paymentStatus","==","pending")),ee=(await li(P)).docs[0]||null,te={};let re=[],ue=0;F.forEach(de=>{const ge=de.data();(Array.isArray(ge==null?void 0:ge.items)?ge.items:[]).forEach(fe=>{const ve=String((fe==null?void 0:fe.id)??"");if(!ve)return;const De=String((fe==null?void 0:fe.name)??"Tanmsz"),me=Number.isFinite(fe==null?void 0:fe.price)?Number(fe.price):0,Re=Number.isFinite(fe==null?void 0:fe.quantity)?Number(fe.quantity):0;te[ve]||(te[ve]={id:ve,name:De,price:me,quantity:0}),te[ve].quantity+=Re});const Ae=typeof(ge==null?void 0:ge.orderNote)=="string"?ge.orderNote:"";Ae&&re.push(Ae)});const Y=Object.values(te);ue=Y.reduce((de,ge)=>de+ge.price*ge.quantity,0);const ne=((k=cd.find(de=>String(de.id)===$))==null?void 0:k.name)||$,le=((R=cd.find(de=>String(de.id)===G))==null?void 0:R.name)||G,B=`Tand: ${ne}  ${le}`,Z=lk(et);if(ee){const de=ee.data(),ge=Array.isArray(de==null?void 0:de.items)?de.items:[],Se={};ge.forEach(me=>{const Re=String((me==null?void 0:me.id)??"");Re&&(Se[Re]={id:Re,name:String((me==null?void 0:me.name)??"Tanmsz"),price:Number.isFinite(me==null?void 0:me.price)?Number(me.price):0,quantity:Number.isFinite(me==null?void 0:me.quantity)?Number(me.quantity):0})}),Y.forEach(me=>{Se[me.id]?Se[me.id].quantity+=me.quantity:Se[me.id]={...me}});const Ae=Object.values(Se),fe=Ae.reduce((me,Re)=>me+Re.price*Re.quantity,0),ve=[],De=typeof(de==null?void 0:de.orderNote)=="string"?de.orderNote:"";De&&ve.push(De),re.length&&ve.push(re.join(" | ")),ve.push(B),Z.update(vn(et,"orders",ee.id),{items:Ae,totalPrice:fe,orderNote:ve.join(" | "),timestamp:Xe.now()}),F.forEach(me=>{var Re;Z.update(vn(et,"orders",me.id),{paymentStatus:"paid",orderNote:`${B} | ${typeof((Re=me.data())==null?void 0:Re.orderNote)=="string"&&me.data().orderNote?me.data().orderNote:""}`.trim(),timestamp:Xe.now()})})}else{const de={tableId:G,sessionId:"",items:Y,status:"new",totalPrice:ue,orderNote:[...re,B].filter(Boolean).join(" | "),timestamp:Xe.now(),paymentStatus:"pending"},ge=vn(Kt(et,"orders"));Z.set(ge,de),F.forEach(Se=>{var Ae;Z.update(vn(et,"orders",Se.id),{paymentStatus:"paid",orderNote:`${B} | ${typeof((Ae=Se.data())==null?void 0:Ae.orderNote)=="string"&&Se.data().orderNote?Se.data().orderNote:""}`.trim(),timestamp:Xe.now()})})}await Z.commit(),u(!1),h(""),w(!1),alert("Masa tama ilemi baaryla tamamland.")}catch(D){console.error("Masa tama hatas:",D),w(!1),T("Masa tama srasnda bir hata olutu.")}},U=$=>{const G=$.toDate();return new Intl.DateTimeFormat("tr-TR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"}).format(G)};return g.jsxs("div",{className:"container mx-auto px-4 py-8",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Sipari Ynetimi"}),g.jsx("a",{href:"#/admin/order-history",className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md transition-colors",children:"Gemi Sipariler"})]}),g.jsx(s4,{}),g.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[g.jsx("div",{className:"lg:w-2/3",children:g.jsx(i4,{orders:n,onStatusUpdate:M,onOrderSelect:r})}),g.jsx("div",{className:"lg:w-1/3",children:t?g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Sipari Detay"}),g.jsx("button",{onClick:()=>r(null),className:"text-gray-400 hover:text-gray-500",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),g.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-md",children:[g.jsxs("div",{className:"flex items-center justify-between gap-2",children:[g.jsxs("div",{children:[g.jsxs("p",{className:"text-blue-700 font-medium",children:["Masa: ",t.tableId]}),g.jsx("p",{className:"text-blue-700 text-sm",children:U(t.timestamp)})]}),g.jsx("button",{onClick:()=>{h(""),T(null),u(!0)},className:"px-3 py-1 rounded-md text-xs font-medium bg-blue-600 text-white hover:bg-blue-700",children:"Masa Ta"})]}),l&&g.jsxs("div",{className:"mt-3 border border-blue-200 rounded-md p-3 bg-white",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hedef Masa"}),g.jsxs("select",{value:f,onChange:$=>h($.target.value),className:"w-full border border-gray-300 rounded-md p-2 text-sm",children:[g.jsx("option",{value:"",children:"Seiniz"}),cd.filter($=>String($.id)!==t.tableId).map($=>g.jsx("option",{value:String($.id),children:$.name},$.id))]}),v&&g.jsx("p",{className:"text-rose-600 text-xs mt-2",children:v}),g.jsxs("div",{className:"flex gap-2 mt-3",children:[g.jsx("button",{onClick:L,disabled:m,className:`px-3 py-1 rounded-md text-xs font-medium ${m?"bg-gray-300 text-gray-600":"bg-emerald-600 text-white hover:bg-emerald-700"}`,children:m?"Tanyor...":"Onayla"}),g.jsx("button",{onClick:()=>{u(!1),T(null)},disabled:m,className:"px-3 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-800 hover:bg-gray-200",children:"ptal"})]})]})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"deme Durumu"}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${t.paymentStatus==="paid"?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-800"}`,children:t.paymentStatus==="paid"?"dendi":"denmedi"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{onClick:async()=>{try{await Ki(vn(et,"orders",t.id),{paymentStatus:"pending"}),r($=>$&&{...$,paymentStatus:"pending"})}catch($){console.error($),alert("deme durumu gncellenemedi.")}},disabled:t.paymentStatus==="pending",className:`px-3 py-1 rounded-md text-xs font-medium border ${t.paymentStatus==="pending"?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50"}`,children:"denmedi"}),g.jsx("button",{onClick:async()=>{try{await Ki(vn(et,"orders",t.id),{paymentStatus:"paid"}),r($=>$&&{...$,paymentStatus:"paid"})}catch($){console.error($),alert("deme durumu gncellenemedi.")}},disabled:t.paymentStatus==="paid",className:`px-3 py-1 rounded-md text-xs font-medium border ${t.paymentStatus==="paid"?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-emerald-500 text-white border-emerald-600 hover:bg-emerald-600"}`,children:"dendi"})]})]})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"Sipari Durumu"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:["new","preparing","ready","delivered"].map($=>{const G=t.status===$,k=C($);return g.jsx("button",{onClick:()=>M(t.id,$),className:`px-3 py-1 rounded-full text-xs font-semibold ${G?k.color:"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:k.label},$)})})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"Sipari eleri"}),g.jsx("div",{className:"border-t border-b border-gray-200 py-2 divide-y divide-gray-200",children:t.items.map($=>g.jsxs("div",{className:"py-2 flex justify-between",children:[g.jsx("div",{children:g.jsxs("span",{className:"text-gray-800",children:[$.quantity," x ",$.name]})}),g.jsxs("span",{className:"text-gray-800 font-medium",children:[$.price*$.quantity," "]})]},$.id))})]}),g.jsxs("div",{className:"flex justify-between items-center text-lg font-bold mb-4",children:[g.jsx("span",{children:"Toplam:"}),g.jsxs("span",{children:[t.totalPrice," "]})]}),t.orderNote&&g.jsxs("div",{className:"mb-4",children:[g.jsx("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"Sipari Notu"}),g.jsx("p",{className:"text-gray-600 bg-gray-50 p-3 rounded-md",children:t.orderNote})]})]}):g.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:g.jsx("p",{className:"text-gray-500",children:"Detaylar grntlemek iin bir sipari sein."})})})]})]})},a4=()=>{const[n,e]=E.useState([]),[t,r]=E.useState("today"),[i,a]=E.useState(null),l=v=>{const T=typeof(v==null?void 0:v.sessionId)=="string"&&v.sessionId.length>0?v.sessionId:"",S=(Array.isArray(v==null?void 0:v.items)?v.items:[]).filter(k=>k&&typeof k=="object").map(k=>({id:String((k==null?void 0:k.id)??""),name:String((k==null?void 0:k.name)??"Tanmsz"),price:Number.isFinite(k==null?void 0:k.price)?Number(k.price):0,quantity:Number.isFinite(k==null?void 0:k.quantity)?Number(k.quantity):0})),N=["new","preparing","ready","delivered"].includes(v==null?void 0:v.status)?v.status:"new",M=Number.isFinite(v==null?void 0:v.totalPrice)?Number(v.totalPrice):0,L=typeof(v==null?void 0:v.tableId)=="string"&&v.tableId.length>0?v.tableId:"",U=typeof(v==null?void 0:v.orderNote)=="string"&&v.orderNote.length>0?v.orderNote:void 0,$=v!=null&&v.timestamp&&typeof v.timestamp.toDate=="function"?v.timestamp:Xe.now(),G=(v==null?void 0:v.paymentStatus)==="paid"?"paid":"pending";return{id:String((v==null?void 0:v.id)??""),tableId:L,sessionId:T,items:S,status:N,totalPrice:M,orderNote:U,timestamp:$,paymentStatus:G}},u=v=>{const T=new Date,C=new Date(T.getFullYear(),T.getMonth(),T.getDate());switch(v){case"today":return{start:Xe.fromDate(C),end:Xe.now()};case"week":const S=new Date(C);return S.setDate(C.getDate()-7),{start:Xe.fromDate(S),end:Xe.now()};case"month":const b=new Date(C);return b.setDate(C.getDate()-30),{start:Xe.fromDate(b),end:Xe.now()}}};E.useEffect(()=>{const v=Kt(et,"orders"),T=Gs(v,as("paymentStatus","==","paid"),lc("timestamp","desc")),C=kd(T,S=>{const{start:b,end:N}=u(t),M=S.docs.map(L=>{const U=L.data();return l({id:L.id,...U})}).filter(L=>L.timestamp.toMillis()>=b.toMillis()&&L.timestamp.toMillis()<=N.toMillis());e(M)},S=>{console.error("Gemi sipariler yklenirken hata:",S)});return()=>C()},[t]);const f=v=>{const T=v.toDate();return new Intl.DateTimeFormat("tr-TR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"}).format(T)},m=(v=>{const T={};return v.forEach(C=>{const S=C.timestamp.toDate(),b=new Intl.DateTimeFormat("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(S);T[b]||(T[b]=[]),T[b].push(C)}),T})(n),w=n.reduce((v,T)=>v+T.totalPrice,0);return g.jsxs("div",{className:"container mx-auto px-4 py-8",children:[g.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Gemi Sipariler"}),g.jsxs("div",{className:"mb-6 flex gap-4",children:[g.jsx("button",{onClick:()=>r("today"),className:`px-4 py-2 rounded-md ${t==="today"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"Bugn"}),g.jsx("button",{onClick:()=>r("week"),className:`px-4 py-2 rounded-md ${t==="week"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"Son 7 Gn"}),g.jsx("button",{onClick:()=>r("month"),className:`px-4 py-2 rounded-md ${t==="month"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"Son 30 Gn"})]}),g.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Toplam Sipari"}),g.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.length})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Toplam Gelir"}),g.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[w," "]})]}),g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Ortalama Sipari"}),g.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[n.length>0?Math.round(w/n.length):0," "]})]})]}),g.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[g.jsx("div",{className:"lg:w-2/3",children:Object.keys(m).length===0?g.jsx("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:g.jsx("p",{className:"text-gray-500",children:"Seilen dnemde denen sipari bulunamad."})}):Object.entries(m).map(([v,T])=>g.jsxs("div",{className:"mb-6",children:[g.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-3 border-b pb-2",children:[v," (",T.length," sipari - ",T.reduce((C,S)=>C+S.totalPrice,0)," )"]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:T.map(C=>g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>a(C),children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-gray-800",children:C.tableId.replace("table-","Masa ")}),g.jsx("p",{className:"text-sm text-gray-600",children:f(C.timestamp)})]}),g.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-semibold",children:"dendi"})]}),g.jsxs("div",{className:"text-sm text-gray-700",children:[g.jsxs("span",{children:[C.items.length," rn"]}),g.jsx("span",{className:"mx-2",children:""}),g.jsxs("span",{className:"font-bold text-green-600",children:[C.totalPrice," "]})]})]},C.id))})]},v))}),g.jsx("div",{className:"lg:w-1/3",children:i?g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Sipari Detay"}),g.jsx("button",{onClick:()=>a(null),className:"text-gray-400 hover:text-gray-500",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),g.jsxs("div",{className:"mb-4 p-3 bg-green-50 rounded-md",children:[g.jsxs("p",{className:"text-green-700 font-medium",children:["Masa: ",i.tableId]}),g.jsx("p",{className:"text-green-700 text-sm",children:f(i.timestamp)}),g.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800 mt-2",children:"dendi"})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"Sipari eleri"}),g.jsx("div",{className:"border-t border-b border-gray-200 py-2 divide-y divide-gray-200",children:i.items.map(v=>g.jsxs("div",{className:"py-2 flex justify-between",children:[g.jsx("div",{children:g.jsxs("span",{className:"text-gray-800",children:[v.quantity," x ",v.name]})}),g.jsxs("span",{className:"text-gray-800 font-medium",children:[v.price*v.quantity," "]})]},v.id))})]}),g.jsxs("div",{className:"flex justify-between items-center text-lg font-bold mb-4",children:[g.jsx("span",{children:"Toplam:"}),g.jsxs("span",{className:"text-green-600",children:[i.totalPrice," "]})]}),i.orderNote&&g.jsxs("div",{className:"mb-4",children:[g.jsx("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"Sipari Notu"}),g.jsx("p",{className:"text-gray-600 bg-gray-50 p-3 rounded-md",children:i.orderNote})]})]}):g.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:g.jsx("p",{className:"text-gray-500",children:"Detaylar grntlemek iin bir sipari sein."})})})]})]})};var l4=Object.defineProperty,$d=Object.getOwnPropertySymbols,uS=Object.prototype.hasOwnProperty,dS=Object.prototype.propertyIsEnumerable,Ix=(n,e,t)=>e in n?l4(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Em=(n,e)=>{for(var t in e||(e={}))uS.call(e,t)&&Ix(n,t,e[t]);if($d)for(var t of $d(e))dS.call(e,t)&&Ix(n,t,e[t]);return n},Cm=(n,e)=>{var t={};for(var r in n)uS.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&$d)for(var r of $d(n))e.indexOf(r)<0&&dS.call(n,r)&&(t[r]=n[r]);return t};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var eo;(n=>{const e=class Be{constructor(f,h,m,w){if(this.version=f,this.errorCorrectionLevel=h,this.modules=[],this.isFunction=[],f<Be.MIN_VERSION||f>Be.MAX_VERSION)throw new RangeError("Version value out of range");if(w<-1||w>7)throw new RangeError("Mask value out of range");this.size=f*4+17;let v=[];for(let C=0;C<this.size;C++)v.push(!1);for(let C=0;C<this.size;C++)this.modules.push(v.slice()),this.isFunction.push(v.slice());this.drawFunctionPatterns();const T=this.addEccAndInterleave(m);if(this.drawCodewords(T),w==-1){let C=1e9;for(let S=0;S<8;S++){this.applyMask(S),this.drawFormatBits(S);const b=this.getPenaltyScore();b<C&&(w=S,C=b),this.applyMask(S)}}i(0<=w&&w<=7),this.mask=w,this.applyMask(w),this.drawFormatBits(w),this.isFunction=[]}static encodeText(f,h){const m=n.QrSegment.makeSegments(f);return Be.encodeSegments(m,h)}static encodeBinary(f,h){const m=n.QrSegment.makeBytes(f);return Be.encodeSegments([m],h)}static encodeSegments(f,h,m=1,w=40,v=-1,T=!0){if(!(Be.MIN_VERSION<=m&&m<=w&&w<=Be.MAX_VERSION)||v<-1||v>7)throw new RangeError("Invalid value");let C,S;for(C=m;;C++){const L=Be.getNumDataCodewords(C,h)*8,U=l.getTotalBits(f,C);if(U<=L){S=U;break}if(C>=w)throw new RangeError("Data too long")}for(const L of[Be.Ecc.MEDIUM,Be.Ecc.QUARTILE,Be.Ecc.HIGH])T&&S<=Be.getNumDataCodewords(C,L)*8&&(h=L);let b=[];for(const L of f){t(L.mode.modeBits,4,b),t(L.numChars,L.mode.numCharCountBits(C),b);for(const U of L.getData())b.push(U)}i(b.length==S);const N=Be.getNumDataCodewords(C,h)*8;i(b.length<=N),t(0,Math.min(4,N-b.length),b),t(0,(8-b.length%8)%8,b),i(b.length%8==0);for(let L=236;b.length<N;L^=253)t(L,8,b);let M=[];for(;M.length*8<b.length;)M.push(0);return b.forEach((L,U)=>M[U>>>3]|=L<<7-(U&7)),new Be(C,h,M,v)}getModule(f,h){return 0<=f&&f<this.size&&0<=h&&h<this.size&&this.modules[h][f]}getModules(){return this.modules}drawFunctionPatterns(){for(let m=0;m<this.size;m++)this.setFunctionModule(6,m,m%2==0),this.setFunctionModule(m,6,m%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const f=this.getAlignmentPatternPositions(),h=f.length;for(let m=0;m<h;m++)for(let w=0;w<h;w++)m==0&&w==0||m==0&&w==h-1||m==h-1&&w==0||this.drawAlignmentPattern(f[m],f[w]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(f){const h=this.errorCorrectionLevel.formatBits<<3|f;let m=h;for(let v=0;v<10;v++)m=m<<1^(m>>>9)*1335;const w=(h<<10|m)^21522;i(w>>>15==0);for(let v=0;v<=5;v++)this.setFunctionModule(8,v,r(w,v));this.setFunctionModule(8,7,r(w,6)),this.setFunctionModule(8,8,r(w,7)),this.setFunctionModule(7,8,r(w,8));for(let v=9;v<15;v++)this.setFunctionModule(14-v,8,r(w,v));for(let v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,r(w,v));for(let v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,r(w,v));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let f=this.version;for(let m=0;m<12;m++)f=f<<1^(f>>>11)*7973;const h=this.version<<12|f;i(h>>>18==0);for(let m=0;m<18;m++){const w=r(h,m),v=this.size-11+m%3,T=Math.floor(m/3);this.setFunctionModule(v,T,w),this.setFunctionModule(T,v,w)}}drawFinderPattern(f,h){for(let m=-4;m<=4;m++)for(let w=-4;w<=4;w++){const v=Math.max(Math.abs(w),Math.abs(m)),T=f+w,C=h+m;0<=T&&T<this.size&&0<=C&&C<this.size&&this.setFunctionModule(T,C,v!=2&&v!=4)}}drawAlignmentPattern(f,h){for(let m=-2;m<=2;m++)for(let w=-2;w<=2;w++)this.setFunctionModule(f+w,h+m,Math.max(Math.abs(w),Math.abs(m))!=1)}setFunctionModule(f,h,m){this.modules[h][f]=m,this.isFunction[h][f]=!0}addEccAndInterleave(f){const h=this.version,m=this.errorCorrectionLevel;if(f.length!=Be.getNumDataCodewords(h,m))throw new RangeError("Invalid argument");const w=Be.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][h],v=Be.ECC_CODEWORDS_PER_BLOCK[m.ordinal][h],T=Math.floor(Be.getNumRawDataModules(h)/8),C=w-T%w,S=Math.floor(T/w);let b=[];const N=Be.reedSolomonComputeDivisor(v);for(let L=0,U=0;L<w;L++){let $=f.slice(U,U+S-v+(L<C?0:1));U+=$.length;const G=Be.reedSolomonComputeRemainder($,N);L<C&&$.push(0),b.push($.concat(G))}let M=[];for(let L=0;L<b[0].length;L++)b.forEach((U,$)=>{(L!=S-v||$>=C)&&M.push(U[L])});return i(M.length==T),M}drawCodewords(f){if(f.length!=Math.floor(Be.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let h=0;for(let m=this.size-1;m>=1;m-=2){m==6&&(m=5);for(let w=0;w<this.size;w++)for(let v=0;v<2;v++){const T=m-v,S=(m+1&2)==0?this.size-1-w:w;!this.isFunction[S][T]&&h<f.length*8&&(this.modules[S][T]=r(f[h>>>3],7-(h&7)),h++)}}i(h==f.length*8)}applyMask(f){if(f<0||f>7)throw new RangeError("Mask value out of range");for(let h=0;h<this.size;h++)for(let m=0;m<this.size;m++){let w;switch(f){case 0:w=(m+h)%2==0;break;case 1:w=h%2==0;break;case 2:w=m%3==0;break;case 3:w=(m+h)%3==0;break;case 4:w=(Math.floor(m/3)+Math.floor(h/2))%2==0;break;case 5:w=m*h%2+m*h%3==0;break;case 6:w=(m*h%2+m*h%3)%2==0;break;case 7:w=((m+h)%2+m*h%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[h][m]&&w&&(this.modules[h][m]=!this.modules[h][m])}}getPenaltyScore(){let f=0;for(let v=0;v<this.size;v++){let T=!1,C=0,S=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[v][b]==T?(C++,C==5?f+=Be.PENALTY_N1:C>5&&f++):(this.finderPenaltyAddHistory(C,S),T||(f+=this.finderPenaltyCountPatterns(S)*Be.PENALTY_N3),T=this.modules[v][b],C=1);f+=this.finderPenaltyTerminateAndCount(T,C,S)*Be.PENALTY_N3}for(let v=0;v<this.size;v++){let T=!1,C=0,S=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][v]==T?(C++,C==5?f+=Be.PENALTY_N1:C>5&&f++):(this.finderPenaltyAddHistory(C,S),T||(f+=this.finderPenaltyCountPatterns(S)*Be.PENALTY_N3),T=this.modules[b][v],C=1);f+=this.finderPenaltyTerminateAndCount(T,C,S)*Be.PENALTY_N3}for(let v=0;v<this.size-1;v++)for(let T=0;T<this.size-1;T++){const C=this.modules[v][T];C==this.modules[v][T+1]&&C==this.modules[v+1][T]&&C==this.modules[v+1][T+1]&&(f+=Be.PENALTY_N2)}let h=0;for(const v of this.modules)h=v.reduce((T,C)=>T+(C?1:0),h);const m=this.size*this.size,w=Math.ceil(Math.abs(h*20-m*10)/m)-1;return i(0<=w&&w<=9),f+=w*Be.PENALTY_N4,i(0<=f&&f<=2568888),f}getAlignmentPatternPositions(){if(this.version==1)return[];{const f=Math.floor(this.version/7)+2,h=this.version==32?26:Math.ceil((this.version*4+4)/(f*2-2))*2;let m=[6];for(let w=this.size-7;m.length<f;w-=h)m.splice(1,0,w);return m}}static getNumRawDataModules(f){if(f<Be.MIN_VERSION||f>Be.MAX_VERSION)throw new RangeError("Version number out of range");let h=(16*f+128)*f+64;if(f>=2){const m=Math.floor(f/7)+2;h-=(25*m-10)*m-55,f>=7&&(h-=36)}return i(208<=h&&h<=29648),h}static getNumDataCodewords(f,h){return Math.floor(Be.getNumRawDataModules(f)/8)-Be.ECC_CODEWORDS_PER_BLOCK[h.ordinal][f]*Be.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][f]}static reedSolomonComputeDivisor(f){if(f<1||f>255)throw new RangeError("Degree out of range");let h=[];for(let w=0;w<f-1;w++)h.push(0);h.push(1);let m=1;for(let w=0;w<f;w++){for(let v=0;v<h.length;v++)h[v]=Be.reedSolomonMultiply(h[v],m),v+1<h.length&&(h[v]^=h[v+1]);m=Be.reedSolomonMultiply(m,2)}return h}static reedSolomonComputeRemainder(f,h){let m=h.map(w=>0);for(const w of f){const v=w^m.shift();m.push(0),h.forEach((T,C)=>m[C]^=Be.reedSolomonMultiply(T,v))}return m}static reedSolomonMultiply(f,h){if(f>>>8||h>>>8)throw new RangeError("Byte out of range");let m=0;for(let w=7;w>=0;w--)m=m<<1^(m>>>7)*285,m^=(h>>>w&1)*f;return i(m>>>8==0),m}finderPenaltyCountPatterns(f){const h=f[1];i(h<=this.size*3);const m=h>0&&f[2]==h&&f[3]==h*3&&f[4]==h&&f[5]==h;return(m&&f[0]>=h*4&&f[6]>=h?1:0)+(m&&f[6]>=h*4&&f[0]>=h?1:0)}finderPenaltyTerminateAndCount(f,h,m){return f&&(this.finderPenaltyAddHistory(h,m),h=0),h+=this.size,this.finderPenaltyAddHistory(h,m),this.finderPenaltyCountPatterns(m)}finderPenaltyAddHistory(f,h){h[0]==0&&(f+=this.size),h.pop(),h.unshift(f)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=e;function t(u,f,h){if(f<0||f>31||u>>>f)throw new RangeError("Value out of range");for(let m=f-1;m>=0;m--)h.push(u>>>m&1)}function r(u,f){return(u>>>f&1)!=0}function i(u){if(!u)throw new Error("Assertion error")}const a=class _t{constructor(f,h,m){if(this.mode=f,this.numChars=h,this.bitData=m,h<0)throw new RangeError("Invalid argument");this.bitData=m.slice()}static makeBytes(f){let h=[];for(const m of f)t(m,8,h);return new _t(_t.Mode.BYTE,f.length,h)}static makeNumeric(f){if(!_t.isNumeric(f))throw new RangeError("String contains non-numeric characters");let h=[];for(let m=0;m<f.length;){const w=Math.min(f.length-m,3);t(parseInt(f.substring(m,m+w),10),w*3+1,h),m+=w}return new _t(_t.Mode.NUMERIC,f.length,h)}static makeAlphanumeric(f){if(!_t.isAlphanumeric(f))throw new RangeError("String contains unencodable characters in alphanumeric mode");let h=[],m;for(m=0;m+2<=f.length;m+=2){let w=_t.ALPHANUMERIC_CHARSET.indexOf(f.charAt(m))*45;w+=_t.ALPHANUMERIC_CHARSET.indexOf(f.charAt(m+1)),t(w,11,h)}return m<f.length&&t(_t.ALPHANUMERIC_CHARSET.indexOf(f.charAt(m)),6,h),new _t(_t.Mode.ALPHANUMERIC,f.length,h)}static makeSegments(f){return f==""?[]:_t.isNumeric(f)?[_t.makeNumeric(f)]:_t.isAlphanumeric(f)?[_t.makeAlphanumeric(f)]:[_t.makeBytes(_t.toUtf8ByteArray(f))]}static makeEci(f){let h=[];if(f<0)throw new RangeError("ECI assignment value out of range");if(f<128)t(f,8,h);else if(f<16384)t(2,2,h),t(f,14,h);else if(f<1e6)t(6,3,h),t(f,21,h);else throw new RangeError("ECI assignment value out of range");return new _t(_t.Mode.ECI,0,h)}static isNumeric(f){return _t.NUMERIC_REGEX.test(f)}static isAlphanumeric(f){return _t.ALPHANUMERIC_REGEX.test(f)}getData(){return this.bitData.slice()}static getTotalBits(f,h){let m=0;for(const w of f){const v=w.mode.numCharCountBits(h);if(w.numChars>=1<<v)return 1/0;m+=4+v+w.bitData.length}return m}static toUtf8ByteArray(f){f=encodeURI(f);let h=[];for(let m=0;m<f.length;m++)f.charAt(m)!="%"?h.push(f.charCodeAt(m)):(h.push(parseInt(f.substring(m+1,m+3),16)),m+=2);return h}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let l=a;n.QrSegment=a})(eo||(eo={}));(n=>{(e=>{const t=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(n.QrCode||(n.QrCode={}))})(eo||(eo={}));(n=>{(e=>{const t=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(n.QrSegment||(n.QrSegment={}))})(eo||(eo={}));var ia=eo;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var c4={L:ia.QrCode.Ecc.LOW,M:ia.QrCode.Ecc.MEDIUM,Q:ia.QrCode.Ecc.QUARTILE,H:ia.QrCode.Ecc.HIGH},fS=128,hS="L",pS="#FFFFFF",mS="#000000",gS=!1,yS=1,u4=4,d4=0,f4=.1;function vS(n,e=0){const t=[];return n.forEach(function(r,i){let a=null;r.forEach(function(l,u){if(!l&&a!==null){t.push(`M${a+e} ${i+e}h${u-a}v1H${a+e}z`),a=null;return}if(u===r.length-1){if(!l)return;a===null?t.push(`M${u+e},${i+e} h1v1H${u+e}z`):t.push(`M${a+e},${i+e} h${u+1-a}v1H${a+e}z`);return}l&&a===null&&(a=u)})}),t.join("")}function wS(n,e){return n.slice().map((t,r)=>r<e.y||r>=e.y+e.h?t:t.map((i,a)=>a<e.x||a>=e.x+e.w?i:!1))}function h4(n,e,t,r){if(r==null)return null;const i=n.length+t*2,a=Math.floor(e*f4),l=i/e,u=(r.width||a)*l,f=(r.height||a)*l,h=r.x==null?n.length/2-u/2:r.x*l,m=r.y==null?n.length/2-f/2:r.y*l,w=r.opacity==null?1:r.opacity;let v=null;if(r.excavate){let C=Math.floor(h),S=Math.floor(m),b=Math.ceil(u+h-C),N=Math.ceil(f+m-S);v={x:C,y:S,w:b,h:N}}const T=r.crossOrigin;return{x:h,y:m,h:f,w:u,excavation:v,opacity:w,crossOrigin:T}}function p4(n,e){return e!=null?Math.max(Math.floor(e),0):n?u4:d4}function xS({value:n,level:e,minVersion:t,includeMargin:r,marginSize:i,imageSettings:a,size:l,boostLevel:u}){let f=st.useMemo(()=>{const C=(Array.isArray(n)?n:[n]).reduce((S,b)=>(S.push(...ia.QrSegment.makeSegments(b)),S),[]);return ia.QrCode.encodeSegments(C,c4[e],t,void 0,void 0,u)},[n,e,t,u]);const{cells:h,margin:m,numCells:w,calculatedImageSettings:v}=st.useMemo(()=>{let T=f.getModules();const C=p4(r,i),S=T.length+C*2,b=h4(T,l,C,a);return{cells:T,margin:C,numCells:S,calculatedImageSettings:b}},[f,l,a,r,i]);return{qrcode:f,margin:m,cells:h,numCells:w,calculatedImageSettings:v}}var m4=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),g4=st.forwardRef(function(e,t){const r=e,{value:i,size:a=fS,level:l=hS,bgColor:u=pS,fgColor:f=mS,includeMargin:h=gS,minVersion:m=yS,boostLevel:w,marginSize:v,imageSettings:T}=r,S=Cm(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:b}=S,N=Cm(S,["style"]),M=T==null?void 0:T.src,L=st.useRef(null),U=st.useRef(null),$=st.useCallback(ee=>{L.current=ee,typeof t=="function"?t(ee):t&&(t.current=ee)},[t]),[G,k]=st.useState(!1),{margin:R,cells:D,numCells:V,calculatedImageSettings:F}=xS({value:i,level:l,minVersion:m,boostLevel:w,includeMargin:h,marginSize:v,imageSettings:T,size:a});st.useEffect(()=>{if(L.current!=null){const ee=L.current,te=ee.getContext("2d");if(!te)return;let re=D;const ue=U.current,Y=F!=null&&ue!==null&&ue.complete&&ue.naturalHeight!==0&&ue.naturalWidth!==0;Y&&F.excavation!=null&&(re=wS(D,F.excavation));const ne=window.devicePixelRatio||1;ee.height=ee.width=a*ne;const le=a/V*ne;te.scale(le,le),te.fillStyle=u,te.fillRect(0,0,V,V),te.fillStyle=f,m4?te.fill(new Path2D(vS(re,R))):D.forEach(function(B,Z){B.forEach(function(de,ge){de&&te.fillRect(ge+R,Z+R,1,1)})}),F&&(te.globalAlpha=F.opacity),Y&&te.drawImage(ue,F.x+R,F.y+R,F.w,F.h)}}),st.useEffect(()=>{k(!1)},[M]);const P=Em({height:a,width:a},b);let j=null;return M!=null&&(j=st.createElement("img",{src:M,key:M,style:{display:"none"},onLoad:()=>{k(!0)},ref:U,crossOrigin:F==null?void 0:F.crossOrigin})),st.createElement(st.Fragment,null,st.createElement("canvas",Em({style:P,height:a,width:a,ref:$,role:"img"},N)),j)});g4.displayName="QRCodeCanvas";var _S=st.forwardRef(function(e,t){const r=e,{value:i,size:a=fS,level:l=hS,bgColor:u=pS,fgColor:f=mS,includeMargin:h=gS,minVersion:m=yS,boostLevel:w,title:v,marginSize:T,imageSettings:C}=r,S=Cm(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:b,cells:N,numCells:M,calculatedImageSettings:L}=xS({value:i,level:l,minVersion:m,boostLevel:w,includeMargin:h,marginSize:T,imageSettings:C,size:a});let U=N,$=null;C!=null&&L!=null&&(L.excavation!=null&&(U=wS(N,L.excavation)),$=st.createElement("image",{href:C.src,height:L.h,width:L.w,x:L.x+b,y:L.y+b,preserveAspectRatio:"none",opacity:L.opacity,crossOrigin:L.crossOrigin}));const G=vS(U,b);return st.createElement("svg",Em({height:a,width:a,viewBox:`0 0 ${M} ${M}`,ref:t,role:"img"},S),!!v&&st.createElement("title",null,v),st.createElement("path",{fill:u,d:`M0,0 h${M}v${M}H0z`,shapeRendering:"crispEdges"}),st.createElement("path",{fill:f,d:G,shapeRendering:"crispEdges"}),$)});_S.displayName="QRCodeSVG";const y4=()=>{const n=pc(),e="/nua/",t=e.endsWith("/")?e:`${e}/`,r=`${window.location.origin}${t}#`;return g.jsxs("div",{className:"container mx-auto px-4 py-8",children:[g.jsx("h1",{className:"text-3xl font-bold text-amber-800 mb-6 text-center",children:"Masa QR Kodlar"}),g.jsx("p",{className:"text-gray-600 mb-8 text-center",children:"Her masa iin QR kodlar aada listelenmitir. Bu kodlar yazdrp masalara yerletirebilirsiniz."}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:cd.map(i=>g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 flex flex-col items-center",children:[g.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:i.name}),g.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:g.jsx(_S,{value:`${r}/menu/${i.qrCode}`,size:180,bgColor:"#ffffff",fgColor:"#000000",level:"H",includeMargin:!0})}),g.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["URL: ",`${r}/menu/${i.qrCode}`]}),g.jsx("button",{onClick:()=>n(`/menu/${i.qrCode}`),className:"bg-amber-500 hover:bg-amber-600 text-white py-2 px-4 rounded-md transition-colors",children:"Meny Grntle"})]},i.id))})]})},Fl=E.forwardRef(({className:n,...e},t)=>g.jsx("div",{ref:t,className:Pe("rounded-xl border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",n),...e}));Fl.displayName="Card";const $l=E.forwardRef(({className:n,...e},t)=>g.jsx("div",{ref:t,className:Pe("flex flex-col space-y-1.5 p-6",n),...e}));$l.displayName="CardHeader";const zl=E.forwardRef(({className:n,...e},t)=>g.jsx("div",{ref:t,className:Pe("font-semibold leading-none tracking-tight",n),...e}));zl.displayName="CardTitle";const Ul=E.forwardRef(({className:n,...e},t)=>g.jsx("div",{ref:t,className:Pe("text-sm text-zinc-500 dark:text-zinc-400",n),...e}));Ul.displayName="CardDescription";const Bl=E.forwardRef(({className:n,...e},t)=>g.jsx("div",{ref:t,className:Pe("p-6 pt-0",n),...e}));Bl.displayName="CardContent";const v4=E.forwardRef(({className:n,...e},t)=>g.jsx("div",{ref:t,className:Pe("flex items-center p-6 pt-0",n),...e}));v4.displayName="CardFooter";const sy=ry("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:focus-visible:ring-zinc-300",{variants:{variant:{default:"bg-zinc-900 text-zinc-50 shadow hover:bg-zinc-900/90 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/90",destructive:"bg-red-500 text-zinc-50 shadow-sm hover:bg-red-500/90 dark:bg-red-900 dark:text-zinc-50 dark:hover:bg-red-900/90",outline:"border border-zinc-200 bg-white shadow-sm hover:bg-zinc-100 hover:text-zinc-900 dark:border-zinc-800 dark:bg-zinc-950 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",secondary:"bg-zinc-100 text-zinc-900 shadow-sm hover:bg-zinc-100/80 dark:bg-zinc-800 dark:text-zinc-50 dark:hover:bg-zinc-800/80",ghost:"hover:bg-zinc-100 hover:text-zinc-900 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",link:"text-zinc-900 underline-offset-4 hover:underline dark:text-zinc-50"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),os=E.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},a)=>{const l=r?jk:"button";return g.jsx(l,{className:Pe(sy({variant:e,size:t,className:n})),ref:a,...i})});os.displayName="Button";var Tf="Dialog",[ES,CS]=mi(Tf),[w4,wr]=ES(Tf),SS=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:a,modal:l=!0}=n,u=E.useRef(null),f=E.useRef(null),[h,m]=_a({prop:r,defaultProp:i??!1,onChange:a,caller:Tf});return g.jsx(w4,{scope:e,triggerRef:u,contentRef:f,contentId:ei(),titleId:ei(),descriptionId:ei(),open:h,onOpenChange:m,onOpenToggle:E.useCallback(()=>m(w=>!w),[m]),modal:l,children:t})};SS.displayName=Tf;var TS="DialogTrigger",bS=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=wr(TS,t),a=at(e,i.triggerRef);return g.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ay(i.open),...r,ref:a,onClick:Le(n.onClick,i.onOpenToggle)})});bS.displayName=TS;var iy="DialogPortal",[x4,IS]=ES(iy,{forceMount:void 0}),NS=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,a=wr(iy,e);return g.jsx(x4,{scope:e,forceMount:t,children:E.Children.map(r,l=>g.jsx(Oa,{present:t||a.open,children:g.jsx(wf,{asChild:!0,container:i,children:l})}))})};NS.displayName=iy;var zd="DialogOverlay",AS=E.forwardRef((n,e)=>{const t=IS(zd,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=wr(zd,n.__scopeDialog);return a.modal?g.jsx(Oa,{present:r||a.open,children:g.jsx(E4,{...i,ref:e})}):null});AS.displayName=zd;var _4=wa("DialogOverlay.RemoveScroll"),E4=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=wr(zd,t);return g.jsx(Yg,{as:_4,allowPinchZoom:!0,shards:[i.contentRef],children:g.jsx($e.div,{"data-state":ay(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),to="DialogContent",RS=E.forwardRef((n,e)=>{const t=IS(to,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=wr(to,n.__scopeDialog);return g.jsx(Oa,{present:r||a.open,children:a.modal?g.jsx(C4,{...i,ref:e}):g.jsx(S4,{...i,ref:e})})});RS.displayName=to;var C4=E.forwardRef((n,e)=>{const t=wr(to,n.__scopeDialog),r=E.useRef(null),i=at(e,t.contentRef,r);return E.useEffect(()=>{const a=r.current;if(a)return FC(a)},[]),g.jsx(PS,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(n.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Le(n.onPointerDownOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&a.preventDefault()}),onFocusOutside:Le(n.onFocusOutside,a=>a.preventDefault())})}),S4=E.forwardRef((n,e)=>{const t=wr(to,n.__scopeDialog),r=E.useRef(!1),i=E.useRef(!1);return g.jsx(PS,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,u;(l=n.onCloseAutoFocus)==null||l.call(n,a),a.defaultPrevented||(r.current||(u=t.triggerRef.current)==null||u.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var f,h;(f=n.onInteractOutside)==null||f.call(n,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;((h=t.triggerRef.current)==null?void 0:h.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),PS=E.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=n,u=wr(to,t),f=E.useRef(null),h=at(e,f);return pC(),g.jsxs(g.Fragment,{children:[g.jsx(Fg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:g.jsx(mf,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":ay(u.open),...l,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(b4,{titleId:u.titleId}),g.jsx(N4,{contentRef:f,descriptionId:u.descriptionId})]})]})}),oy="DialogTitle",kS=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=wr(oy,t);return g.jsx($e.h2,{id:i.titleId,...r,ref:e})});kS.displayName=oy;var DS="DialogDescription",MS=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=wr(DS,t);return g.jsx($e.p,{id:i.descriptionId,...r,ref:e})});MS.displayName=DS;var OS="DialogClose",jS=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=wr(OS,t);return g.jsx($e.button,{type:"button",...r,ref:e,onClick:Le(n.onClick,()=>i.onOpenChange(!1))})});jS.displayName=OS;function ay(n){return n?"open":"closed"}var LS="DialogTitleWarning",[T4,VS]=Mk(LS,{contentName:to,titleName:oy,docsSlug:"dialog"}),b4=({titleId:n})=>{const e=VS(LS),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},I4="DialogDescriptionWarning",N4=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${VS(I4).contentName}}.`;return E.useEffect(()=>{var a;const i=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},FS=SS,$S=bS,zS=NS,ly=AS,cy=RS,uy=kS,dy=MS,fy=jS;const Nx=FS,Ax=$S,A4=zS,US=E.forwardRef(({className:n,...e},t)=>g.jsx(ly,{ref:t,className:Pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));US.displayName=ly.displayName;const Sm=E.forwardRef(({className:n,children:e,...t},r)=>g.jsxs(A4,{children:[g.jsx(US,{}),g.jsxs(cy,{ref:r,className:Pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-zinc-800 dark:bg-zinc-950",n),...t,children:[e,g.jsxs(fy,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-zinc-100 data-[state=open]:text-zinc-500 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 dark:data-[state=open]:bg-zinc-800 dark:data-[state=open]:text-zinc-400",children:[g.jsx(A1,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Sm.displayName=cy.displayName;const Tm=({className:n,...e})=>g.jsx("div",{className:Pe("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});Tm.displayName="DialogHeader";const bm=({className:n,...e})=>g.jsx("div",{className:Pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});bm.displayName="DialogFooter";const Im=E.forwardRef(({className:n,...e},t)=>g.jsx(uy,{ref:t,className:Pe("text-lg font-semibold leading-none tracking-tight",n),...e}));Im.displayName=uy.displayName;const Nm=E.forwardRef(({className:n,...e},t)=>g.jsx(dy,{ref:t,className:Pe("text-sm text-zinc-500 dark:text-zinc-400",n),...e}));Nm.displayName=dy.displayName;const dt=E.forwardRef(({className:n,type:e,...t},r)=>g.jsx("input",{type:e,className:Pe("flex h-9 w-full rounded-md border border-zinc-200 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-zinc-950 placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:file:text-zinc-50 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",n),ref:r,...t}));dt.displayName="Input";var R4="Label",BS=E.forwardRef((n,e)=>g.jsx($e.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));BS.displayName=R4;var HS=BS;const P4=ry("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),He=E.forwardRef(({className:n,...e},t)=>g.jsx(HS,{ref:t,className:Pe(P4(),n),...e}));He.displayName=HS.displayName;const Am=E.forwardRef(({className:n,...e},t)=>g.jsx("div",{className:"relative w-full overflow-auto",children:g.jsx("table",{ref:t,className:Pe("w-full caption-bottom text-sm",n),...e})}));Am.displayName="Table";const Rm=E.forwardRef(({className:n,...e},t)=>g.jsx("thead",{ref:t,className:Pe("[&_tr]:border-b",n),...e}));Rm.displayName="TableHeader";const Pm=E.forwardRef(({className:n,...e},t)=>g.jsx("tbody",{ref:t,className:Pe("[&_tr:last-child]:border-0",n),...e}));Pm.displayName="TableBody";const k4=E.forwardRef(({className:n,...e},t)=>g.jsx("tfoot",{ref:t,className:Pe("border-t bg-zinc-100/50 font-medium [&>tr]:last:border-b-0 dark:bg-zinc-800/50",n),...e}));k4.displayName="TableFooter";const Hl=E.forwardRef(({className:n,...e},t)=>g.jsx("tr",{ref:t,className:Pe("border-b transition-colors hover:bg-zinc-100/50 data-[state=selected]:bg-zinc-100 dark:hover:bg-zinc-800/50 dark:data-[state=selected]:bg-zinc-800",n),...e}));Hl.displayName="TableRow";const Bs=E.forwardRef(({className:n,...e},t)=>g.jsx("th",{ref:t,className:Pe("h-10 px-2 text-left align-middle font-medium text-zinc-500 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px] dark:text-zinc-400",n),...e}));Bs.displayName="TableHead";const Hs=E.forwardRef(({className:n,...e},t)=>g.jsx("td",{ref:t,className:Pe("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e}));Hs.displayName="TableCell";const D4=E.forwardRef(({className:n,...e},t)=>g.jsx("caption",{ref:t,className:Pe("mt-4 text-sm text-zinc-500 dark:text-zinc-400",n),...e}));D4.displayName="TableCaption";var Ap="rovingFocusGroup.onEntryFocus",M4={bubbles:!1,cancelable:!0},Sc="RovingFocusGroup",[km,WS,O4]=Lg(Sc),[j4,qS]=mi(Sc,[O4]),[L4,V4]=j4(Sc),KS=E.forwardRef((n,e)=>g.jsx(km.Provider,{scope:n.__scopeRovingFocusGroup,children:g.jsx(km.Slot,{scope:n.__scopeRovingFocusGroup,children:g.jsx(F4,{...n,ref:e})})}));KS.displayName=Sc;var F4=E.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...w}=n,v=E.useRef(null),T=at(e,v),C=Vg(a),[S,b]=_a({prop:l,defaultProp:u??null,onChange:f,caller:Sc}),[N,M]=E.useState(!1),L=Wn(h),U=WS(t),$=E.useRef(!1),[G,k]=E.useState(0);return E.useEffect(()=>{const R=v.current;if(R)return R.addEventListener(Ap,L),()=>R.removeEventListener(Ap,L)},[L]),g.jsx(L4,{scope:t,orientation:r,dir:C,loop:i,currentTabStopId:S,onItemFocus:E.useCallback(R=>b(R),[b]),onItemShiftTab:E.useCallback(()=>M(!0),[]),onFocusableItemAdd:E.useCallback(()=>k(R=>R+1),[]),onFocusableItemRemove:E.useCallback(()=>k(R=>R-1),[]),children:g.jsx($e.div,{tabIndex:N||G===0?-1:0,"data-orientation":r,...w,ref:T,style:{outline:"none",...n.style},onMouseDown:Le(n.onMouseDown,()=>{$.current=!0}),onFocus:Le(n.onFocus,R=>{const D=!$.current;if(R.target===R.currentTarget&&D&&!N){const V=new CustomEvent(Ap,M4);if(R.currentTarget.dispatchEvent(V),!V.defaultPrevented){const F=U().filter(re=>re.focusable),P=F.find(re=>re.active),j=F.find(re=>re.id===S),te=[P,j,...F].filter(Boolean).map(re=>re.ref.current);YS(te,m)}}$.current=!1}),onBlur:Le(n.onBlur,()=>M(!1))})})}),GS="RovingFocusGroupItem",QS=E.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:a,children:l,...u}=n,f=ei(),h=a||f,m=V4(GS,t),w=m.currentTabStopId===h,v=WS(t),{onFocusableItemAdd:T,onFocusableItemRemove:C,currentTabStopId:S}=m;return E.useEffect(()=>{if(r)return T(),()=>C()},[r,T,C]),g.jsx(km.ItemSlot,{scope:t,id:h,focusable:r,active:i,children:g.jsx($e.span,{tabIndex:w?0:-1,"data-orientation":m.orientation,...u,ref:e,onMouseDown:Le(n.onMouseDown,b=>{r?m.onItemFocus(h):b.preventDefault()}),onFocus:Le(n.onFocus,()=>m.onItemFocus(h)),onKeyDown:Le(n.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){m.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const N=U4(b,m.orientation,m.dir);if(N!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let L=v().filter(U=>U.focusable).map(U=>U.ref.current);if(N==="last")L.reverse();else if(N==="prev"||N==="next"){N==="prev"&&L.reverse();const U=L.indexOf(b.currentTarget);L=m.loop?B4(L,U+1):L.slice(U+1)}setTimeout(()=>YS(L))}}),children:typeof l=="function"?l({isCurrentTabStop:w,hasTabStop:S!=null}):l})})});QS.displayName=GS;var $4={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function z4(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function U4(n,e,t){const r=z4(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return $4[r]}function YS(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function B4(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var H4=KS,W4=QS,bf="Tabs",[q4,m9]=mi(bf,[qS]),XS=qS(),[K4,hy]=q4(bf),JS=E.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:a,orientation:l="horizontal",dir:u,activationMode:f="automatic",...h}=n,m=Vg(u),[w,v]=_a({prop:r,onChange:i,defaultProp:a??"",caller:bf});return g.jsx(K4,{scope:t,baseId:ei(),value:w,onValueChange:v,orientation:l,dir:m,activationMode:f,children:g.jsx($e.div,{dir:m,"data-orientation":l,...h,ref:e})})});JS.displayName=bf;var ZS="TabsList",eT=E.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=n,a=hy(ZS,t),l=XS(t);return g.jsx(H4,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:r,children:g.jsx($e.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});eT.displayName=ZS;var tT="TabsTrigger",nT=E.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...a}=n,l=hy(tT,t),u=XS(t),f=iT(l.baseId,r),h=oT(l.baseId,r),m=r===l.value;return g.jsx(W4,{asChild:!0,...u,focusable:!i,active:m,children:g.jsx($e.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:f,...a,ref:e,onMouseDown:Le(n.onMouseDown,w=>{!i&&w.button===0&&w.ctrlKey===!1?l.onValueChange(r):w.preventDefault()}),onKeyDown:Le(n.onKeyDown,w=>{[" ","Enter"].includes(w.key)&&l.onValueChange(r)}),onFocus:Le(n.onFocus,()=>{const w=l.activationMode!=="manual";!m&&!i&&w&&l.onValueChange(r)})})})});nT.displayName=tT;var rT="TabsContent",sT=E.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:a,...l}=n,u=hy(rT,t),f=iT(u.baseId,r),h=oT(u.baseId,r),m=r===u.value,w=E.useRef(m);return E.useEffect(()=>{const v=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(v)},[]),g.jsx(Oa,{present:i||m,children:({present:v})=>g.jsx($e.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!v,id:h,tabIndex:0,...l,ref:e,style:{...n.style,animationDuration:w.current?"0s":void 0},children:v&&a})})});sT.displayName=rT;function iT(n,e){return`${n}-trigger-${e}`}function oT(n,e){return`${n}-content-${e}`}var G4=JS,aT=eT,lT=nT,cT=sT;const Q4=G4,uT=E.forwardRef(({className:n,...e},t)=>g.jsx(aT,{ref:t,className:Pe("inline-flex h-9 items-center justify-center rounded-lg bg-zinc-100 p-1 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400",n),...e}));uT.displayName=aT.displayName;const Dm=E.forwardRef(({className:n,...e},t)=>g.jsx(lT,{ref:t,className:Pe("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-zinc-950 data-[state=active]:shadow dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300 dark:data-[state=active]:bg-zinc-950 dark:data-[state=active]:text-zinc-50",n),...e}));Dm.displayName=lT.displayName;const Mm=E.forwardRef(({className:n,...e},t)=>g.jsx(cT,{ref:t,className:Pe("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300",n),...e}));Mm.displayName=cT.displayName;var Y4="Separator",Rx="horizontal",X4=["horizontal","vertical"],dT=E.forwardRef((n,e)=>{const{decorative:t,orientation:r=Rx,...i}=n,a=J4(r)?r:Rx,u=t?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return g.jsx($e.div,{"data-orientation":a,...u,...i,ref:e})});dT.displayName=Y4;function J4(n){return X4.includes(n)}var fT=dT;const Om=E.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...r},i)=>g.jsx(fT,{ref:i,decorative:t,orientation:e,className:Pe("shrink-0 bg-zinc-200 dark:bg-zinc-800",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...r}));Om.displayName=fT.displayName;const dr=E.forwardRef(({className:n,...e},t)=>g.jsx("textarea",{className:Pe("flex min-h-[60px] w-full rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",n),ref:t,...e}));dr.displayName="Textarea";var hT="AlertDialog",[Z4,g9]=mi(hT,[CS]),ms=CS(),pT=n=>{const{__scopeAlertDialog:e,...t}=n,r=ms(e);return g.jsx(FS,{...r,...t,modal:!0})};pT.displayName=hT;var eL="AlertDialogTrigger",mT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ms(t);return g.jsx($S,{...i,...r,ref:e})});mT.displayName=eL;var tL="AlertDialogPortal",gT=n=>{const{__scopeAlertDialog:e,...t}=n,r=ms(e);return g.jsx(zS,{...r,...t})};gT.displayName=tL;var nL="AlertDialogOverlay",yT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ms(t);return g.jsx(ly,{...i,...r,ref:e})});yT.displayName=nL;var da="AlertDialogContent",[rL,sL]=Z4(da),iL=Vk("AlertDialogContent"),vT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...i}=n,a=ms(t),l=E.useRef(null),u=at(e,l),f=E.useRef(null);return g.jsx(T4,{contentName:da,titleName:wT,docsSlug:"alert-dialog",children:g.jsx(rL,{scope:t,cancelRef:f,children:g.jsxs(cy,{role:"alertdialog",...a,...i,ref:u,onOpenAutoFocus:Le(i.onOpenAutoFocus,h=>{var m;h.preventDefault(),(m=f.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[g.jsx(iL,{children:r}),g.jsx(aL,{contentRef:l})]})})})});vT.displayName=da;var wT="AlertDialogTitle",xT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ms(t);return g.jsx(uy,{...i,...r,ref:e})});xT.displayName=wT;var _T="AlertDialogDescription",ET=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ms(t);return g.jsx(dy,{...i,...r,ref:e})});ET.displayName=_T;var oL="AlertDialogAction",CT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ms(t);return g.jsx(fy,{...i,...r,ref:e})});CT.displayName=oL;var ST="AlertDialogCancel",TT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:i}=sL(ST,t),a=ms(t),l=at(e,i);return g.jsx(fy,{...a,...r,ref:l})});TT.displayName=ST;var aL=({contentRef:n})=>{const e=`\`${da}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${da}\` by passing a \`${_T}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${da}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return E.useEffect(()=>{var r;document.getElementById((r=n.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},lL=pT,cL=mT,uL=gT,bT=yT,IT=vT,NT=CT,AT=TT,RT=xT,PT=ET;const Px=lL,kx=cL,dL=uL,kT=E.forwardRef(({className:n,...e},t)=>g.jsx(bT,{className:Pe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));kT.displayName=bT.displayName;const jm=E.forwardRef(({className:n,...e},t)=>g.jsxs(dL,{children:[g.jsx(kT,{}),g.jsx(IT,{ref:t,className:Pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-zinc-800 dark:bg-zinc-950",n),...e})]}));jm.displayName=IT.displayName;const Lm=({className:n,...e})=>g.jsx("div",{className:Pe("flex flex-col space-y-2 text-center sm:text-left",n),...e});Lm.displayName="AlertDialogHeader";const Vm=({className:n,...e})=>g.jsx("div",{className:Pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});Vm.displayName="AlertDialogFooter";const Fm=E.forwardRef(({className:n,...e},t)=>g.jsx(RT,{ref:t,className:Pe("text-lg font-semibold",n),...e}));Fm.displayName=RT.displayName;const $m=E.forwardRef(({className:n,...e},t)=>g.jsx(PT,{ref:t,className:Pe("text-sm text-zinc-500 dark:text-zinc-400",n),...e}));$m.displayName=PT.displayName;const zm=E.forwardRef(({className:n,...e},t)=>g.jsx(NT,{ref:t,className:Pe(sy(),n),...e}));zm.displayName=NT.displayName;const Um=E.forwardRef(({className:n,...e},t)=>g.jsx(AT,{ref:t,className:Pe(sy({variant:"outline"}),"mt-2 sm:mt-0",n),...e}));Um.displayName=AT.displayName;const fL=()=>{const[n,e]=E.useState([]),[t,r]=E.useState([]),[i,a]=E.useState({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:"",description_tr:"",description_en:"",description_ru:"",description_de:"",description_fr:"",price:"",image:"",category:""}),[l,u]=E.useState({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:""}),[f,h]=E.useState(null),[m,w]=E.useState(null),[v,T]=E.useState({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:"",description_tr:"",description_en:"",description_ru:"",description_de:"",description_fr:"",price:"",image:"",category:""}),[C,S]=E.useState({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:""}),{toast:b}=Zg(),{t:N,i18n:M}=pf(),L=async()=>{try{const P=Kt(et,"menuItems"),ee=(await li(P)).docs.map(Y=>{const ne=Y.data();return{id:Y.id,name_tr:ne.name_tr||"",name_en:ne.name_en||"",name_ru:ne.name_ru||"",name_de:ne.name_de||"",name_fr:ne.name_fr||"",description_tr:ne.description_tr||"",description_en:ne.description_en||"",description_ru:ne.description_ru||"",description_de:ne.description_de||"",description_fr:ne.description_fr||"",price:ne.price||0,image:ne.image||"",category:ne.category||""}});e(ee);const te=Kt(et,"categories"),ue=(await li(te)).docs.map(Y=>{const ne=Y.data();return{id:Y.id,name_tr:ne.name_tr||"",name_en:ne.name_en||"",name_ru:ne.name_ru||"",name_de:ne.name_de||"",name_fr:ne.name_fr||""}});r(ue)}catch(P){console.error("Error fetching menu data:",P),b({title:N("error"),description:N("errorFetchingMenuData"),variant:"destructive"})}};E.useEffect(()=>{L()},[]);const U=async()=>{try{if(!i.name_tr||!i.price||!i.category){b({title:N("warning"),description:N("pleaseFillNamePriceCategory"),variant:"destructive"});return}await Pd(Kt(et,"menuItems"),{name_tr:i.name_tr,name_en:i.name_en,name_ru:i.name_ru,name_de:i.name_de,name_fr:i.name_fr,description_tr:i.description_tr,description_en:i.description_en,description_ru:i.description_ru,description_de:i.description_de,description_fr:i.description_fr,price:parseFloat(i.price),image:i.image,category:i.category}),a({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:"",description_tr:"",description_en:"",description_ru:"",description_de:"",description_fr:"",price:"",image:"",category:""}),await L(),b({title:N("success"),description:N("itemAddedSuccessfully")})}catch(P){console.error("Error adding menu item:",P),b({title:N("error"),description:N("errorAddingMenuItem"),variant:"destructive"})}},$=async()=>{try{if(!l.name_tr){b({title:N("warning"),description:N("pleaseFillCategoryName"),variant:"destructive"});return}await Pd(Kt(et,"categories"),{name_tr:l.name_tr,name_en:l.name_en,name_ru:l.name_ru,name_de:l.name_de,name_fr:l.name_fr}),u({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:""}),await L(),b({title:N("success"),description:N("categoryAddedSuccessfully")})}catch(P){console.error("Error adding category:",P),b({title:N("error"),description:N("errorAddingCategory"),variant:"destructive"})}},G=async P=>{try{await Kw(vn(et,"menuItems",P)),await L(),b({title:N("success"),description:N("itemDeletedSuccessfully")})}catch(j){console.error("Error deleting menu item:",j),b({title:N("error"),description:N("errorDeletingMenuItem"),variant:"destructive"})}},k=async P=>{try{await Kw(vn(et,"categories",P)),await L(),b({title:N("success"),description:N("categoryDeletedSuccessfully")})}catch(j){console.error("Error deleting category:",j),b({title:N("error"),description:N("errorDeletingCategory"),variant:"destructive"})}},R=P=>{h(P),T({name_tr:P.name_tr,name_en:P.name_en||"",name_ru:P.name_ru||"",name_de:P.name_de||"",name_fr:P.name_fr||"",description_tr:P.description_tr,description_en:P.description_en||"",description_ru:P.description_ru||"",description_de:P.description_de||"",description_fr:P.description_fr||"",price:P.price.toString(),image:P.image,category:P.category})},D=async()=>{if(f)try{if(!v.name_tr||!v.price||!v.category){b({title:N("warning"),description:N("pleaseFillNamePriceCategory"),variant:"destructive"});return}const P=vn(et,"menuItems",f.id);await Ki(P,{name_tr:v.name_tr,name_en:v.name_en,name_ru:v.name_ru,name_de:v.name_de,name_fr:v.name_fr,description_tr:v.description_tr,description_en:v.description_en,description_ru:v.description_ru,description_de:v.description_de,description_fr:v.description_fr,price:parseFloat(v.price),image:v.image,category:v.category}),h(null),T({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:"",description_tr:"",description_en:"",description_ru:"",description_de:"",description_fr:"",price:"",image:"",category:""}),await L(),b({title:N("success"),description:N("itemUpdatedSuccessfully")})}catch(P){console.error("Error updating menu item:",P),b({title:N("error"),description:N("errorUpdatingMenuItem"),variant:"destructive"})}},V=P=>{w(P),S({name_tr:P.name_tr,name_en:P.name_en||"",name_ru:P.name_ru||"",name_de:P.name_de||"",name_fr:P.name_fr||""})},F=async()=>{if(m)try{if(!C.name_tr){b({title:N("warning"),description:N("pleaseFillCategoryName"),variant:"destructive"});return}const P=vn(et,"categories",m.id);await Ki(P,{name_tr:C.name_tr,name_en:C.name_en,name_ru:C.name_ru,name_de:C.name_de,name_fr:C.name_fr}),w(null),S({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:""}),await L(),b({title:N("success"),description:N("categoryUpdatedSuccessfully")})}catch(P){console.error("Error updating category:",P),b({title:N("error"),description:N("errorUpdatingCategory"),variant:"destructive"})}};return g.jsxs("div",{className:"container mx-auto px-4 py-8",children:[g.jsx(cS,{}),g.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:N("menuManagement")}),g.jsxs(Q4,{defaultValue:"menuItems",className:"w-full",children:[g.jsxs(uT,{className:"grid w-full grid-cols-2",children:[g.jsx(Dm,{value:"menuItems",children:N("menuItems")}),g.jsx(Dm,{value:"categories",children:N("categories")})]}),g.jsxs(Mm,{value:"menuItems",children:[g.jsxs(Fl,{className:"mt-4",children:[g.jsxs($l,{children:[g.jsx(zl,{children:N("addNewMenuItem")}),g.jsx(Ul,{children:N("addNewMenuItemDescription")})]}),g.jsxs(Bl,{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"newItemNameTr",children:[N("name")," (TR)"]}),g.jsx(dt,{id:"newItemNameTr",type:"text",value:i.name_tr,onChange:P=>a({...i,name_tr:P.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"newItemNameEn",children:[N("name")," (EN)"]}),g.jsx(dt,{id:"newItemNameEn",type:"text",value:i.name_en,onChange:P=>a({...i,name_en:P.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"newItemNameRu",children:[N("name")," (RU)"]}),g.jsx(dt,{id:"newItemNameRu",type:"text",value:i.name_ru,onChange:P=>a({...i,name_ru:P.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"newItemNameDe",children:[N("name")," (DE)"]}),g.jsx(dt,{id:"newItemNameDe",type:"text",value:i.name_de,onChange:P=>a({...i,name_de:P.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"newItemNameFr",children:[N("name")," (FR)"]}),g.jsx(dt,{id:"newItemNameFr",type:"text",value:i.name_fr,onChange:P=>a({...i,name_fr:P.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"newItemDescriptionTr",children:[N("description")," (TR)"]}),g.jsx(dr,{id:"newItemDescriptionTr",value:i.description_tr,onChange:P=>a({...i,description_tr:P.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"newItemDescriptionEn",children:[N("description")," (EN)"]}),g.jsx(dr,{id:"newItemDescriptionEn",value:i.description_en,onChange:P=>a({...i,description_en:P.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"newItemDescriptionRu",children:[N("description")," (RU)"]}),g.jsx(dr,{id:"newItemDescriptionRu",value:i.description_ru,onChange:P=>a({...i,description_ru:P.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"newItemDescriptionDe",children:[N("description")," (DE)"]}),g.jsx(dr,{id:"newItemDescriptionDe",value:i.description_de,onChange:P=>a({...i,description_de:P.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"newItemDescriptionFr",children:[N("description")," (FR)"]}),g.jsx(dr,{id:"newItemDescriptionFr",value:i.description_fr,onChange:P=>a({...i,description_fr:P.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(He,{htmlFor:"newItemPrice",children:N("price")}),g.jsx(dt,{id:"newItemPrice",type:"number",value:i.price,onChange:P=>a({...i,price:P.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(He,{htmlFor:"newItemImage",children:N("imageUrl")}),g.jsx(dt,{id:"newItemImage",type:"text",value:i.image,onChange:P=>a({...i,image:P.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(He,{htmlFor:"newItemCategory",children:N("category")}),g.jsxs(ym,{value:i.category,onValueChange:P=>a({...i,category:P}),children:[g.jsx(Vd,{id:"newItemCategory",children:g.jsx(vm,{placeholder:N("selectCategory")})}),g.jsx(Fd,{children:t.map(P=>g.jsx(Ws,{value:P.id,children:P[`name_${M.language}`]||P.name_tr},P.id))})]})]})]}),g.jsxs(os,{onClick:U,className:"w-full",children:[g.jsx(vx,{className:"mr-2 h-4 w-4"})," ",N("addItem")]})]})]}),g.jsx(Om,{className:"my-8"}),g.jsxs(Fl,{children:[g.jsxs($l,{children:[g.jsx(zl,{children:N("existingMenuItems")}),g.jsx(Ul,{children:N("existingMenuItemsDescription")})]}),g.jsx(Bl,{children:g.jsxs(Am,{children:[g.jsx(Rm,{children:g.jsxs(Hl,{children:[g.jsx(Bs,{children:N("name")}),g.jsx(Bs,{children:N("description")}),g.jsx(Bs,{children:N("price")}),g.jsx(Bs,{children:N("category")}),g.jsx(Bs,{className:"text-right",children:N("actions")})]})}),g.jsx(Pm,{children:n.map(P=>{var j,ee;return g.jsxs(Hl,{children:[g.jsx(Hs,{className:"font-medium",children:P["name_"+M.language]||P.name_tr}),g.jsx(Hs,{children:P["description_"+M.language]||P.description_tr}),g.jsxs(Hs,{children:[P.price," "]}),g.jsx(Hs,{children:((j=t.find(te=>te.id===P.category))==null?void 0:j["name_"+M.language])||((ee=t.find(te=>te.id===P.category))==null?void 0:ee.name_tr)||"Bilinmiyor"}),g.jsxs(Hs,{className:"text-right",children:[g.jsxs(Nx,{children:[g.jsx(Ax,{asChild:!0,children:g.jsx(os,{variant:"ghost",size:"sm",onClick:()=>R(P),children:g.jsx(wx,{className:"h-4 w-4"})})}),g.jsxs(Sm,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[g.jsxs(Tm,{children:[g.jsx(Im,{children:N("editMenuItem")}),g.jsx(Nm,{children:N("updateMenuItemInfo")})]}),g.jsxs("div",{className:"grid gap-4 py-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"editedItemNameTr",children:[N("name")," (TR)"]}),g.jsx(dt,{id:"editedItemNameTr",value:v.name_tr,onChange:te=>T({...v,name_tr:te.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"editedItemNameEn",children:[N("name")," (EN)"]}),g.jsx(dt,{id:"editedItemNameEn",value:v.name_en,onChange:te=>T({...v,name_en:te.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"editedItemNameRu",children:[N("name")," (RU)"]}),g.jsx(dt,{id:"editedItemNameRu",value:v.name_ru,onChange:te=>T({...v,name_ru:te.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"editedItemNameDe",children:[N("name")," (DE)"]}),g.jsx(dt,{id:"editedItemNameDe",value:v.name_de,onChange:te=>T({...v,name_de:te.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"editedItemNameFr",children:[N("name")," (FR)"]}),g.jsx(dt,{id:"editedItemNameFr",value:v.name_fr,onChange:te=>T({...v,name_fr:te.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"editedItemDescriptionTr",children:[N("description")," (TR)"]}),g.jsx(dr,{id:"editedItemDescriptionTr",value:v.description_tr,onChange:te=>T({...v,description_tr:te.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"editedItemDescriptionEn",children:[N("description")," (EN)"]}),g.jsx(dr,{id:"editedItemDescriptionEn",value:v.description_en,onChange:te=>T({...v,description_en:te.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"editedItemDescriptionRu",children:[N("description")," (RU)"]}),g.jsx(dr,{id:"editedItemDescriptionRu",value:v.description_ru,onChange:te=>T({...v,description_ru:te.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"editedItemDescriptionDe",children:[N("description")," (DE)"]}),g.jsx(dr,{id:"editedItemDescriptionDe",value:v.description_de,onChange:te=>T({...v,description_de:te.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"editedItemDescriptionFr",children:[N("description")," (FR)"]}),g.jsx(dr,{id:"editedItemDescriptionFr",value:v.description_fr,onChange:te=>T({...v,description_fr:te.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(He,{htmlFor:"editedItemPrice",children:N("price")}),g.jsx(dt,{id:"editedItemPrice",type:"number",value:v.price,onChange:te=>T({...v,price:te.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(He,{htmlFor:"editedItemImage",children:N("imageUrl")}),g.jsx(dt,{id:"editedItemImage",value:v.image,onChange:te=>T({...v,image:te.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(He,{htmlFor:"editedItemCategory",children:N("category")}),g.jsxs(ym,{value:v.category,onValueChange:te=>T({...v,category:te}),children:[g.jsx(Vd,{id:"editedItemCategory",children:g.jsx(vm,{placeholder:N("selectCategory")})}),g.jsx(Fd,{children:t.map(te=>g.jsx(Ws,{value:te.id,children:te[`name_${M.language}`]||te.name_tr},te.id))})]})]})]}),g.jsx(bm,{children:g.jsx(os,{type:"submit",onClick:D,children:N("save")})})]})]}),g.jsxs(Px,{children:[g.jsx(kx,{asChild:!0,children:g.jsx(os,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-900",children:g.jsx(xx,{className:"h-4 w-4"})})}),g.jsxs(jm,{children:[g.jsxs(Lm,{children:[g.jsx(Fm,{children:N("confirmDelete")}),g.jsx($m,{children:N("confirmDeleteItem")})]}),g.jsxs(Vm,{children:[g.jsx(Um,{children:N("cancel")}),g.jsx(zm,{onClick:()=>G(P.id),children:N("delete")})]})]})]})]})]},P.id)})})]})})]})]}),g.jsxs(Mm,{value:"categories",children:[g.jsxs(Fl,{className:"mt-4",children:[g.jsxs($l,{children:[g.jsx(zl,{children:N("addNewCategory")}),g.jsx(Ul,{children:N("addNewCategoryDescription")})]}),g.jsxs(Bl,{className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"newCategoryNameTr",children:[N("categoryName")," (TR)"]}),g.jsx(dt,{id:"newCategoryNameTr",type:"text",value:l.name_tr,onChange:P=>u({...l,name_tr:P.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"newCategoryNameEn",children:[N("categoryName")," (EN)"]}),g.jsx(dt,{id:"newCategoryNameEn",type:"text",value:l.name_en,onChange:P=>u({...l,name_en:P.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"newCategoryNameRu",children:[N("categoryName")," (RU)"]}),g.jsx(dt,{id:"newCategoryNameRu",type:"text",value:l.name_ru,onChange:P=>u({...l,name_ru:P.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"newCategoryNameDe",children:[N("categoryName")," (DE)"]}),g.jsx(dt,{id:"newCategoryNameDe",type:"text",value:l.name_de,onChange:P=>u({...l,name_de:P.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"newCategoryNameFr",children:[N("categoryName")," (FR)"]}),g.jsx(dt,{id:"newCategoryNameFr",type:"text",value:l.name_fr,onChange:P=>u({...l,name_fr:P.target.value})})]}),g.jsxs(os,{onClick:$,className:"w-full",children:[g.jsx(vx,{className:"mr-2 h-4 w-4"})," ",N("addCategory")]})]})]}),g.jsx(Om,{className:"my-8"}),g.jsxs(Fl,{children:[g.jsxs($l,{children:[g.jsx(zl,{children:N("existingCategories")}),g.jsx(Ul,{children:N("existingCategoriesDescription")})]}),g.jsx(Bl,{children:g.jsxs(Am,{children:[g.jsx(Rm,{children:g.jsxs(Hl,{children:[g.jsx(Bs,{children:N("categoryName")}),g.jsx(Bs,{className:"text-right",children:N("actions")})]})}),g.jsx(Pm,{children:t.map(P=>g.jsxs(Hl,{children:[g.jsx(Hs,{className:"font-medium",children:P["name_"+M.language]||P.name_tr}),g.jsxs(Hs,{className:"text-right",children:[g.jsxs(Nx,{children:[g.jsx(Ax,{asChild:!0,children:g.jsx(os,{variant:"ghost",size:"sm",onClick:()=>V(P),children:g.jsx(wx,{className:"h-4 w-4"})})}),g.jsxs(Sm,{className:"sm:max-w-[500px] max-h-[70vh] overflow-y-auto",children:[g.jsxs(Tm,{children:[g.jsx(Im,{children:N("editCategory")}),g.jsx(Nm,{children:N("updateCategoryName")})]}),g.jsxs("div",{className:"grid gap-4 py-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"editedCategoryNameTr",children:[N("categoryName")," (TR)"]}),g.jsx(dt,{id:"editedCategoryNameTr",value:C.name_tr,onChange:j=>S({...C,name_tr:j.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"editedCategoryNameEn",children:[N("categoryName")," (EN)"]}),g.jsx(dt,{id:"editedCategoryNameEn",value:C.name_en,onChange:j=>S({...C,name_en:j.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"editedCategoryNameRu",children:[N("categoryName")," (RU)"]}),g.jsx(dt,{id:"editedCategoryNameRu",value:C.name_ru,onChange:j=>S({...C,name_ru:j.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"editedCategoryNameDe",children:[N("categoryName")," (DE)"]}),g.jsx(dt,{id:"editedCategoryNameDe",value:C.name_de,onChange:j=>S({...C,name_de:j.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(He,{htmlFor:"editedCategoryNameFr",children:[N("categoryName")," (FR)"]}),g.jsx(dt,{id:"editedCategoryNameFr",value:C.name_fr,onChange:j=>S({...C,name_fr:j.target.value})})]})]}),g.jsx(bm,{children:g.jsx(os,{type:"submit",onClick:F,children:N("save")})})]})]}),g.jsxs(Px,{children:[g.jsx(kx,{asChild:!0,children:g.jsx(os,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-900",children:g.jsx(xx,{className:"h-4 w-4"})})}),g.jsxs(jm,{children:[g.jsxs(Lm,{children:[g.jsx(Fm,{children:N("confirmDelete")}),g.jsx($m,{children:N("confirmDeleteCategory")})]}),g.jsxs(Vm,{children:[g.jsx(Um,{children:N("cancel")}),g.jsx(zm,{onClick:()=>k(P.id),children:N("delete")})]})]})]})]})]},P.id))})]})})]})]})]})]})},hL=()=>g.jsx("div",{className:"container mx-auto px-4 py-16 flex flex-col items-center",children:g.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-md w-full text-center",children:[g.jsx("h1",{className:"text-3xl font-bold text-amber-800 mb-6",children:"Kafe QR Sipari Sistemi"}),g.jsxs("div",{className:"space-y-4",children:[g.jsx(qs,{to:"/admin",className:"block w-full bg-amber-500 hover:bg-amber-600 text-white py-3 px-4 rounded-md transition-colors",children:"Ynetim Paneli"}),g.jsx(qs,{to:"/admin/qrcodes",className:"block w-full bg-gray-100 hover:bg-gray-200 text-gray-800 py-3 px-4 rounded-md transition-colors",children:"QR Kodlar Grntle"})]})]})});function pL(){return g.jsx(lN,{children:g.jsx(wN,{children:g.jsx("div",{className:"min-h-screen bg-amber-50",children:g.jsxs(VI,{children:[g.jsx(ur,{path:"/",element:g.jsx(hL,{})}),g.jsx(ur,{path:"/menu/:tableId",element:g.jsx(Cj,{})}),g.jsx(ur,{path:"/checkout/:tableId",element:g.jsx(Sj,{})}),g.jsx(ur,{path:"/thank-you/:tableId",element:g.jsx(Tj,{})}),g.jsx(ur,{path:"/admin",element:g.jsx(t4,{})}),g.jsx(ur,{path:"/admin/orders",element:g.jsx(o4,{})}),g.jsx(ur,{path:"/admin/order-history",element:g.jsx(a4,{})}),g.jsx(ur,{path:"/admin/qrcodes",element:g.jsx(y4,{})}),g.jsx(ur,{path:"/admin/menu",element:g.jsx(fL,{})})," ",g.jsx(ur,{path:"*",element:g.jsx(jI,{to:"/",replace:!0})})]})})})})}const Oe=n=>typeof n=="string",Dl=()=>{let n,e;const t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t},Dx=n=>n==null?"":""+n,mL=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},gL=/###/g,Mx=n=>n&&n.indexOf("###")>-1?n.replace(gL,"."):n,Ox=n=>!n||Oe(n),Xl=(n,e,t)=>{const r=Oe(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(Ox(n))return{};const a=Mx(r[i]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++i}return Ox(n)?{}:{obj:n,k:Mx(r[i])}},jx=(n,e,t)=>{const{obj:r,k:i}=Xl(n,e,Object);if(r!==void 0||e.length===1){r[i]=t;return}let a=e[e.length-1],l=e.slice(0,e.length-1),u=Xl(n,l,Object);for(;u.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),u=Xl(n,l,Object),u!=null&&u.obj&&typeof u.obj[`${u.k}.${a}`]<"u"&&(u.obj=void 0);u.obj[`${u.k}.${a}`]=t},yL=(n,e,t,r)=>{const{obj:i,k:a}=Xl(n,e,Object);i[a]=i[a]||[],i[a].push(t)},Ud=(n,e)=>{const{obj:t,k:r}=Xl(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},vL=(n,e,t)=>{const r=Ud(n,t);return r!==void 0?r:Ud(e,t)},DT=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?Oe(n[r])||n[r]instanceof String||Oe(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):DT(n[r],e[r],t):n[r]=e[r]);return n},ea=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var wL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const xL=n=>Oe(n)?n.replace(/[&<>"'\/]/g,e=>wL[e]):n;class _L{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const EL=[" ",",","?","!",";"],CL=new _L(20),SL=(n,e,t)=>{e=e||"",t=t||"";const r=EL.filter(l=>e.indexOf(l)<0&&t.indexOf(l)<0);if(r.length===0)return!0;const i=CL.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`);let a=!i.test(n);if(!a){const l=n.indexOf(t);l>0&&!i.test(n.substring(0,l))&&(a=!0)}return a},Bm=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let i=n;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let l,u="";for(let f=a;f<r.length;++f)if(f!==a&&(u+=t),u+=r[f],l=i[u],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&f<r.length-1)continue;a+=f-a+1;break}i=l}return i},dc=n=>n==null?void 0:n.replace("_","-"),TL={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,r;(r=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||r.call(t,console,e)}};class Bd{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||TL,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,i){return i&&!this.debug?null:(Oe(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Bd(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Bd(this.logger,e)}}var Or=new Bd;class If{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(t)||0;this.observers[r].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i.apply(i,[e,...t])})}}class Lx extends If{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,i={}){var h,m;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,l=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let u;e.indexOf(".")>-1?u=e.split("."):(u=[e,t],r&&(Array.isArray(r)?u.push(...r):Oe(r)&&a?u.push(...r.split(a)):u.push(r)));const f=Ud(this.data,u);return!f&&!t&&!r&&e.indexOf(".")>-1&&(e=u[0],t=u[1],r=u.slice(2).join(".")),f||!l||!Oe(r)?f:Bm((m=(h=this.data)==null?void 0:h[e])==null?void 0:m[t],r,a)}addResource(e,t,r,i,a={silent:!1}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let u=[e,t];r&&(u=u.concat(l?r.split(l):r)),e.indexOf(".")>-1&&(u=e.split("."),i=t,t=u[1]),this.addNamespaces(t),jx(this.data,u,i),a.silent||this.emit("added",e,t,r,i)}addResources(e,t,r,i={silent:!1}){for(const a in r)(Oe(r[a])||Array.isArray(r[a]))&&this.addResource(e,t,a,r[a],{silent:!0});i.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,i,a,l={silent:!1,skipCopy:!1}){let u=[e,t];e.indexOf(".")>-1&&(u=e.split("."),i=r,r=t,t=u[1]),this.addNamespaces(t);let f=Ud(this.data,u)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?DT(f,r,a):f={...f,...r},jx(this.data,u,f),l.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var MT={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,i){return n.forEach(a=>{var l;e=((l=this.processors[a])==null?void 0:l.process(e,t,r,i))??e}),e}};const Vx={},Fx=n=>!Oe(n)&&typeof n!="boolean"&&typeof n!="number";class Hd extends If{constructor(e,t={}){super(),mL(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Or.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const l=r&&e.indexOf(r)>-1,u=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!SL(e,r,i);if(l&&!u){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:Oe(a)?[a]:a};const h=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(h[0])>-1)&&(a=h.shift()),e=h.join(i)}return{key:e,namespaces:Oe(a)?[a]:a}}translate(e,t,r){let i=typeof t=="object"?{...t}:t;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:u,namespaces:f}=this.extractFromKey(e[e.length-1],i),h=f[f.length-1];let m=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;m===void 0&&(m=":");const w=i.lng||this.language,v=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((w==null?void 0:w.toLowerCase())==="cimode")return v?a?{res:`${h}${m}${u}`,usedKey:u,exactUsedKey:u,usedLng:w,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:`${h}${m}${u}`:a?{res:u,usedKey:u,exactUsedKey:u,usedLng:w,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:u;const T=this.resolve(e,i);let C=T==null?void 0:T.res;const S=(T==null?void 0:T.usedKey)||u,b=(T==null?void 0:T.exactUsedKey)||u,N=["[object Number]","[object Function]","[object RegExp]"],M=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,L=!this.i18nFormat||this.i18nFormat.handleAsObject,U=i.count!==void 0&&!Oe(i.count),$=Hd.hasDefaultValue(i),G=U?this.pluralResolver.getSuffix(w,i.count,i):"",k=i.ordinal&&U?this.pluralResolver.getSuffix(w,i.count,{ordinal:!1}):"",R=U&&!i.ordinal&&i.count===0,D=R&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${G}`]||i[`defaultValue${k}`]||i.defaultValue;let V=C;L&&!C&&$&&(V=D);const F=Fx(V),P=Object.prototype.toString.apply(V);if(L&&V&&F&&N.indexOf(P)<0&&!(Oe(M)&&Array.isArray(V))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const j=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,V,{...i,ns:f}):`key '${u} (${this.language})' returned an object instead of string.`;return a?(T.res=j,T.usedParams=this.getUsedParamsDetails(i),T):j}if(l){const j=Array.isArray(V),ee=j?[]:{},te=j?b:S;for(const re in V)if(Object.prototype.hasOwnProperty.call(V,re)){const ue=`${te}${l}${re}`;$&&!C?ee[re]=this.translate(ue,{...i,defaultValue:Fx(D)?D[re]:void 0,joinArrays:!1,ns:f}):ee[re]=this.translate(ue,{...i,joinArrays:!1,ns:f}),ee[re]===ue&&(ee[re]=V[re])}C=ee}}else if(L&&Oe(M)&&Array.isArray(C))C=C.join(M),C&&(C=this.extendTranslation(C,e,i,r));else{let j=!1,ee=!1;!this.isValidLookup(C)&&$&&(j=!0,C=D),this.isValidLookup(C)||(ee=!0,C=u);const re=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ee?void 0:C,ue=$&&D!==C&&this.options.updateMissing;if(ee||j||ue){if(this.logger.log(ue?"updateKey":"missingKey",w,h,u,ue?D:C),l){const B=this.resolve(u,{...i,keySeparator:!1});B&&B.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Y=[];const ne=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ne&&ne[0])for(let B=0;B<ne.length;B++)Y.push(ne[B]);else this.options.saveMissingTo==="all"?Y=this.languageUtils.toResolveHierarchy(i.lng||this.language):Y.push(i.lng||this.language);const le=(B,Z,de)=>{var Se;const ge=$&&de!==C?de:re;this.options.missingKeyHandler?this.options.missingKeyHandler(B,h,Z,ge,ue,i):(Se=this.backendConnector)!=null&&Se.saveMissing&&this.backendConnector.saveMissing(B,h,Z,ge,ue,i),this.emit("missingKey",B,h,Z,C)};this.options.saveMissing&&(this.options.saveMissingPlurals&&U?Y.forEach(B=>{const Z=this.pluralResolver.getSuffixes(B,i);R&&i[`defaultValue${this.options.pluralSeparator}zero`]&&Z.indexOf(`${this.options.pluralSeparator}zero`)<0&&Z.push(`${this.options.pluralSeparator}zero`),Z.forEach(de=>{le([B],u+de,i[`defaultValue${de}`]||D)})}):le(Y,u,D))}C=this.extendTranslation(C,e,i,T,r),ee&&C===u&&this.options.appendNamespaceToMissingKey&&(C=`${h}${m}${u}`),(ee||j)&&this.options.parseMissingKeyHandler&&(C=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${m}${u}`:u,j?C:void 0,i))}return a?(T.res=C,T.usedParams=this.getUsedParamsDetails(i),T):C}extendTranslation(e,t,r,i,a){var f,h;if((f=this.i18nFormat)!=null&&f.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const m=Oe(e)&&(((h=r==null?void 0:r.interpolation)==null?void 0:h.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let w;if(m){const T=e.match(this.interpolator.nestingRegexp);w=T&&T.length}let v=r.replace&&!Oe(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(v={...this.options.interpolation.defaultVariables,...v}),e=this.interpolator.interpolate(e,v,r.lng||this.language||i.usedLng,r),m){const T=e.match(this.interpolator.nestingRegexp),C=T&&T.length;w<C&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...T)=>(a==null?void 0:a[0])===T[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${t[0]}`),null):this.translate(...T,t),r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,u=Oe(l)?[l]:l;return e!=null&&(u!=null&&u.length)&&r.applyPostProcessor!==!1&&(e=MT.handle(u,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,i,a,l,u;return Oe(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(r))return;const h=this.extractFromKey(f,t),m=h.key;i=m;let w=h.namespaces;this.options.fallbackNS&&(w=w.concat(this.options.fallbackNS));const v=t.count!==void 0&&!Oe(t.count),T=v&&!t.ordinal&&t.count===0,C=t.context!==void 0&&(Oe(t.context)||typeof t.context=="number")&&t.context!=="",S=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);w.forEach(b=>{var N,M;this.isValidLookup(r)||(u=b,!Vx[`${S[0]}-${b}`]&&((N=this.utils)!=null&&N.hasLoadedNamespace)&&!((M=this.utils)!=null&&M.hasLoadedNamespace(u))&&(Vx[`${S[0]}-${b}`]=!0,this.logger.warn(`key "${i}" for languages "${S.join(", ")}" won't get resolved as namespace "${u}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(L=>{var G;if(this.isValidLookup(r))return;l=L;const U=[m];if((G=this.i18nFormat)!=null&&G.addLookupKeys)this.i18nFormat.addLookupKeys(U,m,L,b,t);else{let k;v&&(k=this.pluralResolver.getSuffix(L,t.count,t));const R=`${this.options.pluralSeparator}zero`,D=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(v&&(U.push(m+k),t.ordinal&&k.indexOf(D)===0&&U.push(m+k.replace(D,this.options.pluralSeparator)),T&&U.push(m+R)),C){const V=`${m}${this.options.contextSeparator}${t.context}`;U.push(V),v&&(U.push(V+k),t.ordinal&&k.indexOf(D)===0&&U.push(V+k.replace(D,this.options.pluralSeparator)),T&&U.push(V+R))}}let $;for(;$=U.pop();)this.isValidLookup(r)||(a=$,r=this.getResource(L,b,$,t))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:l,usedNS:u}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,t,r,i):this.resourceStore.getResource(e,t,r,i)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Oe(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of t)delete i[a]}return i}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class $x{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Or.create("languageUtils")}getScriptPartFromCode(e){if(e=dc(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=dc(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Oe(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return t=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Oe(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),i=[],a=l=>{l&&(this.isSupportedCode(l)?i.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return Oe(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Oe(e)&&a(this.formatLanguageCode(e)),r.forEach(l=>{i.indexOf(l)<0&&a(this.formatLanguageCode(l))}),i}}const zx={zero:0,one:1,two:2,few:3,many:4,other:5},Ux={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class bL{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Or.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=dc(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Ux;if(!e.match(/-|_/))return Ux;const f=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(f,t)}return this.pluralRulesCache[a]=l,l}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(i=>`${t}${i}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>zx[i]-zx[a]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,t,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const Bx=(n,e,t,r=".",i=!0)=>{let a=vL(n,e,t);return!a&&i&&Oe(t)&&(a=Bm(n,t,r),a===void 0&&(a=Bm(e,t,r))),a},Rp=n=>n.replace(/\$/g,"$$$$");class IL{constructor(e={}){var t;this.logger=Or.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:l,suffix:u,suffixEscaped:f,formatSeparator:h,unescapeSuffix:m,unescapePrefix:w,nestingPrefix:v,nestingPrefixEscaped:T,nestingSuffix:C,nestingSuffixEscaped:S,nestingOptionsSeparator:b,maxReplaces:N,alwaysFormat:M}=e.interpolation;this.escape=t!==void 0?t:xL,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?ea(a):l||"{{",this.suffix=u?ea(u):f||"}}",this.formatSeparator=h||",",this.unescapePrefix=m?"":w||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=v?ea(v):T||ea("$t("),this.nestingSuffix=C?ea(C):S||ea(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=N||1e3,this.alwaysFormat=M!==void 0?M:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,i){var T;let a,l,u;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=C=>{if(C.indexOf(this.formatSeparator)<0){const M=Bx(t,f,C,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(M,void 0,r,{...i,...t,interpolationkey:C}):M}const S=C.split(this.formatSeparator),b=S.shift().trim(),N=S.join(this.formatSeparator).trim();return this.format(Bx(t,f,b,this.options.keySeparator,this.options.ignoreJSONStructure),N,r,{...i,...t,interpolationkey:b})};this.resetRegExp();const m=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,w=((T=i==null?void 0:i.interpolation)==null?void 0:T.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:C=>Rp(C)},{regex:this.regexp,safeValue:C=>this.escapeValue?Rp(this.escape(C)):Rp(C)}].forEach(C=>{for(u=0;a=C.regex.exec(e);){const S=a[1].trim();if(l=h(S),l===void 0)if(typeof m=="function"){const N=m(e,a,i);l=Oe(N)?N:""}else if(i&&Object.prototype.hasOwnProperty.call(i,S))l="";else if(w){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${e}`),l="";else!Oe(l)&&!this.useRawValueToEscape&&(l=Dx(l));const b=C.safeValue(l);if(e=e.replace(a[0],b),w?(C.regex.lastIndex+=l.length,C.regex.lastIndex-=a[0].length):C.regex.lastIndex=0,u++,u>=this.maxReplaces)break}}),e}nest(e,t,r={}){let i,a,l;const u=(f,h)=>{const m=this.nestingOptionsSeparator;if(f.indexOf(m)<0)return f;const w=f.split(new RegExp(`${m}[ ]*{`));let v=`{${w[1]}`;f=w[0],v=this.interpolate(v,l);const T=v.match(/'/g),C=v.match(/"/g);(((T==null?void 0:T.length)??0)%2===0&&!C||C.length%2!==0)&&(v=v.replace(/'/g,'"'));try{l=JSON.parse(v),h&&(l={...h,...l})}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,S),`${f}${m}${v}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,f};for(;i=this.nestingRegexp.exec(e);){let f=[];l={...r},l=l.replace&&!Oe(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;let h=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const m=i[1].split(this.formatSeparator).map(w=>w.trim());i[1]=m.shift(),f=m,h=!0}if(a=t(u.call(this,i[1].trim(),l),l),a&&i[0]===e&&!Oe(a))return a;Oe(a)||(a=Dx(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),h&&(a=f.reduce((m,w)=>this.format(m,w,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const NL=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(l=>{if(l){const[u,...f]=l.split(":"),h=f.join(":").trim().replace(/^'+|'+$/g,""),m=u.trim();t[m]||(t[m]=h),h==="false"&&(t[m]=!1),h==="true"&&(t[m]=!0),isNaN(h)||(t[m]=parseInt(h,10))}})}return{formatName:e,formatOptions:t}},Hx=n=>{const e={};return(t,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const l=r+JSON.stringify(a);let u=e[l];return u||(u=n(dc(r),i),e[l]=u),u(t)}},AL=n=>(e,t,r)=>n(dc(t),r)(e);class RL{constructor(e={}){this.logger=Or.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?Hx:AL;this.formats={number:r((i,a)=>{const l=new Intl.NumberFormat(i,{...a});return u=>l.format(u)}),currency:r((i,a)=>{const l=new Intl.NumberFormat(i,{...a,style:"currency"});return u=>l.format(u)}),datetime:r((i,a)=>{const l=new Intl.DateTimeFormat(i,{...a});return u=>l.format(u)}),relativetime:r((i,a)=>{const l=new Intl.RelativeTimeFormat(i,{...a});return u=>l.format(u,a.range||"day")}),list:r((i,a)=>{const l=new Intl.ListFormat(i,{...a});return u=>l.format(u)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Hx(t)}format(e,t,r,i={}){const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(u=>u.indexOf(")")>-1)){const u=a.findIndex(f=>f.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,u)].join(this.formatSeparator)}return a.reduce((u,f)=>{var w;const{formatName:h,formatOptions:m}=NL(f);if(this.formats[h]){let v=u;try{const T=((w=i==null?void 0:i.formatParams)==null?void 0:w[i.interpolationkey])||{},C=T.locale||T.lng||i.locale||i.lng||r;v=this.formats[h](u,C,{...m,...i,...T})}catch(T){this.logger.warn(T)}return v}else this.logger.warn(`there was no format function for ${h}`);return u},e)}}const PL=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class kL extends If{constructor(e,t,r,i={}){var a,l;super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Or.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(l=(a=this.backend)==null?void 0:a.init)==null||l.call(a,r,i.backend,i)}queueLoad(e,t,r,i){const a={},l={},u={},f={};return e.forEach(h=>{let m=!0;t.forEach(w=>{const v=`${h}|${w}`;!r.reload&&this.store.hasResourceBundle(h,w)?this.state[v]=2:this.state[v]<0||(this.state[v]===1?l[v]===void 0&&(l[v]=!0):(this.state[v]=1,m=!1,l[v]===void 0&&(l[v]=!0),a[v]===void 0&&(a[v]=!0),f[w]===void 0&&(f[w]=!0)))}),m||(u[h]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(f)}}loaded(e,t,r){const i=e.split("|"),a=i[0],l=i[1];t&&this.emit("failedLoading",a,l,t),!t&&r&&this.store.addResourceBundle(a,l,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const u={};this.queue.forEach(f=>{yL(f.loaded,[a],l),PL(f,e),t&&f.errors.push(t),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(h=>{u[h]||(u[h]={});const m=f.loaded[h];m.length&&m.forEach(w=>{u[h][w]===void 0&&(u[h][w]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(f=>!f.done)}read(e,t,r,i=0,a=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:i,wait:a,callback:l});return}this.readingCalls++;const u=(h,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const w=this.waitingReads.shift();this.read(w.lng,w.ns,w.fcName,w.tried,w.wait,w.callback)}if(h&&m&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,i+1,a*2,l)},a);return}l(h,m)},f=this.backend[r].bind(this.backend);if(f.length===2){try{const h=f(e,t);h&&typeof h.then=="function"?h.then(m=>u(null,m)).catch(u):u(null,h)}catch(h){u(h)}return}return f(e,t,u)}prepareLoading(e,t,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Oe(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Oe(t)&&(t=[t]);const a=this.queueLoad(e,t,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(l,u)=>{l&&this.logger.warn(`${t}loading namespace ${a} for language ${i} failed`,l),!l&&u&&this.logger.log(`${t}loaded namespace ${a} for language ${i}`,u),this.loaded(e,l,u)})}saveMissing(e,t,r,i,a,l={},u=()=>{}){var f,h,m,w,v;if((h=(f=this.services)==null?void 0:f.utils)!=null&&h.hasLoadedNamespace&&!((w=(m=this.services)==null?void 0:m.utils)!=null&&w.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((v=this.backend)!=null&&v.create){const T={...l,isUpdate:a},C=this.backend.create.bind(this.backend);if(C.length<6)try{let S;C.length===5?S=C(e,t,r,i,T):S=C(e,t,r,i),S&&typeof S.then=="function"?S.then(b=>u(null,b)).catch(u):u(null,S)}catch(S){u(S)}else C(e,t,r,i,u,T)}!e||!e[0]||this.store.addResource(e[0],t,r,i)}}}const Wx=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Oe(n[1])&&(e.defaultValue=n[1]),Oe(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),qx=n=>{var e,t;return Oe(n.ns)&&(n.ns=[n.ns]),Oe(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Oe(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},ed=()=>{},DL=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class fc extends If{constructor(e={},t){if(super(),this.options=qx(e),this.services={},this.logger=Or,this.modules={external:[]},DL(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Oe(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=Wx();this.options={...r,...this.options,...qx(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Or.init(i(this.modules.logger),this.options):Or.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=RL;const m=new $x(this.options);this.store=new Lx(this.options.resources,this.options);const w=this.services;w.logger=Or,w.resourceStore=this.store,w.languageUtils=m,w.pluralResolver=new bL(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(w.formatter=i(h),w.formatter.init(w,this.options),this.options.interpolation.format=w.formatter.format.bind(w.formatter)),w.interpolator=new IL(this.options),w.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},w.backendConnector=new kL(i(this.modules.backend),w.resourceStore,w,this.options),w.backendConnector.on("*",(v,...T)=>{this.emit(v,...T)}),this.modules.languageDetector&&(w.languageDetector=i(this.modules.languageDetector),w.languageDetector.init&&w.languageDetector.init(w,this.options.detection,this.options)),this.modules.i18nFormat&&(w.i18nFormat=i(this.modules.i18nFormat),w.i18nFormat.init&&w.i18nFormat.init(this)),this.translator=new Hd(this.services,this.options),this.translator.on("*",(v,...T)=>{this.emit(v,...T)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,t||(t=ed),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...m)=>this.store[h](...m)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...m)=>(this.store[h](...m),this)});const u=Dl(),f=()=>{const h=(m,w)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(w),t(m,w)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),u}loadResources(e,t=ed){var a,l;let r=t;const i=Oe(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const u=[],f=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(w=>{w!=="cimode"&&u.indexOf(w)<0&&u.push(w)})};i?f(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(m=>f(m)),(l=(a=this.options.preload)==null?void 0:a.forEach)==null||l.call(a,h=>f(h)),this.services.backendConnector.load(u,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(h)})}else r(null)}reloadResources(e,t,r){const i=Dl();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=ed),this.services.backendConnector.reload(e,t,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&MT.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=Dl();this.emit("languageChanging",e);const i=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},a=(u,f)=>{f?this.isLanguageChangingTo===e&&(i(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,r.resolve((...h)=>this.t(...h)),t&&t(u,(...h)=>this.t(...h))},l=u=>{var m,w;!e&&!u&&this.services.languageDetector&&(u=[]);const f=Oe(u)?u:u&&u[0],h=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(Oe(u)?[u]:u);h&&(this.language||i(h),this.translator.language||this.translator.changeLanguage(h),(w=(m=this.services.languageDetector)==null?void 0:m.cacheUserLanguage)==null||w.call(m,h)),this.loadResources(h,v=>{a(v,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),r}getFixedT(e,t,r){const i=(a,l,...u)=>{let f;typeof l!="object"?f=this.options.overloadTranslationOptionHandler([a,l].concat(u)):f={...l},f.lng=f.lng||i.lng,f.lngs=f.lngs||i.lngs,f.ns=f.ns||i.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||r||i.keyPrefix);const h=this.options.keySeparator||".";let m;return f.keyPrefix&&Array.isArray(a)?m=a.map(w=>`${f.keyPrefix}${h}${w}`):m=f.keyPrefix?`${f.keyPrefix}${h}${a}`:a,this.t(m,f)};return Oe(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const l=(u,f)=>{const h=this.services.backendConnector.state[`${u}|${f}`];return h===-1||h===0||h===2};if(t.precheck){const u=t.precheck(this,l);if(u!==void 0)return u}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,e)&&(!i||l(a,e)))}loadNamespaces(e,t){const r=Dl();return this.options.ns?(Oe(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),t&&t(i)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Dl();Oe(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(l=>i.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=i.concat(a),this.loadResources(l=>{r.resolve(),t&&t(l)}),r):(t&&t(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new $x(Wx());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new fc(e,t)}cloneInstance(e={},t=ed){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new fc(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(u=>{a[u]=this[u]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const u=Object.keys(this.store.data).reduce((f,h)=>(f[h]={...this.store.data[h]},f[h]=Object.keys(f[h]).reduce((m,w)=>(m[w]={...f[h][w]},m),f[h]),f),{});a.store=new Lx(u,i),a.services.resourceStore=a.store}return a.translator=new Hd(a.services,i),a.translator.on("*",(u,...f)=>{a.emit(u,...f)}),a.init(i,t),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const rn=fc.createInstance();rn.createInstance=fc.createInstance;rn.createInstance;rn.dir;rn.init;rn.loadResources;rn.reloadResources;rn.use;rn.changeLanguage;rn.getFixedT;rn.t;rn.exists;rn.setDefaultNamespace;rn.hasLoadedNamespace;rn.loadNamespaces;rn.loadLanguages;const ML={button:"Call Waiter",sending:"Sending...",try_again_in_seconds:"Please try again in {{count}} seconds.",message_default:"Customer called a waiter",sent_success:"Waiter call sent! Someone will come shortly.",sent_error:"An error occurred while sending the waiter call. Please try again."},OL="Menu Management",jL="Add New Menu Item",LL="Add a new item to the menu.",VL="Add New Category",FL="Add a new category to the menu.",$L="Name",zL="Description",UL="Price",BL="Image URL",HL="Category",WL="Select Category",qL="Add Item",KL="Category Name",GL="Add Category",QL="Menu Items",YL="Existing Menu Items",XL="Edit or delete items in the menu.",JL="Categories",ZL="Existing Categories",eV="Edit or delete categories.",tV="Actions",nV="Edit Menu Item",rV="Update menu item information.",sV="Save",iV="Edit Category",oV="Update category name.",aV="Are you sure?",lV="Are you sure you want to permanently delete this menu item? This action cannot be undone.",cV="Are you sure you want to permanently delete this category? This action cannot be undone.",uV="Cancel",dV="Warning",fV="Please fill in all required fields.",hV="Success",pV="Menu item added successfully!",mV="Category added successfully!",gV="Menu item deleted successfully!",yV="Category deleted successfully!",vV="Menu item updated successfully!",wV="Category updated successfully!",xV="Error",_V="Error fetching menu data.",EV="Error adding menu item.",CV="Error adding category.",SV="Error deleting menu item.",TV="Error deleting category.",bV="Error updating menu item.",IV="Error updating category.",NV="Admin Dashboard",AV="Orders",RV="View active orders and update their status.",PV="Manage Orders",kV="Manage Menu",DV="Add, edit, or remove menu items.",MV="QR Codes",OV="View and print table QR codes.",jV="View QR Codes",LV="Please fill in name, price, and category.",VV="Please fill in category name.",FV="Error fetching new orders count.",$V="Our Menu",zV="Add to Cart",UV="Total",BV="Checkout",HV="Your Cart",WV="Your cart is empty.",qV="Continue Shopping",KV="Order Summary",GV="Delivery Information",QV="Address",YV="Phone",XV="Notes",JV="Place Order",ZV="Thank You!",eF="Your order has been placed successfully.",tF="Order ID",nF="You can track your order status on the orders page.",rF="Back to Menu",sF="Table",iF="All",oF={waiter_call:ML,menuManagement:OL,addNewMenuItem:jL,addNewMenuItemDescription:LL,addNewCategory:VL,addNewCategoryDescription:FL,name:$L,description:zL,price:UL,imageUrl:BL,category:HL,selectCategory:WL,addItem:qL,categoryName:KL,addCategory:GL,menuItems:QL,existingMenuItems:YL,existingMenuItemsDescription:XL,categories:JL,existingCategories:ZL,existingCategoriesDescription:eV,actions:tV,editMenuItem:nV,updateMenuItemInfo:rV,save:sV,editCategory:iV,updateCategoryName:oV,confirmDelete:aV,confirmDeleteItem:lV,confirmDeleteCategory:cV,cancel:uV,delete:"Delete",warning:dV,fillAllFields:fV,success:hV,itemAddedSuccessfully:pV,categoryAddedSuccessfully:mV,itemDeletedSuccessfully:gV,categoryDeletedSuccessfully:yV,itemUpdatedSuccessfully:vV,categoryUpdatedSuccessfully:wV,error:xV,errorFetchingMenuData:_V,errorAddingMenuItem:EV,errorAddingCategory:CV,errorDeletingMenuItem:SV,errorDeletingCategory:TV,errorUpdatingMenuItem:bV,errorUpdatingCategory:IV,adminDashboard:NV,orders:AV,new:"New",viewActiveOrders:RV,manageOrders:PV,manageMenu:kV,manageMenuDescription:DV,qrCodes:MV,viewPrintQrCodes:OV,viewQrCodes:jV,pleaseFillNamePriceCategory:LV,pleaseFillCategoryName:VV,errorFetchingNewOrdersCount:FV,ourMenu:$V,addToCart:zV,total:UV,checkout:BV,yourCart:HV,emptyCart:WV,continueShopping:qV,orderSummary:KV,deliveryInfo:GV,address:QV,phone:YV,notes:XV,placeOrder:JV,thankYou:ZV,orderPlaced:eF,orderId:tF,trackOrder:nF,backToMenu:rF,table:sF,all:iF},aF={button:" ",sending:"...",try_again_in_seconds:",    {{count}} .",message_default:"  ",sent_success:"  !  .",sent_error:"    . ,  ."},lF=" ",cF="   ",uF="    .",dF="  ",fF="    .",hF="",pF="",mF="",gF="URL ",yF="",vF=" ",wF=" ",xF=" ",_F=" ",EF=" ",CF="  ",SF="     .",TF="",bF=" ",IF="   .",NF="",AF="  ",RF="    .",PF="",kF=" ",DF="  .",MF=" ?",OF=" ,       ?    .",jF=" ,      ?    .",LF="",VF="",FF=",    .",$F="",zF="   !",UF="  !",BF="   !",HF="  !",WF="   !",qF="  !",KF="",GF="    .",QF="    .",YF="   .",XF="    .",JF="   .",ZF="    .",e3="   .",t3=" ",n3="",r3="      .",s3=" ",i3=" ",o3=",     .",a3="QR-",l3="   QR- .",c3=" QR-",u3=",  ,   .",d3=",   .",f3="     .",h3=" ",p3="  ",m3="",g3=" ",y3=" ",v3="  .",w3=" ",x3=" ",_3="  ",E3="",C3="",S3="",T3=" ",b3="!",I3="   .",N3="ID ",A3="        .",R3="  ",P3="",k3="",D3={waiter_call:aF,menuManagement:lF,addNewMenuItem:cF,addNewMenuItemDescription:uF,addNewCategory:dF,addNewCategoryDescription:fF,name:hF,description:pF,price:mF,imageUrl:gF,category:yF,selectCategory:vF,addItem:wF,categoryName:xF,addCategory:_F,menuItems:EF,existingMenuItems:CF,existingMenuItemsDescription:SF,categories:TF,existingCategories:bF,existingCategoriesDescription:IF,actions:NF,editMenuItem:AF,updateMenuItemInfo:RF,save:PF,editCategory:kF,updateCategoryName:DF,confirmDelete:MF,confirmDeleteItem:OF,confirmDeleteCategory:jF,cancel:LF,delete:"",warning:VF,fillAllFields:FF,success:$F,itemAddedSuccessfully:zF,categoryAddedSuccessfully:UF,itemDeletedSuccessfully:BF,categoryDeletedSuccessfully:HF,itemUpdatedSuccessfully:WF,categoryUpdatedSuccessfully:qF,error:KF,errorFetchingMenuData:GF,errorAddingMenuItem:QF,errorAddingCategory:YF,errorDeletingMenuItem:XF,errorDeletingCategory:JF,errorUpdatingMenuItem:ZF,errorUpdatingCategory:e3,adminDashboard:t3,orders:n3,new:"",viewActiveOrders:r3,manageOrders:s3,manageMenu:i3,manageMenuDescription:o3,qrCodes:a3,viewPrintQrCodes:l3,viewQrCodes:c3,pleaseFillNamePriceCategory:u3,pleaseFillCategoryName:d3,errorFetchingNewOrdersCount:f3,ourMenu:h3,addToCart:p3,total:m3,checkout:g3,yourCart:y3,emptyCart:v3,continueShopping:w3,orderSummary:x3,deliveryInfo:_3,address:E3,phone:C3,notes:S3,placeOrder:T3,thankYou:b3,orderPlaced:I3,orderId:N3,trackOrder:A3,backToMenu:R3,table:P3,all:k3},M3={button:"Kellner rufen",sending:"Senden...",try_again_in_seconds:"Bitte versuche es in {{count}} Sekunden erneut.",message_default:"Kunde hat einen Kellner gerufen",sent_success:"Kellnerruf gesendet! Jemand wird gleich kommen.",sent_error:"Beim Senden des Kellnerrufs ist ein Fehler aufgetreten. Bitte versuche es erneut."},O3="Menverwaltung",j3="Neuen Menpunkt hinzufgen",L3="Einen neuen Menpunkt hinzufgen.",V3="Neue Kategorie hinzufgen",F3="Eine neue Kategorie zum Men hinzufgen.",$3="Name",z3="Beschreibung",U3="Preis",B3="Bild-URL",H3="Kategorie",W3="Kategorie auswhlen",q3="Artikel hinzufgen",K3="Kategoriename",G3="Kategorie hinzufgen",Q3="Menpunkte",Y3="Bestehende Menpunkte",X3="Menpunkte bearbeiten oder lschen.",J3="Kategorien",Z3="Bestehende Kategorien",e$="Kategorien bearbeiten oder lschen.",t$="Aktionen",n$="Menpunkt bearbeiten",r$="Menpunktinformationen aktualisieren.",s$="Speichern",i$="Kategorie bearbeiten",o$="Kategoriename aktualisieren.",a$="Sind Sie sicher?",l$="Mchten Sie diesen Menpunkt wirklich dauerhaft lschen? Diese Aktion kann nicht rckgngig gemacht werden.",c$="Mchten Sie diese Kategorie wirklich dauerhaft lschen? Diese Aktion kann nicht rckgngig gemacht werden.",u$="Abbrechen",d$="Warnung",f$="Bitte fllen Sie alle Pflichtfelder aus.",h$="Erfolg",p$="Menpunkt erfolgreich hinzugefgt!",m$="Kategorie erfolgreich hinzugefgt!",g$="Menpunkt erfolgreich gelscht!",y$="Kategorie erfolgreich gelscht!",v$="Menpunkt erfolgreich aktualisiert!",w$="Kategorie erfolgreich aktualisiert!",x$="Fehler",_$="Fehler beim Abrufen der Mendaten.",E$="Fehler beim Hinzufgen des Menpunkts.",C$="Fehler beim Hinzufgen der Kategorie.",S$="Fehler beim Lschen des Menpunkts.",T$="Fehler beim Lschen der Kategorie.",b$="Fehler beim Aktualisieren des Menpunkts.",I$="Fehler beim Aktualisieren der Kategorie.",N$="Admin-Dashboard",A$="Bestellungen",R$="Aktive Bestellungen anzeigen und deren Status aktualisieren.",P$="Bestellungen verwalten",k$="Men verwalten",D$="Menpunkte hinzufgen, bearbeiten oder entfernen.",M$="QR-Codes",O$="Tisch-QR-Codes anzeigen und drucken.",j$="QR-Codes anzeigen",L$="Bitte geben Sie Name, Preis und Kategorie ein.",V$="Bitte geben Sie den Kategorienamen ein.",F$="Fehler beim Abrufen der Anzahl neuer Bestellungen.",$$="Unsere Speisekarte",z$="In den Warenkorb",U$="Gesamt",B$="Zur Kasse",H$="Ihr Warenkorb",W$="Ihr Warenkorb ist leer.",q$="Weiter einkaufen",K$="Bestellbersicht",G$="Lieferinformationen",Q$="Adresse",Y$="Telefon",X$="Notizen",J$="Bestellung aufgeben",Z$="Vielen Dank!",e6="Ihre Bestellung wurde erfolgreich aufgegeben.",t6="Bestell-ID",n6="Sie knnen den Status Ihrer Bestellung auf der Bestellseite verfolgen.",r6="Zurck zum Men",s6="Tisch",i6="Alle",o6={waiter_call:M3,menuManagement:O3,addNewMenuItem:j3,addNewMenuItemDescription:L3,addNewCategory:V3,addNewCategoryDescription:F3,name:$3,description:z3,price:U3,imageUrl:B3,category:H3,selectCategory:W3,addItem:q3,categoryName:K3,addCategory:G3,menuItems:Q3,existingMenuItems:Y3,existingMenuItemsDescription:X3,categories:J3,existingCategories:Z3,existingCategoriesDescription:e$,actions:t$,editMenuItem:n$,updateMenuItemInfo:r$,save:s$,editCategory:i$,updateCategoryName:o$,confirmDelete:a$,confirmDeleteItem:l$,confirmDeleteCategory:c$,cancel:u$,delete:"Lschen",warning:d$,fillAllFields:f$,success:h$,itemAddedSuccessfully:p$,categoryAddedSuccessfully:m$,itemDeletedSuccessfully:g$,categoryDeletedSuccessfully:y$,itemUpdatedSuccessfully:v$,categoryUpdatedSuccessfully:w$,error:x$,errorFetchingMenuData:_$,errorAddingMenuItem:E$,errorAddingCategory:C$,errorDeletingMenuItem:S$,errorDeletingCategory:T$,errorUpdatingMenuItem:b$,errorUpdatingCategory:I$,adminDashboard:N$,orders:A$,new:"Neu",viewActiveOrders:R$,manageOrders:P$,manageMenu:k$,manageMenuDescription:D$,qrCodes:M$,viewPrintQrCodes:O$,viewQrCodes:j$,pleaseFillNamePriceCategory:L$,pleaseFillCategoryName:V$,errorFetchingNewOrdersCount:F$,ourMenu:$$,addToCart:z$,total:U$,checkout:B$,yourCart:H$,emptyCart:W$,continueShopping:q$,orderSummary:K$,deliveryInfo:G$,address:Q$,phone:Y$,notes:X$,placeOrder:J$,thankYou:Z$,orderPlaced:e6,orderId:t6,trackOrder:n6,backToMenu:r6,table:s6,all:i6},a6={button:"Appeler le serveur",sending:"Envoi...",try_again_in_seconds:"Veuillez ressayer dans {{count}} secondes.",message_default:"Le client a appel un serveur",sent_success:"Appel du serveur envoy ! Quelquun va arriver sous peu.",sent_error:"Une erreur sest produite lors de lenvoi de lappel. Veuillez ressayer."},l6="Gestion du menu",c6="Ajouter un nouvel lment de menu",u6="Ajouter un nouvel lment au menu.",d6="Ajouter une nouvelle catgorie",f6="Ajouter une nouvelle catgorie au menu.",h6="Nom",p6="Description",m6="Prix",g6="URL de l'image",y6="Catgorie",v6="Slectionner une catgorie",w6="Ajouter un lment",x6="Nom de la catgorie",_6="Ajouter une catgorie",E6="lments du menu",C6="lments de menu existants",S6="Modifier ou supprimer des lments dans le menu.",T6="Catgories",b6="Catgories existantes",I6="Modifier ou supprimer des catgories.",N6="Actions",A6="Modifier l'lment de menu",R6="Mettre  jour les informations de l'lment de menu.",P6="Enregistrer",k6="Modifier la catgorie",D6="Mettre  jour le nom de la catgorie.",M6="tes-vous sr(e) ?",O6="tes-vous sr(e) de vouloir supprimer dfinitivement cet lment de menu ? Cette action est irrversible.",j6="tes-vous sr(e) de vouloir supprimer dfinitivement cette catgorie ? Cette action est irrversible.",L6="Annuler",V6="Avertissement",F6="Veuillez remplir tous les champs obligatoires.",$6="Succs",z6="lment de menu ajout avec succs !",U6="Catgorie ajoute avec succs !",B6="lment de menu supprim avec succs !",H6="Catgorie supprime avec succs !",W6="lment de menu mis  jour avec succs !",q6="Catgorie mise  jour avec succs !",K6="Erreur",G6="Erreur lors de la rcupration des donnes du menu.",Q6="Erreur lors de l'ajout de l'lment de menu.",Y6="Erreur lors de l'ajout de la catgorie.",X6="Erreur lors de la suppression de l'lment de menu.",J6="Erreur lors de la suppression de la catgorie.",Z6="Erreur lors de la mise  jour de l'lment de menu.",e5="Erreur lors de la mise  jour de la catgorie.",t5="Tableau de bord administrateur",n5="Commandes",r5="Afficher les commandes actives et mettre  jour leur statut.",s5="Grer les commandes",i5="Grer le menu",o5="Ajouter, modifier ou supprimer des lments de menu.",a5="Codes QR",l5="Afficher et imprimer les codes QR de table.",c5="Afficher les codes QR",u5="Veuillez remplir le nom, le prix et la catgorie.",d5="Veuillez remplir le nom de la catgorie.",f5="Erreur lors de la rcupration du nombre de nouvelles commandes.",h5="Notre menu",p5="Ajouter au panier",m5="Total",g5="Commander",y5="Votre panier",v5="Votre panier est vide.",w5="Continuer vos achats",x5="Rcapitulatif de la commande",_5="Informations de livraison",E5="Adresse",C5="Tlphone",S5="Notes",T5="Passer la commande",b5="Merci !",I5="Votre commande a t passe avec succs.",N5="ID de commande",A5="Vous pouvez suivre le statut de votre commande sur la page des commandes.",R5="Retour au menu",P5="Table",k5="Tout",D5={waiter_call:a6,menuManagement:l6,addNewMenuItem:c6,addNewMenuItemDescription:u6,addNewCategory:d6,addNewCategoryDescription:f6,name:h6,description:p6,price:m6,imageUrl:g6,category:y6,selectCategory:v6,addItem:w6,categoryName:x6,addCategory:_6,menuItems:E6,existingMenuItems:C6,existingMenuItemsDescription:S6,categories:T6,existingCategories:b6,existingCategoriesDescription:I6,actions:N6,editMenuItem:A6,updateMenuItemInfo:R6,save:P6,editCategory:k6,updateCategoryName:D6,confirmDelete:M6,confirmDeleteItem:O6,confirmDeleteCategory:j6,cancel:L6,delete:"Supprimer",warning:V6,fillAllFields:F6,success:$6,itemAddedSuccessfully:z6,categoryAddedSuccessfully:U6,itemDeletedSuccessfully:B6,categoryDeletedSuccessfully:H6,itemUpdatedSuccessfully:W6,categoryUpdatedSuccessfully:q6,error:K6,errorFetchingMenuData:G6,errorAddingMenuItem:Q6,errorAddingCategory:Y6,errorDeletingMenuItem:X6,errorDeletingCategory:J6,errorUpdatingMenuItem:Z6,errorUpdatingCategory:e5,adminDashboard:t5,orders:n5,new:"Nouveau",viewActiveOrders:r5,manageOrders:s5,manageMenu:i5,manageMenuDescription:o5,qrCodes:a5,viewPrintQrCodes:l5,viewQrCodes:c5,pleaseFillNamePriceCategory:u5,pleaseFillCategoryName:d5,errorFetchingNewOrdersCount:f5,ourMenu:h5,addToCart:p5,total:m5,checkout:g5,yourCart:y5,emptyCart:v5,continueShopping:w5,orderSummary:x5,deliveryInfo:_5,address:E5,phone:C5,notes:S5,placeOrder:T5,thankYou:b5,orderPlaced:I5,orderId:N5,trackOrder:A5,backToMenu:R5,table:P5,all:k5},M5={button:"Garson ar",sending:"Gnderiliyor...",try_again_in_seconds:"Ltfen {{count}} saniye sonra tekrar deneyin.",message_default:"Mteri garson ard",sent_success:"Garson ars gnderildi! Garson en ksa srede gelecektir.",sent_error:"Garson ars gnderilirken bir hata olutu. Ltfen tekrar deneyin."},O5="Men Ynetimi",j5="Yeni Men esi Ekle",L5="Menye yeni bir e ekleyin.",V5="Yeni Kategori Ekle",F5="Menye yeni bir kategori ekleyin.",$5="Ad",z5="Aklama",U5="Fiyat",B5="Resim URL",H5="Kategori",W5="Kategori Sein",q5="e Ekle",K5="Kategori Ad",G5="Kategori Ekle",Q5="Men eleri",Y5="Mevcut Men eleri",X5="Mendeki eleri dzenleyin veya silin.",J5="Kategoriler",Z5="Mevcut Kategoriler",ez="Kategorileri dzenleyin veya silin.",tz="lemler",nz="Men esini Dzenle",rz="Men esinin bilgilerini gncelleyin.",sz="Kaydet",iz="Kategoriyi Dzenle",oz="Kategori adn gncelleyin.",az="Emin misiniz?",lz="Bu men esini kalc olarak silmek istediinizden emin misiniz? Bu ilem geri alnamaz.",cz="Bu kategoriyi kalc olarak silmek istediinizden emin misiniz? Bu ilem geri alnamaz.",uz="ptal",dz="Uyar",fz="Ltfen tm gerekli alanlar doldurun.",hz="Baarl",pz="Men esi baaryla eklendi!",mz="Kategori baaryla eklendi!",gz="Men esi baaryla silindi!",yz="Kategori baaryla silindi!",vz="Men esi baaryla gncellendi!",wz="Kategori baaryla gncellendi!",xz="Hata",_z="Men verileri ekilirken bir hata olutu.",Ez="Men esi eklenirken bir hata olutu.",Cz="Kategori eklenirken bir hata olutu.",Sz="Men esi silinirken bir hata olutu.",Tz="Kategori silinirken bir hata olutu.",bz="Men esi gncellenirken bir hata olutu.",Iz="Men esi gncellenirken bir hata olutu.",Nz="Ynetim Paneli",Az="Sipariler",Rz="Aktif siparileri grntleyin ve durumlarn gncelleyin.",Pz="Siparileri Ynet",kz="Meny Ynet",Dz="Men elerini ekleyin, dzenleyin veya kaldrn.",Mz="QR Kodlar",Oz="Masa QR kodlarn grntleyin ve yazdrn.",jz="QR Kodlar Grntle",Lz="Ltfen ad, fiyat ve kategori alanlarn doldurun.",Vz="Ltfen kategori adn doldurun.",Fz="Yeni sipari says ekilirken bir hata olutu.",$z="Menmz",zz="Sepete Ekle",Uz="Toplam",Bz="deme Yap",Hz="Sepetiniz",Wz="Sepetiniz bo.",qz="Alverie Devam Et",Kz="Sipari zeti",Gz="Teslimat Bilgileri",Qz="Adres",Yz="Telefon",Xz="Notlar",Jz="Sipari Ver",Zz="Teekkr Ederiz!",e9="Sipariiniz baaryla alnd.",t9="Sipari ID",n9="Sipariinizin durumunu sipariler sayfasndan takip edebilirsiniz.",r9="Menye Geri Dn",s9="Masa",i9="Tm",o9={waiter_call:M5,menuManagement:O5,addNewMenuItem:j5,addNewMenuItemDescription:L5,addNewCategory:V5,addNewCategoryDescription:F5,name:$5,description:z5,price:U5,imageUrl:B5,category:H5,selectCategory:W5,addItem:q5,categoryName:K5,addCategory:G5,menuItems:Q5,existingMenuItems:Y5,existingMenuItemsDescription:X5,categories:J5,existingCategories:Z5,existingCategoriesDescription:ez,actions:tz,editMenuItem:nz,updateMenuItemInfo:rz,save:sz,editCategory:iz,updateCategoryName:oz,confirmDelete:az,confirmDeleteItem:lz,confirmDeleteCategory:cz,cancel:uz,delete:"Sil",warning:dz,fillAllFields:fz,success:hz,itemAddedSuccessfully:pz,categoryAddedSuccessfully:mz,itemDeletedSuccessfully:gz,categoryDeletedSuccessfully:yz,itemUpdatedSuccessfully:vz,categoryUpdatedSuccessfully:wz,error:xz,errorFetchingMenuData:_z,errorAddingMenuItem:Ez,errorAddingCategory:Cz,errorDeletingMenuItem:Sz,errorDeletingCategory:Tz,errorUpdatingMenuItem:bz,errorUpdatingCategory:Iz,adminDashboard:Nz,orders:Az,new:"Yeni",viewActiveOrders:Rz,manageOrders:Pz,manageMenu:kz,manageMenuDescription:Dz,qrCodes:Mz,viewPrintQrCodes:Oz,viewQrCodes:jz,pleaseFillNamePriceCategory:Lz,pleaseFillCategoryName:Vz,errorFetchingNewOrdersCount:Fz,ourMenu:$z,addToCart:zz,total:Uz,checkout:Bz,yourCart:Hz,emptyCart:Wz,continueShopping:qz,orderSummary:Kz,deliveryInfo:Gz,address:Qz,phone:Yz,notes:Xz,placeOrder:Jz,thankYou:Zz,orderPlaced:e9,orderId:t9,trackOrder:n9,backToMenu:r9,table:s9,all:i9};rn.use(Ik).init({resources:{en:{translation:oF},ru:{translation:D3},de:{translation:o6},fr:{translation:D5},tr:{translation:o9}},lng:"tr",fallbackLng:"en",interpolation:{escapeValue:!1}});qb.createRoot(document.getElementById("root")).render(g.jsx(E.StrictMode,{children:g.jsx(pL,{})}));
