function VI(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function K_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zh={exports:{}},Al={},ep={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function FI(){if(_0)return Ue;_0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function w(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function b(B,Z,de){this.props=B,this.context=Z,this.refs=S,this.updater=de||T}b.prototype.isReactComponent={},b.prototype.setState=function(B,Z){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Z,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function A(){}A.prototype=b.prototype;function D(B,Z,de){this.props=B,this.context=Z,this.refs=S,this.updater=de||T}var V=D.prototype=new A;V.constructor=D,C(V,b.prototype),V.isPureReactComponent=!0;var U=Array.isArray,$=Object.prototype.hasOwnProperty,G={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function N(B,Z,de){var ge,Se={},Re=null,fe=null;if(Z!=null)for(ge in Z.ref!==void 0&&(fe=Z.ref),Z.key!==void 0&&(Re=""+Z.key),Z)$.call(Z,ge)&&!M.hasOwnProperty(ge)&&(Se[ge]=Z[ge]);var ve=arguments.length-2;if(ve===1)Se.children=de;else if(1<ve){for(var De=Array(ve),me=0;me<ve;me++)De[me]=arguments[me+2];Se.children=De}if(B&&B.defaultProps)for(ge in ve=B.defaultProps,ve)Se[ge]===void 0&&(Se[ge]=ve[ge]);return{$$typeof:n,type:B,key:Re,ref:fe,props:Se,_owner:G.current}}function k(B,Z){return{$$typeof:n,type:B.type,key:Z,ref:B.ref,props:B.props,_owner:B._owner}}function j(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function F(B){var Z={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(de){return Z[de]})}var P=/\/+/g;function L(B,Z){return typeof B=="object"&&B!==null&&B.key!=null?F(""+B.key):Z.toString(36)}function ee(B,Z,de,ge,Se){var Re=typeof B;(Re==="undefined"||Re==="boolean")&&(B=null);var fe=!1;if(B===null)fe=!0;else switch(Re){case"string":case"number":fe=!0;break;case"object":switch(B.$$typeof){case n:case e:fe=!0}}if(fe)return fe=B,Se=Se(fe),B=ge===""?"."+L(fe,0):ge,U(Se)?(de="",B!=null&&(de=B.replace(P,"$&/")+"/"),ee(Se,Z,de,"",function(me){return me})):Se!=null&&(j(Se)&&(Se=k(Se,de+(!Se.key||fe&&fe.key===Se.key?"":(""+Se.key).replace(P,"$&/")+"/")+B)),Z.push(Se)),1;if(fe=0,ge=ge===""?".":ge+":",U(B))for(var ve=0;ve<B.length;ve++){Re=B[ve];var De=ge+L(Re,ve);fe+=ee(Re,Z,de,De,Se)}else if(De=w(B),typeof De=="function")for(B=De.call(B),ve=0;!(Re=B.next()).done;)Re=Re.value,De=ge+L(Re,ve++),fe+=ee(Re,Z,de,De,Se);else if(Re==="object")throw Z=String(B),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return fe}function te(B,Z,de){if(B==null)return B;var ge=[],Se=0;return ee(B,ge,"","",function(Re){return Z.call(de,Re,Se++)}),ge}function re(B){if(B._status===-1){var Z=B._result;Z=Z(),Z.then(function(de){(B._status===0||B._status===-1)&&(B._status=1,B._result=de)},function(de){(B._status===0||B._status===-1)&&(B._status=2,B._result=de)}),B._status===-1&&(B._status=0,B._result=Z)}if(B._status===1)return B._result.default;throw B._result}var ue={current:null},Y={transition:null},ne={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:Y,ReactCurrentOwner:G};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:te,forEach:function(B,Z,de){te(B,function(){Z.apply(this,arguments)},de)},count:function(B){var Z=0;return te(B,function(){Z++}),Z},toArray:function(B){return te(B,function(Z){return Z})||[]},only:function(B){if(!j(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ue.Component=b,Ue.Fragment=t,Ue.Profiler=i,Ue.PureComponent=D,Ue.StrictMode=r,Ue.Suspense=f,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,Ue.act=le,Ue.cloneElement=function(B,Z,de){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ge=C({},B.props),Se=B.key,Re=B.ref,fe=B._owner;if(Z!=null){if(Z.ref!==void 0&&(Re=Z.ref,fe=G.current),Z.key!==void 0&&(Se=""+Z.key),B.type&&B.type.defaultProps)var ve=B.type.defaultProps;for(De in Z)$.call(Z,De)&&!M.hasOwnProperty(De)&&(ge[De]=Z[De]===void 0&&ve!==void 0?ve[De]:Z[De])}var De=arguments.length-2;if(De===1)ge.children=de;else if(1<De){ve=Array(De);for(var me=0;me<De;me++)ve[me]=arguments[me+2];ge.children=ve}return{$$typeof:n,type:B.type,key:Se,ref:Re,props:ge,_owner:fe}},Ue.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Ue.createElement=N,Ue.createFactory=function(B){var Z=N.bind(null,B);return Z.type=B,Z},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(B){return{$$typeof:u,render:B}},Ue.isValidElement=j,Ue.lazy=function(B){return{$$typeof:m,_payload:{_status:-1,_result:B},_init:re}},Ue.memo=function(B,Z){return{$$typeof:h,type:B,compare:Z===void 0?null:Z}},Ue.startTransition=function(B){var Z=Y.transition;Y.transition={};try{B()}finally{Y.transition=Z}},Ue.unstable_act=le,Ue.useCallback=function(B,Z){return ue.current.useCallback(B,Z)},Ue.useContext=function(B){return ue.current.useContext(B)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(B){return ue.current.useDeferredValue(B)},Ue.useEffect=function(B,Z){return ue.current.useEffect(B,Z)},Ue.useId=function(){return ue.current.useId()},Ue.useImperativeHandle=function(B,Z,de){return ue.current.useImperativeHandle(B,Z,de)},Ue.useInsertionEffect=function(B,Z){return ue.current.useInsertionEffect(B,Z)},Ue.useLayoutEffect=function(B,Z){return ue.current.useLayoutEffect(B,Z)},Ue.useMemo=function(B,Z){return ue.current.useMemo(B,Z)},Ue.useReducer=function(B,Z,de){return ue.current.useReducer(B,Z,de)},Ue.useRef=function(B){return ue.current.useRef(B)},Ue.useState=function(B){return ue.current.useState(B)},Ue.useSyncExternalStore=function(B,Z,de){return ue.current.useSyncExternalStore(B,Z,de)},Ue.useTransition=function(){return ue.current.useTransition()},Ue.version="18.3.1",Ue}var x0;function Hm(){return x0||(x0=1,ep.exports=FI()),ep.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function $I(){if(E0)return Al;E0=1;var n=Hm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,f,h){var m,v={},w=null,T=null;h!==void 0&&(w=""+h),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(T=f.ref);for(m in f)r.call(f,m)&&!a.hasOwnProperty(m)&&(v[m]=f[m]);if(u&&u.defaultProps)for(m in f=u.defaultProps,f)v[m]===void 0&&(v[m]=f[m]);return{$$typeof:e,type:u,key:w,ref:T,props:v,_owner:i.current}}return Al.Fragment=t,Al.jsx=l,Al.jsxs=l,Al}var C0;function zI(){return C0||(C0=1,Zh.exports=$I()),Zh.exports}var y=zI(),E=Hm();const rt=K_(E),Q_=VI({__proto__:null,default:rt},[E]);var Vu={},tp={exports:{}},gn={},np={exports:{}},rp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function UI(){return S0||(S0=1,function(n){function e(Y,ne){var le=Y.length;Y.push(ne);e:for(;0<le;){var B=le-1>>>1,Z=Y[B];if(0<i(Z,ne))Y[B]=ne,Y[le]=Z,le=B;else break e}}function t(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ne=Y[0],le=Y.pop();if(le!==ne){Y[0]=le;e:for(var B=0,Z=Y.length,de=Z>>>1;B<de;){var ge=2*(B+1)-1,Se=Y[ge],Re=ge+1,fe=Y[Re];if(0>i(Se,le))Re<Z&&0>i(fe,Se)?(Y[B]=fe,Y[Re]=le,B=Re):(Y[B]=Se,Y[ge]=le,B=ge);else if(Re<Z&&0>i(fe,le))Y[B]=fe,Y[Re]=le,B=Re;else break e}}return ne}function i(Y,ne){var le=Y.sortIndex-ne.sortIndex;return le!==0?le:Y.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],h=[],m=1,v=null,w=3,T=!1,C=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(Y){for(var ne=t(h);ne!==null;){if(ne.callback===null)r(h);else if(ne.startTime<=Y)r(h),ne.sortIndex=ne.expirationTime,e(f,ne);else break;ne=t(h)}}function U(Y){if(S=!1,V(Y),!C)if(t(f)!==null)C=!0,re($);else{var ne=t(h);ne!==null&&ue(U,ne.startTime-Y)}}function $(Y,ne){C=!1,S&&(S=!1,A(N),N=-1),T=!0;var le=w;try{for(V(ne),v=t(f);v!==null&&(!(v.expirationTime>ne)||Y&&!F());){var B=v.callback;if(typeof B=="function"){v.callback=null,w=v.priorityLevel;var Z=B(v.expirationTime<=ne);ne=n.unstable_now(),typeof Z=="function"?v.callback=Z:v===t(f)&&r(f),V(ne)}else r(f);v=t(f)}if(v!==null)var de=!0;else{var ge=t(h);ge!==null&&ue(U,ge.startTime-ne),de=!1}return de}finally{v=null,w=le,T=!1}}var G=!1,M=null,N=-1,k=5,j=-1;function F(){return!(n.unstable_now()-j<k)}function P(){if(M!==null){var Y=n.unstable_now();j=Y;var ne=!0;try{ne=M(!0,Y)}finally{ne?L():(G=!1,M=null)}}else G=!1}var L;if(typeof D=="function")L=function(){D(P)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,te=ee.port2;ee.port1.onmessage=P,L=function(){te.postMessage(null)}}else L=function(){b(P,0)};function re(Y){M=Y,G||(G=!0,L())}function ue(Y,ne){N=b(function(){Y(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){C||T||(C=!0,re($))},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var ne=3;break;default:ne=w}var le=w;w=ne;try{return Y()}finally{w=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,ne){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var le=w;w=Y;try{return ne()}finally{w=le}},n.unstable_scheduleCallback=function(Y,ne,le){var B=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?B+le:B):le=B,Y){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=le+Z,Y={id:m++,callback:ne,priorityLevel:Y,startTime:le,expirationTime:Z,sortIndex:-1},le>B?(Y.sortIndex=le,e(h,Y),t(f)===null&&Y===t(h)&&(S?(A(N),N=-1):S=!0,ue(U,le-B))):(Y.sortIndex=Z,e(f,Y),C||T||(C=!0,re($))),Y},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(Y){var ne=w;return function(){var le=w;w=ne;try{return Y.apply(this,arguments)}finally{w=le}}}}(rp)),rp}var T0;function BI(){return T0||(T0=1,np.exports=UI()),np.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function HI(){if(I0)return gn;I0=1;var n=Hm(),e=BI();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function w(s){return f.call(v,s)?!0:f.call(m,s)?!1:h.test(s)?v[s]=!0:(m[s]=!0,!1)}function T(s,o,c,p){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function C(s,o,c,p){if(o===null||typeof o>"u"||T(s,o,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(s,o,c,p,g,x,R){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=x,this.removeEmptyString=R}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];b[o]=new S(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function D(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(A,D);b[o]=new S(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(A,D);b[o]=new S(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(A,D);b[o]=new S(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function V(s,o,c,p){var g=b.hasOwnProperty(o)?b[o]:null;(g!==null?g.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(C(o,c,g,p)&&(c=null),p||g===null?w(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(o=g.attributeName,p=g.attributeNamespace,c===null?s.removeAttribute(o):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,p?s.setAttributeNS(p,o,c):s.setAttribute(o,c))))}var U=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),G=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),F=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),Y=Symbol.iterator;function ne(s){return s===null||typeof s!="object"?null:(s=Y&&s[Y]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,B;function Z(s){if(B===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+s}var de=!1;function ge(s,o){if(!s||de)return"";de=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var p=X}Reflect.construct(s,[],o)}else{try{o.call()}catch(X){p=X}s.call(o.prototype)}else{try{throw Error()}catch(X){p=X}s()}}catch(X){if(X&&p&&typeof X.stack=="string"){for(var g=X.stack.split(`
`),x=p.stack.split(`
`),R=g.length-1,z=x.length-1;1<=R&&0<=z&&g[R]!==x[z];)z--;for(;1<=R&&0<=z;R--,z--)if(g[R]!==x[z]){if(R!==1||z!==1)do if(R--,z--,0>z||g[R]!==x[z]){var H=`
`+g[R].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=R&&0<=z);break}}}finally{de=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?Z(s):""}function Se(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=ge(s.type,!1),s;case 11:return s=ge(s.type.render,!1),s;case 1:return s=ge(s.type,!0),s;default:return""}}function Re(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case M:return"Fragment";case G:return"Portal";case k:return"Profiler";case N:return"StrictMode";case L:return"Suspense";case ee:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case F:return(s.displayName||"Context")+".Consumer";case j:return(s._context.displayName||"Context")+".Provider";case P:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case te:return o=s.displayName||null,o!==null?o:Re(s.type)||"Memo";case re:o=s._payload,s=s._init;try{return Re(s(o))}catch{}}return null}function fe(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(o);case 8:return o===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ve(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function De(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function me(s){var o=De(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),p=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,x=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(R){p=""+R,x.call(this,R)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(R){p=""+R},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Ne(s){s._valueTracker||(s._valueTracker=me(s))}function qe(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),p="";return s&&(p=De(s)?s.checked?"true":"false":s.value),s=p,s!==c?(o.setValue(s),!0):!1}function wt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ot(s,o){var c=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function kn(s,o){var c=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;c=ve(o.value!=null?o.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function qn(s,o){o=o.checked,o!=null&&V(s,"checked",o,!1)}function Kn(s,o){qn(s,o);var c=ve(o.value),p=o.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Qn(s,o.type,c):o.hasOwnProperty("defaultValue")&&Qn(s,o.type,ve(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function oo(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Qn(s,o,c){(o!=="number"||wt(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Ur=Array.isArray;function Br(s,o,c,p){if(s=s.options,o){o={};for(var g=0;g<c.length;g++)o["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=o.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&p&&(s[c].defaultSelected=!0)}else{for(c=""+ve(c),o=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,p&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function La(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ao(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(Ur(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:ve(c)}}function lo(s,o){var c=ve(o.value),p=ve(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function ja(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Rt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Rt(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Hr,Va=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,p,g){MSApp.execUnsafeLocalFunction(function(){return s(o,c,p,g)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Hr=Hr||document.createElement("div"),Hr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Hr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function ms(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yi=["Webkit","ms","Moz","O"];Object.keys(gi).forEach(function(s){yi.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),gi[o]=gi[s]})});function Fa(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||gi.hasOwnProperty(s)&&gi[s]?(""+o).trim():o+"px"}function $a(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var p=c.indexOf("--")===0,g=Fa(c,o[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,g):s[c]=g}}var za=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ua(s,o){if(o){if(za[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Ba(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vi=null;function co(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var uo=null,Dn=null,wr=null;function fo(s){if(s=hl(s)){if(typeof uo!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Zc(o),uo(s.stateNode,s.type,o))}}function _r(s){Dn?wr?wr.push(s):wr=[s]:Dn=s}function Ha(){if(Dn){var s=Dn,o=wr;if(wr=Dn=null,fo(s),o)for(s=0;s<o.length;s++)fo(o[s])}}function wi(s,o){return s(o)}function Wa(){}var Wr=!1;function qa(s,o,c){if(Wr)return s(o,c);Wr=!0;try{return wi(s,o,c)}finally{Wr=!1,(Dn!==null||wr!==null)&&(Wa(),Ha())}}function Et(s,o){var c=s.stateNode;if(c===null)return null;var p=Zc(c);if(p===null)return null;c=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var ho=!1;if(u)try{var Gn={};Object.defineProperty(Gn,"passive",{get:function(){ho=!0}}),window.addEventListener("test",Gn,Gn),window.removeEventListener("test",Gn,Gn)}catch{ho=!1}function _i(s,o,c,p,g,x,R,z,H){var X=Array.prototype.slice.call(arguments,3);try{o.apply(c,X)}catch(ae){this.onError(ae)}}var xi=!1,po=null,Yn=!1,Ka=null,bf={onError:function(s){xi=!0,po=s}};function mo(s,o,c,p,g,x,R,z,H){xi=!1,po=null,_i.apply(bf,arguments)}function Sc(s,o,c,p,g,x,R,z,H){if(mo.apply(this,arguments),xi){if(xi){var X=po;xi=!1,po=null}else throw Error(t(198));Yn||(Yn=!0,Ka=X)}}function Xn(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function Ei(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Jn(s){if(Xn(s)!==s)throw Error(t(188))}function Tc(s){var o=s.alternate;if(!o){if(o=Xn(s),o===null)throw Error(t(188));return o!==s?null:s}for(var c=s,p=o;;){var g=c.return;if(g===null)break;var x=g.alternate;if(x===null){if(p=g.return,p!==null){c=p;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===c)return Jn(g),s;if(x===p)return Jn(g),o;x=x.sibling}throw Error(t(188))}if(c.return!==p.return)c=g,p=x;else{for(var R=!1,z=g.child;z;){if(z===c){R=!0,c=g,p=x;break}if(z===p){R=!0,p=g,c=x;break}z=z.sibling}if(!R){for(z=x.child;z;){if(z===c){R=!0,c=x,p=g;break}if(z===p){R=!0,p=x,c=g;break}z=z.sibling}if(!R)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:o}function Qa(s){return s=Tc(s),s!==null?go(s):null}function go(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=go(s);if(o!==null)return o;s=s.sibling}return null}var yo=e.unstable_scheduleCallback,Ga=e.unstable_cancelCallback,Ic=e.unstable_shouldYield,Af=e.unstable_requestPaint,it=e.unstable_now,bc=e.unstable_getCurrentPriorityLevel,Ci=e.unstable_ImmediatePriority,gs=e.unstable_UserBlockingPriority,Mn=e.unstable_NormalPriority,Ya=e.unstable_LowPriority,Ac=e.unstable_IdlePriority,Si=null,En=null;function Rc(s){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Si,s,void 0,(s.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:Pc,Xa=Math.log,Nc=Math.LN2;function Pc(s){return s>>>=0,s===0?32:31-(Xa(s)/Nc|0)|0}var vo=64,wo=4194304;function ys(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ti(s,o){var c=s.pendingLanes;if(c===0)return 0;var p=0,g=s.suspendedLanes,x=s.pingedLanes,R=c&268435455;if(R!==0){var z=R&~g;z!==0?p=ys(z):(x&=R,x!==0&&(p=ys(x)))}else R=c&~g,R!==0?p=ys(R):x!==0&&(p=ys(x));if(p===0)return 0;if(o!==0&&o!==p&&(o&g)===0&&(g=p&-p,x=o&-o,g>=x||g===16&&(x&4194240)!==0))return o;if((p&4)!==0&&(p|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=p;0<o;)c=31-sn(o),g=1<<c,p|=s[c],o&=~g;return p}function Rf(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qr(s,o){for(var c=s.suspendedLanes,p=s.pingedLanes,g=s.expirationTimes,x=s.pendingLanes;0<x;){var R=31-sn(x),z=1<<R,H=g[R];H===-1?((z&c)===0||(z&p)!==0)&&(g[R]=Rf(z,o)):H<=o&&(s.expiredLanes|=z),x&=~z}}function Cn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ii(){var s=vo;return vo<<=1,(vo&4194240)===0&&(vo=64),s}function vs(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function ws(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-sn(o),s[o]=c}function nt(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-sn(c),x=1<<g;o[g]=0,p[g]=-1,s[g]=-1,c&=~x}}function _s(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var p=31-sn(c),g=1<<p;g&o|s[p]&o&&(s[p]|=o),c&=~g}}var Ke=0;function xs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var kc,_o,Dc,Mc,Oc,Ja=!1,xr=[],zt=null,Zn=null,er=null,Es=new Map,On=new Map,Er=[],Nf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lc(s,o){switch(s){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Es.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":On.delete(o.pointerId)}}function cn(s,o,c,p,g,x){return s===null||s.nativeEvent!==x?(s={blockedOn:o,domEventName:c,eventSystemFlags:p,nativeEvent:x,targetContainers:[g]},o!==null&&(o=hl(o),o!==null&&_o(o)),s):(s.eventSystemFlags|=p,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function Pf(s,o,c,p,g){switch(o){case"focusin":return zt=cn(zt,s,o,c,p,g),!0;case"dragenter":return Zn=cn(Zn,s,o,c,p,g),!0;case"mouseover":return er=cn(er,s,o,c,p,g),!0;case"pointerover":var x=g.pointerId;return Es.set(x,cn(Es.get(x)||null,s,o,c,p,g)),!0;case"gotpointercapture":return x=g.pointerId,On.set(x,cn(On.get(x)||null,s,o,c,p,g)),!0}return!1}function jc(s){var o=Pi(s.target);if(o!==null){var c=Xn(o);if(c!==null){if(o=c.tag,o===13){if(o=Ei(c),o!==null){s.blockedOn=o,Oc(s.priority,function(){Dc(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Kr(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=xo(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);vi=p,c.target.dispatchEvent(p),vi=null}else return o=hl(c),o!==null&&_o(o),s.blockedOn=c,!1;o.shift()}return!0}function bi(s,o,c){Kr(s)&&c.delete(o)}function Vc(){Ja=!1,zt!==null&&Kr(zt)&&(zt=null),Zn!==null&&Kr(Zn)&&(Zn=null),er!==null&&Kr(er)&&(er=null),Es.forEach(bi),On.forEach(bi)}function tr(s,o){s.blockedOn===o&&(s.blockedOn=null,Ja||(Ja=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vc)))}function nr(s){function o(g){return tr(g,s)}if(0<xr.length){tr(xr[0],s);for(var c=1;c<xr.length;c++){var p=xr[c];p.blockedOn===s&&(p.blockedOn=null)}}for(zt!==null&&tr(zt,s),Zn!==null&&tr(Zn,s),er!==null&&tr(er,s),Es.forEach(o),On.forEach(o),c=0;c<Er.length;c++)p=Er[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<Er.length&&(c=Er[0],c.blockedOn===null);)jc(c),c.blockedOn===null&&Er.shift()}var Qr=U.ReactCurrentBatchConfig,Cs=!0;function ht(s,o,c,p){var g=Ke,x=Qr.transition;Qr.transition=null;try{Ke=1,Za(s,o,c,p)}finally{Ke=g,Qr.transition=x}}function kf(s,o,c,p){var g=Ke,x=Qr.transition;Qr.transition=null;try{Ke=4,Za(s,o,c,p)}finally{Ke=g,Qr.transition=x}}function Za(s,o,c,p){if(Cs){var g=xo(s,o,c,p);if(g===null)Bf(s,o,p,Ai,c),Lc(s,p);else if(Pf(g,s,o,c,p))p.stopPropagation();else if(Lc(s,p),o&4&&-1<Nf.indexOf(s)){for(;g!==null;){var x=hl(g);if(x!==null&&kc(x),x=xo(s,o,c,p),x===null&&Bf(s,o,p,Ai,c),x===g)break;g=x}g!==null&&p.stopPropagation()}else Bf(s,o,p,null,c)}}var Ai=null;function xo(s,o,c,p){if(Ai=null,s=co(p),s=Pi(s),s!==null)if(o=Xn(s),o===null)s=null;else if(c=o.tag,c===13){if(s=Ei(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Ai=s,null}function el(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bc()){case Ci:return 1;case gs:return 4;case Mn:case Ya:return 16;case Ac:return 536870912;default:return 16}default:return 16}}var Sn=null,Eo=null,un=null;function tl(){if(un)return un;var s,o=Eo,c=o.length,p,g="value"in Sn?Sn.value:Sn.textContent,x=g.length;for(s=0;s<c&&o[s]===g[s];s++);var R=c-s;for(p=1;p<=R&&o[c-p]===g[x-p];p++);return un=g.slice(s,1<p?1-p:void 0)}function Co(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Cr(){return!0}function nl(){return!1}function Ut(s){function o(c,p,g,x,R){this._reactName=c,this._targetInst=g,this.type=p,this.nativeEvent=x,this.target=R,this.currentTarget=null;for(var z in s)s.hasOwnProperty(z)&&(c=s[z],this[z]=c?c(x):x[z]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Cr:nl,this.isPropagationStopped=nl,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),o}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},So=Ut(rr),Sr=le({},rr,{view:0,detail:0}),Df=Ut(Sr),To,Gr,Ss,Ri=le({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ss&&(Ss&&s.type==="mousemove"?(To=s.screenX-Ss.screenX,Gr=s.screenY-Ss.screenY):Gr=To=0,Ss=s),To)},movementY:function(s){return"movementY"in s?s.movementY:Gr}}),Io=Ut(Ri),rl=le({},Ri,{dataTransfer:0}),Fc=Ut(rl),bo=le({},Sr,{relatedTarget:0}),Ao=Ut(bo),$c=le({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),Yr=Ut($c),zc=le({},rr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Uc=Ut(zc),Bc=le({},rr,{data:0}),sl=Ut(Bc),Ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},on={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Hc[s])?!!o[s]:!1}function Tr(){return Wc}var d=le({},Sr,{key:function(s){if(s.key){var o=Ro[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Co(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?on[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(s){return s.type==="keypress"?Co(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Co(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_=Ut(d),I=le({},Ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O=Ut(I),q=le({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),J=Ut(q),pe=le({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),et=Ut(pe),Pt=le({},Ri,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Qe=Ut(Pt),Lt=[9,13,27,32],Tt=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Tn=u&&"TextEvent"in window&&!Ln,Ni=u&&(!Tt||Ln&&8<Ln&&11>=Ln),No=" ",py=!1;function my(s,o){switch(s){case"keyup":return Lt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Po=!1;function OT(s,o){switch(s){case"compositionend":return gy(o);case"keypress":return o.which!==32?null:(py=!0,No);case"textInput":return s=o.data,s===No&&py?null:s;default:return null}}function LT(s,o){if(Po)return s==="compositionend"||!Tt&&my(s,o)?(s=tl(),un=Eo=Sn=null,Po=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ni&&o.locale!=="ko"?null:o.data;default:return null}}var jT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yy(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!jT[s.type]:o==="textarea"}function vy(s,o,c,p){_r(p),o=Yc(o,"onChange"),0<o.length&&(c=new So("onChange","change",null,c,p),s.push({event:c,listeners:o}))}var il=null,ol=null;function VT(s){Ly(s,0)}function qc(s){var o=Lo(s);if(qe(o))return s}function FT(s,o){if(s==="change")return o}var wy=!1;if(u){var Mf;if(u){var Of="oninput"in document;if(!Of){var _y=document.createElement("div");_y.setAttribute("oninput","return;"),Of=typeof _y.oninput=="function"}Mf=Of}else Mf=!1;wy=Mf&&(!document.documentMode||9<document.documentMode)}function xy(){il&&(il.detachEvent("onpropertychange",Ey),ol=il=null)}function Ey(s){if(s.propertyName==="value"&&qc(ol)){var o=[];vy(o,ol,s,co(s)),qa(VT,o)}}function $T(s,o,c){s==="focusin"?(xy(),il=o,ol=c,il.attachEvent("onpropertychange",Ey)):s==="focusout"&&xy()}function zT(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return qc(ol)}function UT(s,o){if(s==="click")return qc(o)}function BT(s,o){if(s==="input"||s==="change")return qc(o)}function HT(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var sr=typeof Object.is=="function"?Object.is:HT;function al(s,o){if(sr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),p=Object.keys(o);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var g=c[p];if(!f.call(o,g)||!sr(s[g],o[g]))return!1}return!0}function Cy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Sy(s,o){var c=Cy(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=o&&p>=o)return{node:c,offset:o-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Cy(c)}}function Ty(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Ty(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Iy(){for(var s=window,o=wt();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=wt(s.document)}return o}function Lf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function WT(s){var o=Iy(),c=s.focusedElem,p=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&Ty(c.ownerDocument.documentElement,c)){if(p!==null&&Lf(c)){if(o=p.start,s=p.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,x=Math.min(p.start,g);p=p.end===void 0?x:Math.min(p.end,g),!s.extend&&x>p&&(g=p,p=x,x=g),g=Sy(c,x);var R=Sy(c,p);g&&R&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==R.node||s.focusOffset!==R.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),x>p?(s.addRange(o),s.extend(R.node,R.offset)):(o.setEnd(R.node,R.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var qT=u&&"documentMode"in document&&11>=document.documentMode,ko=null,jf=null,ll=null,Vf=!1;function by(s,o,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Vf||ko==null||ko!==wt(p)||(p=ko,"selectionStart"in p&&Lf(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ll&&al(ll,p)||(ll=p,p=Yc(jf,"onSelect"),0<p.length&&(o=new So("onSelect","select",null,o,c),s.push({event:o,listeners:p}),o.target=ko)))}function Kc(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var Do={animationend:Kc("Animation","AnimationEnd"),animationiteration:Kc("Animation","AnimationIteration"),animationstart:Kc("Animation","AnimationStart"),transitionend:Kc("Transition","TransitionEnd")},Ff={},Ay={};u&&(Ay=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function Qc(s){if(Ff[s])return Ff[s];if(!Do[s])return s;var o=Do[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in Ay)return Ff[s]=o[c];return s}var Ry=Qc("animationend"),Ny=Qc("animationiteration"),Py=Qc("animationstart"),ky=Qc("transitionend"),Dy=new Map,My="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ts(s,o){Dy.set(s,o),a(o,[s])}for(var $f=0;$f<My.length;$f++){var zf=My[$f],KT=zf.toLowerCase(),QT=zf[0].toUpperCase()+zf.slice(1);Ts(KT,"on"+QT)}Ts(Ry,"onAnimationEnd"),Ts(Ny,"onAnimationIteration"),Ts(Py,"onAnimationStart"),Ts("dblclick","onDoubleClick"),Ts("focusin","onFocus"),Ts("focusout","onBlur"),Ts(ky,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GT=new Set("cancel close invalid load scroll toggle".split(" ").concat(cl));function Oy(s,o,c){var p=s.type||"unknown-event";s.currentTarget=c,Sc(p,o,void 0,s),s.currentTarget=null}function Ly(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],g=p.event;p=p.listeners;e:{var x=void 0;if(o)for(var R=p.length-1;0<=R;R--){var z=p[R],H=z.instance,X=z.currentTarget;if(z=z.listener,H!==x&&g.isPropagationStopped())break e;Oy(g,z,X),x=H}else for(R=0;R<p.length;R++){if(z=p[R],H=z.instance,X=z.currentTarget,z=z.listener,H!==x&&g.isPropagationStopped())break e;Oy(g,z,X),x=H}}}if(Yn)throw s=Ka,Yn=!1,Ka=null,s}function lt(s,o){var c=o[Gf];c===void 0&&(c=o[Gf]=new Set);var p=s+"__bubble";c.has(p)||(jy(o,s,2,!1),c.add(p))}function Uf(s,o,c){var p=0;o&&(p|=4),jy(c,s,p,o)}var Gc="_reactListening"+Math.random().toString(36).slice(2);function ul(s){if(!s[Gc]){s[Gc]=!0,r.forEach(function(c){c!=="selectionchange"&&(GT.has(c)||Uf(c,!1,s),Uf(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Gc]||(o[Gc]=!0,Uf("selectionchange",!1,o))}}function jy(s,o,c,p){switch(el(o)){case 1:var g=ht;break;case 4:g=kf;break;default:g=Za}c=g.bind(null,o,c,s),g=void 0,!ho||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),p?g!==void 0?s.addEventListener(o,c,{capture:!0,passive:g}):s.addEventListener(o,c,!0):g!==void 0?s.addEventListener(o,c,{passive:g}):s.addEventListener(o,c,!1)}function Bf(s,o,c,p,g){var x=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var R=p.tag;if(R===3||R===4){var z=p.stateNode.containerInfo;if(z===g||z.nodeType===8&&z.parentNode===g)break;if(R===4)for(R=p.return;R!==null;){var H=R.tag;if((H===3||H===4)&&(H=R.stateNode.containerInfo,H===g||H.nodeType===8&&H.parentNode===g))return;R=R.return}for(;z!==null;){if(R=Pi(z),R===null)return;if(H=R.tag,H===5||H===6){p=x=R;continue e}z=z.parentNode}}p=p.return}qa(function(){var X=x,ae=co(c),ce=[];e:{var oe=Dy.get(s);if(oe!==void 0){var ye=So,Ee=s;switch(s){case"keypress":if(Co(c)===0)break e;case"keydown":case"keyup":ye=_;break;case"focusin":Ee="focus",ye=Ao;break;case"focusout":Ee="blur",ye=Ao;break;case"beforeblur":case"afterblur":ye=Ao;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Fc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=J;break;case Ry:case Ny:case Py:ye=Yr;break;case ky:ye=et;break;case"scroll":ye=Df;break;case"wheel":ye=Qe;break;case"copy":case"cut":case"paste":ye=Uc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=O}var Ce=(o&4)!==0,Ct=!Ce&&s==="scroll",K=Ce?oe!==null?oe+"Capture":null:oe;Ce=[];for(var W=X,Q;W!==null;){Q=W;var he=Q.stateNode;if(Q.tag===5&&he!==null&&(Q=he,K!==null&&(he=Et(W,K),he!=null&&Ce.push(dl(W,he,Q)))),Ct)break;W=W.return}0<Ce.length&&(oe=new ye(oe,Ee,null,c,ae),ce.push({event:oe,listeners:Ce}))}}if((o&7)===0){e:{if(oe=s==="mouseover"||s==="pointerover",ye=s==="mouseout"||s==="pointerout",oe&&c!==vi&&(Ee=c.relatedTarget||c.fromElement)&&(Pi(Ee)||Ee[Xr]))break e;if((ye||oe)&&(oe=ae.window===ae?ae:(oe=ae.ownerDocument)?oe.defaultView||oe.parentWindow:window,ye?(Ee=c.relatedTarget||c.toElement,ye=X,Ee=Ee?Pi(Ee):null,Ee!==null&&(Ct=Xn(Ee),Ee!==Ct||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(ye=null,Ee=X),ye!==Ee)){if(Ce=Io,he="onMouseLeave",K="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Ce=O,he="onPointerLeave",K="onPointerEnter",W="pointer"),Ct=ye==null?oe:Lo(ye),Q=Ee==null?oe:Lo(Ee),oe=new Ce(he,W+"leave",ye,c,ae),oe.target=Ct,oe.relatedTarget=Q,he=null,Pi(ae)===X&&(Ce=new Ce(K,W+"enter",Ee,c,ae),Ce.target=Q,Ce.relatedTarget=Ct,he=Ce),Ct=he,ye&&Ee)t:{for(Ce=ye,K=Ee,W=0,Q=Ce;Q;Q=Mo(Q))W++;for(Q=0,he=K;he;he=Mo(he))Q++;for(;0<W-Q;)Ce=Mo(Ce),W--;for(;0<Q-W;)K=Mo(K),Q--;for(;W--;){if(Ce===K||K!==null&&Ce===K.alternate)break t;Ce=Mo(Ce),K=Mo(K)}Ce=null}else Ce=null;ye!==null&&Vy(ce,oe,ye,Ce,!1),Ee!==null&&Ct!==null&&Vy(ce,Ct,Ee,Ce,!0)}}e:{if(oe=X?Lo(X):window,ye=oe.nodeName&&oe.nodeName.toLowerCase(),ye==="select"||ye==="input"&&oe.type==="file")var Te=FT;else if(yy(oe))if(wy)Te=BT;else{Te=zT;var be=$T}else(ye=oe.nodeName)&&ye.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Te=UT);if(Te&&(Te=Te(s,X))){vy(ce,Te,c,ae);break e}be&&be(s,oe,X),s==="focusout"&&(be=oe._wrapperState)&&be.controlled&&oe.type==="number"&&Qn(oe,"number",oe.value)}switch(be=X?Lo(X):window,s){case"focusin":(yy(be)||be.contentEditable==="true")&&(ko=be,jf=X,ll=null);break;case"focusout":ll=jf=ko=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,by(ce,c,ae);break;case"selectionchange":if(qT)break;case"keydown":case"keyup":by(ce,c,ae)}var Ae;if(Tt)e:{switch(s){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Po?my(s,c)&&(Me="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Me="onCompositionStart");Me&&(Ni&&c.locale!=="ko"&&(Po||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Po&&(Ae=tl()):(Sn=ae,Eo="value"in Sn?Sn.value:Sn.textContent,Po=!0)),be=Yc(X,Me),0<be.length&&(Me=new sl(Me,s,null,c,ae),ce.push({event:Me,listeners:be}),Ae?Me.data=Ae:(Ae=gy(c),Ae!==null&&(Me.data=Ae)))),(Ae=Tn?OT(s,c):LT(s,c))&&(X=Yc(X,"onBeforeInput"),0<X.length&&(ae=new sl("onBeforeInput","beforeinput",null,c,ae),ce.push({event:ae,listeners:X}),ae.data=Ae))}Ly(ce,o)})}function dl(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Yc(s,o){for(var c=o+"Capture",p=[];s!==null;){var g=s,x=g.stateNode;g.tag===5&&x!==null&&(g=x,x=Et(s,c),x!=null&&p.unshift(dl(s,x,g)),x=Et(s,o),x!=null&&p.push(dl(s,x,g))),s=s.return}return p}function Mo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Vy(s,o,c,p,g){for(var x=o._reactName,R=[];c!==null&&c!==p;){var z=c,H=z.alternate,X=z.stateNode;if(H!==null&&H===p)break;z.tag===5&&X!==null&&(z=X,g?(H=Et(c,x),H!=null&&R.unshift(dl(c,H,z))):g||(H=Et(c,x),H!=null&&R.push(dl(c,H,z)))),c=c.return}R.length!==0&&s.push({event:o,listeners:R})}var YT=/\r\n?/g,XT=/\u0000|\uFFFD/g;function Fy(s){return(typeof s=="string"?s:""+s).replace(YT,`
`).replace(XT,"")}function Xc(s,o,c){if(o=Fy(o),Fy(s)!==o&&c)throw Error(t(425))}function Jc(){}var Hf=null,Wf=null;function qf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Kf=typeof setTimeout=="function"?setTimeout:void 0,JT=typeof clearTimeout=="function"?clearTimeout:void 0,$y=typeof Promise=="function"?Promise:void 0,ZT=typeof queueMicrotask=="function"?queueMicrotask:typeof $y<"u"?function(s){return $y.resolve(null).then(s).catch(eI)}:Kf;function eI(s){setTimeout(function(){throw s})}function Qf(s,o){var c=o,p=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(p===0){s.removeChild(g),nr(o);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=g}while(c);nr(o)}function Is(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function zy(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Oo,fl="__reactProps$"+Oo,Xr="__reactContainer$"+Oo,Gf="__reactEvents$"+Oo,tI="__reactListeners$"+Oo,nI="__reactHandles$"+Oo;function Pi(s){var o=s[Ir];if(o)return o;for(var c=s.parentNode;c;){if(o=c[Xr]||c[Ir]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=zy(s);s!==null;){if(c=s[Ir])return c;s=zy(s)}return o}s=c,c=s.parentNode}return null}function hl(s){return s=s[Ir]||s[Xr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Lo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Zc(s){return s[fl]||null}var Yf=[],jo=-1;function bs(s){return{current:s}}function ct(s){0>jo||(s.current=Yf[jo],Yf[jo]=null,jo--)}function ot(s,o){jo++,Yf[jo]=s.current,s.current=o}var As={},Gt=bs(As),dn=bs(!1),ki=As;function Vo(s,o){var c=s.type.contextTypes;if(!c)return As;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var g={},x;for(x in c)g[x]=o[x];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function fn(s){return s=s.childContextTypes,s!=null}function eu(){ct(dn),ct(Gt)}function Uy(s,o,c){if(Gt.current!==As)throw Error(t(168));ot(Gt,o),ot(dn,c)}function By(s,o,c){var p=s.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var g in p)if(!(g in o))throw Error(t(108,fe(s)||"Unknown",g));return le({},c,p)}function tu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||As,ki=Gt.current,ot(Gt,s),ot(dn,dn.current),!0}function Hy(s,o,c){var p=s.stateNode;if(!p)throw Error(t(169));c?(s=By(s,o,ki),p.__reactInternalMemoizedMergedChildContext=s,ct(dn),ct(Gt),ot(Gt,s)):ct(dn),ot(dn,c)}var Jr=null,nu=!1,Xf=!1;function Wy(s){Jr===null?Jr=[s]:Jr.push(s)}function rI(s){nu=!0,Wy(s)}function Rs(){if(!Xf&&Jr!==null){Xf=!0;var s=0,o=Ke;try{var c=Jr;for(Ke=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}Jr=null,nu=!1}catch(g){throw Jr!==null&&(Jr=Jr.slice(s+1)),yo(Ci,Rs),g}finally{Ke=o,Xf=!1}}return null}var Fo=[],$o=0,ru=null,su=0,jn=[],Vn=0,Di=null,Zr=1,es="";function Mi(s,o){Fo[$o++]=su,Fo[$o++]=ru,ru=s,su=o}function qy(s,o,c){jn[Vn++]=Zr,jn[Vn++]=es,jn[Vn++]=Di,Di=s;var p=Zr;s=es;var g=32-sn(p)-1;p&=~(1<<g),c+=1;var x=32-sn(o)+g;if(30<x){var R=g-g%5;x=(p&(1<<R)-1).toString(32),p>>=R,g-=R,Zr=1<<32-sn(o)+g|c<<g|p,es=x+s}else Zr=1<<x|c<<g|p,es=s}function Jf(s){s.return!==null&&(Mi(s,1),qy(s,1,0))}function Zf(s){for(;s===ru;)ru=Fo[--$o],Fo[$o]=null,su=Fo[--$o],Fo[$o]=null;for(;s===Di;)Di=jn[--Vn],jn[Vn]=null,es=jn[--Vn],jn[Vn]=null,Zr=jn[--Vn],jn[Vn]=null}var In=null,bn=null,pt=!1,ir=null;function Ky(s,o){var c=Un(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function Qy(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,In=s,bn=Is(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,In=s,bn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Di!==null?{id:Zr,overflow:es}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Un(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,In=s,bn=null,!0):!1;default:return!1}}function eh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function th(s){if(pt){var o=bn;if(o){var c=o;if(!Qy(s,o)){if(eh(s))throw Error(t(418));o=Is(c.nextSibling);var p=In;o&&Qy(s,o)?Ky(p,c):(s.flags=s.flags&-4097|2,pt=!1,In=s)}}else{if(eh(s))throw Error(t(418));s.flags=s.flags&-4097|2,pt=!1,In=s}}}function Gy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;In=s}function iu(s){if(s!==In)return!1;if(!pt)return Gy(s),pt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!qf(s.type,s.memoizedProps)),o&&(o=bn)){if(eh(s))throw Yy(),Error(t(418));for(;o;)Ky(s,o),o=Is(o.nextSibling)}if(Gy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){bn=Is(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}bn=null}}else bn=In?Is(s.stateNode.nextSibling):null;return!0}function Yy(){for(var s=bn;s;)s=Is(s.nextSibling)}function zo(){bn=In=null,pt=!1}function nh(s){ir===null?ir=[s]:ir.push(s)}var sI=U.ReactCurrentBatchConfig;function pl(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,s));var g=p,x=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===x?o.ref:(o=function(R){var z=g.refs;R===null?delete z[x]:z[x]=R},o._stringRef=x,o)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function ou(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Xy(s){var o=s._init;return o(s._payload)}function Jy(s){function o(K,W){if(s){var Q=K.deletions;Q===null?(K.deletions=[W],K.flags|=16):Q.push(W)}}function c(K,W){if(!s)return null;for(;W!==null;)o(K,W),W=W.sibling;return null}function p(K,W){for(K=new Map;W!==null;)W.key!==null?K.set(W.key,W):K.set(W.index,W),W=W.sibling;return K}function g(K,W){return K=js(K,W),K.index=0,K.sibling=null,K}function x(K,W,Q){return K.index=Q,s?(Q=K.alternate,Q!==null?(Q=Q.index,Q<W?(K.flags|=2,W):Q):(K.flags|=2,W)):(K.flags|=1048576,W)}function R(K){return s&&K.alternate===null&&(K.flags|=2),K}function z(K,W,Q,he){return W===null||W.tag!==6?(W=Kh(Q,K.mode,he),W.return=K,W):(W=g(W,Q),W.return=K,W)}function H(K,W,Q,he){var Te=Q.type;return Te===M?ae(K,W,Q.props.children,he,Q.key):W!==null&&(W.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===re&&Xy(Te)===W.type)?(he=g(W,Q.props),he.ref=pl(K,W,Q),he.return=K,he):(he=Nu(Q.type,Q.key,Q.props,null,K.mode,he),he.ref=pl(K,W,Q),he.return=K,he)}function X(K,W,Q,he){return W===null||W.tag!==4||W.stateNode.containerInfo!==Q.containerInfo||W.stateNode.implementation!==Q.implementation?(W=Qh(Q,K.mode,he),W.return=K,W):(W=g(W,Q.children||[]),W.return=K,W)}function ae(K,W,Q,he,Te){return W===null||W.tag!==7?(W=Ui(Q,K.mode,he,Te),W.return=K,W):(W=g(W,Q),W.return=K,W)}function ce(K,W,Q){if(typeof W=="string"&&W!==""||typeof W=="number")return W=Kh(""+W,K.mode,Q),W.return=K,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case $:return Q=Nu(W.type,W.key,W.props,null,K.mode,Q),Q.ref=pl(K,null,W),Q.return=K,Q;case G:return W=Qh(W,K.mode,Q),W.return=K,W;case re:var he=W._init;return ce(K,he(W._payload),Q)}if(Ur(W)||ne(W))return W=Ui(W,K.mode,Q,null),W.return=K,W;ou(K,W)}return null}function oe(K,W,Q,he){var Te=W!==null?W.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Te!==null?null:z(K,W,""+Q,he);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case $:return Q.key===Te?H(K,W,Q,he):null;case G:return Q.key===Te?X(K,W,Q,he):null;case re:return Te=Q._init,oe(K,W,Te(Q._payload),he)}if(Ur(Q)||ne(Q))return Te!==null?null:ae(K,W,Q,he,null);ou(K,Q)}return null}function ye(K,W,Q,he,Te){if(typeof he=="string"&&he!==""||typeof he=="number")return K=K.get(Q)||null,z(W,K,""+he,Te);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case $:return K=K.get(he.key===null?Q:he.key)||null,H(W,K,he,Te);case G:return K=K.get(he.key===null?Q:he.key)||null,X(W,K,he,Te);case re:var be=he._init;return ye(K,W,Q,be(he._payload),Te)}if(Ur(he)||ne(he))return K=K.get(Q)||null,ae(W,K,he,Te,null);ou(W,he)}return null}function Ee(K,W,Q,he){for(var Te=null,be=null,Ae=W,Me=W=0,Ft=null;Ae!==null&&Me<Q.length;Me++){Ae.index>Me?(Ft=Ae,Ae=null):Ft=Ae.sibling;var Je=oe(K,Ae,Q[Me],he);if(Je===null){Ae===null&&(Ae=Ft);break}s&&Ae&&Je.alternate===null&&o(K,Ae),W=x(Je,W,Me),be===null?Te=Je:be.sibling=Je,be=Je,Ae=Ft}if(Me===Q.length)return c(K,Ae),pt&&Mi(K,Me),Te;if(Ae===null){for(;Me<Q.length;Me++)Ae=ce(K,Q[Me],he),Ae!==null&&(W=x(Ae,W,Me),be===null?Te=Ae:be.sibling=Ae,be=Ae);return pt&&Mi(K,Me),Te}for(Ae=p(K,Ae);Me<Q.length;Me++)Ft=ye(Ae,K,Me,Q[Me],he),Ft!==null&&(s&&Ft.alternate!==null&&Ae.delete(Ft.key===null?Me:Ft.key),W=x(Ft,W,Me),be===null?Te=Ft:be.sibling=Ft,be=Ft);return s&&Ae.forEach(function(Vs){return o(K,Vs)}),pt&&Mi(K,Me),Te}function Ce(K,W,Q,he){var Te=ne(Q);if(typeof Te!="function")throw Error(t(150));if(Q=Te.call(Q),Q==null)throw Error(t(151));for(var be=Te=null,Ae=W,Me=W=0,Ft=null,Je=Q.next();Ae!==null&&!Je.done;Me++,Je=Q.next()){Ae.index>Me?(Ft=Ae,Ae=null):Ft=Ae.sibling;var Vs=oe(K,Ae,Je.value,he);if(Vs===null){Ae===null&&(Ae=Ft);break}s&&Ae&&Vs.alternate===null&&o(K,Ae),W=x(Vs,W,Me),be===null?Te=Vs:be.sibling=Vs,be=Vs,Ae=Ft}if(Je.done)return c(K,Ae),pt&&Mi(K,Me),Te;if(Ae===null){for(;!Je.done;Me++,Je=Q.next())Je=ce(K,Je.value,he),Je!==null&&(W=x(Je,W,Me),be===null?Te=Je:be.sibling=Je,be=Je);return pt&&Mi(K,Me),Te}for(Ae=p(K,Ae);!Je.done;Me++,Je=Q.next())Je=ye(Ae,K,Me,Je.value,he),Je!==null&&(s&&Je.alternate!==null&&Ae.delete(Je.key===null?Me:Je.key),W=x(Je,W,Me),be===null?Te=Je:be.sibling=Je,be=Je);return s&&Ae.forEach(function(jI){return o(K,jI)}),pt&&Mi(K,Me),Te}function Ct(K,W,Q,he){if(typeof Q=="object"&&Q!==null&&Q.type===M&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case $:e:{for(var Te=Q.key,be=W;be!==null;){if(be.key===Te){if(Te=Q.type,Te===M){if(be.tag===7){c(K,be.sibling),W=g(be,Q.props.children),W.return=K,K=W;break e}}else if(be.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===re&&Xy(Te)===be.type){c(K,be.sibling),W=g(be,Q.props),W.ref=pl(K,be,Q),W.return=K,K=W;break e}c(K,be);break}else o(K,be);be=be.sibling}Q.type===M?(W=Ui(Q.props.children,K.mode,he,Q.key),W.return=K,K=W):(he=Nu(Q.type,Q.key,Q.props,null,K.mode,he),he.ref=pl(K,W,Q),he.return=K,K=he)}return R(K);case G:e:{for(be=Q.key;W!==null;){if(W.key===be)if(W.tag===4&&W.stateNode.containerInfo===Q.containerInfo&&W.stateNode.implementation===Q.implementation){c(K,W.sibling),W=g(W,Q.children||[]),W.return=K,K=W;break e}else{c(K,W);break}else o(K,W);W=W.sibling}W=Qh(Q,K.mode,he),W.return=K,K=W}return R(K);case re:return be=Q._init,Ct(K,W,be(Q._payload),he)}if(Ur(Q))return Ee(K,W,Q,he);if(ne(Q))return Ce(K,W,Q,he);ou(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,W!==null&&W.tag===6?(c(K,W.sibling),W=g(W,Q),W.return=K,K=W):(c(K,W),W=Kh(Q,K.mode,he),W.return=K,K=W),R(K)):c(K,W)}return Ct}var Uo=Jy(!0),Zy=Jy(!1),au=bs(null),lu=null,Bo=null,rh=null;function sh(){rh=Bo=lu=null}function ih(s){var o=au.current;ct(au),s._currentValue=o}function oh(s,o,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),s===c)break;s=s.return}}function Ho(s,o){lu=s,rh=Bo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(hn=!0),s.firstContext=null)}function Fn(s){var o=s._currentValue;if(rh!==s)if(s={context:s,memoizedValue:o,next:null},Bo===null){if(lu===null)throw Error(t(308));Bo=s,lu.dependencies={lanes:0,firstContext:s}}else Bo=Bo.next=s;return o}var Oi=null;function ah(s){Oi===null?Oi=[s]:Oi.push(s)}function ev(s,o,c,p){var g=o.interleaved;return g===null?(c.next=c,ah(o)):(c.next=g.next,g.next=c),o.interleaved=c,ts(s,p)}function ts(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Ns=!1;function lh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ns(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ps(s,o,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(Xe&2)!==0){var g=p.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),p.pending=o,ts(s,c)}return g=p.interleaved,g===null?(o.next=o,ah(p)):(o.next=g.next,g.next=o),p.interleaved=o,ts(s,c)}function cu(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var p=o.lanes;p&=s.pendingLanes,c|=p,o.lanes=c,_s(s,c)}}function nv(s,o){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var g=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var R={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};x===null?g=x=R:x=x.next=R,c=c.next}while(c!==null);x===null?g=x=o:x=x.next=o}else g=x=o;c={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function uu(s,o,c,p){var g=s.updateQueue;Ns=!1;var x=g.firstBaseUpdate,R=g.lastBaseUpdate,z=g.shared.pending;if(z!==null){g.shared.pending=null;var H=z,X=H.next;H.next=null,R===null?x=X:R.next=X,R=H;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,z=ae.lastBaseUpdate,z!==R&&(z===null?ae.firstBaseUpdate=X:z.next=X,ae.lastBaseUpdate=H))}if(x!==null){var ce=g.baseState;R=0,ae=X=H=null,z=x;do{var oe=z.lane,ye=z.eventTime;if((p&oe)===oe){ae!==null&&(ae=ae.next={eventTime:ye,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Ee=s,Ce=z;switch(oe=o,ye=c,Ce.tag){case 1:if(Ee=Ce.payload,typeof Ee=="function"){ce=Ee.call(ye,ce,oe);break e}ce=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ce.payload,oe=typeof Ee=="function"?Ee.call(ye,ce,oe):Ee,oe==null)break e;ce=le({},ce,oe);break e;case 2:Ns=!0}}z.callback!==null&&z.lane!==0&&(s.flags|=64,oe=g.effects,oe===null?g.effects=[z]:oe.push(z))}else ye={eventTime:ye,lane:oe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ae===null?(X=ae=ye,H=ce):ae=ae.next=ye,R|=oe;if(z=z.next,z===null){if(z=g.shared.pending,z===null)break;oe=z,z=oe.next,oe.next=null,g.lastBaseUpdate=oe,g.shared.pending=null}}while(!0);if(ae===null&&(H=ce),g.baseState=H,g.firstBaseUpdate=X,g.lastBaseUpdate=ae,o=g.shared.interleaved,o!==null){g=o;do R|=g.lane,g=g.next;while(g!==o)}else x===null&&(g.shared.lanes=0);Vi|=R,s.lanes=R,s.memoizedState=ce}}function rv(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var p=s[o],g=p.callback;if(g!==null){if(p.callback=null,p=c,typeof g!="function")throw Error(t(191,g));g.call(p)}}}var ml={},br=bs(ml),gl=bs(ml),yl=bs(ml);function Li(s){if(s===ml)throw Error(t(174));return s}function ch(s,o){switch(ot(yl,o),ot(gl,s),ot(br,ml),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Nt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Nt(o,s)}ct(br),ot(br,o)}function Wo(){ct(br),ct(gl),ct(yl)}function sv(s){Li(yl.current);var o=Li(br.current),c=Nt(o,s.type);o!==c&&(ot(gl,s),ot(br,c))}function uh(s){gl.current===s&&(ct(br),ct(gl))}var gt=bs(0);function du(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var dh=[];function fh(){for(var s=0;s<dh.length;s++)dh[s]._workInProgressVersionPrimary=null;dh.length=0}var fu=U.ReactCurrentDispatcher,hh=U.ReactCurrentBatchConfig,ji=0,yt=null,kt=null,jt=null,hu=!1,vl=!1,wl=0,iI=0;function Yt(){throw Error(t(321))}function ph(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!sr(s[c],o[c]))return!1;return!0}function mh(s,o,c,p,g,x){if(ji=x,yt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,fu.current=s===null||s.memoizedState===null?cI:uI,s=c(p,g),vl){x=0;do{if(vl=!1,wl=0,25<=x)throw Error(t(301));x+=1,jt=kt=null,o.updateQueue=null,fu.current=dI,s=c(p,g)}while(vl)}if(fu.current=gu,o=kt!==null&&kt.next!==null,ji=0,jt=kt=yt=null,hu=!1,o)throw Error(t(300));return s}function gh(){var s=wl!==0;return wl=0,s}function Ar(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?yt.memoizedState=jt=s:jt=jt.next=s,jt}function $n(){if(kt===null){var s=yt.alternate;s=s!==null?s.memoizedState:null}else s=kt.next;var o=jt===null?yt.memoizedState:jt.next;if(o!==null)jt=o,kt=s;else{if(s===null)throw Error(t(310));kt=s,s={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},jt===null?yt.memoizedState=jt=s:jt=jt.next=s}return jt}function _l(s,o){return typeof o=="function"?o(s):o}function yh(s){var o=$n(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=kt,g=p.baseQueue,x=c.pending;if(x!==null){if(g!==null){var R=g.next;g.next=x.next,x.next=R}p.baseQueue=g=x,c.pending=null}if(g!==null){x=g.next,p=p.baseState;var z=R=null,H=null,X=x;do{var ae=X.lane;if((ji&ae)===ae)H!==null&&(H=H.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),p=X.hasEagerState?X.eagerState:s(p,X.action);else{var ce={lane:ae,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};H===null?(z=H=ce,R=p):H=H.next=ce,yt.lanes|=ae,Vi|=ae}X=X.next}while(X!==null&&X!==x);H===null?R=p:H.next=z,sr(p,o.memoizedState)||(hn=!0),o.memoizedState=p,o.baseState=R,o.baseQueue=H,c.lastRenderedState=p}if(s=c.interleaved,s!==null){g=s;do x=g.lane,yt.lanes|=x,Vi|=x,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function vh(s){var o=$n(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=c.dispatch,g=c.pending,x=o.memoizedState;if(g!==null){c.pending=null;var R=g=g.next;do x=s(x,R.action),R=R.next;while(R!==g);sr(x,o.memoizedState)||(hn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,p]}function iv(){}function ov(s,o){var c=yt,p=$n(),g=o(),x=!sr(p.memoizedState,g);if(x&&(p.memoizedState=g,hn=!0),p=p.queue,wh(cv.bind(null,c,p,s),[s]),p.getSnapshot!==o||x||jt!==null&&jt.memoizedState.tag&1){if(c.flags|=2048,xl(9,lv.bind(null,c,p,g,o),void 0,null),Vt===null)throw Error(t(349));(ji&30)!==0||av(c,o,g)}return g}function av(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=yt.updateQueue,o===null?(o={lastEffect:null,stores:null},yt.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function lv(s,o,c,p){o.value=c,o.getSnapshot=p,uv(o)&&dv(s)}function cv(s,o,c){return c(function(){uv(o)&&dv(s)})}function uv(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!sr(s,c)}catch{return!0}}function dv(s){var o=ts(s,1);o!==null&&cr(o,s,1,-1)}function fv(s){var o=Ar();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_l,lastRenderedState:s},o.queue=s,s=s.dispatch=lI.bind(null,yt,s),[o.memoizedState,s]}function xl(s,o,c,p){return s={tag:s,create:o,destroy:c,deps:p,next:null},o=yt.updateQueue,o===null?(o={lastEffect:null,stores:null},yt.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,o.lastEffect=s)),s}function hv(){return $n().memoizedState}function pu(s,o,c,p){var g=Ar();yt.flags|=s,g.memoizedState=xl(1|o,c,void 0,p===void 0?null:p)}function mu(s,o,c,p){var g=$n();p=p===void 0?null:p;var x=void 0;if(kt!==null){var R=kt.memoizedState;if(x=R.destroy,p!==null&&ph(p,R.deps)){g.memoizedState=xl(o,c,x,p);return}}yt.flags|=s,g.memoizedState=xl(1|o,c,x,p)}function pv(s,o){return pu(8390656,8,s,o)}function wh(s,o){return mu(2048,8,s,o)}function mv(s,o){return mu(4,2,s,o)}function gv(s,o){return mu(4,4,s,o)}function yv(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function vv(s,o,c){return c=c!=null?c.concat([s]):null,mu(4,4,yv.bind(null,o,s),c)}function _h(){}function wv(s,o){var c=$n();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&ph(o,p[1])?p[0]:(c.memoizedState=[s,o],s)}function _v(s,o){var c=$n();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&ph(o,p[1])?p[0]:(s=s(),c.memoizedState=[s,o],s)}function xv(s,o,c){return(ji&21)===0?(s.baseState&&(s.baseState=!1,hn=!0),s.memoizedState=c):(sr(c,o)||(c=Ii(),yt.lanes|=c,Vi|=c,s.baseState=!0),o)}function oI(s,o){var c=Ke;Ke=c!==0&&4>c?c:4,s(!0);var p=hh.transition;hh.transition={};try{s(!1),o()}finally{Ke=c,hh.transition=p}}function Ev(){return $n().memoizedState}function aI(s,o,c){var p=Os(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},Cv(s))Sv(o,c);else if(c=ev(s,o,c,p),c!==null){var g=ln();cr(c,s,p,g),Tv(c,o,p)}}function lI(s,o,c){var p=Os(s),g={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(Cv(s))Sv(o,g);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var R=o.lastRenderedState,z=x(R,c);if(g.hasEagerState=!0,g.eagerState=z,sr(z,R)){var H=o.interleaved;H===null?(g.next=g,ah(o)):(g.next=H.next,H.next=g),o.interleaved=g;return}}catch{}finally{}c=ev(s,o,g,p),c!==null&&(g=ln(),cr(c,s,p,g),Tv(c,o,p))}}function Cv(s){var o=s.alternate;return s===yt||o!==null&&o===yt}function Sv(s,o){vl=hu=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function Tv(s,o,c){if((c&4194240)!==0){var p=o.lanes;p&=s.pendingLanes,c|=p,o.lanes=c,_s(s,c)}}var gu={readContext:Fn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},cI={readContext:Fn,useCallback:function(s,o){return Ar().memoizedState=[s,o===void 0?null:o],s},useContext:Fn,useEffect:pv,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,pu(4194308,4,yv.bind(null,o,s),c)},useLayoutEffect:function(s,o){return pu(4194308,4,s,o)},useInsertionEffect:function(s,o){return pu(4,2,s,o)},useMemo:function(s,o){var c=Ar();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var p=Ar();return o=c!==void 0?c(o):o,p.memoizedState=p.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},p.queue=s,s=s.dispatch=aI.bind(null,yt,s),[p.memoizedState,s]},useRef:function(s){var o=Ar();return s={current:s},o.memoizedState=s},useState:fv,useDebugValue:_h,useDeferredValue:function(s){return Ar().memoizedState=s},useTransition:function(){var s=fv(!1),o=s[0];return s=oI.bind(null,s[1]),Ar().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var p=yt,g=Ar();if(pt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),Vt===null)throw Error(t(349));(ji&30)!==0||av(p,o,c)}g.memoizedState=c;var x={value:c,getSnapshot:o};return g.queue=x,pv(cv.bind(null,p,x,s),[s]),p.flags|=2048,xl(9,lv.bind(null,p,x,c,o),void 0,null),c},useId:function(){var s=Ar(),o=Vt.identifierPrefix;if(pt){var c=es,p=Zr;c=(p&~(1<<32-sn(p)-1)).toString(32)+c,o=":"+o+"R"+c,c=wl++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=iI++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},uI={readContext:Fn,useCallback:wv,useContext:Fn,useEffect:wh,useImperativeHandle:vv,useInsertionEffect:mv,useLayoutEffect:gv,useMemo:_v,useReducer:yh,useRef:hv,useState:function(){return yh(_l)},useDebugValue:_h,useDeferredValue:function(s){var o=$n();return xv(o,kt.memoizedState,s)},useTransition:function(){var s=yh(_l)[0],o=$n().memoizedState;return[s,o]},useMutableSource:iv,useSyncExternalStore:ov,useId:Ev,unstable_isNewReconciler:!1},dI={readContext:Fn,useCallback:wv,useContext:Fn,useEffect:wh,useImperativeHandle:vv,useInsertionEffect:mv,useLayoutEffect:gv,useMemo:_v,useReducer:vh,useRef:hv,useState:function(){return vh(_l)},useDebugValue:_h,useDeferredValue:function(s){var o=$n();return kt===null?o.memoizedState=s:xv(o,kt.memoizedState,s)},useTransition:function(){var s=vh(_l)[0],o=$n().memoizedState;return[s,o]},useMutableSource:iv,useSyncExternalStore:ov,useId:Ev,unstable_isNewReconciler:!1};function or(s,o){if(s&&s.defaultProps){o=le({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function xh(s,o,c,p){o=s.memoizedState,c=c(p,o),c=c==null?o:le({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var yu={isMounted:function(s){return(s=s._reactInternals)?Xn(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var p=ln(),g=Os(s),x=ns(p,g);x.payload=o,c!=null&&(x.callback=c),o=Ps(s,x,g),o!==null&&(cr(o,s,g,p),cu(o,s,g))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var p=ln(),g=Os(s),x=ns(p,g);x.tag=1,x.payload=o,c!=null&&(x.callback=c),o=Ps(s,x,g),o!==null&&(cr(o,s,g,p),cu(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=ln(),p=Os(s),g=ns(c,p);g.tag=2,o!=null&&(g.callback=o),o=Ps(s,g,p),o!==null&&(cr(o,s,p,c),cu(o,s,p))}};function Iv(s,o,c,p,g,x,R){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,x,R):o.prototype&&o.prototype.isPureReactComponent?!al(c,p)||!al(g,x):!0}function bv(s,o,c){var p=!1,g=As,x=o.contextType;return typeof x=="object"&&x!==null?x=Fn(x):(g=fn(o)?ki:Gt.current,p=o.contextTypes,x=(p=p!=null)?Vo(s,g):As),o=new o(c,x),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=yu,s.stateNode=o,o._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=x),o}function Av(s,o,c,p){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,p),o.state!==s&&yu.enqueueReplaceState(o,o.state,null)}function Eh(s,o,c,p){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},lh(s);var x=o.contextType;typeof x=="object"&&x!==null?g.context=Fn(x):(x=fn(o)?ki:Gt.current,g.context=Vo(s,x)),g.state=s.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(xh(s,o,x,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&yu.enqueueReplaceState(g,g.state,null),uu(s,c,g,p),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function qo(s,o){try{var c="",p=o;do c+=Se(p),p=p.return;while(p);var g=c}catch(x){g=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:o,stack:g,digest:null}}function Ch(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function Sh(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var fI=typeof WeakMap=="function"?WeakMap:Map;function Rv(s,o,c){c=ns(-1,c),c.tag=3,c.payload={element:null};var p=o.value;return c.callback=function(){Su||(Su=!0,Fh=p),Sh(s,o)},c}function Nv(s,o,c){c=ns(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var g=o.value;c.payload=function(){return p(g)},c.callback=function(){Sh(s,o)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(c.callback=function(){Sh(s,o),typeof p!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var R=o.stack;this.componentDidCatch(o.value,{componentStack:R!==null?R:""})}),c}function Pv(s,o,c){var p=s.pingCache;if(p===null){p=s.pingCache=new fI;var g=new Set;p.set(o,g)}else g=p.get(o),g===void 0&&(g=new Set,p.set(o,g));g.has(c)||(g.add(c),s=II.bind(null,s,o,c),o.then(s,s))}function kv(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Dv(s,o,c,p,g){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=ns(-1,1),o.tag=2,Ps(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var hI=U.ReactCurrentOwner,hn=!1;function an(s,o,c,p){o.child=s===null?Zy(o,null,c,p):Uo(o,s.child,c,p)}function Mv(s,o,c,p,g){c=c.render;var x=o.ref;return Ho(o,g),p=mh(s,o,c,p,x,g),c=gh(),s!==null&&!hn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,rs(s,o,g)):(pt&&c&&Jf(o),o.flags|=1,an(s,o,p,g),o.child)}function Ov(s,o,c,p,g){if(s===null){var x=c.type;return typeof x=="function"&&!qh(x)&&x.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=x,Lv(s,o,x,p,g)):(s=Nu(c.type,null,p,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(x=s.child,(s.lanes&g)===0){var R=x.memoizedProps;if(c=c.compare,c=c!==null?c:al,c(R,p)&&s.ref===o.ref)return rs(s,o,g)}return o.flags|=1,s=js(x,p),s.ref=o.ref,s.return=o,o.child=s}function Lv(s,o,c,p,g){if(s!==null){var x=s.memoizedProps;if(al(x,p)&&s.ref===o.ref)if(hn=!1,o.pendingProps=p=x,(s.lanes&g)!==0)(s.flags&131072)!==0&&(hn=!0);else return o.lanes=s.lanes,rs(s,o,g)}return Th(s,o,c,p,g)}function jv(s,o,c){var p=o.pendingProps,g=p.children,x=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Qo,An),An|=c;else{if((c&1073741824)===0)return s=x!==null?x.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,ot(Qo,An),An|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=x!==null?x.baseLanes:c,ot(Qo,An),An|=p}else x!==null?(p=x.baseLanes|c,o.memoizedState=null):p=c,ot(Qo,An),An|=p;return an(s,o,g,c),o.child}function Vv(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Th(s,o,c,p,g){var x=fn(c)?ki:Gt.current;return x=Vo(o,x),Ho(o,g),c=mh(s,o,c,p,x,g),p=gh(),s!==null&&!hn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,rs(s,o,g)):(pt&&p&&Jf(o),o.flags|=1,an(s,o,c,g),o.child)}function Fv(s,o,c,p,g){if(fn(c)){var x=!0;tu(o)}else x=!1;if(Ho(o,g),o.stateNode===null)wu(s,o),bv(o,c,p),Eh(o,c,p,g),p=!0;else if(s===null){var R=o.stateNode,z=o.memoizedProps;R.props=z;var H=R.context,X=c.contextType;typeof X=="object"&&X!==null?X=Fn(X):(X=fn(c)?ki:Gt.current,X=Vo(o,X));var ae=c.getDerivedStateFromProps,ce=typeof ae=="function"||typeof R.getSnapshotBeforeUpdate=="function";ce||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(z!==p||H!==X)&&Av(o,R,p,X),Ns=!1;var oe=o.memoizedState;R.state=oe,uu(o,p,R,g),H=o.memoizedState,z!==p||oe!==H||dn.current||Ns?(typeof ae=="function"&&(xh(o,c,ae,p),H=o.memoizedState),(z=Ns||Iv(o,c,z,p,oe,H,X))?(ce||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(o.flags|=4194308)):(typeof R.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=H),R.props=p,R.state=H,R.context=X,p=z):(typeof R.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{R=o.stateNode,tv(s,o),z=o.memoizedProps,X=o.type===o.elementType?z:or(o.type,z),R.props=X,ce=o.pendingProps,oe=R.context,H=c.contextType,typeof H=="object"&&H!==null?H=Fn(H):(H=fn(c)?ki:Gt.current,H=Vo(o,H));var ye=c.getDerivedStateFromProps;(ae=typeof ye=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(z!==ce||oe!==H)&&Av(o,R,p,H),Ns=!1,oe=o.memoizedState,R.state=oe,uu(o,p,R,g);var Ee=o.memoizedState;z!==ce||oe!==Ee||dn.current||Ns?(typeof ye=="function"&&(xh(o,c,ye,p),Ee=o.memoizedState),(X=Ns||Iv(o,c,X,p,oe,Ee,H)||!1)?(ae||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(p,Ee,H),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(p,Ee,H)),typeof R.componentDidUpdate=="function"&&(o.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof R.componentDidUpdate!="function"||z===s.memoizedProps&&oe===s.memoizedState||(o.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&oe===s.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Ee),R.props=p,R.state=Ee,R.context=H,p=X):(typeof R.componentDidUpdate!="function"||z===s.memoizedProps&&oe===s.memoizedState||(o.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&oe===s.memoizedState||(o.flags|=1024),p=!1)}return Ih(s,o,c,p,x,g)}function Ih(s,o,c,p,g,x){Vv(s,o);var R=(o.flags&128)!==0;if(!p&&!R)return g&&Hy(o,c,!1),rs(s,o,x);p=o.stateNode,hI.current=o;var z=R&&typeof c.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,s!==null&&R?(o.child=Uo(o,s.child,null,x),o.child=Uo(o,null,z,x)):an(s,o,z,x),o.memoizedState=p.state,g&&Hy(o,c,!0),o.child}function $v(s){var o=s.stateNode;o.pendingContext?Uy(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Uy(s,o.context,!1),ch(s,o.containerInfo)}function zv(s,o,c,p,g){return zo(),nh(g),o.flags|=256,an(s,o,c,p),o.child}var bh={dehydrated:null,treeContext:null,retryLane:0};function Ah(s){return{baseLanes:s,cachePool:null,transitions:null}}function Uv(s,o,c){var p=o.pendingProps,g=gt.current,x=!1,R=(o.flags&128)!==0,z;if((z=R)||(z=s!==null&&s.memoizedState===null?!1:(g&2)!==0),z?(x=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),ot(gt,g&1),s===null)return th(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(R=p.children,s=p.fallback,x?(p=o.mode,x=o.child,R={mode:"hidden",children:R},(p&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=R):x=Pu(R,p,0,null),s=Ui(s,p,c,null),x.return=o,s.return=o,x.sibling=s,o.child=x,o.child.memoizedState=Ah(c),o.memoizedState=bh,s):Rh(o,R));if(g=s.memoizedState,g!==null&&(z=g.dehydrated,z!==null))return pI(s,o,R,p,z,g,c);if(x){x=p.fallback,R=o.mode,g=s.child,z=g.sibling;var H={mode:"hidden",children:p.children};return(R&1)===0&&o.child!==g?(p=o.child,p.childLanes=0,p.pendingProps=H,o.deletions=null):(p=js(g,H),p.subtreeFlags=g.subtreeFlags&14680064),z!==null?x=js(z,x):(x=Ui(x,R,c,null),x.flags|=2),x.return=o,p.return=o,p.sibling=x,o.child=p,p=x,x=o.child,R=s.child.memoizedState,R=R===null?Ah(c):{baseLanes:R.baseLanes|c,cachePool:null,transitions:R.transitions},x.memoizedState=R,x.childLanes=s.childLanes&~c,o.memoizedState=bh,p}return x=s.child,s=x.sibling,p=js(x,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=c),p.return=o,p.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=p,o.memoizedState=null,p}function Rh(s,o){return o=Pu({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function vu(s,o,c,p){return p!==null&&nh(p),Uo(o,s.child,null,c),s=Rh(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function pI(s,o,c,p,g,x,R){if(c)return o.flags&256?(o.flags&=-257,p=Ch(Error(t(422))),vu(s,o,R,p)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(x=p.fallback,g=o.mode,p=Pu({mode:"visible",children:p.children},g,0,null),x=Ui(x,g,R,null),x.flags|=2,p.return=o,x.return=o,p.sibling=x,o.child=p,(o.mode&1)!==0&&Uo(o,s.child,null,R),o.child.memoizedState=Ah(R),o.memoizedState=bh,x);if((o.mode&1)===0)return vu(s,o,R,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var z=p.dgst;return p=z,x=Error(t(419)),p=Ch(x,p,void 0),vu(s,o,R,p)}if(z=(R&s.childLanes)!==0,hn||z){if(p=Vt,p!==null){switch(R&-R){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(p.suspendedLanes|R))!==0?0:g,g!==0&&g!==x.retryLane&&(x.retryLane=g,ts(s,g),cr(p,s,g,-1))}return Wh(),p=Ch(Error(t(421))),vu(s,o,R,p)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=bI.bind(null,s),g._reactRetry=o,null):(s=x.treeContext,bn=Is(g.nextSibling),In=o,pt=!0,ir=null,s!==null&&(jn[Vn++]=Zr,jn[Vn++]=es,jn[Vn++]=Di,Zr=s.id,es=s.overflow,Di=o),o=Rh(o,p.children),o.flags|=4096,o)}function Bv(s,o,c){s.lanes|=o;var p=s.alternate;p!==null&&(p.lanes|=o),oh(s.return,o,c)}function Nh(s,o,c,p,g){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:g}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=c,x.tailMode=g)}function Hv(s,o,c){var p=o.pendingProps,g=p.revealOrder,x=p.tail;if(an(s,o,p.children,c),p=gt.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Bv(s,c,o);else if(s.tag===19)Bv(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(ot(gt,p),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(c=o.child,g=null;c!==null;)s=c.alternate,s!==null&&du(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=o.child,o.child=null):(g=c.sibling,c.sibling=null),Nh(o,!1,g,c,x);break;case"backwards":for(c=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&du(s)===null){o.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Nh(o,!0,c,null,x);break;case"together":Nh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function wu(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function rs(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),Vi|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,c=js(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=js(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function mI(s,o,c){switch(o.tag){case 3:$v(o),zo();break;case 5:sv(o);break;case 1:fn(o.type)&&tu(o);break;case 4:ch(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,g=o.memoizedProps.value;ot(au,p._currentValue),p._currentValue=g;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(ot(gt,gt.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?Uv(s,o,c):(ot(gt,gt.current&1),s=rs(s,o,c),s!==null?s.sibling:null);ot(gt,gt.current&1);break;case 19:if(p=(c&o.childLanes)!==0,(s.flags&128)!==0){if(p)return Hv(s,o,c);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ot(gt,gt.current),p)break;return null;case 22:case 23:return o.lanes=0,jv(s,o,c)}return rs(s,o,c)}var Wv,Ph,qv,Kv;Wv=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Ph=function(){},qv=function(s,o,c,p){var g=s.memoizedProps;if(g!==p){s=o.stateNode,Li(br.current);var x=null;switch(c){case"input":g=Ot(s,g),p=Ot(s,p),x=[];break;case"select":g=le({},g,{value:void 0}),p=le({},p,{value:void 0}),x=[];break;case"textarea":g=La(s,g),p=La(s,p),x=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=Jc)}Ua(c,p);var R;c=null;for(X in g)if(!p.hasOwnProperty(X)&&g.hasOwnProperty(X)&&g[X]!=null)if(X==="style"){var z=g[X];for(R in z)z.hasOwnProperty(R)&&(c||(c={}),c[R]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?x||(x=[]):(x=x||[]).push(X,null));for(X in p){var H=p[X];if(z=g!=null?g[X]:void 0,p.hasOwnProperty(X)&&H!==z&&(H!=null||z!=null))if(X==="style")if(z){for(R in z)!z.hasOwnProperty(R)||H&&H.hasOwnProperty(R)||(c||(c={}),c[R]="");for(R in H)H.hasOwnProperty(R)&&z[R]!==H[R]&&(c||(c={}),c[R]=H[R])}else c||(x||(x=[]),x.push(X,c)),c=H;else X==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,z=z?z.__html:void 0,H!=null&&z!==H&&(x=x||[]).push(X,H)):X==="children"?typeof H!="string"&&typeof H!="number"||(x=x||[]).push(X,""+H):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(i.hasOwnProperty(X)?(H!=null&&X==="onScroll"&&lt("scroll",s),x||z===H||(x=[])):(x=x||[]).push(X,H))}c&&(x=x||[]).push("style",c);var X=x;(o.updateQueue=X)&&(o.flags|=4)}},Kv=function(s,o,c,p){c!==p&&(o.flags|=4)};function El(s,o){if(!pt)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Xt(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(o)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=p,s.childLanes=c,o}function gI(s,o,c){var p=o.pendingProps;switch(Zf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(o),null;case 1:return fn(o.type)&&eu(),Xt(o),null;case 3:return p=o.stateNode,Wo(),ct(dn),ct(Gt),fh(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(iu(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ir!==null&&(Uh(ir),ir=null))),Ph(s,o),Xt(o),null;case 5:uh(o);var g=Li(yl.current);if(c=o.type,s!==null&&o.stateNode!=null)qv(s,o,c,p,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(t(166));return Xt(o),null}if(s=Li(br.current),iu(o)){p=o.stateNode,c=o.type;var x=o.memoizedProps;switch(p[Ir]=o,p[fl]=x,s=(o.mode&1)!==0,c){case"dialog":lt("cancel",p),lt("close",p);break;case"iframe":case"object":case"embed":lt("load",p);break;case"video":case"audio":for(g=0;g<cl.length;g++)lt(cl[g],p);break;case"source":lt("error",p);break;case"img":case"image":case"link":lt("error",p),lt("load",p);break;case"details":lt("toggle",p);break;case"input":kn(p,x),lt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!x.multiple},lt("invalid",p);break;case"textarea":ao(p,x),lt("invalid",p)}Ua(c,x),g=null;for(var R in x)if(x.hasOwnProperty(R)){var z=x[R];R==="children"?typeof z=="string"?p.textContent!==z&&(x.suppressHydrationWarning!==!0&&Xc(p.textContent,z,s),g=["children",z]):typeof z=="number"&&p.textContent!==""+z&&(x.suppressHydrationWarning!==!0&&Xc(p.textContent,z,s),g=["children",""+z]):i.hasOwnProperty(R)&&z!=null&&R==="onScroll"&&lt("scroll",p)}switch(c){case"input":Ne(p),oo(p,x,!0);break;case"textarea":Ne(p),ja(p);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(p.onclick=Jc)}p=g,o.updateQueue=p,p!==null&&(o.flags|=4)}else{R=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Rt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=R.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=R.createElement(c,{is:p.is}):(s=R.createElement(c),c==="select"&&(R=s,p.multiple?R.multiple=!0:p.size&&(R.size=p.size))):s=R.createElementNS(s,c),s[Ir]=o,s[fl]=p,Wv(s,o,!1,!1),o.stateNode=s;e:{switch(R=Ba(c,p),c){case"dialog":lt("cancel",s),lt("close",s),g=p;break;case"iframe":case"object":case"embed":lt("load",s),g=p;break;case"video":case"audio":for(g=0;g<cl.length;g++)lt(cl[g],s);g=p;break;case"source":lt("error",s),g=p;break;case"img":case"image":case"link":lt("error",s),lt("load",s),g=p;break;case"details":lt("toggle",s),g=p;break;case"input":kn(s,p),g=Ot(s,p),lt("invalid",s);break;case"option":g=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},g=le({},p,{value:void 0}),lt("invalid",s);break;case"textarea":ao(s,p),g=La(s,p),lt("invalid",s);break;default:g=p}Ua(c,g),z=g;for(x in z)if(z.hasOwnProperty(x)){var H=z[x];x==="style"?$a(s,H):x==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Va(s,H)):x==="children"?typeof H=="string"?(c!=="textarea"||H!=="")&&ms(s,H):typeof H=="number"&&ms(s,""+H):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(i.hasOwnProperty(x)?H!=null&&x==="onScroll"&&lt("scroll",s):H!=null&&V(s,x,H,R))}switch(c){case"input":Ne(s),oo(s,p,!1);break;case"textarea":Ne(s),ja(s);break;case"option":p.value!=null&&s.setAttribute("value",""+ve(p.value));break;case"select":s.multiple=!!p.multiple,x=p.value,x!=null?Br(s,!!p.multiple,x,!1):p.defaultValue!=null&&Br(s,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Jc)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Xt(o),null;case 6:if(s&&o.stateNode!=null)Kv(s,o,s.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(t(166));if(c=Li(yl.current),Li(br.current),iu(o)){if(p=o.stateNode,c=o.memoizedProps,p[Ir]=o,(x=p.nodeValue!==c)&&(s=In,s!==null))switch(s.tag){case 3:Xc(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Xc(p.nodeValue,c,(s.mode&1)!==0)}x&&(o.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Ir]=o,o.stateNode=p}return Xt(o),null;case 13:if(ct(gt),p=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(pt&&bn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Yy(),zo(),o.flags|=98560,x=!1;else if(x=iu(o),p!==null&&p.dehydrated!==null){if(s===null){if(!x)throw Error(t(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[Ir]=o}else zo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Xt(o),x=!1}else ir!==null&&(Uh(ir),ir=null),x=!0;if(!x)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(gt.current&1)!==0?Dt===0&&(Dt=3):Wh())),o.updateQueue!==null&&(o.flags|=4),Xt(o),null);case 4:return Wo(),Ph(s,o),s===null&&ul(o.stateNode.containerInfo),Xt(o),null;case 10:return ih(o.type._context),Xt(o),null;case 17:return fn(o.type)&&eu(),Xt(o),null;case 19:if(ct(gt),x=o.memoizedState,x===null)return Xt(o),null;if(p=(o.flags&128)!==0,R=x.rendering,R===null)if(p)El(x,!1);else{if(Dt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(R=du(s),R!==null){for(o.flags|=128,El(x,!1),p=R.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=c,c=o.child;c!==null;)x=c,s=p,x.flags&=14680066,R=x.alternate,R===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=R.childLanes,x.lanes=R.lanes,x.child=R.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=R.memoizedProps,x.memoizedState=R.memoizedState,x.updateQueue=R.updateQueue,x.type=R.type,s=R.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return ot(gt,gt.current&1|2),o.child}s=s.sibling}x.tail!==null&&it()>Go&&(o.flags|=128,p=!0,El(x,!1),o.lanes=4194304)}else{if(!p)if(s=du(R),s!==null){if(o.flags|=128,p=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),El(x,!0),x.tail===null&&x.tailMode==="hidden"&&!R.alternate&&!pt)return Xt(o),null}else 2*it()-x.renderingStartTime>Go&&c!==1073741824&&(o.flags|=128,p=!0,El(x,!1),o.lanes=4194304);x.isBackwards?(R.sibling=o.child,o.child=R):(c=x.last,c!==null?c.sibling=R:o.child=R,x.last=R)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=it(),o.sibling=null,c=gt.current,ot(gt,p?c&1|2:c&1),o):(Xt(o),null);case 22:case 23:return Hh(),p=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(An&1073741824)!==0&&(Xt(o),o.subtreeFlags&6&&(o.flags|=8192)):Xt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function yI(s,o){switch(Zf(o),o.tag){case 1:return fn(o.type)&&eu(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Wo(),ct(dn),ct(Gt),fh(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return uh(o),null;case 13:if(ct(gt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));zo()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return ct(gt),null;case 4:return Wo(),null;case 10:return ih(o.type._context),null;case 22:case 23:return Hh(),null;case 24:return null;default:return null}}var _u=!1,Jt=!1,vI=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Ko(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){_t(s,o,p)}else c.current=null}function kh(s,o,c){try{c()}catch(p){_t(s,o,p)}}var Qv=!1;function wI(s,o){if(Hf=Cs,s=Iy(),Lf(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var g=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var R=0,z=-1,H=-1,X=0,ae=0,ce=s,oe=null;t:for(;;){for(var ye;ce!==c||g!==0&&ce.nodeType!==3||(z=R+g),ce!==x||p!==0&&ce.nodeType!==3||(H=R+p),ce.nodeType===3&&(R+=ce.nodeValue.length),(ye=ce.firstChild)!==null;)oe=ce,ce=ye;for(;;){if(ce===s)break t;if(oe===c&&++X===g&&(z=R),oe===x&&++ae===p&&(H=R),(ye=ce.nextSibling)!==null)break;ce=oe,oe=ce.parentNode}ce=ye}c=z===-1||H===-1?null:{start:z,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for(Wf={focusedElem:s,selectionRange:c},Cs=!1,xe=o;xe!==null;)if(o=xe,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,xe=s;else for(;xe!==null;){o=xe;try{var Ee=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Ce=Ee.memoizedProps,Ct=Ee.memoizedState,K=o.stateNode,W=K.getSnapshotBeforeUpdate(o.elementType===o.type?Ce:or(o.type,Ce),Ct);K.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(he){_t(o,o.return,he)}if(s=o.sibling,s!==null){s.return=o.return,xe=s;break}xe=o.return}return Ee=Qv,Qv=!1,Ee}function Cl(s,o,c){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&s)===s){var x=g.destroy;g.destroy=void 0,x!==void 0&&kh(o,c,x)}g=g.next}while(g!==p)}}function xu(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==o)}}function Dh(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function Gv(s){var o=s.alternate;o!==null&&(s.alternate=null,Gv(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Ir],delete o[fl],delete o[Gf],delete o[tI],delete o[nI])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Yv(s){return s.tag===5||s.tag===3||s.tag===4}function Xv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Yv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Mh(s,o,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Jc));else if(p!==4&&(s=s.child,s!==null))for(Mh(s,o,c),s=s.sibling;s!==null;)Mh(s,o,c),s=s.sibling}function Oh(s,o,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Oh(s,o,c),s=s.sibling;s!==null;)Oh(s,o,c),s=s.sibling}var Bt=null,ar=!1;function ks(s,o,c){for(c=c.child;c!==null;)Jv(s,o,c),c=c.sibling}function Jv(s,o,c){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Si,c)}catch{}switch(c.tag){case 5:Jt||Ko(c,o);case 6:var p=Bt,g=ar;Bt=null,ks(s,o,c),Bt=p,ar=g,Bt!==null&&(ar?(s=Bt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Bt.removeChild(c.stateNode));break;case 18:Bt!==null&&(ar?(s=Bt,c=c.stateNode,s.nodeType===8?Qf(s.parentNode,c):s.nodeType===1&&Qf(s,c),nr(s)):Qf(Bt,c.stateNode));break;case 4:p=Bt,g=ar,Bt=c.stateNode.containerInfo,ar=!0,ks(s,o,c),Bt=p,ar=g;break;case 0:case 11:case 14:case 15:if(!Jt&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var x=g,R=x.destroy;x=x.tag,R!==void 0&&((x&2)!==0||(x&4)!==0)&&kh(c,o,R),g=g.next}while(g!==p)}ks(s,o,c);break;case 1:if(!Jt&&(Ko(c,o),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(z){_t(c,o,z)}ks(s,o,c);break;case 21:ks(s,o,c);break;case 22:c.mode&1?(Jt=(p=Jt)||c.memoizedState!==null,ks(s,o,c),Jt=p):ks(s,o,c);break;default:ks(s,o,c)}}function Zv(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new vI),o.forEach(function(p){var g=AI.bind(null,s,p);c.has(p)||(c.add(p),p.then(g,g))})}}function lr(s,o){var c=o.deletions;if(c!==null)for(var p=0;p<c.length;p++){var g=c[p];try{var x=s,R=o,z=R;e:for(;z!==null;){switch(z.tag){case 5:Bt=z.stateNode,ar=!1;break e;case 3:Bt=z.stateNode.containerInfo,ar=!0;break e;case 4:Bt=z.stateNode.containerInfo,ar=!0;break e}z=z.return}if(Bt===null)throw Error(t(160));Jv(x,R,g),Bt=null,ar=!1;var H=g.alternate;H!==null&&(H.return=null),g.return=null}catch(X){_t(g,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)e0(o,s),o=o.sibling}function e0(s,o){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(lr(o,s),Rr(s),p&4){try{Cl(3,s,s.return),xu(3,s)}catch(Ce){_t(s,s.return,Ce)}try{Cl(5,s,s.return)}catch(Ce){_t(s,s.return,Ce)}}break;case 1:lr(o,s),Rr(s),p&512&&c!==null&&Ko(c,c.return);break;case 5:if(lr(o,s),Rr(s),p&512&&c!==null&&Ko(c,c.return),s.flags&32){var g=s.stateNode;try{ms(g,"")}catch(Ce){_t(s,s.return,Ce)}}if(p&4&&(g=s.stateNode,g!=null)){var x=s.memoizedProps,R=c!==null?c.memoizedProps:x,z=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{z==="input"&&x.type==="radio"&&x.name!=null&&qn(g,x),Ba(z,R);var X=Ba(z,x);for(R=0;R<H.length;R+=2){var ae=H[R],ce=H[R+1];ae==="style"?$a(g,ce):ae==="dangerouslySetInnerHTML"?Va(g,ce):ae==="children"?ms(g,ce):V(g,ae,ce,X)}switch(z){case"input":Kn(g,x);break;case"textarea":lo(g,x);break;case"select":var oe=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!x.multiple;var ye=x.value;ye!=null?Br(g,!!x.multiple,ye,!1):oe!==!!x.multiple&&(x.defaultValue!=null?Br(g,!!x.multiple,x.defaultValue,!0):Br(g,!!x.multiple,x.multiple?[]:"",!1))}g[fl]=x}catch(Ce){_t(s,s.return,Ce)}}break;case 6:if(lr(o,s),Rr(s),p&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,x=s.memoizedProps;try{g.nodeValue=x}catch(Ce){_t(s,s.return,Ce)}}break;case 3:if(lr(o,s),Rr(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{nr(o.containerInfo)}catch(Ce){_t(s,s.return,Ce)}break;case 4:lr(o,s),Rr(s);break;case 13:lr(o,s),Rr(s),g=s.child,g.flags&8192&&(x=g.memoizedState!==null,g.stateNode.isHidden=x,!x||g.alternate!==null&&g.alternate.memoizedState!==null||(Vh=it())),p&4&&Zv(s);break;case 22:if(ae=c!==null&&c.memoizedState!==null,s.mode&1?(Jt=(X=Jt)||ae,lr(o,s),Jt=X):lr(o,s),Rr(s),p&8192){if(X=s.memoizedState!==null,(s.stateNode.isHidden=X)&&!ae&&(s.mode&1)!==0)for(xe=s,ae=s.child;ae!==null;){for(ce=xe=ae;xe!==null;){switch(oe=xe,ye=oe.child,oe.tag){case 0:case 11:case 14:case 15:Cl(4,oe,oe.return);break;case 1:Ko(oe,oe.return);var Ee=oe.stateNode;if(typeof Ee.componentWillUnmount=="function"){p=oe,c=oe.return;try{o=p,Ee.props=o.memoizedProps,Ee.state=o.memoizedState,Ee.componentWillUnmount()}catch(Ce){_t(p,c,Ce)}}break;case 5:Ko(oe,oe.return);break;case 22:if(oe.memoizedState!==null){r0(ce);continue}}ye!==null?(ye.return=oe,xe=ye):r0(ce)}ae=ae.sibling}e:for(ae=null,ce=s;;){if(ce.tag===5){if(ae===null){ae=ce;try{g=ce.stateNode,X?(x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(z=ce.stateNode,H=ce.memoizedProps.style,R=H!=null&&H.hasOwnProperty("display")?H.display:null,z.style.display=Fa("display",R))}catch(Ce){_t(s,s.return,Ce)}}}else if(ce.tag===6){if(ae===null)try{ce.stateNode.nodeValue=X?"":ce.memoizedProps}catch(Ce){_t(s,s.return,Ce)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===s)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===s)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===s)break e;ae===ce&&(ae=null),ce=ce.return}ae===ce&&(ae=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:lr(o,s),Rr(s),p&4&&Zv(s);break;case 21:break;default:lr(o,s),Rr(s)}}function Rr(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(Yv(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(ms(g,""),p.flags&=-33);var x=Xv(s);Oh(s,x,g);break;case 3:case 4:var R=p.stateNode.containerInfo,z=Xv(s);Mh(s,z,R);break;default:throw Error(t(161))}}catch(H){_t(s,s.return,H)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function _I(s,o,c){xe=s,t0(s)}function t0(s,o,c){for(var p=(s.mode&1)!==0;xe!==null;){var g=xe,x=g.child;if(g.tag===22&&p){var R=g.memoizedState!==null||_u;if(!R){var z=g.alternate,H=z!==null&&z.memoizedState!==null||Jt;z=_u;var X=Jt;if(_u=R,(Jt=H)&&!X)for(xe=g;xe!==null;)R=xe,H=R.child,R.tag===22&&R.memoizedState!==null?s0(g):H!==null?(H.return=R,xe=H):s0(g);for(;x!==null;)xe=x,t0(x),x=x.sibling;xe=g,_u=z,Jt=X}n0(s)}else(g.subtreeFlags&8772)!==0&&x!==null?(x.return=g,xe=x):n0(s)}}function n0(s){for(;xe!==null;){var o=xe;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Jt||xu(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!Jt)if(c===null)p.componentDidMount();else{var g=o.elementType===o.type?c.memoizedProps:or(o.type,c.memoizedProps);p.componentDidUpdate(g,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var x=o.updateQueue;x!==null&&rv(o,x,p);break;case 3:var R=o.updateQueue;if(R!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}rv(o,R,c)}break;case 5:var z=o.stateNode;if(c===null&&o.flags&4){c=z;var H=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&c.focus();break;case"img":H.src&&(c.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var ae=X.memoizedState;if(ae!==null){var ce=ae.dehydrated;ce!==null&&nr(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Jt||o.flags&512&&Dh(o)}catch(oe){_t(o,o.return,oe)}}if(o===s){xe=null;break}if(c=o.sibling,c!==null){c.return=o.return,xe=c;break}xe=o.return}}function r0(s){for(;xe!==null;){var o=xe;if(o===s){xe=null;break}var c=o.sibling;if(c!==null){c.return=o.return,xe=c;break}xe=o.return}}function s0(s){for(;xe!==null;){var o=xe;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{xu(4,o)}catch(H){_t(o,c,H)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var g=o.return;try{p.componentDidMount()}catch(H){_t(o,g,H)}}var x=o.return;try{Dh(o)}catch(H){_t(o,x,H)}break;case 5:var R=o.return;try{Dh(o)}catch(H){_t(o,R,H)}}}catch(H){_t(o,o.return,H)}if(o===s){xe=null;break}var z=o.sibling;if(z!==null){z.return=o.return,xe=z;break}xe=o.return}}var xI=Math.ceil,Eu=U.ReactCurrentDispatcher,Lh=U.ReactCurrentOwner,zn=U.ReactCurrentBatchConfig,Xe=0,Vt=null,It=null,Ht=0,An=0,Qo=bs(0),Dt=0,Sl=null,Vi=0,Cu=0,jh=0,Tl=null,pn=null,Vh=0,Go=1/0,ss=null,Su=!1,Fh=null,Ds=null,Tu=!1,Ms=null,Iu=0,Il=0,$h=null,bu=-1,Au=0;function ln(){return(Xe&6)!==0?it():bu!==-1?bu:bu=it()}function Os(s){return(s.mode&1)===0?1:(Xe&2)!==0&&Ht!==0?Ht&-Ht:sI.transition!==null?(Au===0&&(Au=Ii()),Au):(s=Ke,s!==0||(s=window.event,s=s===void 0?16:el(s.type)),s)}function cr(s,o,c,p){if(50<Il)throw Il=0,$h=null,Error(t(185));ws(s,c,p),((Xe&2)===0||s!==Vt)&&(s===Vt&&((Xe&2)===0&&(Cu|=c),Dt===4&&Ls(s,Ht)),mn(s,p),c===1&&Xe===0&&(o.mode&1)===0&&(Go=it()+500,nu&&Rs()))}function mn(s,o){var c=s.callbackNode;qr(s,o);var p=Ti(s,s===Vt?Ht:0);if(p===0)c!==null&&Ga(c),s.callbackNode=null,s.callbackPriority=0;else if(o=p&-p,s.callbackPriority!==o){if(c!=null&&Ga(c),o===1)s.tag===0?rI(o0.bind(null,s)):Wy(o0.bind(null,s)),ZT(function(){(Xe&6)===0&&Rs()}),c=null;else{switch(xs(p)){case 1:c=Ci;break;case 4:c=gs;break;case 16:c=Mn;break;case 536870912:c=Ac;break;default:c=Mn}c=p0(c,i0.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function i0(s,o){if(bu=-1,Au=0,(Xe&6)!==0)throw Error(t(327));var c=s.callbackNode;if(Yo()&&s.callbackNode!==c)return null;var p=Ti(s,s===Vt?Ht:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||o)o=Ru(s,p);else{o=p;var g=Xe;Xe|=2;var x=l0();(Vt!==s||Ht!==o)&&(ss=null,Go=it()+500,$i(s,o));do try{SI();break}catch(z){a0(s,z)}while(!0);sh(),Eu.current=x,Xe=g,It!==null?o=0:(Vt=null,Ht=0,o=Dt)}if(o!==0){if(o===2&&(g=Cn(s),g!==0&&(p=g,o=zh(s,g))),o===1)throw c=Sl,$i(s,0),Ls(s,p),mn(s,it()),c;if(o===6)Ls(s,p);else{if(g=s.current.alternate,(p&30)===0&&!EI(g)&&(o=Ru(s,p),o===2&&(x=Cn(s),x!==0&&(p=x,o=zh(s,x))),o===1))throw c=Sl,$i(s,0),Ls(s,p),mn(s,it()),c;switch(s.finishedWork=g,s.finishedLanes=p,o){case 0:case 1:throw Error(t(345));case 2:zi(s,pn,ss);break;case 3:if(Ls(s,p),(p&130023424)===p&&(o=Vh+500-it(),10<o)){if(Ti(s,0)!==0)break;if(g=s.suspendedLanes,(g&p)!==p){ln(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Kf(zi.bind(null,s,pn,ss),o);break}zi(s,pn,ss);break;case 4:if(Ls(s,p),(p&4194240)===p)break;for(o=s.eventTimes,g=-1;0<p;){var R=31-sn(p);x=1<<R,R=o[R],R>g&&(g=R),p&=~x}if(p=g,p=it()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*xI(p/1960))-p,10<p){s.timeoutHandle=Kf(zi.bind(null,s,pn,ss),p);break}zi(s,pn,ss);break;case 5:zi(s,pn,ss);break;default:throw Error(t(329))}}}return mn(s,it()),s.callbackNode===c?i0.bind(null,s):null}function zh(s,o){var c=Tl;return s.current.memoizedState.isDehydrated&&($i(s,o).flags|=256),s=Ru(s,o),s!==2&&(o=pn,pn=c,o!==null&&Uh(o)),s}function Uh(s){pn===null?pn=s:pn.push.apply(pn,s)}function EI(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var g=c[p],x=g.getSnapshot;g=g.value;try{if(!sr(x(),g))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ls(s,o){for(o&=~jh,o&=~Cu,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-sn(o),p=1<<c;s[c]=-1,o&=~p}}function o0(s){if((Xe&6)!==0)throw Error(t(327));Yo();var o=Ti(s,0);if((o&1)===0)return mn(s,it()),null;var c=Ru(s,o);if(s.tag!==0&&c===2){var p=Cn(s);p!==0&&(o=p,c=zh(s,p))}if(c===1)throw c=Sl,$i(s,0),Ls(s,o),mn(s,it()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,zi(s,pn,ss),mn(s,it()),null}function Bh(s,o){var c=Xe;Xe|=1;try{return s(o)}finally{Xe=c,Xe===0&&(Go=it()+500,nu&&Rs())}}function Fi(s){Ms!==null&&Ms.tag===0&&(Xe&6)===0&&Yo();var o=Xe;Xe|=1;var c=zn.transition,p=Ke;try{if(zn.transition=null,Ke=1,s)return s()}finally{Ke=p,zn.transition=c,Xe=o,(Xe&6)===0&&Rs()}}function Hh(){An=Qo.current,ct(Qo)}function $i(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,JT(c)),It!==null)for(c=It.return;c!==null;){var p=c;switch(Zf(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&eu();break;case 3:Wo(),ct(dn),ct(Gt),fh();break;case 5:uh(p);break;case 4:Wo();break;case 13:ct(gt);break;case 19:ct(gt);break;case 10:ih(p.type._context);break;case 22:case 23:Hh()}c=c.return}if(Vt=s,It=s=js(s.current,null),Ht=An=o,Dt=0,Sl=null,jh=Cu=Vi=0,pn=Tl=null,Oi!==null){for(o=0;o<Oi.length;o++)if(c=Oi[o],p=c.interleaved,p!==null){c.interleaved=null;var g=p.next,x=c.pending;if(x!==null){var R=x.next;x.next=g,p.next=R}c.pending=p}Oi=null}return s}function a0(s,o){do{var c=It;try{if(sh(),fu.current=gu,hu){for(var p=yt.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}hu=!1}if(ji=0,jt=kt=yt=null,vl=!1,wl=0,Lh.current=null,c===null||c.return===null){Dt=1,Sl=o,It=null;break}e:{var x=s,R=c.return,z=c,H=o;if(o=Ht,z.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var X=H,ae=z,ce=ae.tag;if((ae.mode&1)===0&&(ce===0||ce===11||ce===15)){var oe=ae.alternate;oe?(ae.updateQueue=oe.updateQueue,ae.memoizedState=oe.memoizedState,ae.lanes=oe.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var ye=kv(R);if(ye!==null){ye.flags&=-257,Dv(ye,R,z,x,o),ye.mode&1&&Pv(x,X,o),o=ye,H=X;var Ee=o.updateQueue;if(Ee===null){var Ce=new Set;Ce.add(H),o.updateQueue=Ce}else Ee.add(H);break e}else{if((o&1)===0){Pv(x,X,o),Wh();break e}H=Error(t(426))}}else if(pt&&z.mode&1){var Ct=kv(R);if(Ct!==null){(Ct.flags&65536)===0&&(Ct.flags|=256),Dv(Ct,R,z,x,o),nh(qo(H,z));break e}}x=H=qo(H,z),Dt!==4&&(Dt=2),Tl===null?Tl=[x]:Tl.push(x),x=R;do{switch(x.tag){case 3:x.flags|=65536,o&=-o,x.lanes|=o;var K=Rv(x,H,o);nv(x,K);break e;case 1:z=H;var W=x.type,Q=x.stateNode;if((x.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Ds===null||!Ds.has(Q)))){x.flags|=65536,o&=-o,x.lanes|=o;var he=Nv(x,z,o);nv(x,he);break e}}x=x.return}while(x!==null)}u0(c)}catch(Te){o=Te,It===c&&c!==null&&(It=c=c.return);continue}break}while(!0)}function l0(){var s=Eu.current;return Eu.current=gu,s===null?gu:s}function Wh(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Vt===null||(Vi&268435455)===0&&(Cu&268435455)===0||Ls(Vt,Ht)}function Ru(s,o){var c=Xe;Xe|=2;var p=l0();(Vt!==s||Ht!==o)&&(ss=null,$i(s,o));do try{CI();break}catch(g){a0(s,g)}while(!0);if(sh(),Xe=c,Eu.current=p,It!==null)throw Error(t(261));return Vt=null,Ht=0,Dt}function CI(){for(;It!==null;)c0(It)}function SI(){for(;It!==null&&!Ic();)c0(It)}function c0(s){var o=h0(s.alternate,s,An);s.memoizedProps=s.pendingProps,o===null?u0(s):It=o,Lh.current=null}function u0(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=gI(c,o,An),c!==null){It=c;return}}else{if(c=yI(c,o),c!==null){c.flags&=32767,It=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Dt=6,It=null;return}}if(o=o.sibling,o!==null){It=o;return}It=o=s}while(o!==null);Dt===0&&(Dt=5)}function zi(s,o,c){var p=Ke,g=zn.transition;try{zn.transition=null,Ke=1,TI(s,o,c,p)}finally{zn.transition=g,Ke=p}return null}function TI(s,o,c,p){do Yo();while(Ms!==null);if((Xe&6)!==0)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var x=c.lanes|c.childLanes;if(nt(s,x),s===Vt&&(It=Vt=null,Ht=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Tu||(Tu=!0,p0(Mn,function(){return Yo(),null})),x=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||x){x=zn.transition,zn.transition=null;var R=Ke;Ke=1;var z=Xe;Xe|=4,Lh.current=null,wI(s,c),e0(c,s),WT(Wf),Cs=!!Hf,Wf=Hf=null,s.current=c,_I(c),Af(),Xe=z,Ke=R,zn.transition=x}else s.current=c;if(Tu&&(Tu=!1,Ms=s,Iu=g),x=s.pendingLanes,x===0&&(Ds=null),Rc(c.stateNode),mn(s,it()),o!==null)for(p=s.onRecoverableError,c=0;c<o.length;c++)g=o[c],p(g.value,{componentStack:g.stack,digest:g.digest});if(Su)throw Su=!1,s=Fh,Fh=null,s;return(Iu&1)!==0&&s.tag!==0&&Yo(),x=s.pendingLanes,(x&1)!==0?s===$h?Il++:(Il=0,$h=s):Il=0,Rs(),null}function Yo(){if(Ms!==null){var s=xs(Iu),o=zn.transition,c=Ke;try{if(zn.transition=null,Ke=16>s?16:s,Ms===null)var p=!1;else{if(s=Ms,Ms=null,Iu=0,(Xe&6)!==0)throw Error(t(331));var g=Xe;for(Xe|=4,xe=s.current;xe!==null;){var x=xe,R=x.child;if((xe.flags&16)!==0){var z=x.deletions;if(z!==null){for(var H=0;H<z.length;H++){var X=z[H];for(xe=X;xe!==null;){var ae=xe;switch(ae.tag){case 0:case 11:case 15:Cl(8,ae,x)}var ce=ae.child;if(ce!==null)ce.return=ae,xe=ce;else for(;xe!==null;){ae=xe;var oe=ae.sibling,ye=ae.return;if(Gv(ae),ae===X){xe=null;break}if(oe!==null){oe.return=ye,xe=oe;break}xe=ye}}}var Ee=x.alternate;if(Ee!==null){var Ce=Ee.child;if(Ce!==null){Ee.child=null;do{var Ct=Ce.sibling;Ce.sibling=null,Ce=Ct}while(Ce!==null)}}xe=x}}if((x.subtreeFlags&2064)!==0&&R!==null)R.return=x,xe=R;else e:for(;xe!==null;){if(x=xe,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Cl(9,x,x.return)}var K=x.sibling;if(K!==null){K.return=x.return,xe=K;break e}xe=x.return}}var W=s.current;for(xe=W;xe!==null;){R=xe;var Q=R.child;if((R.subtreeFlags&2064)!==0&&Q!==null)Q.return=R,xe=Q;else e:for(R=W;xe!==null;){if(z=xe,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:xu(9,z)}}catch(Te){_t(z,z.return,Te)}if(z===R){xe=null;break e}var he=z.sibling;if(he!==null){he.return=z.return,xe=he;break e}xe=z.return}}if(Xe=g,Rs(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Si,s)}catch{}p=!0}return p}finally{Ke=c,zn.transition=o}}return!1}function d0(s,o,c){o=qo(c,o),o=Rv(s,o,1),s=Ps(s,o,1),o=ln(),s!==null&&(ws(s,1,o),mn(s,o))}function _t(s,o,c){if(s.tag===3)d0(s,s,c);else for(;o!==null;){if(o.tag===3){d0(o,s,c);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ds===null||!Ds.has(p))){s=qo(c,s),s=Nv(o,s,1),o=Ps(o,s,1),s=ln(),o!==null&&(ws(o,1,s),mn(o,s));break}}o=o.return}}function II(s,o,c){var p=s.pingCache;p!==null&&p.delete(o),o=ln(),s.pingedLanes|=s.suspendedLanes&c,Vt===s&&(Ht&c)===c&&(Dt===4||Dt===3&&(Ht&130023424)===Ht&&500>it()-Vh?$i(s,0):jh|=c),mn(s,o)}function f0(s,o){o===0&&((s.mode&1)===0?o=1:(o=wo,wo<<=1,(wo&130023424)===0&&(wo=4194304)));var c=ln();s=ts(s,o),s!==null&&(ws(s,o,c),mn(s,c))}function bI(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),f0(s,c)}function AI(s,o){var c=0;switch(s.tag){case 13:var p=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(o),f0(s,c)}var h0;h0=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||dn.current)hn=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return hn=!1,mI(s,o,c);hn=(s.flags&131072)!==0}else hn=!1,pt&&(o.flags&1048576)!==0&&qy(o,su,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;wu(s,o),s=o.pendingProps;var g=Vo(o,Gt.current);Ho(o,c),g=mh(null,o,p,s,g,c);var x=gh();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,fn(p)?(x=!0,tu(o)):x=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,lh(o),g.updater=yu,o.stateNode=g,g._reactInternals=o,Eh(o,p,s,c),o=Ih(null,o,p,!0,x,c)):(o.tag=0,pt&&x&&Jf(o),an(null,o,g,c),o=o.child),o;case 16:p=o.elementType;e:{switch(wu(s,o),s=o.pendingProps,g=p._init,p=g(p._payload),o.type=p,g=o.tag=NI(p),s=or(p,s),g){case 0:o=Th(null,o,p,s,c);break e;case 1:o=Fv(null,o,p,s,c);break e;case 11:o=Mv(null,o,p,s,c);break e;case 14:o=Ov(null,o,p,or(p.type,s),c);break e}throw Error(t(306,p,""))}return o;case 0:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:or(p,g),Th(s,o,p,g,c);case 1:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:or(p,g),Fv(s,o,p,g,c);case 3:e:{if($v(o),s===null)throw Error(t(387));p=o.pendingProps,x=o.memoizedState,g=x.element,tv(s,o),uu(o,p,null,c);var R=o.memoizedState;if(p=R.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){g=qo(Error(t(423)),o),o=zv(s,o,p,c,g);break e}else if(p!==g){g=qo(Error(t(424)),o),o=zv(s,o,p,c,g);break e}else for(bn=Is(o.stateNode.containerInfo.firstChild),In=o,pt=!0,ir=null,c=Zy(o,null,p,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(zo(),p===g){o=rs(s,o,c);break e}an(s,o,p,c)}o=o.child}return o;case 5:return sv(o),s===null&&th(o),p=o.type,g=o.pendingProps,x=s!==null?s.memoizedProps:null,R=g.children,qf(p,g)?R=null:x!==null&&qf(p,x)&&(o.flags|=32),Vv(s,o),an(s,o,R,c),o.child;case 6:return s===null&&th(o),null;case 13:return Uv(s,o,c);case 4:return ch(o,o.stateNode.containerInfo),p=o.pendingProps,s===null?o.child=Uo(o,null,p,c):an(s,o,p,c),o.child;case 11:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:or(p,g),Mv(s,o,p,g,c);case 7:return an(s,o,o.pendingProps,c),o.child;case 8:return an(s,o,o.pendingProps.children,c),o.child;case 12:return an(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(p=o.type._context,g=o.pendingProps,x=o.memoizedProps,R=g.value,ot(au,p._currentValue),p._currentValue=R,x!==null)if(sr(x.value,R)){if(x.children===g.children&&!dn.current){o=rs(s,o,c);break e}}else for(x=o.child,x!==null&&(x.return=o);x!==null;){var z=x.dependencies;if(z!==null){R=x.child;for(var H=z.firstContext;H!==null;){if(H.context===p){if(x.tag===1){H=ns(-1,c&-c),H.tag=2;var X=x.updateQueue;if(X!==null){X=X.shared;var ae=X.pending;ae===null?H.next=H:(H.next=ae.next,ae.next=H),X.pending=H}}x.lanes|=c,H=x.alternate,H!==null&&(H.lanes|=c),oh(x.return,c,o),z.lanes|=c;break}H=H.next}}else if(x.tag===10)R=x.type===o.type?null:x.child;else if(x.tag===18){if(R=x.return,R===null)throw Error(t(341));R.lanes|=c,z=R.alternate,z!==null&&(z.lanes|=c),oh(R,c,o),R=x.sibling}else R=x.child;if(R!==null)R.return=x;else for(R=x;R!==null;){if(R===o){R=null;break}if(x=R.sibling,x!==null){x.return=R.return,R=x;break}R=R.return}x=R}an(s,o,g.children,c),o=o.child}return o;case 9:return g=o.type,p=o.pendingProps.children,Ho(o,c),g=Fn(g),p=p(g),o.flags|=1,an(s,o,p,c),o.child;case 14:return p=o.type,g=or(p,o.pendingProps),g=or(p.type,g),Ov(s,o,p,g,c);case 15:return Lv(s,o,o.type,o.pendingProps,c);case 17:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:or(p,g),wu(s,o),o.tag=1,fn(p)?(s=!0,tu(o)):s=!1,Ho(o,c),bv(o,p,g),Eh(o,p,g,c),Ih(null,o,p,!0,s,c);case 19:return Hv(s,o,c);case 22:return jv(s,o,c)}throw Error(t(156,o.tag))};function p0(s,o){return yo(s,o)}function RI(s,o,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(s,o,c,p){return new RI(s,o,c,p)}function qh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function NI(s){if(typeof s=="function")return qh(s)?1:0;if(s!=null){if(s=s.$$typeof,s===P)return 11;if(s===te)return 14}return 2}function js(s,o){var c=s.alternate;return c===null?(c=Un(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Nu(s,o,c,p,g,x){var R=2;if(p=s,typeof s=="function")qh(s)&&(R=1);else if(typeof s=="string")R=5;else e:switch(s){case M:return Ui(c.children,g,x,o);case N:R=8,g|=8;break;case k:return s=Un(12,c,o,g|2),s.elementType=k,s.lanes=x,s;case L:return s=Un(13,c,o,g),s.elementType=L,s.lanes=x,s;case ee:return s=Un(19,c,o,g),s.elementType=ee,s.lanes=x,s;case ue:return Pu(c,g,x,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:R=10;break e;case F:R=9;break e;case P:R=11;break e;case te:R=14;break e;case re:R=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Un(R,c,o,g),o.elementType=s,o.type=p,o.lanes=x,o}function Ui(s,o,c,p){return s=Un(7,s,p,o),s.lanes=c,s}function Pu(s,o,c,p){return s=Un(22,s,p,o),s.elementType=ue,s.lanes=c,s.stateNode={isHidden:!1},s}function Kh(s,o,c){return s=Un(6,s,null,o),s.lanes=c,s}function Qh(s,o,c){return o=Un(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function PI(s,o,c,p,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vs(0),this.expirationTimes=vs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vs(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Gh(s,o,c,p,g,x,R,z,H){return s=new PI(s,o,c,z,H),o===1?(o=1,x===!0&&(o|=8)):o=0,x=Un(3,null,null,o),s.current=x,x.stateNode=s,x.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},lh(x),s}function kI(s,o,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:p==null?null:""+p,children:s,containerInfo:o,implementation:c}}function m0(s){if(!s)return As;s=s._reactInternals;e:{if(Xn(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(fn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(fn(c))return By(s,c,o)}return o}function g0(s,o,c,p,g,x,R,z,H){return s=Gh(c,p,!0,s,g,x,R,z,H),s.context=m0(null),c=s.current,p=ln(),g=Os(c),x=ns(p,g),x.callback=o??null,Ps(c,x,g),s.current.lanes=g,ws(s,g,p),mn(s,p),s}function ku(s,o,c,p){var g=o.current,x=ln(),R=Os(g);return c=m0(c),o.context===null?o.context=c:o.pendingContext=c,o=ns(x,R),o.payload={element:s},p=p===void 0?null:p,p!==null&&(o.callback=p),s=Ps(g,o,R),s!==null&&(cr(s,g,R,x),cu(s,g,R)),R}function Du(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function y0(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function Yh(s,o){y0(s,o),(s=s.alternate)&&y0(s,o)}function DI(){return null}var v0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Xh(s){this._internalRoot=s}Mu.prototype.render=Xh.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));ku(s,o,null,null)},Mu.prototype.unmount=Xh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Fi(function(){ku(null,s,null,null)}),o[Xr]=null}};function Mu(s){this._internalRoot=s}Mu.prototype.unstable_scheduleHydration=function(s){if(s){var o=Mc();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Er.length&&o!==0&&o<Er[c].priority;c++);Er.splice(c,0,s),c===0&&jc(s)}};function Jh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Ou(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function w0(){}function MI(s,o,c,p,g){if(g){if(typeof p=="function"){var x=p;p=function(){var X=Du(R);x.call(X)}}var R=g0(o,p,s,0,null,!1,!1,"",w0);return s._reactRootContainer=R,s[Xr]=R.current,ul(s.nodeType===8?s.parentNode:s),Fi(),R}for(;g=s.lastChild;)s.removeChild(g);if(typeof p=="function"){var z=p;p=function(){var X=Du(H);z.call(X)}}var H=Gh(s,0,!1,null,null,!1,!1,"",w0);return s._reactRootContainer=H,s[Xr]=H.current,ul(s.nodeType===8?s.parentNode:s),Fi(function(){ku(o,H,c,p)}),H}function Lu(s,o,c,p,g){var x=c._reactRootContainer;if(x){var R=x;if(typeof g=="function"){var z=g;g=function(){var H=Du(R);z.call(H)}}ku(o,R,s,g)}else R=MI(c,o,s,g,p);return Du(R)}kc=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=ys(o.pendingLanes);c!==0&&(_s(o,c|1),mn(o,it()),(Xe&6)===0&&(Go=it()+500,Rs()))}break;case 13:Fi(function(){var p=ts(s,1);if(p!==null){var g=ln();cr(p,s,1,g)}}),Yh(s,1)}},_o=function(s){if(s.tag===13){var o=ts(s,134217728);if(o!==null){var c=ln();cr(o,s,134217728,c)}Yh(s,134217728)}},Dc=function(s){if(s.tag===13){var o=Os(s),c=ts(s,o);if(c!==null){var p=ln();cr(c,s,o,p)}Yh(s,o)}},Mc=function(){return Ke},Oc=function(s,o){var c=Ke;try{return Ke=s,o()}finally{Ke=c}},uo=function(s,o,c){switch(o){case"input":if(Kn(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var p=c[o];if(p!==s&&p.form===s.form){var g=Zc(p);if(!g)throw Error(t(90));qe(p),Kn(p,g)}}}break;case"textarea":lo(s,c);break;case"select":o=c.value,o!=null&&Br(s,!!c.multiple,o,!1)}},wi=Bh,Wa=Fi;var OI={usingClientEntryPoint:!1,Events:[hl,Lo,Zc,_r,Ha,Bh]},bl={findFiberByHostInstance:Pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LI={bundleType:bl.bundleType,version:bl.version,rendererPackageName:bl.rendererPackageName,rendererConfig:bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Qa(s),s===null?null:s.stateNode},findFiberByHostInstance:bl.findFiberByHostInstance||DI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{Si=ju.inject(LI),En=ju}catch{}}return gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OI,gn.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jh(o))throw Error(t(200));return kI(s,o,null,c)},gn.createRoot=function(s,o){if(!Jh(s))throw Error(t(299));var c=!1,p="",g=v0;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=Gh(s,1,!1,null,null,c,!1,p,g),s[Xr]=o.current,ul(s.nodeType===8?s.parentNode:s),new Xh(o)},gn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Qa(o),s=s===null?null:s.stateNode,s},gn.flushSync=function(s){return Fi(s)},gn.hydrate=function(s,o,c){if(!Ou(o))throw Error(t(200));return Lu(null,s,o,!0,c)},gn.hydrateRoot=function(s,o,c){if(!Jh(s))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,g=!1,x="",R=v0;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onRecoverableError!==void 0&&(R=c.onRecoverableError)),o=g0(o,null,s,1,c??null,g,!1,x,R),s[Xr]=o.current,ul(s),p)for(s=0;s<p.length;s++)c=p[s],g=c._getVersion,g=g(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,g]:o.mutableSourceEagerHydrationData.push(c,g);return new Mu(o)},gn.render=function(s,o,c){if(!Ou(o))throw Error(t(200));return Lu(null,s,o,!1,c)},gn.unmountComponentAtNode=function(s){if(!Ou(s))throw Error(t(40));return s._reactRootContainer?(Fi(function(){Lu(null,null,s,!1,function(){s._reactRootContainer=null,s[Xr]=null})}),!0):!1},gn.unstable_batchedUpdates=Bh,gn.unstable_renderSubtreeIntoContainer=function(s,o,c,p){if(!Ou(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Lu(s,o,c,!1,p)},gn.version="18.3.1-next-f1338f8080-20240426",gn}var b0;function G_(){if(b0)return tp.exports;b0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),tp.exports=HI(),tp.exports}var A0;function WI(){if(A0)return Vu;A0=1;var n=G_();return Vu.createRoot=n.createRoot,Vu.hydrateRoot=n.hydrateRoot,Vu}var qI=WI(),Rl={},R0;function KI(){if(R0)return Rl;R0=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.parse=l,Rl.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,T){const C=new a,S=w.length;if(S<2)return C;const b=(T==null?void 0:T.decode)||m;let A=0;do{const D=w.indexOf("=",A);if(D===-1)break;const V=w.indexOf(";",A),U=V===-1?S:V;if(D>U){A=w.lastIndexOf(";",D-1)+1;continue}const $=u(w,A,D),G=f(w,D,$),M=w.slice($,G);if(C[M]===void 0){let N=u(w,D+1,U),k=f(w,U,N);const j=b(w.slice(N,k));C[M]=j}A=U+1}while(A<S);return C}function u(w,T,C){do{const S=w.charCodeAt(T);if(S!==32&&S!==9)return T}while(++T<C);return C}function f(w,T,C){for(;T>C;){const S=w.charCodeAt(--T);if(S!==32&&S!==9)return T+1}return C}function h(w,T,C){const S=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const b=S(T);if(!e.test(b))throw new TypeError(`argument val is invalid: ${T}`);let A=w+"="+b;if(!C)return A;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);A+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);A+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);A+="; Path="+C.path}if(C.expires){if(!v(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);A+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(A+="; HttpOnly"),C.secure&&(A+="; Secure"),C.partitioned&&(A+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return A}function m(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function v(w){return i.call(w)==="[object Date]"}return Rl}KI();var N0="popstate";function QI(n={}){function e(i,a){let{pathname:l="/",search:u="",hash:f=""}=no(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Np("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let f=i.location.href,h=f.indexOf("#");u=h===-1?f:f.slice(0,h)}return u+"#"+(typeof a=="string"?a:Jl(a))}function r(i,a){Bn(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return YI(e,t,r,n)}function mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Bn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GI(){return Math.random().toString(36).substring(2,10)}function P0(n,e){return{usr:n.state,key:n.key,idx:e}}function Np(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?no(e):e,state:t,key:e&&e.key||r||GI()}}function Jl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function no(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function YI(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u="POP",f=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function v(){u="POP";let b=m(),A=b==null?null:b-h;h=b,f&&f({action:u,location:S.location,delta:A})}function w(b,A){u="PUSH";let D=Np(S.location,b,A);t&&t(D,b),h=m()+1;let V=P0(D,h),U=S.createHref(D);try{l.pushState(V,"",U)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;i.location.assign(U)}a&&f&&f({action:u,location:S.location,delta:1})}function T(b,A){u="REPLACE";let D=Np(S.location,b,A);t&&t(D,b),h=m();let V=P0(D,h),U=S.createHref(D);l.replaceState(V,"",U),a&&f&&f({action:u,location:S.location,delta:0})}function C(b){return XI(b)}let S={get action(){return u},get location(){return n(i,l)},listen(b){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(N0,v),f=b,()=>{i.removeEventListener(N0,v),f=null}},createHref(b){return e(i,b)},createURL:C,encodeLocation(b){let A=C(b);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:w,replace:T,go(b){return l.go(b)}};return S}function XI(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),mt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Jl(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Y_(n,e,t="/"){return JI(n,e,t,!1)}function JI(n,e,t,r){let i=typeof e=="string"?no(e):e,a=ls(i.pathname||"/",t);if(a==null)return null;let l=X_(n);ZI(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let h=ub(a);u=lb(l[f],h,r)}return u}function X_(n,e=[],t=[],r=""){let i=(a,l,u)=>{let f={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(mt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let h=as([r,f.relativePath]),m=t.concat(f);a.children&&a.children.length>0&&(mt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),X_(a.children,e,m,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:ob(h,a.index),routesMeta:m})};return n.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let f of J_(a.path))i(a,l,f)}),e}function J_(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=J_(r.join("/")),u=[];return u.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&u.push(...l),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function ZI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:ab(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var eb=/^:[\w-]+$/,tb=3,nb=2,rb=1,sb=10,ib=-2,k0=n=>n==="*";function ob(n,e){let t=n.split("/"),r=t.length;return t.some(k0)&&(r+=ib),e&&(r+=nb),t.filter(i=>!k0(i)).reduce((i,a)=>i+(eb.test(a)?tb:a===""?rb:sb),r)}function ab(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function lb(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",l=[];for(let u=0;u<r.length;++u){let f=r[u],h=u===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",v=pd({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),w=f.route;if(!v&&h&&t&&!r[r.length-1].route.index&&(v=pd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:as([a,v.pathname]),pathnameBase:pb(as([a,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(a=as([a,v.pathnameBase]))}return l}function pd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=cb(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:v},w)=>{if(m==="*"){let C=u[w]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const T=u[w];return v&&!T?h[m]=void 0:h[m]=(T||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:n}}function cb(n,e=!1,t=!0){Bn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ub(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ls(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function db(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?no(n):n;return{pathname:t?t.startsWith("/")?t:fb(t,e):e,search:mb(r),hash:gb(i)}}function fb(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function sp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hb(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Wm(n){let e=hb(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function qm(n,e,t,r=!1){let i;typeof n=="string"?i=no(n):(i={...n},mt(!i.pathname||!i.pathname.includes("?"),sp("?","pathname","search",i)),mt(!i.pathname||!i.pathname.includes("#"),sp("#","pathname","hash",i)),mt(!i.search||!i.search.includes("#"),sp("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),v-=1;i.pathname=w.join("/")}u=v>=0?e[v]:"/"}let f=db(i,u),h=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var as=n=>n.join("/").replace(/\/\/+/g,"/"),pb=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),mb=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,gb=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function yb(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Z_=["POST","PUT","PATCH","DELETE"];new Set(Z_);var vb=["GET",...Z_];new Set(vb);var Ea=E.createContext(null);Ea.displayName="DataRouter";var Hd=E.createContext(null);Hd.displayName="DataRouterState";var ex=E.createContext({isTransitioning:!1});ex.displayName="ViewTransition";var wb=E.createContext(new Map);wb.displayName="Fetchers";var _b=E.createContext(null);_b.displayName="Await";var gr=E.createContext(null);gr.displayName="Navigation";var fc=E.createContext(null);fc.displayName="Location";var yr=E.createContext({outlet:null,matches:[],isDataRoute:!1});yr.displayName="Route";var Km=E.createContext(null);Km.displayName="RouteError";function xb(n,{relative:e}={}){mt(Ca(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=E.useContext(gr),{hash:i,pathname:a,search:l}=pc(n,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:as([t,a])),r.createHref({pathname:u,search:l,hash:i})}function Ca(){return E.useContext(fc)!=null}function ci(){return mt(Ca(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(fc).location}var tx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nx(n){E.useContext(gr).static||E.useLayoutEffect(n)}function hc(){let{isDataRoute:n}=E.useContext(yr);return n?Mb():Eb()}function Eb(){mt(Ca(),"useNavigate() may be used only in the context of a <Router> component.");let n=E.useContext(Ea),{basename:e,navigator:t}=E.useContext(gr),{matches:r}=E.useContext(yr),{pathname:i}=ci(),a=JSON.stringify(Wm(r)),l=E.useRef(!1);return nx(()=>{l.current=!0}),E.useCallback((f,h={})=>{if(Bn(l.current,tx),!l.current)return;if(typeof f=="number"){t.go(f);return}let m=qm(f,JSON.parse(a),i,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:as([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,a,i,n])}E.createContext(null);function Qm(){let{matches:n}=E.useContext(yr),e=n[n.length-1];return e?e.params:{}}function pc(n,{relative:e}={}){let{matches:t}=E.useContext(yr),{pathname:r}=ci(),i=JSON.stringify(Wm(t));return E.useMemo(()=>qm(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function Cb(n,e){return rx(n,e)}function rx(n,e,t,r){var A;mt(Ca(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=E.useContext(gr),{matches:a}=E.useContext(yr),l=a[a.length-1],u=l?l.params:{},f=l?l.pathname:"/",h=l?l.pathnameBase:"/",m=l&&l.route;{let D=m&&m.path||"";sx(f,!m||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let v=ci(),w;if(e){let D=typeof e=="string"?no(e):e;mt(h==="/"||((A=D.pathname)==null?void 0:A.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${D.pathname}" was given in the \`location\` prop.`),w=D}else w=v;let T=w.pathname||"/",C=T;if(h!=="/"){let D=h.replace(/^\//,"").split("/");C="/"+T.replace(/^\//,"").split("/").slice(D.length).join("/")}let S=Y_(n,{pathname:C});Bn(m||S!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Bn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=Ab(S&&S.map(D=>Object.assign({},D,{params:Object.assign({},u,D.params),pathname:as([h,i.encodeLocation?i.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?h:as([h,i.encodeLocation?i.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),a,t,r);return e&&b?E.createElement(fc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},b):b}function Sb(){let n=Db(),e=yb(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:a},"ErrorBoundary")," or"," ",E.createElement("code",{style:a},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),t?E.createElement("pre",{style:i},t):null,l)}var Tb=E.createElement(Sb,null),Ib=class extends E.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?E.createElement(yr.Provider,{value:this.props.routeContext},E.createElement(Km.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bb({routeContext:n,match:e,children:t}){let r=E.useContext(Ea);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(yr.Provider,{value:n},t)}function Ab(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t==null?void 0:t.errors;if(a!=null){let f=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);mt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let l=!1,u=-1;if(t)for(let f=0;f<i.length;f++){let h=i[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:m,errors:v}=t,w=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||w){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((f,h,m)=>{let v,w=!1,T=null,C=null;t&&(v=a&&h.route.id?a[h.route.id]:void 0,T=h.route.errorElement||Tb,l&&(u<0&&m===0?(sx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):u===m&&(w=!0,C=h.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,m+1)),b=()=>{let A;return v?A=T:w?A=C:h.route.Component?A=E.createElement(h.route.Component,null):h.route.element?A=h.route.element:A=f,E.createElement(bb,{match:h,routeContext:{outlet:f,matches:S,isDataRoute:t!=null},children:A})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?E.createElement(Ib,{location:t.location,revalidation:t.revalidation,component:T,error:v,children:b(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):b()},null)}function Gm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rb(n){let e=E.useContext(Ea);return mt(e,Gm(n)),e}function Nb(n){let e=E.useContext(Hd);return mt(e,Gm(n)),e}function Pb(n){let e=E.useContext(yr);return mt(e,Gm(n)),e}function Ym(n){let e=Pb(n),t=e.matches[e.matches.length-1];return mt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function kb(){return Ym("useRouteId")}function Db(){var r;let n=E.useContext(Km),e=Nb("useRouteError"),t=Ym("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function Mb(){let{router:n}=Rb("useNavigate"),e=Ym("useNavigate"),t=E.useRef(!1);return nx(()=>{t.current=!0}),E.useCallback(async(i,a={})=>{Bn(t.current,tx),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var D0={};function sx(n,e,t){!e&&!D0[n]&&(D0[n]=!0,Bn(!1,t))}E.memo(Ob);function Ob({routes:n,future:e,state:t}){return rx(n,void 0,t,e)}function Lb({to:n,replace:e,state:t,relative:r}){mt(Ca(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(gr);Bn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=E.useContext(yr),{pathname:l}=ci(),u=hc(),f=qm(n,Wm(a),l,r==="path"),h=JSON.stringify(f);return E.useEffect(()=>{u(JSON.parse(h),{replace:e,state:t,relative:r})},[u,h,r,e,t]),null}function Nr(n){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jb({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){mt(!Ca(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=E.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof t=="string"&&(t=no(t));let{pathname:f="/",search:h="",hash:m="",state:v=null,key:w="default"}=t,T=E.useMemo(()=>{let C=ls(f,l);return C==null?null:{location:{pathname:C,search:h,hash:m,state:v,key:w},navigationType:r}},[l,f,h,m,v,w,r]);return Bn(T!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:E.createElement(gr.Provider,{value:u},E.createElement(fc.Provider,{children:e,value:T}))}function Vb({children:n,location:e}){return Cb(Pp(n),e)}function Pp(n,e=[]){let t=[];return E.Children.forEach(n,(r,i)=>{if(!E.isValidElement(r))return;let a=[...e,i];if(r.type===E.Fragment){t.push.apply(t,Pp(r.props.children,a));return}mt(r.type===Nr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Pp(r.props.children,a)),t.push(l)}),t}var ed="get",td="application/x-www-form-urlencoded";function Wd(n){return n!=null&&typeof n.tagName=="string"}function Fb(n){return Wd(n)&&n.tagName.toLowerCase()==="button"}function $b(n){return Wd(n)&&n.tagName.toLowerCase()==="form"}function zb(n){return Wd(n)&&n.tagName.toLowerCase()==="input"}function Ub(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Bb(n,e){return n.button===0&&(!e||e==="_self")&&!Ub(n)}var Fu=null;function Hb(){if(Fu===null)try{new FormData(document.createElement("form"),0),Fu=!1}catch{Fu=!0}return Fu}var Wb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ip(n){return n!=null&&!Wb.has(n)?(Bn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${td}"`),null):n}function qb(n,e){let t,r,i,a,l;if($b(n)){let u=n.getAttribute("action");r=u?ls(u,e):null,t=n.getAttribute("method")||ed,i=ip(n.getAttribute("enctype"))||td,a=new FormData(n)}else if(Fb(n)||zb(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||u.getAttribute("action");if(r=f?ls(f,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||ed,i=ip(n.getAttribute("formenctype"))||ip(u.getAttribute("enctype"))||td,a=new FormData(u,n),!Hb()){let{name:h,type:m,value:v}=n;if(m==="image"){let w=h?`${h}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else h&&a.append(h,v)}}else{if(Wd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ed,r=null,i=td,l=n}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:l}}function Xm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Kb(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qb(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Gb(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await Kb(a,t);return l.links?l.links():[]}return[]}));return Zb(r.flat(1).filter(Qb).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function M0(n,e,t,r,i,a){let l=(f,h)=>t[h]?f.route.id!==t[h].route.id:!0,u=(f,h)=>{var m;return t[h].pathname!==f.pathname||((m=t[h].route.path)==null?void 0:m.endsWith("*"))&&t[h].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,h)=>l(f,h)||u(f,h)):a==="data"?e.filter((f,h)=>{var v;let m=r.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Yb(n,e,{includeHydrateFallback:t}={}){return Xb(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Xb(n){return[...new Set(n)]}function Jb(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function Zb(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(Jb(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var eA=new Set([100,101,204,205]);function tA(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ls(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function ix(){let n=E.useContext(Ea);return Xm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function nA(){let n=E.useContext(Hd);return Xm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Jm=E.createContext(void 0);Jm.displayName="FrameworkContext";function ox(){let n=E.useContext(Jm);return Xm(n,"You must render this element inside a <HydratedRouter> element"),n}function rA(n,e){let t=E.useContext(Jm),[r,i]=E.useState(!1),[a,l]=E.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:v}=e,w=E.useRef(null);E.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let S=A=>{A.forEach(D=>{l(D.isIntersecting)})},b=new IntersectionObserver(S,{threshold:.5});return w.current&&b.observe(w.current),()=>{b.disconnect()}}},[n]),E.useEffect(()=>{if(r){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[r]);let T=()=>{i(!0)},C=()=>{i(!1),l(!1)};return t?n!=="intent"?[a,w,{}]:[a,w,{onFocus:Nl(u,T),onBlur:Nl(f,C),onMouseEnter:Nl(h,T),onMouseLeave:Nl(m,C),onTouchStart:Nl(v,T)}]:[!1,w,{}]}function Nl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function sA({page:n,...e}){let{router:t}=ix(),r=E.useMemo(()=>Y_(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?E.createElement(oA,{page:n,matches:r,...e}):null}function iA(n){let{manifest:e,routeModules:t}=ox(),[r,i]=E.useState([]);return E.useEffect(()=>{let a=!1;return Gb(n,e,t).then(l=>{a||i(l)}),()=>{a=!0}},[n,e,t]),r}function oA({page:n,matches:e,...t}){let r=ci(),{manifest:i,routeModules:a}=ox(),{basename:l}=ix(),{loaderData:u,matches:f}=nA(),h=E.useMemo(()=>M0(n,e,f,i,r,"data"),[n,e,f,i,r]),m=E.useMemo(()=>M0(n,e,f,i,r,"assets"),[n,e,f,i,r]),v=E.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,S=!1;if(e.forEach(A=>{var V;let D=i.routes[A.route.id];!D||!D.hasLoader||(!h.some(U=>U.route.id===A.route.id)&&A.route.id in u&&((V=a[A.route.id])!=null&&V.shouldRevalidate)||D.hasClientLoader?S=!0:C.add(A.route.id))}),C.size===0)return[];let b=tA(n,l);return S&&C.size>0&&b.searchParams.set("_routes",e.filter(A=>C.has(A.route.id)).map(A=>A.route.id).join(",")),[b.pathname+b.search]},[l,u,r,i,h,e,n,a]),w=E.useMemo(()=>Yb(m,i),[m,i]),T=iA(m);return E.createElement(E.Fragment,null,v.map(C=>E.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),w.map(C=>E.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),T.map(({key:C,link:S})=>E.createElement("link",{key:C,...S})))}function aA(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ax=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ax&&(window.__reactRouterVersion="7.6.2")}catch{}function lA({basename:n,children:e,window:t}){let r=E.useRef();r.current==null&&(r.current=QI({window:t,v5Compat:!0}));let i=r.current,[a,l]=E.useState({action:i.action,location:i.location}),u=E.useCallback(f=>{E.startTransition(()=>l(f))},[l]);return E.useLayoutEffect(()=>i.listen(u),[i,u]),E.createElement(jb,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:i})}var lx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qi=E.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:u,target:f,to:h,preventScrollReset:m,viewTransition:v,...w},T){let{basename:C}=E.useContext(gr),S=typeof h=="string"&&lx.test(h),b,A=!1;if(typeof h=="string"&&S&&(b=h,ax))try{let k=new URL(window.location.href),j=h.startsWith("//")?new URL(k.protocol+h):new URL(h),F=ls(j.pathname,C);j.origin===k.origin&&F!=null?h=F+j.search+j.hash:A=!0}catch{Bn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=xb(h,{relative:i}),[V,U,$]=rA(r,w),G=fA(h,{replace:l,state:u,target:f,preventScrollReset:m,relative:i,viewTransition:v});function M(k){e&&e(k),k.defaultPrevented||G(k)}let N=E.createElement("a",{...w,...$,href:b||D,onClick:A||a?e:M,ref:aA(T,U),target:f,"data-discover":!S&&t==="render"?"true":void 0});return V&&!S?E.createElement(E.Fragment,null,N,E.createElement(sA,{page:D})):N});qi.displayName="Link";var cA=E.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:u,children:f,...h},m){let v=pc(l,{relative:h.relative}),w=ci(),T=E.useContext(Hd),{navigator:C,basename:S}=E.useContext(gr),b=T!=null&&yA(v)&&u===!0,A=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,D=w.pathname,V=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(D=D.toLowerCase(),V=V?V.toLowerCase():null,A=A.toLowerCase()),V&&S&&(V=ls(V,S)||V);const U=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let $=D===A||!i&&D.startsWith(A)&&D.charAt(U)==="/",G=V!=null&&(V===A||!i&&V.startsWith(A)&&V.charAt(A.length)==="/"),M={isActive:$,isPending:G,isTransitioning:b},N=$?e:void 0,k;typeof r=="function"?k=r(M):k=[r,$?"active":null,G?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let j=typeof a=="function"?a(M):a;return E.createElement(qi,{...h,"aria-current":N,className:k,ref:m,style:j,to:l,viewTransition:u},typeof f=="function"?f(M):f)});cA.displayName="NavLink";var uA=E.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:l=ed,action:u,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:v,...w},T)=>{let C=mA(),S=gA(u,{relative:h}),b=l.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&lx.test(u),D=V=>{if(f&&f(V),V.defaultPrevented)return;V.preventDefault();let U=V.nativeEvent.submitter,$=(U==null?void 0:U.getAttribute("formmethod"))||l;C(U||V.currentTarget,{fetcherKey:e,method:$,navigate:t,replace:i,state:a,relative:h,preventScrollReset:m,viewTransition:v})};return E.createElement("form",{ref:T,method:b,action:S,onSubmit:r?f:D,...w,"data-discover":!A&&n==="render"?"true":void 0})});uA.displayName="Form";function dA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cx(n){let e=E.useContext(Ea);return mt(e,dA(n)),e}function fA(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let u=hc(),f=ci(),h=pc(n,{relative:a});return E.useCallback(m=>{if(Bb(m,e)){m.preventDefault();let v=t!==void 0?t:Jl(f)===Jl(h);u(n,{replace:v,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[f,u,h,t,r,e,n,i,a,l])}var hA=0,pA=()=>`__${String(++hA)}__`;function mA(){let{router:n}=cx("useSubmit"),{basename:e}=E.useContext(gr),t=kb();return E.useCallback(async(r,i={})=>{let{action:a,method:l,encType:u,formData:f,body:h}=qb(r,e);if(i.navigate===!1){let m=i.fetcherKey||pA();await n.fetch(m,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:h,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function gA(n,{relative:e}={}){let{basename:t}=E.useContext(gr),r=E.useContext(yr);mt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...pc(n||".",{relative:e})},l=ci();if(n==null){a.search=l.search;let u=new URLSearchParams(a.search),f=u.getAll("index");if(f.some(m=>m==="")){u.delete("index"),f.filter(v=>v).forEach(v=>u.append("index",v));let m=u.toString();a.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:as([t,a.pathname])),Jl(a)}function yA(n,e={}){let t=E.useContext(ex);mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=cx("useViewTransitionState"),i=pc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=ls(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=ls(t.nextLocation.pathname,r)||t.nextLocation.pathname;return pd(i.pathname,l)!=null||pd(i.pathname,a)!=null}[...eA];var Sa=G_();const vA=K_(Sa),ux=E.createContext(void 0),wA=({children:n})=>{const[e,t]=E.useState([]),[r,i]=E.useState(null),a=v=>{const w=String((v==null?void 0:v.id)??""),T={...v,id:w};t(C=>C.find(b=>String(b.id)===w)?C.map(b=>String(b.id)===w?{...b,quantity:b.quantity+1}:b):[...C,{...T,quantity:1}])},l=v=>{t(w=>w.filter(T=>String(T.id)!==String(v)))},u=(v,w)=>{if(w<=0){l(v);return}t(T=>T.map(C=>String(C.id)===String(v)?{...C,quantity:w}:C))},f=()=>{t([])},h=()=>e.reduce((v,w)=>v+w.price*w.quantity,0),m=()=>e.reduce((v,w)=>v+w.quantity,0);return y.jsx(ux.Provider,{value:{items:e,tableId:r,addToCart:a,removeFromCart:l,updateQuantity:u,clearCart:f,setTableId:i,getTotalPrice:h,getTotalItems:m},children:n})},Zm=()=>{const n=E.useContext(ux);if(n===void 0)throw new Error("useCart must be used within a CartProvider");return n},_A=()=>{};var O0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},xA=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],u=n[t++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},fx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,u=l?n[i+1]:0,f=i+2<n.length,h=f?n[i+2]:0,m=a>>2,v=(a&3)<<4|u>>4;let w=(u&15)<<2|h>>6,T=h&63;f||(T=64,l||(w=64)),r.push(t[m],t[v],t[w],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(dx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):xA(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const v=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||u==null||h==null||v==null)throw new EA;const w=a<<2|u>>4;if(r.push(w),h!==64){const T=u<<4&240|h>>2;if(r.push(T),v!==64){const C=h<<6&192|v;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class EA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CA=function(n){const e=dx(n);return fx.encodeByteArray(e,!0)},md=function(n){return CA(n).replace(/\./g,"")},SA=function(n){try{return fx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=()=>TA().__FIREBASE_DEFAULTS__,bA=()=>{if(typeof process>"u"||typeof O0>"u")return;const n=O0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},AA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&SA(n[1]);return e&&JSON.parse(e)},eg=()=>{try{return _A()||IA()||bA()||AA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},RA=n=>{var e,t;return(t=(e=eg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},NA=n=>{const e=RA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},hx=()=>{var n;return(n=eg())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(n){return n.endsWith(".cloudworkstations.dev")}async function kA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[md(JSON.stringify(t)),md(JSON.stringify(l)),""].join(".")}const Wl={};function MA(){const n={prod:[],emulator:[]};for(const e of Object.keys(Wl))Wl[e]?n.emulator.push(e):n.prod.push(e);return n}function OA(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let L0=!1;function LA(n,e){if(typeof window>"u"||typeof document>"u"||!tg(window.location.host)||Wl[n]===e||Wl[n]||L0)return;Wl[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",a=MA().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function u(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function f(w,T){w.setAttribute("width","24"),w.setAttribute("id",T),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function h(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{L0=!0,l()},w}function m(w,T){w.setAttribute("id",T),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=OA(r),T=t("text"),C=document.getElementById(T)||document.createElement("span"),S=t("learnmore"),b=document.getElementById(S)||document.createElement("a"),A=t("preprendIcon"),D=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const V=w.element;u(V),m(b,S);const U=h();f(D,A),V.append(D,C,b,U),document.body.appendChild(V)}a?(C.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VA(){var n;const e=(n=eg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FA(){return!VA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $A(){try{return typeof indexedDB=="object"}catch{return!1}}function zA(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="FirebaseError";class Ta extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=UA,Object.setPrototypeOf(this,Ta.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,px.prototype.create)}}class px{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?BA(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Ta(i,u,r)}}function BA(n,e){return n.replace(HA,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const HA=/\{\$([^}]+)}/g;function gd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(j0(a)&&j0(l)){if(!gd(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function j0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(n){return n&&n._delegate?n._delegate:n}class Zl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WA=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new PA;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KA(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qA(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qA(n){return n===Bi?void 0:n}function KA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new WA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ye||(Ye={}));const GA={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},YA=Ye.INFO,XA={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},JA=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=XA[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let mx=class{constructor(e){this.name=e,this._logLevel=YA,this._logHandler=JA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}};const ZA=(n,e)=>e.some(t=>n instanceof t);let V0,F0;function eR(){return V0||(V0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tR(){return F0||(F0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gx=new WeakMap,kp=new WeakMap,yx=new WeakMap,op=new WeakMap,ng=new WeakMap;function nR(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Ks(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&gx.set(t,n)}).catch(()=>{}),ng.set(e,n),e}function rR(n){if(kp.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});kp.set(n,e)}let Dp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return kp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ks(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function sR(n){Dp=n(Dp)}function iR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(ap(this),e,...t);return yx.set(r,e.sort?e.sort():[e]),Ks(r)}:tR().includes(n)?function(...e){return n.apply(ap(this),e),Ks(gx.get(this))}:function(...e){return Ks(n.apply(ap(this),e))}}function oR(n){return typeof n=="function"?iR(n):(n instanceof IDBTransaction&&rR(n),ZA(n,eR())?new Proxy(n,Dp):n)}function Ks(n){if(n instanceof IDBRequest)return nR(n);if(op.has(n))return op.get(n);const e=oR(n);return e!==n&&(op.set(n,e),ng.set(e,n)),e}const ap=n=>ng.get(n);function aR(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),u=Ks(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Ks(l.result),f.oldVersion,f.newVersion,Ks(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const lR=["get","getKey","getAll","getAllKeys","count"],cR=["put","add","delete","clear"],lp=new Map;function $0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(lp.get(e))return lp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=cR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lR.includes(t)))return;const a=async function(l,...u){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),i&&f.done]))[0]};return lp.set(e,a),a}sR(n=>({...n,get:(e,t,r)=>$0(e,t)||n.get(e,t,r),has:(e,t)=>!!$0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(dR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function dR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mp="@firebase/app",z0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new mx("@firebase/app"),fR="@firebase/app-compat",hR="@firebase/analytics-compat",pR="@firebase/analytics",mR="@firebase/app-check-compat",gR="@firebase/app-check",yR="@firebase/auth",vR="@firebase/auth-compat",wR="@firebase/database",_R="@firebase/data-connect",xR="@firebase/database-compat",ER="@firebase/functions",CR="@firebase/functions-compat",SR="@firebase/installations",TR="@firebase/installations-compat",IR="@firebase/messaging",bR="@firebase/messaging-compat",AR="@firebase/performance",RR="@firebase/performance-compat",NR="@firebase/remote-config",PR="@firebase/remote-config-compat",kR="@firebase/storage",DR="@firebase/storage-compat",MR="@firebase/firestore",OR="@firebase/ai",LR="@firebase/firestore-compat",jR="firebase",VR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="[DEFAULT]",FR={[Mp]:"fire-core",[fR]:"fire-core-compat",[pR]:"fire-analytics",[hR]:"fire-analytics-compat",[gR]:"fire-app-check",[mR]:"fire-app-check-compat",[yR]:"fire-auth",[vR]:"fire-auth-compat",[wR]:"fire-rtdb",[_R]:"fire-data-connect",[xR]:"fire-rtdb-compat",[ER]:"fire-fn",[CR]:"fire-fn-compat",[SR]:"fire-iid",[TR]:"fire-iid-compat",[IR]:"fire-fcm",[bR]:"fire-fcm-compat",[AR]:"fire-perf",[RR]:"fire-perf-compat",[NR]:"fire-rc",[PR]:"fire-rc-compat",[kR]:"fire-gcs",[DR]:"fire-gcs-compat",[MR]:"fire-fst",[LR]:"fire-fst-compat",[OR]:"fire-vertex","fire-js":"fire-js",[jR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new Map,$R=new Map,Lp=new Map;function U0(n,e){try{n.container.addComponent(e)}catch(t){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function vd(n){const e=n.name;if(Lp.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;Lp.set(e,n);for(const t of yd.values())U0(t,n);for(const t of $R.values())U0(t,n);return!0}function zR(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function UR(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new px("app","Firebase",BR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=VR;function vx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Op,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Qs.create("bad-app-name",{appName:String(i)});if(t||(t=hx()),!t)throw Qs.create("no-options");const a=yd.get(i);if(a){if(gd(t,a.options)&&gd(r,a.config))return a;throw Qs.create("duplicate-app",{appName:i})}const l=new QA(i);for(const f of Lp.values())l.addComponent(f);const u=new HR(t,r,l);return yd.set(i,u),u}function qR(n=Op){const e=yd.get(n);if(!e&&n===Op&&hx())return vx();if(!e)throw Qs.create("no-app",{appName:n});return e}function oa(n,e,t){var r;let i=(r=FR[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(u.join(" "));return}vd(new Zl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="firebase-heartbeat-database",QR=1,ec="firebase-heartbeat-store";let cp=null;function wx(){return cp||(cp=aR(KR,QR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ec)}catch(t){console.warn(t)}}}}).catch(n=>{throw Qs.create("idb-open",{originalErrorMessage:n.message})})),cp}async function GR(n){try{const t=(await wx()).transaction(ec),r=await t.objectStore(ec).get(_x(n));return await t.done,r}catch(e){if(e instanceof Ta)cs.warn(e.message);else{const t=Qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cs.warn(t.message)}}}async function B0(n,e){try{const r=(await wx()).transaction(ec,"readwrite");await r.objectStore(ec).put(e,_x(n)),await r.done}catch(t){if(t instanceof Ta)cs.warn(t.message);else{const r=Qs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});cs.warn(r.message)}}}function _x(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=1024,XR=30;class JR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new eN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=H0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>XR){const l=tN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){cs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=H0(),{heartbeatsToSend:r,unsentEntries:i}=ZR(this._heartbeatsCache.heartbeats),a=md(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return cs.warn(t),""}}}function H0(){return new Date().toISOString().substring(0,10)}function ZR(n,e=YR){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),W0(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),W0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class eN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $A()?zA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await GR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return B0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return B0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function W0(n){return md(JSON.stringify({version:2,heartbeats:n})).length}function tN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(n){vd(new Zl("platform-logger",e=>new uR(e),"PRIVATE")),vd(new Zl("heartbeat",e=>new JR(e),"PRIVATE")),oa(Mp,z0,n),oa(Mp,z0,"esm2017"),oa("fire-js","")}nN("");var q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gs,xx;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,N){function k(){}k.prototype=N.prototype,M.D=N.prototype,M.prototype=new k,M.prototype.constructor=M,M.C=function(j,F,P){for(var L=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)L[ee-2]=arguments[ee];return N.prototype[F].apply(j,L)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,N,k){k||(k=0);var j=Array(16);if(typeof N=="string")for(var F=0;16>F;++F)j[F]=N.charCodeAt(k++)|N.charCodeAt(k++)<<8|N.charCodeAt(k++)<<16|N.charCodeAt(k++)<<24;else for(F=0;16>F;++F)j[F]=N[k++]|N[k++]<<8|N[k++]<<16|N[k++]<<24;N=M.g[0],k=M.g[1],F=M.g[2];var P=M.g[3],L=N+(P^k&(F^P))+j[0]+3614090360&4294967295;N=k+(L<<7&4294967295|L>>>25),L=P+(F^N&(k^F))+j[1]+3905402710&4294967295,P=N+(L<<12&4294967295|L>>>20),L=F+(k^P&(N^k))+j[2]+606105819&4294967295,F=P+(L<<17&4294967295|L>>>15),L=k+(N^F&(P^N))+j[3]+3250441966&4294967295,k=F+(L<<22&4294967295|L>>>10),L=N+(P^k&(F^P))+j[4]+4118548399&4294967295,N=k+(L<<7&4294967295|L>>>25),L=P+(F^N&(k^F))+j[5]+1200080426&4294967295,P=N+(L<<12&4294967295|L>>>20),L=F+(k^P&(N^k))+j[6]+2821735955&4294967295,F=P+(L<<17&4294967295|L>>>15),L=k+(N^F&(P^N))+j[7]+4249261313&4294967295,k=F+(L<<22&4294967295|L>>>10),L=N+(P^k&(F^P))+j[8]+1770035416&4294967295,N=k+(L<<7&4294967295|L>>>25),L=P+(F^N&(k^F))+j[9]+2336552879&4294967295,P=N+(L<<12&4294967295|L>>>20),L=F+(k^P&(N^k))+j[10]+4294925233&4294967295,F=P+(L<<17&4294967295|L>>>15),L=k+(N^F&(P^N))+j[11]+2304563134&4294967295,k=F+(L<<22&4294967295|L>>>10),L=N+(P^k&(F^P))+j[12]+1804603682&4294967295,N=k+(L<<7&4294967295|L>>>25),L=P+(F^N&(k^F))+j[13]+4254626195&4294967295,P=N+(L<<12&4294967295|L>>>20),L=F+(k^P&(N^k))+j[14]+2792965006&4294967295,F=P+(L<<17&4294967295|L>>>15),L=k+(N^F&(P^N))+j[15]+1236535329&4294967295,k=F+(L<<22&4294967295|L>>>10),L=N+(F^P&(k^F))+j[1]+4129170786&4294967295,N=k+(L<<5&4294967295|L>>>27),L=P+(k^F&(N^k))+j[6]+3225465664&4294967295,P=N+(L<<9&4294967295|L>>>23),L=F+(N^k&(P^N))+j[11]+643717713&4294967295,F=P+(L<<14&4294967295|L>>>18),L=k+(P^N&(F^P))+j[0]+3921069994&4294967295,k=F+(L<<20&4294967295|L>>>12),L=N+(F^P&(k^F))+j[5]+3593408605&4294967295,N=k+(L<<5&4294967295|L>>>27),L=P+(k^F&(N^k))+j[10]+38016083&4294967295,P=N+(L<<9&4294967295|L>>>23),L=F+(N^k&(P^N))+j[15]+3634488961&4294967295,F=P+(L<<14&4294967295|L>>>18),L=k+(P^N&(F^P))+j[4]+3889429448&4294967295,k=F+(L<<20&4294967295|L>>>12),L=N+(F^P&(k^F))+j[9]+568446438&4294967295,N=k+(L<<5&4294967295|L>>>27),L=P+(k^F&(N^k))+j[14]+3275163606&4294967295,P=N+(L<<9&4294967295|L>>>23),L=F+(N^k&(P^N))+j[3]+4107603335&4294967295,F=P+(L<<14&4294967295|L>>>18),L=k+(P^N&(F^P))+j[8]+1163531501&4294967295,k=F+(L<<20&4294967295|L>>>12),L=N+(F^P&(k^F))+j[13]+2850285829&4294967295,N=k+(L<<5&4294967295|L>>>27),L=P+(k^F&(N^k))+j[2]+4243563512&4294967295,P=N+(L<<9&4294967295|L>>>23),L=F+(N^k&(P^N))+j[7]+1735328473&4294967295,F=P+(L<<14&4294967295|L>>>18),L=k+(P^N&(F^P))+j[12]+2368359562&4294967295,k=F+(L<<20&4294967295|L>>>12),L=N+(k^F^P)+j[5]+4294588738&4294967295,N=k+(L<<4&4294967295|L>>>28),L=P+(N^k^F)+j[8]+2272392833&4294967295,P=N+(L<<11&4294967295|L>>>21),L=F+(P^N^k)+j[11]+1839030562&4294967295,F=P+(L<<16&4294967295|L>>>16),L=k+(F^P^N)+j[14]+4259657740&4294967295,k=F+(L<<23&4294967295|L>>>9),L=N+(k^F^P)+j[1]+2763975236&4294967295,N=k+(L<<4&4294967295|L>>>28),L=P+(N^k^F)+j[4]+1272893353&4294967295,P=N+(L<<11&4294967295|L>>>21),L=F+(P^N^k)+j[7]+4139469664&4294967295,F=P+(L<<16&4294967295|L>>>16),L=k+(F^P^N)+j[10]+3200236656&4294967295,k=F+(L<<23&4294967295|L>>>9),L=N+(k^F^P)+j[13]+681279174&4294967295,N=k+(L<<4&4294967295|L>>>28),L=P+(N^k^F)+j[0]+3936430074&4294967295,P=N+(L<<11&4294967295|L>>>21),L=F+(P^N^k)+j[3]+3572445317&4294967295,F=P+(L<<16&4294967295|L>>>16),L=k+(F^P^N)+j[6]+76029189&4294967295,k=F+(L<<23&4294967295|L>>>9),L=N+(k^F^P)+j[9]+3654602809&4294967295,N=k+(L<<4&4294967295|L>>>28),L=P+(N^k^F)+j[12]+3873151461&4294967295,P=N+(L<<11&4294967295|L>>>21),L=F+(P^N^k)+j[15]+530742520&4294967295,F=P+(L<<16&4294967295|L>>>16),L=k+(F^P^N)+j[2]+3299628645&4294967295,k=F+(L<<23&4294967295|L>>>9),L=N+(F^(k|~P))+j[0]+4096336452&4294967295,N=k+(L<<6&4294967295|L>>>26),L=P+(k^(N|~F))+j[7]+1126891415&4294967295,P=N+(L<<10&4294967295|L>>>22),L=F+(N^(P|~k))+j[14]+2878612391&4294967295,F=P+(L<<15&4294967295|L>>>17),L=k+(P^(F|~N))+j[5]+4237533241&4294967295,k=F+(L<<21&4294967295|L>>>11),L=N+(F^(k|~P))+j[12]+1700485571&4294967295,N=k+(L<<6&4294967295|L>>>26),L=P+(k^(N|~F))+j[3]+2399980690&4294967295,P=N+(L<<10&4294967295|L>>>22),L=F+(N^(P|~k))+j[10]+4293915773&4294967295,F=P+(L<<15&4294967295|L>>>17),L=k+(P^(F|~N))+j[1]+2240044497&4294967295,k=F+(L<<21&4294967295|L>>>11),L=N+(F^(k|~P))+j[8]+1873313359&4294967295,N=k+(L<<6&4294967295|L>>>26),L=P+(k^(N|~F))+j[15]+4264355552&4294967295,P=N+(L<<10&4294967295|L>>>22),L=F+(N^(P|~k))+j[6]+2734768916&4294967295,F=P+(L<<15&4294967295|L>>>17),L=k+(P^(F|~N))+j[13]+1309151649&4294967295,k=F+(L<<21&4294967295|L>>>11),L=N+(F^(k|~P))+j[4]+4149444226&4294967295,N=k+(L<<6&4294967295|L>>>26),L=P+(k^(N|~F))+j[11]+3174756917&4294967295,P=N+(L<<10&4294967295|L>>>22),L=F+(N^(P|~k))+j[2]+718787259&4294967295,F=P+(L<<15&4294967295|L>>>17),L=k+(P^(F|~N))+j[9]+3951481745&4294967295,M.g[0]=M.g[0]+N&4294967295,M.g[1]=M.g[1]+(F+(L<<21&4294967295|L>>>11))&4294967295,M.g[2]=M.g[2]+F&4294967295,M.g[3]=M.g[3]+P&4294967295}r.prototype.u=function(M,N){N===void 0&&(N=M.length);for(var k=N-this.blockSize,j=this.B,F=this.h,P=0;P<N;){if(F==0)for(;P<=k;)i(this,M,P),P+=this.blockSize;if(typeof M=="string"){for(;P<N;)if(j[F++]=M.charCodeAt(P++),F==this.blockSize){i(this,j),F=0;break}}else for(;P<N;)if(j[F++]=M[P++],F==this.blockSize){i(this,j),F=0;break}}this.h=F,this.o+=N},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var N=1;N<M.length-8;++N)M[N]=0;var k=8*this.o;for(N=M.length-8;N<M.length;++N)M[N]=k&255,k/=256;for(this.u(M),M=Array(16),N=k=0;4>N;++N)for(var j=0;32>j;j+=8)M[k++]=this.g[N]>>>j&255;return M};function a(M,N){var k=u;return Object.prototype.hasOwnProperty.call(k,M)?k[M]:k[M]=N(M)}function l(M,N){this.h=N;for(var k=[],j=!0,F=M.length-1;0<=F;F--){var P=M[F]|0;j&&P==N||(k[F]=P,j=!1)}this.g=k}var u={};function f(M){return-128<=M&&128>M?a(M,function(N){return new l([N|0],0>N?-1:0)}):new l([M|0],0>M?-1:0)}function h(M){if(isNaN(M)||!isFinite(M))return v;if(0>M)return b(h(-M));for(var N=[],k=1,j=0;M>=k;j++)N[j]=M/k|0,k*=4294967296;return new l(N,0)}function m(M,N){if(M.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(M.charAt(0)=="-")return b(m(M.substring(1),N));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=h(Math.pow(N,8)),j=v,F=0;F<M.length;F+=8){var P=Math.min(8,M.length-F),L=parseInt(M.substring(F,F+P),N);8>P?(P=h(Math.pow(N,P)),j=j.j(P).add(h(L))):(j=j.j(k),j=j.add(h(L)))}return j}var v=f(0),w=f(1),T=f(16777216);n=l.prototype,n.m=function(){if(S(this))return-b(this).m();for(var M=0,N=1,k=0;k<this.g.length;k++){var j=this.i(k);M+=(0<=j?j:4294967296+j)*N,N*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(C(this))return"0";if(S(this))return"-"+b(this).toString(M);for(var N=h(Math.pow(M,6)),k=this,j="";;){var F=U(k,N).g;k=A(k,F.j(N));var P=((0<k.g.length?k.g[0]:k.h)>>>0).toString(M);if(k=F,C(k))return P+j;for(;6>P.length;)P="0"+P;j=P+j}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function C(M){if(M.h!=0)return!1;for(var N=0;N<M.g.length;N++)if(M.g[N]!=0)return!1;return!0}function S(M){return M.h==-1}n.l=function(M){return M=A(this,M),S(M)?-1:C(M)?0:1};function b(M){for(var N=M.g.length,k=[],j=0;j<N;j++)k[j]=~M.g[j];return new l(k,~M.h).add(w)}n.abs=function(){return S(this)?b(this):this},n.add=function(M){for(var N=Math.max(this.g.length,M.g.length),k=[],j=0,F=0;F<=N;F++){var P=j+(this.i(F)&65535)+(M.i(F)&65535),L=(P>>>16)+(this.i(F)>>>16)+(M.i(F)>>>16);j=L>>>16,P&=65535,L&=65535,k[F]=L<<16|P}return new l(k,k[k.length-1]&-2147483648?-1:0)};function A(M,N){return M.add(b(N))}n.j=function(M){if(C(this)||C(M))return v;if(S(this))return S(M)?b(this).j(b(M)):b(b(this).j(M));if(S(M))return b(this.j(b(M)));if(0>this.l(T)&&0>M.l(T))return h(this.m()*M.m());for(var N=this.g.length+M.g.length,k=[],j=0;j<2*N;j++)k[j]=0;for(j=0;j<this.g.length;j++)for(var F=0;F<M.g.length;F++){var P=this.i(j)>>>16,L=this.i(j)&65535,ee=M.i(F)>>>16,te=M.i(F)&65535;k[2*j+2*F]+=L*te,D(k,2*j+2*F),k[2*j+2*F+1]+=P*te,D(k,2*j+2*F+1),k[2*j+2*F+1]+=L*ee,D(k,2*j+2*F+1),k[2*j+2*F+2]+=P*ee,D(k,2*j+2*F+2)}for(j=0;j<N;j++)k[j]=k[2*j+1]<<16|k[2*j];for(j=N;j<2*N;j++)k[j]=0;return new l(k,0)};function D(M,N){for(;(M[N]&65535)!=M[N];)M[N+1]+=M[N]>>>16,M[N]&=65535,N++}function V(M,N){this.g=M,this.h=N}function U(M,N){if(C(N))throw Error("division by zero");if(C(M))return new V(v,v);if(S(M))return N=U(b(M),N),new V(b(N.g),b(N.h));if(S(N))return N=U(M,b(N)),new V(b(N.g),N.h);if(30<M.g.length){if(S(M)||S(N))throw Error("slowDivide_ only works with positive integers.");for(var k=w,j=N;0>=j.l(M);)k=$(k),j=$(j);var F=G(k,1),P=G(j,1);for(j=G(j,2),k=G(k,2);!C(j);){var L=P.add(j);0>=L.l(M)&&(F=F.add(k),P=L),j=G(j,1),k=G(k,1)}return N=A(M,F.j(N)),new V(F,N)}for(F=v;0<=M.l(N);){for(k=Math.max(1,Math.floor(M.m()/N.m())),j=Math.ceil(Math.log(k)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),P=h(k),L=P.j(N);S(L)||0<L.l(M);)k-=j,P=h(k),L=P.j(N);C(P)&&(P=w),F=F.add(P),M=A(M,L)}return new V(F,M)}n.A=function(M){return U(this,M).h},n.and=function(M){for(var N=Math.max(this.g.length,M.g.length),k=[],j=0;j<N;j++)k[j]=this.i(j)&M.i(j);return new l(k,this.h&M.h)},n.or=function(M){for(var N=Math.max(this.g.length,M.g.length),k=[],j=0;j<N;j++)k[j]=this.i(j)|M.i(j);return new l(k,this.h|M.h)},n.xor=function(M){for(var N=Math.max(this.g.length,M.g.length),k=[],j=0;j<N;j++)k[j]=this.i(j)^M.i(j);return new l(k,this.h^M.h)};function $(M){for(var N=M.g.length+1,k=[],j=0;j<N;j++)k[j]=M.i(j)<<1|M.i(j-1)>>>31;return new l(k,M.h)}function G(M,N){var k=N>>5;N%=32;for(var j=M.g.length-k,F=[],P=0;P<j;P++)F[P]=0<N?M.i(P+k)>>>N|M.i(P+k+1)<<32-N:M.i(P+k);return new l(F,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xx=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,Gs=l}).apply(typeof q0<"u"?q0:typeof self<"u"?self:typeof window<"u"?window:{});var $u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ex,Ml,Cx,nd,jp,Sx,Tx,Ix;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,I){return d==Array.prototype||d==Object.prototype||(d[_]=I.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof $u=="object"&&$u];for(var _=0;_<d.length;++_){var I=d[_];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=t(this);function i(d,_){if(_)e:{var I=r;d=d.split(".");for(var O=0;O<d.length-1;O++){var q=d[O];if(!(q in I))break e;I=I[q]}d=d[d.length-1],O=I[d],_=_(O),_!=O&&_!=null&&e(I,d,{configurable:!0,writable:!0,value:_})}}function a(d,_){d instanceof String&&(d+="");var I=0,O=!1,q={next:function(){if(!O&&I<d.length){var J=I++;return{value:_(J,d[J]),done:!1}}return O=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}i("Array.prototype.values",function(d){return d||function(){return a(this,function(_,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function h(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function m(d,_,I){return d.call.apply(d.bind,arguments)}function v(d,_,I){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,O),d.apply(_,q)}}return function(){return d.apply(_,arguments)}}function w(d,_,I){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,w.apply(null,arguments)}function T(d,_){var I=Array.prototype.slice.call(arguments,1);return function(){var O=I.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function C(d,_){function I(){}I.prototype=_.prototype,d.aa=_.prototype,d.prototype=new I,d.prototype.constructor=d,d.Qb=function(O,q,J){for(var pe=Array(arguments.length-2),et=2;et<arguments.length;et++)pe[et-2]=arguments[et];return _.prototype[q].apply(O,pe)}}function S(d){const _=d.length;if(0<_){const I=Array(_);for(let O=0;O<_;O++)I[O]=d[O];return I}return[]}function b(d,_){for(let I=1;I<arguments.length;I++){const O=arguments[I];if(f(O)){const q=d.length||0,J=O.length||0;d.length=q+J;for(let pe=0;pe<J;pe++)d[q+pe]=O[pe]}else d.push(O)}}class A{constructor(_,I){this.i=_,this.j=I,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function D(d){return/^[\s\xa0]*$/.test(d)}function V(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function U(d){return U[" "](d),d}U[" "]=function(){};var $=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function G(d,_,I){for(const O in d)_.call(I,d[O],O,d)}function M(d,_){for(const I in d)_.call(void 0,d[I],I,d)}function N(d){const _={};for(const I in d)_[I]=d[I];return _}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(d,_){let I,O;for(let q=1;q<arguments.length;q++){O=arguments[q];for(I in O)d[I]=O[I];for(let J=0;J<k.length;J++)I=k[J],Object.prototype.hasOwnProperty.call(O,I)&&(d[I]=O[I])}}function F(d){var _=1;d=d.split(":");const I=[];for(;0<_&&d.length;)I.push(d.shift()),_--;return d.length&&I.push(d.join(":")),I}function P(d){u.setTimeout(()=>{throw d},0)}function L(){var d=ne;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class ee{constructor(){this.h=this.g=null}add(_,I){const O=te.get();O.set(_,I),this.h?this.h.next=O:this.g=O,this.h=O}}var te=new A(()=>new re,d=>d.reset());class re{constructor(){this.next=this.g=this.h=null}set(_,I){this.h=_,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,Y=!1,ne=new ee,le=()=>{const d=u.Promise.resolve(void 0);ue=()=>{d.then(B)}};var B=()=>{for(var d;d=L();){try{d.h.call(d.g)}catch(I){P(I)}var _=te;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}Y=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const I=()=>{};u.addEventListener("test",I,_),u.removeEventListener("test",I,_)}catch{}return d}();function Se(d,_){if(de.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var I=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if($){e:{try{U(_.nodeName);var q=!0;break e}catch{}q=!1}q||(_=null)}}else I=="mouseover"?_=d.fromElement:I=="mouseout"&&(_=d.toElement);this.relatedTarget=_,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Re[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Se.aa.h.call(this)}}C(Se,de);var Re={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),ve=0;function De(d,_,I,O,q){this.listener=d,this.proxy=null,this.src=_,this.type=I,this.capture=!!O,this.ha=q,this.key=++ve,this.da=this.fa=!1}function me(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ne(d){this.src=d,this.g={},this.h=0}Ne.prototype.add=function(d,_,I,O,q){var J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);var pe=wt(d,_,O,q);return-1<pe?(_=d[pe],I||(_.fa=!1)):(_=new De(_,this.src,J,!!O,q),_.fa=I,d.push(_)),_};function qe(d,_){var I=_.type;if(I in d.g){var O=d.g[I],q=Array.prototype.indexOf.call(O,_,void 0),J;(J=0<=q)&&Array.prototype.splice.call(O,q,1),J&&(me(_),d.g[I].length==0&&(delete d.g[I],d.h--))}}function wt(d,_,I,O){for(var q=0;q<d.length;++q){var J=d[q];if(!J.da&&J.listener==_&&J.capture==!!I&&J.ha==O)return q}return-1}var Ot="closure_lm_"+(1e6*Math.random()|0),kn={};function qn(d,_,I,O,q){if(Array.isArray(_)){for(var J=0;J<_.length;J++)qn(d,_[J],I,O,q);return null}return I=ja(I),d&&d[fe]?d.K(_,I,h(O)?!!O.capture:!1,q):Kn(d,_,I,!1,O,q)}function Kn(d,_,I,O,q,J){if(!_)throw Error("Invalid event type");var pe=h(q)?!!q.capture:!!q,et=ao(d);if(et||(d[Ot]=et=new Ne(d)),I=et.add(_,I,O,pe,J),I.proxy)return I;if(O=oo(),I.proxy=O,O.src=d,O.listener=I,d.addEventListener)ge||(q=pe),q===void 0&&(q=!1),d.addEventListener(_.toString(),O,q);else if(d.attachEvent)d.attachEvent(Br(_.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return I}function oo(){function d(I){return _.call(d.src,d.listener,I)}const _=La;return d}function Qn(d,_,I,O,q){if(Array.isArray(_))for(var J=0;J<_.length;J++)Qn(d,_[J],I,O,q);else O=h(O)?!!O.capture:!!O,I=ja(I),d&&d[fe]?(d=d.i,_=String(_).toString(),_ in d.g&&(J=d.g[_],I=wt(J,I,O,q),-1<I&&(me(J[I]),Array.prototype.splice.call(J,I,1),J.length==0&&(delete d.g[_],d.h--)))):d&&(d=ao(d))&&(_=d.g[_.toString()],d=-1,_&&(d=wt(_,I,O,q)),(I=-1<d?_[d]:null)&&Ur(I))}function Ur(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[fe])qe(_.i,d);else{var I=d.type,O=d.proxy;_.removeEventListener?_.removeEventListener(I,O,d.capture):_.detachEvent?_.detachEvent(Br(I),O):_.addListener&&_.removeListener&&_.removeListener(O),(I=ao(_))?(qe(I,d),I.h==0&&(I.src=null,_[Ot]=null)):me(d)}}}function Br(d){return d in kn?kn[d]:kn[d]="on"+d}function La(d,_){if(d.da)d=!0;else{_=new Se(_,this);var I=d.listener,O=d.ha||d.src;d.fa&&Ur(d),d=I.call(O,_)}return d}function ao(d){return d=d[Ot],d instanceof Ne?d:null}var lo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ja(d){return typeof d=="function"?d:(d[lo]||(d[lo]=function(_){return d.handleEvent(_)}),d[lo])}function Rt(){Z.call(this),this.i=new Ne(this),this.M=this,this.F=null}C(Rt,Z),Rt.prototype[fe]=!0,Rt.prototype.removeEventListener=function(d,_,I,O){Qn(this,d,_,I,O)};function Nt(d,_){var I,O=d.F;if(O)for(I=[];O;O=O.F)I.push(O);if(d=d.M,O=_.type||_,typeof _=="string")_=new de(_,d);else if(_ instanceof de)_.target=_.target||d;else{var q=_;_=new de(O,d),j(_,q)}if(q=!0,I)for(var J=I.length-1;0<=J;J--){var pe=_.g=I[J];q=Hr(pe,O,!0,_)&&q}if(pe=_.g=d,q=Hr(pe,O,!0,_)&&q,q=Hr(pe,O,!1,_)&&q,I)for(J=0;J<I.length;J++)pe=_.g=I[J],q=Hr(pe,O,!1,_)&&q}Rt.prototype.N=function(){if(Rt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var I=d.g[_],O=0;O<I.length;O++)me(I[O]);delete d.g[_],d.h--}}this.F=null},Rt.prototype.K=function(d,_,I,O){return this.i.add(String(d),_,!1,I,O)},Rt.prototype.L=function(d,_,I,O){return this.i.add(String(d),_,!0,I,O)};function Hr(d,_,I,O){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var q=!0,J=0;J<_.length;++J){var pe=_[J];if(pe&&!pe.da&&pe.capture==I){var et=pe.listener,Pt=pe.ha||pe.src;pe.fa&&qe(d.i,pe),q=et.call(Pt,O)!==!1&&q}}return q&&!O.defaultPrevented}function Va(d,_,I){if(typeof d=="function")I&&(d=w(d,I));else if(d&&typeof d.handleEvent=="function")d=w(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:u.setTimeout(d,_||0)}function ms(d){d.g=Va(()=>{d.g=null,d.i&&(d.i=!1,ms(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class gi extends Z{constructor(_,I){super(),this.m=_,this.l=I,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ms(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yi(d){Z.call(this),this.h=d,this.g={}}C(yi,Z);var Fa=[];function $a(d){G(d.g,function(_,I){this.g.hasOwnProperty(I)&&Ur(_)},d),d.g={}}yi.prototype.N=function(){yi.aa.N.call(this),$a(this)},yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var za=u.JSON.stringify,Ua=u.JSON.parse,Ba=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function vi(){}vi.prototype.h=null;function co(d){return d.h||(d.h=d.i())}function uo(){}var Dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wr(){de.call(this,"d")}C(wr,de);function fo(){de.call(this,"c")}C(fo,de);var _r={},Ha=null;function wi(){return Ha=Ha||new Rt}_r.La="serverreachability";function Wa(d){de.call(this,_r.La,d)}C(Wa,de);function Wr(d){const _=wi();Nt(_,new Wa(_))}_r.STAT_EVENT="statevent";function qa(d,_){de.call(this,_r.STAT_EVENT,d),this.stat=_}C(qa,de);function Et(d){const _=wi();Nt(_,new qa(_,d))}_r.Ma="timingevent";function ho(d,_){de.call(this,_r.Ma,d),this.size=_}C(ho,de);function Gn(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},_)}function _i(){this.g=!0}_i.prototype.xa=function(){this.g=!1};function xi(d,_,I,O,q,J){d.info(function(){if(d.g)if(J)for(var pe="",et=J.split("&"),Pt=0;Pt<et.length;Pt++){var Qe=et[Pt].split("=");if(1<Qe.length){var Lt=Qe[0];Qe=Qe[1];var Tt=Lt.split("_");pe=2<=Tt.length&&Tt[1]=="type"?pe+(Lt+"="+Qe+"&"):pe+(Lt+"=redacted&")}}else pe=null;else pe=J;return"XMLHTTP REQ ("+O+") [attempt "+q+"]: "+_+`
`+I+`
`+pe})}function po(d,_,I,O,q,J,pe){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+q+"]: "+_+`
`+I+`
`+J+" "+pe})}function Yn(d,_,I,O){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+bf(d,I)+(O?" "+O:"")})}function Ka(d,_){d.info(function(){return"TIMEOUT: "+_})}_i.prototype.info=function(){};function bf(d,_){if(!d.g)return _;if(!_)return null;try{var I=JSON.parse(_);if(I){for(d=0;d<I.length;d++)if(Array.isArray(I[d])){var O=I[d];if(!(2>O.length)){var q=O[1];if(Array.isArray(q)&&!(1>q.length)){var J=q[0];if(J!="noop"&&J!="stop"&&J!="close")for(var pe=1;pe<q.length;pe++)q[pe]=""}}}}return za(I)}catch{return _}}var mo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function Ei(){}C(Ei,vi),Ei.prototype.g=function(){return new XMLHttpRequest},Ei.prototype.i=function(){return{}},Xn=new Ei;function Jn(d,_,I,O){this.j=d,this.i=_,this.l=I,this.R=O||1,this.U=new yi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tc}function Tc(){this.i=null,this.g="",this.h=!1}var Qa={},go={};function yo(d,_,I){d.L=1,d.v=_s(Cn(_)),d.m=I,d.P=!0,Ga(d,null)}function Ga(d,_){d.F=Date.now(),it(d),d.A=Cn(d.v);var I=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),Es(I.i,"t",O),d.C=0,I=d.j.J,d.h=new Tc,d.g=Bc(d.j,I?_:null,!d.m),0<d.O&&(d.M=new gi(w(d.Y,d,d.g),d.O)),_=d.U,I=d.g,O=d.ca;var q="readystatechange";Array.isArray(q)||(q&&(Fa[0]=q.toString()),q=Fa);for(var J=0;J<q.length;J++){var pe=qn(I,q[J],O||_.handleEvent,!1,_.h||_);if(!pe)break;_.g[pe.key]=pe}_=d.H?N(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Wr(),xi(d.i,d.u,d.A,d.l,d.R,d.m)}Jn.prototype.ca=function(d){d=d.target;const _=this.M;_&&un(d)==3?_.j():this.Y(d)},Jn.prototype.Y=function(d){try{if(d==this.g)e:{const Tt=un(this.g);var _=this.g.Ba();const Ln=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||tl(this.g)))){this.J||Tt!=4||_==7||(_==8||0>=Ln?Wr(3):Wr(2)),Ci(this);var I=this.g.Z();this.X=I;t:if(Ic(this)){var O=tl(this.g);d="";var q=O.length,J=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),gs(this);var pe="";break t}this.h.i=new u.TextDecoder}for(_=0;_<q;_++)this.h.h=!0,d+=this.h.i.decode(O[_],{stream:!(J&&_==q-1)});O.length=0,this.h.g+=d,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=I==200,po(this.i,this.u,this.A,this.l,this.R,Tt,I),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Pt=this.g;if((et=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(et)){var Qe=et;break t}}Qe=null}if(I=Qe)Yn(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ya(this,I);else{this.o=!1,this.s=3,Et(12),Mn(this),gs(this);break e}}if(this.P){I=!0;let Tn;for(;!this.J&&this.C<pe.length;)if(Tn=Af(this,pe),Tn==go){Tt==4&&(this.s=4,Et(14),I=!1),Yn(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==Qa){this.s=4,Et(15),Yn(this.i,this.l,pe,"[Invalid Chunk]"),I=!1;break}else Yn(this.i,this.l,Tn,null),Ya(this,Tn);if(Ic(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||pe.length!=0||this.h.h||(this.s=1,Et(16),I=!1),this.o=this.o&&I,!I)Yn(this.i,this.l,pe,"[Invalid Chunked Response]"),Mn(this),gs(this);else if(0<pe.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),rl(Lt),Lt.M=!0,Et(11))}}else Yn(this.i,this.l,pe,null),Ya(this,pe);Tt==4&&Mn(this),this.o&&!this.J&&(Tt==4?Ao(this.j,this):(this.o=!1,it(this)))}else Co(this.g),I==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),Mn(this),gs(this)}}}catch{}finally{}};function Ic(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Af(d,_){var I=d.C,O=_.indexOf(`
`,I);return O==-1?go:(I=Number(_.substring(I,O)),isNaN(I)?Qa:(O+=1,O+I>_.length?go:(_=_.slice(O,O+I),d.C=O+I,_)))}Jn.prototype.cancel=function(){this.J=!0,Mn(this)};function it(d){d.S=Date.now()+d.I,bc(d,d.I)}function bc(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Gn(w(d.ba,d),_)}function Ci(d){d.B&&(u.clearTimeout(d.B),d.B=null)}Jn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ka(this.i,this.A),this.L!=2&&(Wr(),Et(17)),Mn(this),this.s=2,gs(this)):bc(this,this.S-d)};function gs(d){d.j.G==0||d.J||Ao(d.j,d)}function Mn(d){Ci(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,$a(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function Ya(d,_){try{var I=d.j;if(I.G!=0&&(I.g==d||sn(I.h,d))){if(!d.K&&sn(I.h,d)&&I.G==3){try{var O=I.Da.g.parse(_)}catch{O=null}if(Array.isArray(O)&&O.length==3){var q=O;if(q[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<d.F)bo(I),rr(I);else break e;Io(I),Et(18)}}else I.za=q[1],0<I.za-I.T&&37500>q[2]&&I.F&&I.v==0&&!I.C&&(I.C=Gn(w(I.Za,I),6e3));if(1>=Rc(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Yr(I,11)}else if((d.K||I.g==d)&&bo(I),!D(_))for(q=I.Da.g.parse(_),_=0;_<q.length;_++){let Qe=q[_];if(I.T=Qe[0],Qe=Qe[1],I.G==2)if(Qe[0]=="c"){I.K=Qe[1],I.ia=Qe[2];const Lt=Qe[3];Lt!=null&&(I.la=Lt,I.j.info("VER="+I.la));const Tt=Qe[4];Tt!=null&&(I.Aa=Tt,I.j.info("SVER="+I.Aa));const Ln=Qe[5];Ln!=null&&typeof Ln=="number"&&0<Ln&&(O=1.5*Ln,I.L=O,I.j.info("backChannelRequestTimeoutMs_="+O)),O=I;const Tn=d.g;if(Tn){const Ni=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ni){var J=O.h;J.g||Ni.indexOf("spdy")==-1&&Ni.indexOf("quic")==-1&&Ni.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Xa(J,J.h),J.h=null))}if(O.D){const No=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;No&&(O.ya=No,nt(O.I,O.D,No))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-d.F,I.j.info("Handshake RTT: "+I.R+"ms")),O=I;var pe=d;if(O.qa=Uc(O,O.J?O.ia:null,O.W),pe.K){Nc(O.h,pe);var et=pe,Pt=O.L;Pt&&(et.I=Pt),et.B&&(Ci(et),it(et)),O.g=pe}else Ri(O);0<I.i.length&&Sr(I)}else Qe[0]!="stop"&&Qe[0]!="close"||Yr(I,7);else I.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Yr(I,7):Ut(I):Qe[0]!="noop"&&I.l&&I.l.ta(Qe),I.v=0)}}Wr(4)}catch{}}var Ac=class{constructor(d,_){this.g=d,this.map=_}};function Si(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function En(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Rc(d){return d.h?1:d.g?d.g.size:0}function sn(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Xa(d,_){d.g?d.g.add(_):d.h=_}function Nc(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Si.prototype.cancel=function(){if(this.i=Pc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Pc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const I of d.g.values())_=_.concat(I.D);return _}return S(d.i)}function vo(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var _=[],I=d.length,O=0;O<I;O++)_.push(d[O]);return _}_=[],I=0;for(O in d)_[I++]=d[O];return _}function wo(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var _=[];d=d.length;for(var I=0;I<d;I++)_.push(I);return _}_=[],I=0;for(const O in d)_[I++]=O;return _}}}function ys(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var I=wo(d),O=vo(d),q=O.length,J=0;J<q;J++)_.call(void 0,O[J],I&&I[J],d)}var Ti=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rf(d,_){if(d){d=d.split("&");for(var I=0;I<d.length;I++){var O=d[I].indexOf("="),q=null;if(0<=O){var J=d[I].substring(0,O);q=d[I].substring(O+1)}else J=d[I];_(J,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function qr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof qr){this.h=d.h,Ii(this,d.j),this.o=d.o,this.g=d.g,vs(this,d.s),this.l=d.l;var _=d.i,I=new xr;I.i=_.i,_.g&&(I.g=new Map(_.g),I.h=_.h),ws(this,I),this.m=d.m}else d&&(_=String(d).match(Ti))?(this.h=!1,Ii(this,_[1]||"",!0),this.o=Ke(_[2]||""),this.g=Ke(_[3]||"",!0),vs(this,_[4]),this.l=Ke(_[5]||"",!0),ws(this,_[6]||"",!0),this.m=Ke(_[7]||"")):(this.h=!1,this.i=new xr(null,this.h))}qr.prototype.toString=function(){var d=[],_=this.j;_&&d.push(xs(_,_o,!0),":");var I=this.g;return(I||_=="file")&&(d.push("//"),(_=this.o)&&d.push(xs(_,_o,!0),"@"),d.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&d.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&d.push("/"),d.push(xs(I,I.charAt(0)=="/"?Mc:Dc,!0))),(I=this.i.toString())&&d.push("?",I),(I=this.m)&&d.push("#",xs(I,Ja)),d.join("")};function Cn(d){return new qr(d)}function Ii(d,_,I){d.j=I?Ke(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function vs(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function ws(d,_,I){_ instanceof xr?(d.i=_,Er(d.i,d.h)):(I||(_=xs(_,Oc)),d.i=new xr(_,d.h))}function nt(d,_,I){d.i.set(_,I)}function _s(d){return nt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ke(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function xs(d,_,I){return typeof d=="string"?(d=encodeURI(d).replace(_,kc),I&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function kc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var _o=/[#\/\?@]/g,Dc=/[#\?:]/g,Mc=/[#\?]/g,Oc=/[#\?@]/g,Ja=/#/g;function xr(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function zt(d){d.g||(d.g=new Map,d.h=0,d.i&&Rf(d.i,function(_,I){d.add(decodeURIComponent(_.replace(/\+/g," ")),I)}))}n=xr.prototype,n.add=function(d,_){zt(this),this.i=null,d=On(this,d);var I=this.g.get(d);return I||this.g.set(d,I=[]),I.push(_),this.h+=1,this};function Zn(d,_){zt(d),_=On(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function er(d,_){return zt(d),_=On(d,_),d.g.has(_)}n.forEach=function(d,_){zt(this),this.g.forEach(function(I,O){I.forEach(function(q){d.call(_,q,O,this)},this)},this)},n.na=function(){zt(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),I=[];for(let O=0;O<_.length;O++){const q=d[O];for(let J=0;J<q.length;J++)I.push(_[O])}return I},n.V=function(d){zt(this);let _=[];if(typeof d=="string")er(this,d)&&(_=_.concat(this.g.get(On(this,d))));else{d=Array.from(this.g.values());for(let I=0;I<d.length;I++)_=_.concat(d[I])}return _},n.set=function(d,_){return zt(this),this.i=null,d=On(this,d),er(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function Es(d,_,I){Zn(d,_),0<I.length&&(d.i=null,d.g.set(On(d,_),S(I)),d.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var I=0;I<_.length;I++){var O=_[I];const J=encodeURIComponent(String(O)),pe=this.V(O);for(O=0;O<pe.length;O++){var q=J;pe[O]!==""&&(q+="="+encodeURIComponent(String(pe[O]))),d.push(q)}}return this.i=d.join("&")};function On(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function Er(d,_){_&&!d.j&&(zt(d),d.i=null,d.g.forEach(function(I,O){var q=O.toLowerCase();O!=q&&(Zn(this,O),Es(this,q,I))},d)),d.j=_}function Nf(d,_){const I=new _i;if(u.Image){const O=new Image;O.onload=T(cn,I,"TestLoadImage: loaded",!0,_,O),O.onerror=T(cn,I,"TestLoadImage: error",!1,_,O),O.onabort=T(cn,I,"TestLoadImage: abort",!1,_,O),O.ontimeout=T(cn,I,"TestLoadImage: timeout",!1,_,O),u.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else _(!1)}function Lc(d,_){const I=new _i,O=new AbortController,q=setTimeout(()=>{O.abort(),cn(I,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:O.signal}).then(J=>{clearTimeout(q),J.ok?cn(I,"TestPingServer: ok",!0,_):cn(I,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),cn(I,"TestPingServer: error",!1,_)})}function cn(d,_,I,O,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),O(I)}catch{}}function Pf(){this.g=new Ba}function jc(d,_,I){const O=I||"";try{ys(d,function(q,J){let pe=q;h(q)&&(pe=za(q)),_.push(O+J+"="+encodeURIComponent(pe))})}catch(q){throw _.push(O+"type="+encodeURIComponent("_badmap")),q}}function Kr(d){this.l=d.Ub||null,this.j=d.eb||!1}C(Kr,vi),Kr.prototype.g=function(){return new bi(this.l,this.j)},Kr.prototype.i=function(d){return function(){return d}}({});function bi(d,_){Rt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(bi,Rt),n=bi.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,nr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||u).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,nr(this)),this.g&&(this.readyState=3,nr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?tr(this):nr(this),this.readyState==3&&Vc(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,tr(this))},n.Qa=function(d){this.g&&(this.response=d,tr(this))},n.ga=function(){this.g&&tr(this)};function tr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,nr(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var I=_.next();!I.done;)I=I.value,d.push(I[0]+": "+I[1]),I=_.next();return d.join(`\r
`)};function nr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Qr(d){let _="";return G(d,function(I,O){_+=O,_+=":",_+=I,_+=`\r
`}),_}function Cs(d,_,I){e:{for(O in I){var O=!1;break e}O=!0}O||(I=Qr(I),typeof d=="string"?I!=null&&encodeURIComponent(String(I)):nt(d,_,I))}function ht(d){Rt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(ht,Rt);var kf=/^https?$/i,Za=["POST","PUT"];n=ht.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,I,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?co(this.o):co(Xn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(J){Ai(this,J);return}if(d=I||"",I=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var q in O)I.set(q,O[q]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const J of O.keys())I.set(J,O.get(J));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(I.keys()).find(J=>J.toLowerCase()=="content-type"),q=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Za,_,void 0))||O||q||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,pe]of I)this.g.setRequestHeader(J,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Eo(this),this.u=!0,this.g.send(d),this.u=!1}catch(J){Ai(this,J)}};function Ai(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,xo(d),Sn(d)}function xo(d){d.A||(d.A=!0,Nt(d,"complete"),Nt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Nt(this,"complete"),Nt(this,"abort"),Sn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sn(this,!0)),ht.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?el(this):this.bb())},n.bb=function(){el(this)};function el(d){if(d.h&&typeof l<"u"&&(!d.v[1]||un(d)!=4||d.Z()!=2)){if(d.u&&un(d)==4)Va(d.Ea,0,d);else if(Nt(d,"readystatechange"),un(d)==4){d.h=!1;try{const pe=d.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var I;if(!(I=_)){var O;if(O=pe===0){var q=String(d.D).match(Ti)[1]||null;!q&&u.self&&u.self.location&&(q=u.self.location.protocol.slice(0,-1)),O=!kf.test(q?q.toLowerCase():"")}I=O}if(I)Nt(d,"complete"),Nt(d,"success");else{d.m=6;try{var J=2<un(d)?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.Z()+"]",xo(d)}}finally{Sn(d)}}}}function Sn(d,_){if(d.g){Eo(d);const I=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Nt(d,"ready");try{I.onreadystatechange=O}catch{}}}function Eo(d){d.I&&(u.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function un(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Ua(_)}};function tl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Co(d){const _={};d=(d.g&&2<=un(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(D(d[O]))continue;var I=F(d[O]);const q=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const J=_[q]||[];_[q]=J,J.push(I)}M(_,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cr(d,_,I){return I&&I.internalChannelParams&&I.internalChannelParams[d]||_}function nl(d){this.Aa=0,this.i=[],this.j=new _i,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cr("baseRetryDelayMs",5e3,d),this.cb=Cr("retryDelaySeedMs",1e4,d),this.Wa=Cr("forwardChannelMaxRetries",2,d),this.wa=Cr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Si(d&&d.concurrentRequestLimit),this.Da=new Pf,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=nl.prototype,n.la=8,n.G=1,n.connect=function(d,_,I,O){Et(0),this.W=d,this.H=_||{},I&&O!==void 0&&(this.H.OSID=I,this.H.OAID=O),this.F=this.X,this.I=Uc(this,null,this.W),Sr(this)};function Ut(d){if(So(d),d.G==3){var _=d.U++,I=Cn(d.I);if(nt(I,"SID",d.K),nt(I,"RID",_),nt(I,"TYPE","terminate"),Gr(d,I),_=new Jn(d,d.j,_),_.L=2,_.v=_s(Cn(I)),I=!1,u.navigator&&u.navigator.sendBeacon)try{I=u.navigator.sendBeacon(_.v.toString(),"")}catch{}!I&&u.Image&&(new Image().src=_.v,I=!0),I||(_.g=Bc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),it(_)}zc(d)}function rr(d){d.g&&(rl(d),d.g.cancel(),d.g=null)}function So(d){rr(d),d.u&&(u.clearTimeout(d.u),d.u=null),bo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function Sr(d){if(!En(d.h)&&!d.s){d.s=!0;var _=d.Ga;ue||le(),Y||(ue(),Y=!0),ne.add(_,d),d.B=0}}function Df(d,_){return Rc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Gn(w(d.Ga,d,_),$c(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const q=new Jn(this,this.j,d);let J=this.o;if(this.S&&(J?(J=N(J),j(J,this.S)):J=this.S),this.m!==null||this.O||(q.H=J,J=null),this.P)e:{for(var _=0,I=0;I<this.i.length;I++){t:{var O=this.i[I];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(_+=O,4096<_){_=I;break e}if(_===4096||I===this.i.length-1){_=I+1;break e}}_=1e3}else _=1e3;_=Ss(this,q,_),I=Cn(this.I),nt(I,"RID",d),nt(I,"CVER",22),this.D&&nt(I,"X-HTTP-Session-Id",this.D),Gr(this,I),J&&(this.O?_="headers="+encodeURIComponent(String(Qr(J)))+"&"+_:this.m&&Cs(I,this.m,J)),Xa(this.h,q),this.Ua&&nt(I,"TYPE","init"),this.P?(nt(I,"$req",_),nt(I,"SID","null"),q.T=!0,yo(q,I,null)):yo(q,I,_),this.G=2}}else this.G==3&&(d?To(this,d):this.i.length==0||En(this.h)||To(this))};function To(d,_){var I;_?I=_.l:I=d.U++;const O=Cn(d.I);nt(O,"SID",d.K),nt(O,"RID",I),nt(O,"AID",d.T),Gr(d,O),d.m&&d.o&&Cs(O,d.m,d.o),I=new Jn(d,d.j,I,d.B+1),d.m===null&&(I.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Ss(d,I,1e3),I.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Xa(d.h,I),yo(I,O,_)}function Gr(d,_){d.H&&G(d.H,function(I,O){nt(_,O,I)}),d.l&&ys({},function(I,O){nt(_,O,I)})}function Ss(d,_,I){I=Math.min(d.i.length,I);var O=d.l?w(d.l.Na,d.l,d):null;e:{var q=d.i;let J=-1;for(;;){const pe=["count="+I];J==-1?0<I?(J=q[0].g,pe.push("ofs="+J)):J=0:pe.push("ofs="+J);let et=!0;for(let Pt=0;Pt<I;Pt++){let Qe=q[Pt].g;const Lt=q[Pt].map;if(Qe-=J,0>Qe)J=Math.max(0,q[Pt].g-100),et=!1;else try{jc(Lt,pe,"req"+Qe+"_")}catch{O&&O(Lt)}}if(et){O=pe.join("&");break e}}}return d=d.i.splice(0,I),_.D=d,O}function Ri(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;ue||le(),Y||(ue(),Y=!0),ne.add(_,d),d.v=0}}function Io(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Gn(w(d.Fa,d),$c(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Fc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Gn(w(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),rr(this),Fc(this))};function rl(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function Fc(d){d.g=new Jn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Cn(d.qa);nt(_,"RID","rpc"),nt(_,"SID",d.K),nt(_,"AID",d.T),nt(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&nt(_,"TO",d.ja),nt(_,"TYPE","xmlhttp"),Gr(d,_),d.m&&d.o&&Cs(_,d.m,d.o),d.L&&(d.g.I=d.L);var I=d.g;d=d.ia,I.L=1,I.v=_s(Cn(_)),I.m=null,I.P=!0,Ga(I,d)}n.Za=function(){this.C!=null&&(this.C=null,rr(this),Io(this),Et(19))};function bo(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function Ao(d,_){var I=null;if(d.g==_){bo(d),rl(d),d.g=null;var O=2}else if(sn(d.h,_))I=_.D,Nc(d.h,_),O=1;else return;if(d.G!=0){if(_.o)if(O==1){I=_.m?_.m.length:0,_=Date.now()-_.F;var q=d.B;O=wi(),Nt(O,new ho(O,I)),Sr(d)}else Ri(d);else if(q=_.s,q==3||q==0&&0<_.X||!(O==1&&Df(d,_)||O==2&&Io(d)))switch(I&&0<I.length&&(_=d.h,_.i=_.i.concat(I)),q){case 1:Yr(d,5);break;case 4:Yr(d,10);break;case 3:Yr(d,6);break;default:Yr(d,2)}}}function $c(d,_){let I=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(I*=2),I*_}function Yr(d,_){if(d.j.info("Error code "+_),_==2){var I=w(d.fb,d),O=d.Xa;const q=!O;O=new qr(O||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ii(O,"https"),_s(O),q?Nf(O.toString(),I):Lc(O.toString(),I)}else Et(2);d.G=0,d.l&&d.l.sa(_),zc(d),So(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function zc(d){if(d.G=0,d.ka=[],d.l){const _=Pc(d.h);(_.length!=0||d.i.length!=0)&&(b(d.ka,_),b(d.ka,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.ra()}}function Uc(d,_,I){var O=I instanceof qr?Cn(I):new qr(I);if(O.g!="")_&&(O.g=_+"."+O.g),vs(O,O.s);else{var q=u.location;O=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;var J=new qr(null);O&&Ii(J,O),_&&(J.g=_),q&&vs(J,q),I&&(J.l=I),O=J}return I=d.D,_=d.ya,I&&_&&nt(O,I,_),nt(O,"VER",d.la),Gr(d,O),O}function Bc(d,_,I){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new ht(new Kr({eb:I})):new ht(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function sl(){}n=sl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ro(){}Ro.prototype.g=function(d,_){return new on(d,_)};function on(d,_){Rt.call(this),this.g=new nl(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!D(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Tr(this)}C(on,Rt),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Ut(this.g)},on.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var I={};I.__data__=d,d=I}else this.u&&(I={},I.__data__=za(d),d=I);_.i.push(new Ac(_.Ya++,d)),_.G==3&&Sr(_)},on.prototype.N=function(){this.g.l=null,delete this.j,Ut(this.g),delete this.g,on.aa.N.call(this)};function Hc(d){wr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const I in _){d=I;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}C(Hc,wr);function Wc(){fo.call(this),this.status=1}C(Wc,fo);function Tr(d){this.g=d}C(Tr,sl),Tr.prototype.ua=function(){Nt(this.g,"a")},Tr.prototype.ta=function(d){Nt(this.g,new Hc(d))},Tr.prototype.sa=function(d){Nt(this.g,new Wc)},Tr.prototype.ra=function(){Nt(this.g,"b")},Ro.prototype.createWebChannel=Ro.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,Ix=function(){return new Ro},Tx=function(){return wi()},Sx=_r,jp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mo.NO_ERROR=0,mo.TIMEOUT=8,mo.HTTP_ERROR=6,nd=mo,Sc.COMPLETE="complete",Cx=Sc,uo.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",Rt.prototype.listen=Rt.prototype.K,Ml=uo,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,Ex=ht}).apply(typeof $u<"u"?$u:typeof self<"u"?self:typeof window<"u"?window:{});const K0="@firebase/firestore",Q0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ia="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new mx("@firebase/firestore");function ta(){return Gi.logLevel}function we(n,...e){if(Gi.logLevel<=Ye.DEBUG){const t=e.map(rg);Gi.debug(`Firestore (${Ia}): ${n}`,...t)}}function us(n,...e){if(Gi.logLevel<=Ye.ERROR){const t=e.map(rg);Gi.error(`Firestore (${Ia}): ${n}`,...t)}}function fa(n,...e){if(Gi.logLevel<=Ye.WARN){const t=e.map(rg);Gi.warn(`Firestore (${Ia}): ${n}`,...t)}}function rg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,bx(n,r,t)}function bx(n,e,t){let r=`FIRESTORE (${Ia}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw us(r),new Error(r)}function Ze(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||bx(e,i,r)}function Ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Ta{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class rN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(en.UNAUTHENTICATED))}shutdown(){}}class sN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class iN{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Ys;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ys,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},u=f=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>u(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ys)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string",31837,{l:r}),new Ax(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class oN{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aN{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new oN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,UR(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);const r=a=>{a.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,we("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new G0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new G0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=cN(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function ze(n,e){return n<e?-1:n>e?1:0}function Vp(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ze(r,i);{const a=Rx(),l=uN(a.encode(Y0(n,t)),a.encode(Y0(e,t)));return l!==0?l:ze(r,i)}}t+=r>65535?2:1}return ze(n.length,e.length)}function Y0(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function uN(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ze(n[t],e[t]);return ze(n.length,e.length)}function ha(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=-62135596800,J0=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*J0);return new st(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<X0)throw new _e(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J0}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-X0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new st(0,0))}static max(){return new Le(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="__name__";class Pr{constructor(e,t,r){t===void 0?t=0:t>e.length&&ke(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ke(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Pr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Pr.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return ze(e.length,t.length)}static compareSegments(e,t){const r=Pr.isNumericId(e),i=Pr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Pr.extractNumericId(e).compare(Pr.extractNumericId(t)):Vp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gs.fromString(e.substring(4,e.length-2))}}class ft extends Pr{construct(e,t,r){return new ft(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ft(t)}static emptyPath(){return new ft([])}}const dN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends Pr{construct(e,t,r){return new qt(e,t,r)}static isValidIdentifier(e){return dN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Z0}static keyField(){return new qt([Z0])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new _e(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new _e(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new _e(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new _e(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(t)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(ft.fromString(e))}static fromName(e){return new Ie(ft.fromString(e).popFirst(5))}static empty(){return new Ie(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new ft(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=-1;function fN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Le.fromTimestamp(r===1e9?new st(t+1,0):new st(t,r));return new Zs(i,Ie.empty(),e)}function hN(n){return new Zs(n.readTime,n.key,tc)}class Zs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Zs(Le.min(),Ie.empty(),tc)}static max(){return new Zs(Le.max(),Ie.empty(),tc)}}function pN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(n.documentKey,e.documentKey),t!==0?t:ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==mN)throw n;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,r)=>{t(e)})}static reject(e){return new ie((t,r)=>{r(e)})}static waitFor(e){return new ie((t,r)=>{let i=0,a=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++a,l&&a===i&&t()},f=>r(f))}),l=!0,a===i&&t()})}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next(i=>i?ie.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ie((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let f=0;f<a;f++){const h=f;t(e[h]).next(m=>{l[h]=m,++u,u===a&&r(l)},m=>i(m))}})}static doWhile(e,t){return new ie((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function yN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Aa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}qd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=-1;function Kd(n){return n==null}function wd(n){return n===0&&1/n==-1/0}function vN(n){return typeof n=="number"&&Number.isInteger(n)&&!wd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="";function wN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ew(e)),e=_N(n.get(t),e);return ew(e)}function _N(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case Px:t+="";break;default:t+=a}}return t}function ew(n){return n+Px+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ui(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function kx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){this.comparator=e,this.root=t||Wt.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zu(this.root,e,this.comparator,!0)}}class zu{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Wt.RED,this.left=i??Wt.EMPTY,this.right=a??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Wt(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,t,r,i,a){return this}insert(e,t,r){return new Wt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nw(this.data.getIterator())}getIteratorFrom(e){return new nw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class nw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new Nn([])}unionWith(e){let t=new Mt(qt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Nn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ha(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Dx("Invalid base64 string: "+a):a}}(e);return new Kt(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const xN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ei(n){if(Ze(!!n,39018),typeof n=="string"){let e=0;const t=xN.exec(n);if(Ze(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(n.seconds),nanos:St(n.nanos)}}function St(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ti(n){return typeof n=="string"?Kt.fromBase64String(n):Kt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="server_timestamp",Ox="__type__",Lx="__previous_value__",jx="__local_write_time__";function ig(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ox])===null||t===void 0?void 0:t.stringValue)===Mx}function Qd(n){const e=n.mapValue.fields[Lx];return ig(e)?Qd(e):e}function nc(n){const e=ei(n.mapValue.fields[jx].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,t,r,i,a,l,u,f,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=m}}const _d="(default)";class rc{constructor(e,t){this.projectId=e,this.database=t||_d}static empty(){return new rc("","")}get isDefaultDatabase(){return this.database===_d}isEqual(e){return e instanceof rc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="__type__",CN="__max__",Uu={mapValue:{}},Fx="__vector__",xd="value";function ni(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ig(n)?4:TN(n)?9007199254740991:SN(n)?10:11:ke(28295,{value:n})}function Fr(n,e){if(n===e)return!0;const t=ni(n);if(t!==ni(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return nc(n).isEqual(nc(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=ei(i.timestampValue),u=ei(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return ti(i.bytesValue).isEqual(ti(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return St(i.geoPointValue.latitude)===St(a.geoPointValue.latitude)&&St(i.geoPointValue.longitude)===St(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return St(i.integerValue)===St(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=St(i.doubleValue),u=St(a.doubleValue);return l===u?wd(l)===wd(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return ha(n.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(tw(l)!==tw(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!Fr(l[f],u[f])))return!1;return!0}(n,e);default:return ke(52216,{left:n})}}function sc(n,e){return(n.values||[]).find(t=>Fr(t,e))!==void 0}function pa(n,e){if(n===e)return 0;const t=ni(n),r=ni(e);if(t!==r)return ze(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return function(a,l){const u=St(a.integerValue||a.doubleValue),f=St(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return rw(n.timestampValue,e.timestampValue);case 4:return rw(nc(n),nc(e));case 5:return Vp(n.stringValue,e.stringValue);case 6:return function(a,l){const u=ti(a),f=ti(l);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),f=l.split("/");for(let h=0;h<u.length&&h<f.length;h++){const m=ze(u[h],f[h]);if(m!==0)return m}return ze(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const u=ze(St(a.latitude),St(l.latitude));return u!==0?u:ze(St(a.longitude),St(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return sw(n.arrayValue,e.arrayValue);case 10:return function(a,l){var u,f,h,m;const v=a.fields||{},w=l.fields||{},T=(u=v[xd])===null||u===void 0?void 0:u.arrayValue,C=(f=w[xd])===null||f===void 0?void 0:f.arrayValue,S=ze(((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0,((m=C==null?void 0:C.values)===null||m===void 0?void 0:m.length)||0);return S!==0?S:sw(T,C)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===Uu.mapValue&&l===Uu.mapValue)return 0;if(a===Uu.mapValue)return 1;if(l===Uu.mapValue)return-1;const u=a.fields||{},f=Object.keys(u),h=l.fields||{},m=Object.keys(h);f.sort(),m.sort();for(let v=0;v<f.length&&v<m.length;++v){const w=Vp(f[v],m[v]);if(w!==0)return w;const T=pa(u[f[v]],h[m[v]]);if(T!==0)return T}return ze(f.length,m.length)}(n.mapValue,e.mapValue);default:throw ke(23264,{Pe:t})}}function rw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ze(n,e);const t=ei(n),r=ei(e),i=ze(t.seconds,r.seconds);return i!==0?i:ze(t.nanos,r.nanos)}function sw(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=pa(t[i],r[i]);if(a)return a}return ze(t.length,r.length)}function ma(n){return Fp(n)}function Fp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ei(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ti(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ie.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=Fp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Fp(t.fields[l])}`;return i+"}"}(n.mapValue):ke(61005,{value:n})}function rd(n){switch(ni(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qd(n);return e?16+rd(e):16;case 5:return 2*n.stringValue.length;case 6:return ti(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+rd(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ui(r.fields,(a,l)=>{i+=a.length+rd(l)}),i}(n.mapValue);default:throw ke(13486,{value:n})}}function iw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $p(n){return!!n&&"integerValue"in n}function og(n){return!!n&&"arrayValue"in n}function ow(n){return!!n&&"nullValue"in n}function aw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sd(n){return!!n&&"mapValue"in n}function SN(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Vx])===null||t===void 0?void 0:t.stringValue)===Fx}function ql(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ui(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ql(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ql(n.arrayValue.values[t]);return e}return Object.assign({},n)}function TN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===CN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!sd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(t)}setAll(e){let t=qt.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=ql(l):i.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());sd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];sd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ui(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new wn(ql(this.value))}}function $x(n){const e=[];return ui(n.fields,(t,r)=>{const i=new qt([t]);if(sd(r)){const a=$x(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t,r,i,a,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new tn(e,0,Le.min(),Le.min(),Le.min(),wn.empty(),0)}static newFoundDocument(e,t,r,i){return new tn(e,1,t,Le.min(),r,i,0)}static newNoDocument(e,t){return new tn(e,2,t,Le.min(),Le.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new tn(e,3,t,Le.min(),Le.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,t){this.position=e,this.inclusive=t}}function lw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=Ie.comparator(Ie.fromName(l.referenceValue),t.key):r=pa(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function cw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,t="asc"){this.field=e,this.dir=t}}function IN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{}class At extends zx{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new AN(e,t,r):t==="array-contains"?new PN(e,r):t==="in"?new kN(e,r):t==="not-in"?new DN(e,r):t==="array-contains-any"?new MN(e,r):new At(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new RN(e,r):new NN(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(pa(t,this.value)):t!==null&&ni(this.value)===ni(t)&&this.matchesComparison(pa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends zx{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new hr(e,t)}matches(e){return Ux(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Ux(n){return n.op==="and"}function Bx(n){return bN(n)&&Ux(n)}function bN(n){for(const e of n.filters)if(e instanceof hr)return!1;return!0}function zp(n){if(n instanceof At)return n.field.canonicalString()+n.op.toString()+ma(n.value);if(Bx(n))return n.filters.map(e=>zp(e)).join(",");{const e=n.filters.map(t=>zp(t)).join(",");return`${n.op}(${e})`}}function Hx(n,e){return n instanceof At?function(r,i){return i instanceof At&&r.op===i.op&&r.field.isEqual(i.field)&&Fr(r.value,i.value)}(n,e):n instanceof hr?function(r,i){return i instanceof hr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,u)=>a&&Hx(l,i.filters[u]),!0):!1}(n,e):void ke(19439)}function Wx(n){return n instanceof At?function(t){return`${t.field.canonicalString()} ${t.op} ${ma(t.value)}`}(n):n instanceof hr?function(t){return t.op.toString()+" {"+t.getFilters().map(Wx).join(" ,")+"}"}(n):"Filter"}class AN extends At{constructor(e,t,r){super(e,t,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class RN extends At{constructor(e,t){super(e,"in",t),this.keys=qx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class NN extends At{constructor(e,t){super(e,"not-in",t),this.keys=qx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function qx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class PN extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return og(t)&&sc(t.arrayValue,this.value)}}class kN extends At{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&sc(this.value.arrayValue,t)}}class DN extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!sc(this.value.arrayValue,t)}}class MN extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!og(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>sc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,t=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.Ie=null}}function uw(n,e=null,t=[],r=[],i=null,a=null,l=null){return new ON(n,e,t,r,i,a,l)}function ag(n){const e=Ve(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>zp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Kd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ma(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ma(r)).join(",")),e.Ie=t}return e.Ie}function lg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!IN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Hx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cw(n.startAt,e.startAt)&&cw(n.endAt,e.endAt)}function Up(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,t=null,r=[],i=[],a=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function LN(n,e,t,r,i,a,l,u){return new Ra(n,e,t,r,i,a,l,u)}function cg(n){return new Ra(n)}function dw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Kx(n){return n.collectionGroup!==null}function Kl(n){const e=Ve(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Mt(qt.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new ic(a,r))}),t.has(qt.keyField().canonicalString())||e.Ee.push(new ic(qt.keyField(),r))}return e.Ee}function Lr(n){const e=Ve(n);return e.de||(e.de=jN(e,Kl(n))),e.de}function jN(n,e){if(n.limitType==="F")return uw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new ic(i.field,a)});const t=n.endAt?new Ed(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ed(n.startAt.position,n.startAt.inclusive):null;return uw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Bp(n,e){const t=n.filters.concat([e]);return new Ra(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Hp(n,e,t){return new Ra(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Gd(n,e){return lg(Lr(n),Lr(e))&&n.limitType===e.limitType}function Qx(n){return`${ag(Lr(n))}|lt:${n.limitType}`}function na(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Wx(i)).join(", ")}]`),Kd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ma(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ma(i)).join(",")),`Target(${r})`}(Lr(n))}; limitType=${n.limitType})`}function Yd(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ie.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Kl(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,f){const h=lw(l,u,f);return l.inclusive?h<=0:h<0}(r.startAt,Kl(r),i)||r.endAt&&!function(l,u,f){const h=lw(l,u,f);return l.inclusive?h>=0:h>0}(r.endAt,Kl(r),i))}(n,e)}function VN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Gx(n){return(e,t)=>{let r=!1;for(const i of Kl(n)){const a=FN(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function FN(n,e,t){const r=n.field.isKeyField()?Ie.comparator(e.key,t.key):function(a,l,u){const f=l.data.field(a),h=u.data.field(a);return f!==null&&h!==null?pa(f,h):ke(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ke(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ui(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return kx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=new vt(Ie.comparator);function ds(){return $N}const Yx=new vt(Ie.comparator);function Ol(...n){let e=Yx;for(const t of n)e=e.insert(t.key,t);return e}function Xx(n){let e=Yx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Hi(){return Ql()}function Jx(){return Ql()}function Ql(){return new ro(n=>n.toString(),(n,e)=>n.isEqual(e))}const zN=new vt(Ie.comparator),UN=new Mt(Ie.comparator);function We(...n){let e=UN;for(const t of n)e=e.add(t);return e}const BN=new Mt(ze);function HN(){return BN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wd(e)?"-0":e}}function Zx(n){return{integerValue:""+n}}function WN(n,e){return vN(e)?Zx(e):ug(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this._=void 0}}function qN(n,e,t){return n instanceof Cd?function(i,a){const l={fields:{[Ox]:{stringValue:Mx},[jx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&ig(a)&&(a=Qd(a)),a&&(l.fields[Lx]=a),{mapValue:l}}(t,e):n instanceof oc?tE(n,e):n instanceof ac?nE(n,e):function(i,a){const l=eE(i,a),u=fw(l)+fw(i.Re);return $p(l)&&$p(i.Re)?Zx(u):ug(i.serializer,u)}(n,e)}function KN(n,e,t){return n instanceof oc?tE(n,e):n instanceof ac?nE(n,e):t}function eE(n,e){return n instanceof Sd?function(r){return $p(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Cd extends Xd{}class oc extends Xd{constructor(e){super(),this.elements=e}}function tE(n,e){const t=rE(e);for(const r of n.elements)t.some(i=>Fr(i,r))||t.push(r);return{arrayValue:{values:t}}}class ac extends Xd{constructor(e){super(),this.elements=e}}function nE(n,e){let t=rE(e);for(const r of n.elements)t=t.filter(i=>!Fr(i,r));return{arrayValue:{values:t}}}class Sd extends Xd{constructor(e,t){super(),this.serializer=e,this.Re=t}}function fw(n){return St(n.integerValue||n.doubleValue)}function rE(n){return og(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function QN(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof oc&&i instanceof oc||r instanceof ac&&i instanceof ac?ha(r.elements,i.elements,Fr):r instanceof Sd&&i instanceof Sd?Fr(r.Re,i.Re):r instanceof Cd&&i instanceof Cd}(n.transform,e.transform)}class GN{constructor(e,t){this.version=e,this.transformResults=t}}class _n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function id(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Jd{}function sE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Zd(n.key,_n.none()):new mc(n.key,n.data,_n.none());{const t=n.data,r=wn.empty();let i=new Mt(qt.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new di(n.key,r,new Nn(i.toArray()),_n.none())}}function YN(n,e,t){n instanceof mc?function(i,a,l){const u=i.value.clone(),f=pw(i.fieldTransforms,a,l.transformResults);u.setAll(f),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof di?function(i,a,l){if(!id(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=pw(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(iE(i)),f.setAll(u),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Gl(n,e,t,r){return n instanceof mc?function(a,l,u,f){if(!id(a.precondition,l))return u;const h=a.value.clone(),m=mw(a.fieldTransforms,f,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof di?function(a,l,u,f){if(!id(a.precondition,l))return u;const h=mw(a.fieldTransforms,f,l),m=l.data;return m.setAll(iE(a)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(a,l,u){return id(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function XN(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=eE(r.transform,i||null);a!=null&&(t===null&&(t=wn.empty()),t.set(r.field,a))}return t||null}function hw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ha(r,i,(a,l)=>QN(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class mc extends Jd{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class di extends Jd{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function iE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function pw(n,e,t){const r=new Map;Ze(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,KN(l,u,t[i]))}return r}function mw(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,qN(a,l,e))}return r}class Zd extends Jd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JN extends Jd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&YN(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Gl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Gl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Jx();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=t.has(i.key)?null:u;const f=sE(l,u);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(Le.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&ha(this.mutations,e.mutations,(t,r)=>hw(t,r))&&ha(this.baseMutations,e.baseMutations,(t,r)=>hw(t,r))}}class dg{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ze(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return zN}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new dg(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eP=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Ge;function nP(n){switch(n){case se.OK:return ke(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return ke(15467,{code:n})}}function oE(n){if(n===void 0)return us("GRPC error has no .code"),se.UNKNOWN;switch(n){case bt.OK:return se.OK;case bt.CANCELLED:return se.CANCELLED;case bt.UNKNOWN:return se.UNKNOWN;case bt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case bt.INTERNAL:return se.INTERNAL;case bt.UNAVAILABLE:return se.UNAVAILABLE;case bt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case bt.NOT_FOUND:return se.NOT_FOUND;case bt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case bt.ABORTED:return se.ABORTED;case bt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case bt.DATA_LOSS:return se.DATA_LOSS;default:return ke(39323,{code:n})}}(Ge=bt||(bt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=new Gs([4294967295,4294967295],0);function gw(n){const e=Rx().encode(n),t=new xx;return t.update(e),new Uint8Array(t.digest())}function yw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Gs([t,r],0),new Gs([i,a],0)]}class fg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ll(`Invalid padding: ${t}`);if(r<0)throw new Ll(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Gs.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Gs.fromNumber(r)));return i.compare(rP)===1&&(i=new Gs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=gw(e),[r,i]=yw(t);for(let a=0;a<this.hashCount;a++){const l=this.we(r,i,a);if(!this.be(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new fg(a,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.pe===0)return;const t=gw(e),[r,i]=yw(t);for(let a=0;a<this.hashCount;a++){const l=this.we(r,i,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,gc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ef(Le.min(),i,new vt(ze),ds(),We())}}class gc{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new gc(r,t,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class aE{constructor(e,t){this.targetId=e,this.Ce=t}}class lE{constructor(e,t,r=Kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class vw{constructor(){this.Fe=0,this.Me=ww(),this.xe=Kt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=We(),t=We(),r=We();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ke(38017,{changeType:a})}}),new gc(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=ww()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class sP{constructor(e){this.ze=e,this.je=new Map,this.He=ds(),this.Je=Bu(),this.Ye=Bu(),this.Ze=new vt(ze)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:ke(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const a=i.target;if(Up(a))if(r===0){const l=new Ie(a.path);this.tt(t,l,tn.newNoDocument(l,Le.min()))}else Ze(r===1,20013,{expectedCount:r});else{const l=this.ut(t);if(l!==r){const u=this.ct(e),f=u?this.lt(u,e,l):1;if(f!==0){this.st(t);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,u;try{l=ti(r).toUint8Array()}catch(f){if(f instanceof Dx)return fa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new fg(l,i,a)}catch(f){return fa(f instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.pe===0?null:u}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.tt(t,a,null),i++)}),i}It(e){const t=new Map;this.je.forEach((a,l)=>{const u=this._t(l);if(u){if(a.current&&Up(u.target)){const f=new Ie(u.target.path);this.Et(f).has(l)||this.dt(l,f)||this.tt(l,f,tn.newNoDocument(f,e))}a.Le&&(t.set(l,a.qe()),a.Qe())}});let r=We();this.Ye.forEach((a,l)=>{let u=!0;l.forEachWhile(f=>{const h=this._t(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.He.forEach((a,l)=>l.setReadTime(e));const i=new ef(e,t,this.Ze,this.He,r);return this.He=ds(),this.Je=Bu(),this.Ye=Bu(),this.Ze=new vt(ze),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new vw,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Mt(ze),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Mt(ze),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||we("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new vw),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Bu(){return new vt(Ie.comparator)}function ww(){return new vt(Ie.comparator)}const iP={asc:"ASCENDING",desc:"DESCENDING"},oP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aP={and:"AND",or:"OR"};class lP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Wp(n,e){return n.useProto3Json||Kd(e)?e:{value:e}}function Td(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function cP(n,e){return Td(n,e.toTimestamp())}function jr(n){return Ze(!!n,49232),Le.fromTimestamp(function(t){const r=ei(t);return new st(r.seconds,r.nanos)}(n))}function hg(n,e){return qp(n,e).canonicalString()}function qp(n,e){const t=function(i){return new ft(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function uE(n){const e=ft.fromString(n);return Ze(mE(e),10190,{key:e.toString()}),e}function Kp(n,e){return hg(n.databaseId,e.path)}function up(n,e){const t=uE(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(fE(t))}function dE(n,e){return hg(n.databaseId,e)}function uP(n){const e=uE(n);return e.length===4?ft.emptyPath():fE(e)}function Qp(n){return new ft(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fE(n){return Ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function _w(n,e,t){return{name:Kp(n,e),fields:t.value.mapValue.fields}}function dP(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ke(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(h,m){return h.useProto3Json?(Ze(m===void 0||typeof m=="string",58123),Kt.fromBase64String(m||"")):(Ze(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Kt.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(h){const m=h.code===void 0?se.UNKNOWN:oE(h.code);return new _e(m,h.message||"")}(l);t=new lE(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=up(n,r.document.name),a=jr(r.document.updateTime),l=r.document.createTime?jr(r.document.createTime):Le.min(),u=new wn({mapValue:{fields:r.document.fields}}),f=tn.newFoundDocument(i,a,l,u),h=r.targetIds||[],m=r.removedTargetIds||[];t=new od(h,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=up(n,r.document),a=r.readTime?jr(r.readTime):Le.min(),l=tn.newNoDocument(i,a),u=r.removedTargetIds||[];t=new od([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=up(n,r.document),a=r.removedTargetIds||[];t=new od([],a,i,null)}else{if(!("filter"in e))return ke(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new tP(i,a),u=r.targetId;t=new aE(u,l)}}return t}function fP(n,e){let t;if(e instanceof mc)t={update:_w(n,e.key,e.value)};else if(e instanceof Zd)t={delete:Kp(n,e.key)};else if(e instanceof di)t={update:_w(n,e.key,e.data),updateMask:xP(e.fieldMask)};else{if(!(e instanceof JN))return ke(16599,{ft:e.type});t={verify:Kp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const u=l.transform;if(u instanceof Cd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof oc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ac)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Sd)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw ke(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:cP(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ke(27497)}(n,e.precondition)),t}function hP(n,e){return n&&n.length>0?(Ze(e!==void 0,14353),n.map(t=>function(i,a){let l=i.updateTime?jr(i.updateTime):jr(a);return l.isEqual(Le.min())&&(l=jr(a)),new GN(l,i.transformResults||[])}(t,e))):[]}function pP(n,e){return{documents:[dE(n,e.path)]}}function mP(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=dE(n,i);const a=function(h){if(h.length!==0)return pE(hr.create(h,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(h){if(h.length!==0)return h.map(m=>function(w){return{field:ra(w.field),direction:vP(w.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Wp(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:i}}function gP(n){let e=uP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ze(r===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let a=[];t.where&&(a=function(v){const w=hE(v);return w instanceof hr&&Bx(w)?w.getFilters():[w]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(w=>function(C){return new ic(sa(C.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(w))}(t.orderBy));let u=null;t.limit&&(u=function(v){let w;return w=typeof v=="object"?v.value:v,Kd(w)?null:w}(t.limit));let f=null;t.startAt&&(f=function(v){const w=!!v.before,T=v.values||[];return new Ed(T,w)}(t.startAt));let h=null;return t.endAt&&(h=function(v){const w=!v.before,T=v.values||[];return new Ed(T,w)}(t.endAt)),LN(e,i,l,a,u,"F",f,h)}function yP(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=sa(t.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=sa(t.unaryFilter.field);return At.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=sa(t.unaryFilter.field);return At.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=sa(t.unaryFilter.field);return At.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}}(n):n.fieldFilter!==void 0?function(t){return At.create(sa(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return hr.create(t.compositeFilter.filters.map(r=>hE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ke(1026)}}(t.compositeFilter.op))}(n):ke(30097,{filter:n})}function vP(n){return iP[n]}function wP(n){return oP[n]}function _P(n){return aP[n]}function ra(n){return{fieldPath:n.canonicalString()}}function sa(n){return qt.fromServerFormat(n.fieldPath)}function pE(n){return n instanceof At?function(t){if(t.op==="=="){if(aw(t.value))return{unaryFilter:{field:ra(t.field),op:"IS_NAN"}};if(ow(t.value))return{unaryFilter:{field:ra(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(aw(t.value))return{unaryFilter:{field:ra(t.field),op:"IS_NOT_NAN"}};if(ow(t.value))return{unaryFilter:{field:ra(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ra(t.field),op:wP(t.op),value:t.value}}}(n):n instanceof hr?function(t){const r=t.getFilters().map(i=>pE(i));return r.length===1?r[0]:{compositeFilter:{op:_P(t.op),filters:r}}}(n):ke(54877,{filter:n})}function xP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function mE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,t,r,i,a=Le.min(),l=Le.min(),u=Kt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new Ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.wt=e}}function CP(n){const e=gP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Hp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.Cn=new TP}addToCollectionParentIndex(e,t){return this.Cn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Zs.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Zs.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class TP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Mt(ft.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mt(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gE=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(gE,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new ga(0)}static lr(){return new ga(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="LruGarbageCollector",IP=1048576;function Cw([n,e],[t,r]){const i=ze(n,t);return i===0?ze(e,r):i}class bP{constructor(e){this.Er=e,this.buffer=new Mt(Cw),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Cw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class AP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){we(Ew,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Aa(t)?we(Ew,"Ignoring IndexedDB error during garbage collection: ",t):await ba(t)}await this.mr(3e5)})}}class RP{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(qd.le);const r=new bP(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(xw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xw):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,a,l,u,f,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,l=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(r=v,u=Date.now(),this.removeTargets(e,r,t))).next(v=>(a=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(h=Date.now(),ta()<=Ye.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(f-u)+`ms
	Removed ${v} documents in `+(h-f)+`ms
Total Duration: ${h-m}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:v})))}}function NP(n,e){return new RP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.changes=new ro(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Gl(r.mutation,i,Nn.empty(),st.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,t,r=We()){const i=Hi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=Ol();return a.forEach((u,f)=>{l=l.insert(u,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Hi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,We()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let a=ds();const l=Ql(),u=function(){return Ql()}();return t.forEach((f,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof di)?a=a.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),Gl(m.mutation,h,m.mutation.getFieldMask(),st.now())):l.set(h.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((h,m)=>l.set(h,m)),t.forEach((h,m)=>{var v;return u.set(h,new kP(m,(v=l.get(h))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,t){const r=Ql();let i=new vt((l,u)=>l-u),a=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(f=>{const h=t.get(f);if(h===null)return;let m=r.get(f)||Nn.empty();m=u.applyToLocalView(h,m),r.set(f,m);const v=(i.get(u.batchId)||We()).add(f);i=i.insert(u.batchId,v)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),h=f.key,m=f.value,v=Jx();m.forEach(w=>{if(!a.has(w)){const T=sE(t.get(w),r.get(w));T!==null&&v.set(w,T),a=a.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,v))}return ie.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return Ie.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Kx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ie.resolve(Hi());let u=tc,f=a;return l.next(h=>ie.forEach(h,(m,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),a.get(m)?ie.resolve():this.remoteDocumentCache.getEntry(e,m).next(w=>{f=f.insert(m,w)}))).next(()=>this.populateOverlays(e,h,a)).next(()=>this.computeViews(e,f,h,We())).next(m=>({batchId:u,changes:Xx(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next(r=>{let i=Ol();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=Ol();return this.indexManager.getCollectionParents(e,a).next(u=>ie.forEach(u,f=>{const h=function(v,w){return new Ra(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(m=>{m.forEach((v,w)=>{l=l.insert(v,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((f,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,tn.newInvalidDocument(m)))});let u=Ol();return l.forEach((f,h)=>{const m=a.get(f);m!==void 0&&Gl(m.mutation,h,Nn.empty(),st.now()),Yd(t,h)&&(u=u.insert(f,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ie.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:jr(i.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:CP(i.bundledQuery),readTime:jr(i.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(){this.overlays=new vt(Ie.comparator),this.Qr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Hi();return ie.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.St(e,t,a)}),ie.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const i=Hi(),a=t.length+1,l=new Ie(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,h=f.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new vt((h,m)=>h-m);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let m=a.get(h.largestBatchId);m===null&&(m=Hi(),a=a.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const u=Hi(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((h,m)=>u.set(h,m)),!(u.size()>=i)););return ie.resolve(u)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new eP(t,r));let a=this.Qr.get(t);a===void 0&&(a=We(),this.Qr.set(t,a)),this.Qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this.$r=new Mt($t.Ur),this.Kr=new Mt($t.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new $t(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new $t(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new Ie(new ft([])),r=new $t(t,e),i=new $t(t,e+1),a=[];return this.Kr.forEachInRange([r,i],l=>{this.zr(l),a.push(l.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Ie(new ft([])),r=new $t(t,e),i=new $t(t,e+1);let a=We();return this.Kr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new $t(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Ie.comparator(e.key,t.key)||ze(e.Zr,t.Zr)}static Wr(e,t){return ze(e.Zr,t.Zr)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Mt($t.Ur)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new ZN(a,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Xr=this.Xr.add(new $t(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ie.resolve(l)}lookupMutationBatch(e,t){return ie.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ti(r),a=i<0?0:i;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?sg:this.nr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new $t(t,0),i=new $t(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,i],l=>{const u=this.ei(l.Zr);a.push(u)}),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mt(ze);return t.forEach(i=>{const a=new $t(i,0),l=new $t(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,l],u=>{r=r.add(u.Zr)})}),ie.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ie.isDocumentKey(a)||(a=a.child(""));const l=new $t(new Ie(a),0);let u=new Mt(ze);return this.Xr.forEachWhile(f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(f.Zr)),!0)},l),ie.resolve(this.ni(u))}ni(e){const t=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ze(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ie.forEach(t.mutations,i=>{const a=new $t(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new $t(t,0),i=this.Xr.firstAfterOrEqual(r);return ie.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.ii=e,this.docs=function(){return new vt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(t))}getEntries(e,t){let r=ds();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():tn.newInvalidDocument(i))}),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=ds();const l=t.path,u=new Ie(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:h,value:{document:m}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||pN(hN(m),r)<=0||(i.has(m.key)||Yd(t,m))&&(a=a.insert(m.key,m.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,t,r,i){ke(9500)}si(e,t){return ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new FP(this)}getSize(e){return ie.resolve(this.size)}}class FP extends PP{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),ie.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.persistence=e,this.oi=new ro(t=>ag(t),lg),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this._i=0,this.ai=new pg,this.targetCount=0,this.ui=ga.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),ie.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new ga(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Tr(t),ie.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.oi.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.oi.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),ie.waitFor(a).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),ie.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,t){this.ci={},this.overlays={},this.li=new qd(0),this.hi=!1,this.hi=!0,this.Pi=new LP,this.referenceDelegate=e(this),this.Ti=new $P(this),this.indexManager=new SP,this.remoteDocumentCache=function(i){return new VP(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new EP(t),this.Ei=new MP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new OP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new jP(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){we("MemoryPersistence","Starting transaction:",e);const i=new zP(this.li.next());return this.referenceDelegate.di(),r(i).next(a=>this.referenceDelegate.Ai(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ri(e,t){return ie.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class zP extends gN{constructor(e){super(),this.currentSequenceNumber=e}}class mg{constructor(e){this.persistence=e,this.Vi=new pg,this.mi=null}static fi(e){return new mg(e)}get gi(){if(this.mi)return this.mi;throw ke(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.gi,r=>{const i=Ie.fromPath(r);return this.pi(e,i).next(a=>{a||t.removeEntry(i,Le.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ie.or([()=>ie.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Id{constructor(e,t){this.persistence=e,this.yi=new ro(r=>wN(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=NP(this,t)}static fi(e,t){return new Id(e,t)}di(){}Ai(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return ie.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(a=>a?ie.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.si(e,l=>this.Dr(e,l,t).next(u=>{u||(r++,a.removeEntry(l,Le.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ie.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=rd(e.data.value)),t}Dr(e,t,r){return ie.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.yi.get(t);return ie.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=We(),i=We();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new gg(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return FA()?8:yN(jA())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.ws(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.bs(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new UP;return this.Ss(e,t,l).next(u=>{if(a.result=u,this.fs)return this.Ds(e,t,l,u.size)})}).next(()=>a.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(ta()<=Ye.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",na(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ie.resolve()):(ta()<=Ye.DEBUG&&we("QueryEngine","Query:",na(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(ta()<=Ye.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",na(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lr(t))):ie.resolve())}ws(e,t){if(dw(t))return ie.resolve(null);let r=Lr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Hp(t,null,"F"),r=Lr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=We(...a);return this.ys.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(f=>{const h=this.vs(t,u);return this.Cs(t,h,l,f.readTime)?this.ws(e,Hp(t,null,"F")):this.Fs(e,h,t,f)}))})))}bs(e,t,r,i){return dw(t)||i.isEqual(Le.min())?ie.resolve(null):this.ys.getDocuments(e,r).next(a=>{const l=this.vs(t,a);return this.Cs(t,l,r,i)?ie.resolve(null):(ta()<=Ye.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),na(t)),this.Fs(e,l,t,fN(i,tc)).next(u=>u))})}vs(e,t){let r=new Mt(Gx(e));return t.forEach((i,a)=>{Yd(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,r){return ta()<=Ye.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",na(t)),this.ys.getDocumentsMatchingQuery(e,t,Zs.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="LocalStore",HP=3e8;class WP{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new vt(ze),this.Os=new ro(a=>ag(a),lg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DP(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function qP(n,e,t,r){return new WP(n,e,t,r)}async function vE(n,e){const t=Ve(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],u=[];let f=We();for(const h of i){l.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}for(const h of a){u.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}return t.localDocuments.getDocuments(r,f).next(h=>({ks:h,removedBatchIds:l,addedBatchIds:u}))})})}function KP(n,e){const t=Ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return function(u,f,h,m){const v=h.batch,w=v.keys();let T=ie.resolve();return w.forEach(C=>{T=T.next(()=>m.getEntry(f,C)).next(S=>{const b=h.docVersions.get(C);Ze(b!==null,48541),S.version.compareTo(b)<0&&(v.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),m.addEntry(S)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(f,v))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=We();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(f=f.add(u.batch.mutations[h].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function wE(n){const e=Ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function QP(n,e){const t=Ve(n),r=e.snapshotVersion;let i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;const u=[];e.targetChanges.forEach((m,v)=>{const w=i.get(v);if(!w)return;u.push(t.Ti.removeMatchingKeys(a,m.removedDocuments,v).next(()=>t.Ti.addMatchingKeys(a,m.addedDocuments,v)));let T=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?T=T.withResumeToken(Kt.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),i=i.insert(v,T),function(S,b,A){return S.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=HP?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(w,T,m)&&u.push(t.Ti.updateTargetData(a,T))});let f=ds(),h=We();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,m))}),u.push(GP(a,l,e.documentUpdates).next(m=>{f=m.qs,h=m.Qs})),!r.isEqual(Le.min())){const m=t.Ti.getLastRemoteSnapshotVersion(a).next(v=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(m)}return ie.waitFor(u).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,h)).next(()=>f)}).then(a=>(t.xs=i,a))}function GP(n,e,t){let r=We(),i=We();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=ds();return t.forEach((u,f)=>{const h=a.get(u);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),f.isNoDocument()&&f.version.isEqual(Le.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):we(yg,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",f.version)}),{qs:l,Qs:i}})}function YP(n,e){const t=Ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=sg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XP(n,e){const t=Ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(a=>a?(i=a,ie.resolve(i)):t.Ti.allocateTargetId(r).next(l=>(i=new Ws(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function Gp(n,e,t){const r=Ve(n),i=r.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Aa(l))throw l;we(yg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function Sw(n,e,t){const r=Ve(n);let i=Le.min(),a=We();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,h,m){const v=Ve(f),w=v.Os.get(m);return w!==void 0?ie.resolve(v.xs.get(w)):v.Ti.getTargetData(h,m)}(r,l,Lr(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(l,u.targetId).next(f=>{a=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(l,e,t?i:Le.min(),t?a:We())).next(u=>(JP(r,VN(e),u),{documents:u,$s:a})))}function JP(n,e,t){let r=n.Ns.get(e)||Le.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ns.set(e,r)}class Tw{constructor(){this.activeTargetIds=HN()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZP{constructor(){this.xo=new Tw,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Tw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="ConnectivityMonitor";class bw{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){we(Iw,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){we(Iw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu=null;function Yp(){return Hu===null?Hu=function(){return 268435456+Math.round(2147483648*Math.random())}():Hu++,"0x"+Hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="RestConnection",tk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nk{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===_d?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,a){const l=Yp(),u=this.jo(e,t.toUriEncodedString());we(dp,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,i,a);const{host:h}=new URL(u),m=tg(h);return this.Jo(e,u,f,r,m).then(v=>(we(dp,`Received RPC '${e}' ${l}: `,v),v),v=>{throw fa(dp,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",r),v})}Yo(e,t,r,i,a,l){return this.zo(e,t,r,i,a)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ia}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}jo(e,t){const r=tk[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class sk extends nk{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,a){const l=Yp();return new Promise((u,f)=>{const h=new Ex;h.setWithCredentials(!0),h.listenOnce(Cx.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case nd.NO_ERROR:const v=h.getResponseJson();we(Zt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case nd.TIMEOUT:we(Zt,`RPC '${e}' ${l} timed out`),f(new _e(se.DEADLINE_EXCEEDED,"Request time out"));break;case nd.HTTP_ERROR:const w=h.getStatus();if(we(Zt,`RPC '${e}' ${l} failed with status:`,w,"response text:",h.getResponseText()),w>0){let T=h.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T==null?void 0:T.error;if(C&&C.status&&C.message){const S=function(A){const D=A.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(D)>=0?D:se.UNKNOWN}(C.status);f(new _e(S,C.message))}else f(new _e(se.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new _e(se.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{h_:e,streamId:l,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{we(Zt,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(i);we(Zt,`RPC '${e}' ${l} sending request:`,i),h.send(t,"POST",m,r,15)})}I_(e,t,r){const i=Yp(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Ix(),u=Tx(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const m=a.join("");we(Zt,`Creating RPC '${e}' stream ${i}: ${m}`,f);const v=l.createWebChannel(m,f);this.E_(v);let w=!1,T=!1;const C=new rk({Zo:b=>{T?we(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(w||(we(Zt,`Opening RPC '${e}' stream ${i} transport.`),v.open(),w=!0),we(Zt,`RPC '${e}' stream ${i} sending:`,b),v.send(b))},Xo:()=>v.close()}),S=(b,A,D)=>{b.listen(A,V=>{try{D(V)}catch(U){setTimeout(()=>{throw U},0)}})};return S(v,Ml.EventType.OPEN,()=>{T||(we(Zt,`RPC '${e}' stream ${i} transport opened.`),C.__())}),S(v,Ml.EventType.CLOSE,()=>{T||(T=!0,we(Zt,`RPC '${e}' stream ${i} transport closed`),C.u_(),this.d_(v))}),S(v,Ml.EventType.ERROR,b=>{T||(T=!0,fa(Zt,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),C.u_(new _e(se.UNAVAILABLE,"The operation could not be completed")))}),S(v,Ml.EventType.MESSAGE,b=>{var A;if(!T){const D=b.data[0];Ze(!!D,16349);const V=D,U=(V==null?void 0:V.error)||((A=V[0])===null||A===void 0?void 0:A.error);if(U){we(Zt,`RPC '${e}' stream ${i} received error:`,U);const $=U.status;let G=function(k){const j=bt[k];if(j!==void 0)return oE(j)}($),M=U.message;G===void 0&&(G=se.INTERNAL,M="Unknown error status: "+$+" with message "+U.message),T=!0,C.u_(new _e(G,M)),v.close()}else we(Zt,`RPC '${e}' stream ${i} received:`,D),C.c_(D)}}),S(u,Sx.STAT_EVENT,b=>{b.stat===jp.PROXY?we(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===jp.NOPROXY&&we(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function fp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(n){return new lP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,t,r=1e3,i=1.5,a=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="PersistentStream";class xE{constructor(e,t,r,i,a,l,u,f){this.xi=e,this.S_=r,this.D_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new _E(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(us(t.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{const i=new _e(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){const r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return we(Aw,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(we(Aw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ik extends xE{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=dP(this.serializer,e),r=function(a){if(!("targetChange"in a))return Le.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Le.min():l.readTime?jr(l.readTime):Le.min()}(e);return this.listener.Y_(t,r)}Z_(e){const t={};t.database=Qp(this.serializer),t.addTarget=function(a,l){let u;const f=l.target;if(u=Up(f)?{documents:pP(a,f)}:{query:mP(a,f).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=cE(a,l.resumeToken);const h=Wp(a,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(Le.min())>0){u.readTime=Td(a,l.snapshotVersion.toTimestamp());const h=Wp(a,l.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=yP(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){const t={};t.database=Qp(this.serializer),t.removeTarget=e,this.Q_(t)}}class ok extends xE{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=hP(e.writeResults,e.commitTime),r=jr(e.commitTime);return this.listener.ra(r,t)}ia(){const e={};e.database=Qp(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>fP(this.serializer,r))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{}class lk extends ak{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new _e(se.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.zo(e,qp(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(se.UNKNOWN,a.toString())})}Yo(e,t,r,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Yo(e,qp(t,r),i,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(se.UNKNOWN,l.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class ck{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(us(t),this.ua=!1):we("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="RemoteStore";class uk{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(l=>{r.enqueueAndForget(async()=>{so(this)&&(we(Yi,"Restarting streams for network reachability change."),await async function(f){const h=Ve(f);h.da.add(4),await yc(h),h.Va.set("Unknown"),h.da.delete(4),await nf(h)}(this))})}),this.Va=new ck(r,i)}}async function nf(n){if(so(n))for(const e of n.Aa)await e(!0)}async function yc(n){for(const e of n.Aa)await e(!1)}function EE(n,e){const t=Ve(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),xg(t)?_g(t):Na(t).N_()&&wg(t,e))}function vg(n,e){const t=Ve(n),r=Na(t);t.Ea.delete(e),r.N_()&&CE(t,e),t.Ea.size===0&&(r.N_()?r.k_():so(t)&&t.Va.set("Unknown"))}function wg(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Na(n).Z_(e)}function CE(n,e){n.ma.Ke(e),Na(n).X_(e)}function _g(n){n.ma=new sP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Na(n).start(),n.Va.ca()}function xg(n){return so(n)&&!Na(n).O_()&&n.Ea.size>0}function so(n){return Ve(n).da.size===0}function SE(n){n.ma=void 0}async function dk(n){n.Va.set("Online")}async function fk(n){n.Ea.forEach((e,t)=>{wg(n,e)})}async function hk(n,e){SE(n),xg(n)?(n.Va.Pa(e),_g(n)):n.Va.set("Unknown")}async function pk(n,e,t){if(n.Va.set("Online"),e instanceof lE&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const u of a.targetIds)i.Ea.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.Ea.delete(u),i.ma.removeTarget(u))}(n,e)}catch(r){we(Yi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bd(n,r)}else if(e instanceof od?n.ma.Xe(e):e instanceof aE?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Le.min()))try{const r=await wE(n.localStore);t.compareTo(r)>=0&&await function(a,l){const u=a.ma.It(l);return u.targetChanges.forEach((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const m=a.Ea.get(h);m&&a.Ea.set(h,m.withResumeToken(f.resumeToken,l))}}),u.targetMismatches.forEach((f,h)=>{const m=a.Ea.get(f);if(!m)return;a.Ea.set(f,m.withResumeToken(Kt.EMPTY_BYTE_STRING,m.snapshotVersion)),CE(a,f);const v=new Ws(m.target,f,h,m.sequenceNumber);wg(a,v)}),a.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){we(Yi,"Failed to raise snapshot:",r),await bd(n,r)}}async function bd(n,e,t){if(!Aa(e))throw e;n.da.add(1),await yc(n),n.Va.set("Offline"),t||(t=()=>wE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{we(Yi,"Retrying IndexedDB access"),await t(),n.da.delete(1),await nf(n)})}function TE(n,e){return e().catch(t=>bd(n,t,e))}async function rf(n){const e=Ve(n),t=ri(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:sg;for(;mk(e);)try{const i=await YP(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,gk(e,i)}catch(i){await bd(e,i)}IE(e)&&bE(e)}function mk(n){return so(n)&&n.Ia.length<10}function gk(n,e){n.Ia.push(e);const t=ri(n);t.N_()&&t.ea&&t.ta(e.mutations)}function IE(n){return so(n)&&!ri(n).O_()&&n.Ia.length>0}function bE(n){ri(n).start()}async function yk(n){ri(n).ia()}async function vk(n){const e=ri(n);for(const t of n.Ia)e.ta(t.mutations)}async function wk(n,e,t){const r=n.Ia.shift(),i=dg.from(r,e,t);await TE(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await rf(n)}async function _k(n,e){e&&ri(n).ea&&await async function(r,i){if(function(l){return nP(l)&&l!==se.ABORTED}(i.code)){const a=r.Ia.shift();ri(r).L_(),await TE(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await rf(r)}}(n,e),IE(n)&&bE(n)}async function Rw(n,e){const t=Ve(n);t.asyncQueue.verifyOperationInProgress(),we(Yi,"RemoteStore received new credentials");const r=so(t);t.da.add(3),await yc(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await nf(t)}async function xk(n,e){const t=Ve(n);e?(t.da.delete(2),await nf(t)):e||(t.da.add(2),await yc(t),t.Va.set("Unknown"))}function Na(n){return n.fa||(n.fa=function(t,r,i){const a=Ve(t);return a.oa(),new ik(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:dk.bind(null,n),n_:fk.bind(null,n),i_:hk.bind(null,n),Y_:pk.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),xg(n)?_g(n):n.Va.set("Unknown")):(await n.fa.stop(),SE(n))})),n.fa}function ri(n){return n.ga||(n.ga=function(t,r,i){const a=Ve(t);return a.oa(),new ok(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:yk.bind(null,n),i_:_k.bind(null,n),na:vk.bind(null,n),ra:wk.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await rf(n)):(await n.ga.stop(),n.Ia.length>0&&(we(Yi,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,u=new Eg(e,t,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cg(n,e){if(us("AsyncQueue",`${e}: ${n}`),Aa(n))return new _e(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{static emptySet(e){return new aa(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ie.comparator(t.key,r.key):(t,r)=>Ie.comparator(t.key,r.key),this.keyedMap=Ol(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof aa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new aa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.pa=new vt(Ie.comparator)}track(e){const t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):ke(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}}class ya{constructor(e,t,r,i,a,l,u,f,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new ya(e,t,aa.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Ck{constructor(){this.queries=Pw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Ve(t),a=i.queries;i.queries=Pw(),a.forEach((l,u)=>{for(const f of u.Sa)f.onError(r)})})(this,new _e(se.ABORTED,"Firestore shutting down"))}}function Pw(){return new ro(n=>Qx(n),Gd)}async function AE(n,e){const t=Ve(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.Da()&&e.va()&&(r=2):(a=new Ek,r=e.va()?0:1);try{switch(r){case 0:a.ba=await t.onListen(i,!0);break;case 1:a.ba=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=Cg(l,`Initialization of query '${na(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,a),a.Sa.push(e),e.Fa(t.onlineState),a.ba&&e.Ma(a.ba)&&Sg(t)}async function RE(n,e){const t=Ve(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.va()?0:1:!a.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Sk(n,e){const t=Ve(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const u of l.Sa)u.Ma(i)&&(r=!0);l.ba=i}}r&&Sg(t)}function Tk(n,e,t){const r=Ve(n),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);r.queries.delete(e)}function Sg(n){n.Ca.forEach(e=>{e.next()})}var Xp,kw;(kw=Xp||(Xp={})).xa="default",kw.Cache="cache";class NE{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ya(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Xp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e){this.key=e}}class kE{constructor(e){this.key=e}}class Ik{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=We(),this.mutatedKeys=We(),this.Za=Gx(e),this.Xa=new aa(this.Za)}get eu(){return this.Ha}tu(e,t){const r=t?t.nu:new Nw,i=t?t.Xa:this.Xa;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,v)=>{const w=i.get(m),T=Yd(this.query,v)?v:null,C=!!w&&this.mutatedKeys.has(w.key),S=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let b=!1;w&&T?w.data.isEqual(T.data)?C!==S&&(r.track({type:3,doc:T}),b=!0):this.ru(w,T)||(r.track({type:2,doc:T}),b=!0,(f&&this.Za(T,f)>0||h&&this.Za(T,h)<0)&&(u=!0)):!w&&T?(r.track({type:0,doc:T}),b=!0):w&&!T&&(r.track({type:1,doc:w}),b=!0,(f||h)&&(u=!0)),b&&(T?(l=l.add(T),a=S?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{Xa:l,nu:r,Cs:u,mutatedKeys:a}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const l=e.nu.wa();l.sort((m,v)=>function(T,C){const S=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Vt:b})}};return S(T)-S(C)}(m.type,v.type)||this.Za(m.doc,v.doc)),this.iu(r),i=i!=null&&i;const u=t&&!i?this.su():[],f=this.Ya.size===0&&this.current&&!i?1:0,h=f!==this.Ja;return this.Ja=f,l.length!==0||h?{snapshot:new ya(this.query,e.Xa,a,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:u}:{ou:u}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Nw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=We(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new kE(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new PE(r))}),t}au(e){this.Ha=e.$s,this.Ya=We();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return ya.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Tg="SyncEngine";class bk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Ak{constructor(e){this.key=e,this.cu=!1}}class Rk{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new ro(u=>Qx(u),Gd),this.Pu=new Map,this.Tu=new Set,this.Iu=new vt(Ie.comparator),this.Eu=new Map,this.du=new pg,this.Au={},this.Ru=new Map,this.Vu=ga.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Nk(n,e,t=!0){const r=VE(n);let i;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.uu()):i=await DE(r,e,t,!0),i}async function Pk(n,e){const t=VE(n);await DE(t,e,!0,!1)}async function DE(n,e,t,r){const i=await XP(n.localStore,Lr(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let u;return r&&(u=await kk(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&EE(n.remoteStore,i),u}async function kk(n,e,t,r,i){n.fu=(v,w,T)=>async function(S,b,A,D){let V=b.view.tu(A);V.Cs&&(V=await Sw(S.localStore,b.query,!1).then(({documents:M})=>b.view.tu(M,V)));const U=D&&D.targetChanges.get(b.targetId),$=D&&D.targetMismatches.get(b.targetId)!=null,G=b.view.applyChanges(V,S.isPrimaryClient,U,$);return Mw(S,b.targetId,G.ou),G.snapshot}(n,v,w,T);const a=await Sw(n.localStore,e,!0),l=new Ik(e,a.$s),u=l.tu(a.documents),f=gc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=l.applyChanges(u,n.isPrimaryClient,f);Mw(n,t,h.ou);const m=new bk(e,t,l);return n.hu.set(e,m),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),h.snapshot}async function Dk(n,e,t){const r=Ve(n),i=r.hu.get(e),a=r.Pu.get(i.targetId);if(a.length>1)return r.Pu.set(i.targetId,a.filter(l=>!Gd(l,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Gp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&vg(r.remoteStore,i.targetId),Jp(r,i.targetId)}).catch(ba)):(Jp(r,i.targetId),await Gp(r.localStore,i.targetId,!0))}async function Mk(n,e){const t=Ve(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),vg(t.remoteStore,r.targetId))}async function Ok(n,e,t){const r=Uk(n);try{const i=await function(l,u){const f=Ve(l),h=st.now(),m=u.reduce((T,C)=>T.add(C.key),We());let v,w;return f.persistence.runTransaction("Locally write mutations","readwrite",T=>{let C=ds(),S=We();return f.Bs.getEntries(T,m).next(b=>{C=b,C.forEach((A,D)=>{D.isValidDocument()||(S=S.add(A))})}).next(()=>f.localDocuments.getOverlayedDocuments(T,C)).next(b=>{v=b;const A=[];for(const D of u){const V=XN(D,v.get(D.key).overlayedDocument);V!=null&&A.push(new di(D.key,V,$x(V.value.mapValue),_n.exists(!0)))}return f.mutationQueue.addMutationBatch(T,h,A,u)}).next(b=>{w=b;const A=b.applyToLocalDocumentSet(v,S);return f.documentOverlayCache.saveOverlays(T,b.batchId,A)})}).then(()=>({batchId:w.batchId,changes:Xx(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,f){let h=l.Au[l.currentUser.toKey()];h||(h=new vt(ze)),h=h.insert(u,f),l.Au[l.currentUser.toKey()]=h}(r,i.batchId,t),await vc(r,i.changes),await rf(r.remoteStore)}catch(i){const a=Cg(i,"Failed to persist write");t.reject(a)}}async function ME(n,e){const t=Ve(n);try{const r=await QP(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Eu.get(a);l&&(Ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.cu=!0:i.modifiedDocuments.size>0?Ze(l.cu,14607):i.removedDocuments.size>0&&(Ze(l.cu,42227),l.cu=!1))}),await vc(t,r,e)}catch(r){await ba(r)}}function Dw(n,e,t){const r=Ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.hu.forEach((a,l)=>{const u=l.view.Fa(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const f=Ve(l);f.onlineState=u;let h=!1;f.queries.forEach((m,v)=>{for(const w of v.Sa)w.Fa(u)&&(h=!0)}),h&&Sg(f)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Lk(n,e,t){const r=Ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Eu.get(e),a=i&&i.key;if(a){let l=new vt(Ie.comparator);l=l.insert(a,tn.newNoDocument(a,Le.min()));const u=We().add(a),f=new ef(Le.min(),new Map,new vt(ze),l,u);await ME(r,f),r.Iu=r.Iu.remove(a),r.Eu.delete(e),Ig(r)}else await Gp(r.localStore,e,!1).then(()=>Jp(r,e,t)).catch(ba)}async function jk(n,e){const t=Ve(n),r=e.batch.batchId;try{const i=await KP(t.localStore,e);LE(t,r,null),OE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await vc(t,i)}catch(i){await ba(i)}}async function Vk(n,e,t){const r=Ve(n);try{const i=await function(l,u){const f=Ve(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return f.mutationQueue.lookupMutationBatch(h,u).next(v=>(Ze(v!==null,37113),m=v.keys(),f.mutationQueue.removeMutationBatch(h,v))).next(()=>f.mutationQueue.performConsistencyCheck(h)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(h,m,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>f.localDocuments.getDocuments(h,m))})}(r.localStore,e);LE(r,e,t),OE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await vc(r,i)}catch(i){await ba(i)}}function OE(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function LE(n,e,t){const r=Ve(n);let i=r.Au[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function Jp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||jE(n,r)})}function jE(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(vg(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),Ig(n))}function Mw(n,e,t){for(const r of t)r instanceof PE?(n.du.addReference(r.key,e),Fk(n,r)):r instanceof kE?(we(Tg,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||jE(n,r.key)):ke(19791,{pu:r})}function Fk(n,e){const t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(we(Tg,"New document in limbo: "+t),n.Tu.add(r),Ig(n))}function Ig(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Ie(ft.fromString(e)),r=n.Vu.next();n.Eu.set(r,new Ak(t)),n.Iu=n.Iu.insert(t,r),EE(n.remoteStore,new Ws(Lr(cg(t.path)),r,"TargetPurposeLimboResolution",qd.le))}}async function vc(n,e,t){const r=Ve(n),i=[],a=[],l=[];r.hu.isEmpty()||(r.hu.forEach((u,f)=>{l.push(r.fu(f,e,t).then(h=>{var m;if((h||t)&&r.isPrimaryClient){const v=h?!h.fromCache:(m=t==null?void 0:t.targetChanges.get(f.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(h){i.push(h);const v=gg.Rs(f.targetId,h);a.push(v)}}))}),await Promise.all(l),r.lu.Y_(i),await async function(f,h){const m=Ve(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ie.forEach(h,w=>ie.forEach(w.ds,T=>m.persistence.referenceDelegate.addReference(v,w.targetId,T)).next(()=>ie.forEach(w.As,T=>m.persistence.referenceDelegate.removeReference(v,w.targetId,T)))))}catch(v){if(!Aa(v))throw v;we(yg,"Failed to update sequence numbers: "+v)}for(const v of h){const w=v.targetId;if(!v.fromCache){const T=m.xs.get(w),C=T.snapshotVersion,S=T.withLastLimboFreeSnapshotVersion(C);m.xs=m.xs.insert(w,S)}}}(r.localStore,a))}async function $k(n,e){const t=Ve(n);if(!t.currentUser.isEqual(e)){we(Tg,"User change. New user:",e.toKey());const r=await vE(t.localStore,e);t.currentUser=e,function(a,l){a.Ru.forEach(u=>{u.forEach(f=>{f.reject(new _e(se.CANCELLED,l))})}),a.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vc(t,r.ks)}}function zk(n,e){const t=Ve(n),r=t.Eu.get(e);if(r&&r.cu)return We().add(r.key);{let i=We();const a=t.Pu.get(e);if(!a)return i;for(const l of a){const u=t.hu.get(l);i=i.unionWith(u.view.eu)}return i}}function VE(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ME.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lk.bind(null,e),e.lu.Y_=Sk.bind(null,e.eventManager),e.lu.gu=Tk.bind(null,e.eventManager),e}function Uk(n){const e=Ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vk.bind(null,e),e}class Ad{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return qP(this.persistence,new BP,e.initialUser,this.serializer)}Su(e){return new yE(mg.fi,this.serializer)}bu(e){return new ZP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ad.provider={build:()=>new Ad};class Bk extends Ad{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Ze(this.persistence.referenceDelegate instanceof Id,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new AP(r,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new yE(r=>Id.fi(r,t),this.serializer)}}class Zp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Dw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$k.bind(null,this.syncEngine),await xk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ck}()}createDatastore(e){const t=tf(e.databaseInfo.databaseId),r=function(a){return new sk(a)}(e.databaseInfo);return function(a,l,u,f){return new lk(a,l,u,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,u){return new uk(r,i,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>Dw(this.syncEngine,t,0),function(){return bw.C()?new bw:new ek}())}createSyncEngine(e,t){return function(i,a,l,u,f,h,m){const v=new Rk(i,a,l,u,f,h);return m&&(v.mu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=Ve(i);we(Yi,"RemoteStore shutting down."),a.da.add(5),await yc(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Zp.provider={build:()=>new Zp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):us("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si="FirestoreClient";class Hk{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=en.UNAUTHENTICATED,this.clientId=Nx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{we(si,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(we(si,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Cg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function hp(n,e){n.asyncQueue.verifyOperationInProgress(),we(si,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await vE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Ow(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Wk(n);we(si,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Rw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Rw(e.remoteStore,i)),n._onlineComponents=e}async function Wk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){we(si,"Using user provided OfflineComponentProvider");try{await hp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;fa("Error using user provided cache. Falling back to memory cache: "+t),await hp(n,new Ad)}}else we(si,"Using default OfflineComponentProvider"),await hp(n,new Bk(void 0));return n._offlineComponents}async function $E(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(we(si,"Using user provided OnlineComponentProvider"),await Ow(n,n._uninitializedComponentsProvider._online)):(we(si,"Using default OnlineComponentProvider"),await Ow(n,new Zp))),n._onlineComponents}function qk(n){return $E(n).then(e=>e.syncEngine)}async function em(n){const e=await $E(n),t=e.eventManager;return t.onListen=Nk.bind(null,e.syncEngine),t.onUnlisten=Dk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Pk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Mk.bind(null,e.syncEngine),t}function Kk(n,e,t={}){const r=new Ys;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,f,h){const m=new FE({next:w=>{m.xu(),l.enqueueAndForget(()=>RE(a,v)),w.fromCache&&f.source==="server"?h.reject(new _e(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(w)},error:w=>h.reject(w)}),v=new NE(u,m,{includeMetadataChanges:!0,Qa:!0});return AE(a,v)}(await em(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(n,e,t){if(!t)throw new _e(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Qk(n,e,t,r){if(e===!0&&r===!0)throw new _e(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function jw(n){if(!Ie.isDocumentKey(n))throw new _e(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Vw(n){if(Ie.isDocumentKey(n))throw new _e(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function sf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke(12329,{type:typeof n})}function fr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sf(n);throw new _e(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="firestore.googleapis.com",Fw=!0;class $w{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BE,this.ssl=Fw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Fw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<IP)throw new _e(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new _e(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new _e(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new _e(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class of{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $w({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $w(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rN;switch(r.type){case"firstParty":return new aN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Lw.get(t);r&&(we("ComponentProvider","Removing Datastore"),Lw.delete(t),r.terminate())}(this),Promise.resolve()}}function Gk(n,e,t,r={}){var i;n=fr(n,of);const a=tg(e),l=n._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a&&(kA(`https://${f}`),LA("Firestore",!0)),l.host!==BE&&l.host!==f&&fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},l),{host:f,ssl:a,emulatorOptions:r});if(!gd(h,u)&&(n._setSettings(h),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=en.MOCK_USER;else{m=DA(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new _e(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new en(w)}n._authCredentials=new sN(new Ax(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fi(this.firestore,e,this._query)}}class xn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class Xs extends fi{constructor(e,t,r){super(e,t,cg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new Ie(e))}withConverter(e){return new Xs(this.firestore,e,this._path)}}function nn(n,e,...t){if(n=Hn(n),UE("collection","path",e),n instanceof of){const r=ft.fromString(e,...t);return Vw(r),new Xs(n,null,r)}{if(!(n instanceof xn||n instanceof Xs))throw new _e(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ft.fromString(e,...t));return Vw(r),new Xs(n.firestore,null,r)}}function vn(n,e,...t){if(n=Hn(n),arguments.length===1&&(e=Nx.newId()),UE("doc","path",e),n instanceof of){const r=ft.fromString(e,...t);return jw(r),new xn(n,null,new Ie(r))}{if(!(n instanceof xn||n instanceof Xs))throw new _e(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ft.fromString(e,...t));return jw(r),new xn(n.firestore,n instanceof Xs?n.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="AsyncQueue";class Uw{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new _E(this,"async_queue_retry"),this.rc=()=>{const r=fp();r&&we(zw,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const t=fp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=fp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Ys;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Aa(e))throw e;we(zw,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,us("INTERNAL UNHANDLED ERROR: ",Bw(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const i=Eg.createAndSchedule(this,e,t,r,a=>this.uc(a));return this.Zu.push(i),i}oc(){this.Xu&&ke(47125,{cc:Bw(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function Bw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(n,["next","error","complete"])}class ii extends of{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Uw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Uw(e),this._firestoreClient=void 0,await e}}}function Yk(n,e){const t=typeof n=="object"?n:qR(),r=typeof n=="string"?n:_d,i=zR(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=NA("firestore");a&&Gk(i,...a)}return i}function af(n){if(n._terminated)throw new _e(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Xk(n),n._firestoreClient}function Xk(n){var e,t,r;const i=n._freezeSettings(),a=function(u,f,h,m){return new EN(u,f,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,zE(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Hk(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this._byteString=e}static fromBase64String(e){try{return new va(Kt.fromBase64String(e))}catch(t){throw new _e(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new va(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=/^__.*__$/;class Zk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new di(e,this.data,this.fieldMask,t,this.fieldTransforms):new mc(e,this.data,t,this.fieldTransforms)}}class HE{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new di(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function WE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ic:n})}}class Ng{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Ng(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Rd(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(WE(this.Ic)&&Jk.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class e2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||tf(e)}bc(e,t,r,i=!1){return new Ng({Ic:e,methodName:t,wc:r,path:qt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lf(n){const e=n._freezeSettings(),t=tf(n._databaseId);return new e2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qE(n,e,t,r,i,a={}){const l=n.bc(a.merge||a.mergeFields?2:0,e,t,i);Pg("Data must be an object, but it was:",l,r);const u=GE(r,l);let f,h;if(a.merge)f=new Nn(l.fieldMask),h=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const v of a.mergeFields){const w=tm(e,v,t);if(!l.contains(w))throw new _e(se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);XE(m,w)||m.push(w)}f=new Nn(m),h=l.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,h=l.fieldTransforms;return new Zk(new wn(u),f,h)}class cf extends bg{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cf}}function KE(n,e,t,r){const i=n.bc(1,e,t);Pg("Data must be an object, but it was:",i,r);const a=[],l=wn.empty();ui(r,(f,h)=>{const m=kg(e,f,t);h=Hn(h);const v=i.mc(m);if(h instanceof cf)a.push(m);else{const w=_c(h,v);w!=null&&(a.push(m),l.set(m,w))}});const u=new Nn(a);return new HE(l,u,i.fieldTransforms)}function QE(n,e,t,r,i,a){const l=n.bc(1,e,t),u=[tm(e,r,t)],f=[i];if(a.length%2!=0)throw new _e(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)u.push(tm(e,a[w])),f.push(a[w+1]);const h=[],m=wn.empty();for(let w=u.length-1;w>=0;--w)if(!XE(h,u[w])){const T=u[w];let C=f[w];C=Hn(C);const S=l.mc(T);if(C instanceof cf)h.push(T);else{const b=_c(C,S);b!=null&&(h.push(T),m.set(T,b))}}const v=new Nn(h);return new HE(m,v,l.fieldTransforms)}function t2(n,e,t,r=!1){return _c(t,n.bc(r?4:3,e))}function _c(n,e){if(YE(n=Hn(n)))return Pg("Unsupported field value:",e,n),GE(n,e);if(n instanceof bg)return function(r,i){if(!WE(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const u of r){let f=_c(u,i.fc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=Hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=st.fromDate(r);return{timestampValue:Td(i.serializer,a)}}if(r instanceof st){const a=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Td(i.serializer,a)}}if(r instanceof Ag)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof va)return{bytesValue:cE(i.serializer,r._byteString)};if(r instanceof xn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:hg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Rg)return function(l,u){return{mapValue:{fields:{[Vx]:{stringValue:Fx},[xd]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw u.gc("VectorValues must only contain numeric values.");return ug(u.serializer,h)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${sf(r)}`)}(n,e)}function GE(n,e){const t={};return kx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ui(n,(r,i)=>{const a=_c(i,e.Ac(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function YE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof st||n instanceof Ag||n instanceof va||n instanceof xn||n instanceof bg||n instanceof Rg)}function Pg(n,e,t){if(!YE(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=sf(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function tm(n,e,t){if((e=Hn(e))instanceof wc)return e._internalPath;if(typeof e=="string")return kg(n,e);throw Rd("Field path arguments must be of type string or ",n,!1,void 0,t)}const n2=new RegExp("[~\\*/\\[\\]]");function kg(n,e,t){if(e.search(n2)>=0)throw Rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wc(...e.split("."))._internalPath}catch{throw Rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rd(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new _e(se.INVALID_ARGUMENT,u+n+f)}function XE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(uf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class r2 extends JE{data(){return super.data()}}function uf(n,e){return typeof e=="string"?kg(n,e):e instanceof wc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _e(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dg{}class eC extends Dg{}function Wi(n,e,...t){let r=[];e instanceof Dg&&r.push(e),r=r.concat(t),function(a){const l=a.filter(f=>f instanceof Mg).length,u=a.filter(f=>f instanceof df).length;if(l>1||l>0&&u>0)throw new _e(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class df extends eC{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new df(e,t,r)}_apply(e){const t=this._parse(e);return tC(e._query,t),new fi(e.firestore,e.converter,Bp(e._query,t))}_parse(e){const t=lf(e.firestore);return function(a,l,u,f,h,m,v){let w;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new _e(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){qw(v,m);const C=[];for(const S of v)C.push(Ww(f,a,S));w={arrayValue:{values:C}}}else w=Ww(f,a,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||qw(v,m),w=t2(u,l,v,m==="in"||m==="not-in");return At.create(h,m,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function qs(n,e,t){const r=e,i=uf("where",n);return df._create(i,r,t)}class Mg extends Dg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mg(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:hr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,a){let l=i;const u=a.getFlattenedFilters();for(const f of u)tC(l,f),l=Bp(l,f)}(e._query,t),new fi(e.firestore,e.converter,Bp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Og extends eC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Og(e,t)}_apply(e){const t=function(i,a,l){if(i.startAt!==null)throw new _e(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new _e(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ic(a,l)}(e._query,this._field,this._direction);return new fi(e.firestore,e.converter,function(i,a){const l=i.explicitOrderBy.concat([a]);return new Ra(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function Nd(n,e="asc"){const t=e,r=uf("orderBy",n);return Og._create(r,t)}function Ww(n,e,t){if(typeof(t=Hn(t))=="string"){if(t==="")throw new _e(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kx(e)&&t.indexOf("/")!==-1)throw new _e(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ft.fromString(t));if(!Ie.isDocumentKey(r))throw new _e(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return iw(n,new Ie(r))}if(t instanceof xn)return iw(n,t._key);throw new _e(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sf(t)}.`)}function qw(n,e){if(!Array.isArray(n)||n.length===0)throw new _e(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tC(n,e){const t=function(i,a){for(const l of i)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new _e(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class s2{convertValue(e,t="none"){switch(ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ui(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[xd].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>St(l.doubleValue));return new Rg(a)}convertGeoPoint(e){return new Ag(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Qd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(nc(e));default:return null}}convertTimestamp(e){const t=ei(e);return new st(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ft.fromString(e);Ze(mE(r),9688,{name:e});const i=new rc(r.get(1),r.get(3)),a=new Ie(r.popFirst(5));return i.isEqual(t)||us(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rC extends JE{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(uf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ad extends rC{data(e={}){return super.data(e)}}class sC{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new jl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ad(this._firestore,this._userDataWriter,r.key,r,new jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const f=new ad(i._firestore,i._userDataWriter,u.doc.key,u.doc,new jl(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const f=new ad(i._firestore,i._userDataWriter,u.doc.key,u.doc,new jl(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:i2(u.type),doc:f,oldIndex:h,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function i2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:n})}}class Lg extends s2{constructor(e){super(),this.firestore=e}convertBytes(e){return new va(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,t)}}function oi(n){n=fr(n,fi);const e=fr(n.firestore,ii),t=af(e),r=new Lg(e);return ZE(n._query),Kk(t,n._query).then(i=>new sC(e,r,n,i))}function Ki(n,e,t,...r){n=fr(n,xn);const i=fr(n.firestore,ii),a=lf(i);let l;return l=typeof(e=Hn(e))=="string"||e instanceof wc?QE(a,"updateDoc",n._key,e,t,r):KE(a,"updateDoc",n._key,e),ff(i,[l.toMutation(n._key,_n.exists(!0))])}function Kw(n){return ff(fr(n.firestore,ii),[new Zd(n._key,_n.none())])}function Pd(n,e){const t=fr(n.firestore,ii),r=vn(n),i=nC(n.converter,e);return ff(t,[qE(lf(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,_n.exists(!1))]).then(()=>r)}function nm(n,...e){var t,r,i;n=Hn(n);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||Hw(e[l])||(a=e[l],l++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(Hw(e[l])){const v=e[l];e[l]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[l+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[l+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}let f,h,m;if(n instanceof xn)h=fr(n.firestore,ii),m=cg(n._key.path),f={next:v=>{e[l]&&e[l](o2(h,n,v))},error:e[l+1],complete:e[l+2]};else{const v=fr(n,fi);h=fr(v.firestore,ii),m=v._query;const w=new Lg(h);f={next:T=>{e[l]&&e[l](new sC(h,w,v,T))},error:e[l+1],complete:e[l+2]},ZE(n._query)}return function(w,T,C,S){const b=new FE(S),A=new NE(T,b,C);return w.asyncQueue.enqueueAndForget(async()=>AE(await em(w),A)),()=>{b.xu(),w.asyncQueue.enqueueAndForget(async()=>RE(await em(w),A))}}(af(h),m,u,f)}function ff(n,e){return function(r,i){const a=new Ys;return r.asyncQueue.enqueueAndForget(async()=>Ok(await qk(r),i,a)),a.promise}(af(n),e)}function o2(n,e,t){const r=t.docs.get(e._key),i=new Lg(n);return new rC(n,i,e._key,r,new jl(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=lf(e)}set(e,t,r){this._verifyNotCommitted();const i=pp(e,this._firestore),a=nC(i.converter,t,r),l=qE(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,_n.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=pp(e,this._firestore);let l;return l=typeof(t=Hn(t))=="string"||t instanceof wc?QE(this._dataReader,"WriteBatch.update",a._key,t,r,i):KE(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(l.toMutation(a._key,_n.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=pp(e,this._firestore);return this._mutations=this._mutations.concat(new Zd(t._key,_n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pp(n,e){if((n=Hn(n)).firestore!==e)throw new _e(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(n){return af(n=fr(n,ii)),new a2(n,e=>ff(n,e))}(function(e,t=!0){(function(i){Ia=i})(WR),vd(new Zl("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new ii(new iN(r.getProvider("auth-internal")),new lN(l,r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new _e(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rc(h.options.projectId,m)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),oa(K0,Q0,e),oa(K0,Q0,"esm2017")})();var c2="firebase",u2="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oa(c2,u2,"app");const d2={apiKey:"AIzaSyDwlqDKuq9fpSqfvzON6tBEgMx63IQLMw0",authDomain:"cafeqr-d658f.firebaseapp.com",projectId:"cafeqr-d658f",storageBucket:"cafeqr-d658f.firebasestorage.app",messagingSenderId:"266670888353",appId:"1:266670888353:web:bb50567816c2681197e7e0"},f2=vx(d2),tt=Yk(f2),h2=async()=>{const n=nn(tt,"menuItems");return(await oi(n)).docs.map(r=>({id:r.id,...r.data()}))},p2=async()=>{const n=nn(tt,"categories");return(await oi(n)).docs.map(r=>({id:r.id,...r.data()}))},m2=async(n,e)=>{const t=nn(tt,"waiterCalls"),r={tableId:n,timestamp:st.now(),status:"pending",message:e||""};await Pd(t,r)},ld=[{id:1,name:"Masa 1",qrCode:"table-1"},{id:2,name:"Masa 2",qrCode:"table-2"},{id:3,name:"Masa 3",qrCode:"table-3"},{id:4,name:"Masa 4",qrCode:"table-4"},{id:5,name:"Masa 5",qrCode:"table-5"},{id:6,name:"Masa 6",qrCode:"table-6"},{id:7,name:"Masa 7",qrCode:"table-7"},{id:8,name:"Masa 8",qrCode:"table-8"},{id:9,name:"Masa 9",qrCode:"table-9"},{id:10,name:"Masa 10",qrCode:"table-10"},{id:11,name:"Masa 11",qrCode:"table-11"},{id:12,name:"Masa 12",qrCode:"table-12"},{id:13,name:"Masa 13",qrCode:"table-13"},{id:14,name:"Masa 14",qrCode:"table-14"},{id:15,name:"Masa 15",qrCode:"table-15"},{id:16,name:"Masa 16",qrCode:"table-16"},{id:17,name:"Masa 17",qrCode:"table-17"},{id:18,name:"Masa 18",qrCode:"table-18"},{id:19,name:"Masa 19",qrCode:"table-19"},{id:20,name:"Masa 20",qrCode:"table-20"}],g2=(n,e,t,r)=>{var a,l,u,f;const i=[t,{code:e,...r||{}}];if((l=(a=n==null?void 0:n.services)==null?void 0:a.logger)!=null&&l.forward)return n.services.logger.forward(i,"warn","react-i18next::",!0);Qi(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(f=(u=n==null?void 0:n.services)==null?void 0:u.logger)!=null&&f.warn?n.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},Qw={},rm=(n,e,t,r)=>{Qi(t)&&Qw[t]||(Qi(t)&&(Qw[t]=new Date),g2(n,e,t,r))},iC=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},sm=(n,e,t)=>{n.loadNamespaces(e,iC(n,t))},Gw=(n,e,t,r)=>{if(Qi(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return sm(n,t,r);t.forEach(i=>{n.options.ns.indexOf(i)<0&&n.options.ns.push(i)}),n.loadLanguages(e,iC(n,r))},y2=(n,e,t={})=>!e.languages||!e.languages.length?(rm(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,i)=>{var a;if(((a=t.bindI18n)==null?void 0:a.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,n))return!1}}),Qi=n=>typeof n=="string",v2=n=>typeof n=="object"&&n!==null,w2=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,_2={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},x2=n=>_2[n],E2=n=>n.replace(w2,x2);let im={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:E2};const C2=(n={})=>{im={...im,...n}},S2=()=>im;let oC;const T2=n=>{oC=n},I2=()=>oC,b2={type:"3rdParty",init(n){C2(n.options.react),T2(n)}},A2=E.createContext();class R2{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const N2=(n,e)=>{const t=E.useRef();return E.useEffect(()=>{t.current=n},[n,e]),t.current},aC=(n,e,t,r)=>n.getFixedT(e,t,r),P2=(n,e,t,r)=>E.useCallback(aC(n,e,t,r),[n,e,t,r]),hf=(n,e={})=>{var U,$,G,M;const{i18n:t}=e,{i18n:r,defaultNS:i}=E.useContext(A2)||{},a=t||r||I2();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new R2),!a){rm(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const N=(j,F)=>Qi(F)?F:v2(F)&&Qi(F.defaultValue)?F.defaultValue:Array.isArray(j)?j[j.length-1]:j,k=[N,{},!1];return k.t=N,k.i18n={},k.ready=!1,k}(U=a.options.react)!=null&&U.wait&&rm(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...S2(),...a.options.react,...e},{useSuspense:u,keyPrefix:f}=l;let h=i||(($=a.options)==null?void 0:$.defaultNS);h=Qi(h)?[h]:h||["translation"],(M=(G=a.reportNamespaces).addUsedNamespaces)==null||M.call(G,h);const m=(a.isInitialized||a.initializedStoreOnce)&&h.every(N=>y2(N,a,l)),v=P2(a,e.lng||null,l.nsMode==="fallback"?h:h[0],f),w=()=>v,T=()=>aC(a,e.lng||null,l.nsMode==="fallback"?h:h[0],f),[C,S]=E.useState(w);let b=h.join();e.lng&&(b=`${e.lng}${b}`);const A=N2(b),D=E.useRef(!0);E.useEffect(()=>{const{bindI18n:N,bindI18nStore:k}=l;D.current=!0,!m&&!u&&(e.lng?Gw(a,e.lng,h,()=>{D.current&&S(T)}):sm(a,h,()=>{D.current&&S(T)})),m&&A&&A!==b&&D.current&&S(T);const j=()=>{D.current&&S(T)};return N&&(a==null||a.on(N,j)),k&&(a==null||a.store.on(k,j)),()=>{D.current=!1,a&&(N==null||N.split(" ").forEach(F=>a.off(F,j))),k&&a&&k.split(" ").forEach(F=>a.store.off(F,j))}},[a,b]),E.useEffect(()=>{D.current&&m&&S(w)},[a,f,m]);const V=[C,a,m];if(V.t=C,V.i18n=a,V.ready=m,m||!m&&!u)return V;throw new Promise(N=>{e.lng?Gw(a,e.lng,h,()=>N()):sm(a,h,()=>N())})},k2=({tableId:n})=>{const{t:e}=hf(),[t,r]=E.useState(!1),[i,a]=E.useState(null),l=async()=>{const u=Date.now();if(i&&u-i<3e4){const f=Math.ceil((3e4-(u-i))/1e3);alert(e("waiter_call.try_again_in_seconds",{count:f}));return}r(!0);try{await m2(n,e("waiter_call.message_default")),a(u),alert(e("waiter_call.sent_success"))}catch(f){console.error("Garson çağrısı gönderilirken hata oluştu:",f),alert(e("waiter_call.sent_error"))}finally{r(!1)}};return y.jsx("button",{onClick:l,disabled:t,className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${t?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:t?e("waiter_call.sending"):`🔔 ${e("waiter_call.button")}`})},D2=({tableId:n})=>{const{items:e,getTotalItems:t,getTotalPrice:r,updateQuantity:i,removeFromCart:a}=Zm(),[l,u]=E.useState(!1),f=hc();return t()===0?null:y.jsxs("div",{className:"fixed bottom-4 right-4 z-50",children:[!l&&y.jsxs("button",{onClick:()=>u(!0),className:"bg-amber-500 hover:bg-amber-600 text-white rounded-full p-4 shadow-lg flex items-center gap-2 transition-all duration-200 hover:scale-105",children:[y.jsxs("div",{className:"relative",children:["🛒",y.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:t()})]}),y.jsxs("span",{className:"font-medium",children:[r()," ₺"]})]}),l&&y.jsxs("div",{className:"bg-white rounded-lg shadow-xl border-2 border-amber-200 w-80 max-h-96 overflow-hidden",children:[y.jsxs("div",{className:"bg-amber-500 text-white p-3 flex justify-between items-center",children:[y.jsxs("h3",{className:"font-semibold",children:["Sepetim (",t()," ürün)"]}),y.jsx("button",{onClick:()=>u(!1),className:"text-white hover:text-amber-200",children:"✕"})]}),y.jsx("div",{className:"max-h-48 overflow-y-auto p-3 space-y-2",children:e.map(h=>y.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"font-medium text-sm",children:h.name_tr}),y.jsxs("div",{className:"text-amber-600 text-sm",children:[h.price," ₺"]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>i(String(h.id),h.quantity-1),className:"bg-gray-200 hover:bg-gray-300 text-gray-700 w-6 h-6 rounded-full text-xs",children:"-"}),y.jsx("span",{className:"text-sm font-medium w-6 text-center",children:h.quantity}),y.jsx("button",{onClick:()=>i(String(h.id),h.quantity+1),className:"bg-amber-500 hover:bg-amber-600 text-white w-6 h-6 rounded-full text-xs",children:"+"}),y.jsx("button",{onClick:()=>a(String(h.id)),className:"bg-red-500 hover:bg-red-600 text-white w-6 h-6 rounded-full text-xs ml-1",children:"🗑"})]})]},h.id))}),y.jsxs("div",{className:"border-t p-3 bg-gray-50",children:[y.jsxs("div",{className:"flex justify-between items-center mb-3",children:[y.jsx("span",{className:"font-semibold",children:"Toplam:"}),y.jsxs("span",{className:"font-bold text-amber-600 text-lg",children:[r()," ₺"]})]}),y.jsx("button",{onClick:()=>f(`/checkout/${n}`),className:"w-full bg-amber-500 hover:bg-amber-600 text-white py-2 px-4 rounded-md font-medium transition-colors",children:"Siparişi Tamamla"})]})]})]})};function Yw(n,[e,t]){return Math.min(t,Math.max(e,n))}function je(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function M2(n,e){const t=E.createContext(e),r=a=>{const{children:l,...u}=a,f=E.useMemo(()=>u,Object.values(u));return y.jsx(t.Provider,{value:f,children:l})};r.displayName=n+"Provider";function i(a){const l=E.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,i]}function hi(n,e=[]){let t=[];function r(a,l){const u=E.createContext(l),f=t.length;t=[...t,l];const h=v=>{var A;const{scope:w,children:T,...C}=v,S=((A=w==null?void 0:w[n])==null?void 0:A[f])||u,b=E.useMemo(()=>C,Object.values(C));return y.jsx(S.Provider,{value:b,children:T})};h.displayName=a+"Provider";function m(v,w){var S;const T=((S=w==null?void 0:w[n])==null?void 0:S[f])||u,C=E.useContext(T);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[h,m]}const i=()=>{const a=t.map(l=>E.createContext(l));return function(u){const f=(u==null?void 0:u[n])||a;return E.useMemo(()=>({[`__scope${n}`]:{...u,[n]:f}}),[u,f])}};return i.scopeName=n,[r,O2(i,...e)]}function O2(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((u,{useScope:f,scopeName:h})=>{const v=f(a)[`__scope${h}`];return{...u,...v}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function Xw(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function lC(...n){return e=>{let t=!1;const r=n.map(i=>{const a=Xw(i,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():Xw(n[i],null)}}}}function at(...n){return E.useCallback(lC(...n),n)}function wa(n){const e=j2(n),t=E.forwardRef((r,i)=>{const{children:a,...l}=r,u=E.Children.toArray(a),f=u.find(F2);if(f){const h=f.props.children,m=u.map(v=>v===f?E.Children.count(h)>1?E.Children.only(null):E.isValidElement(h)?h.props.children:null:v);return y.jsx(e,{...l,ref:i,children:E.isValidElement(h)?E.cloneElement(h,void 0,m):null})}return y.jsx(e,{...l,ref:i,children:a})});return t.displayName=`${n}.Slot`,t}var L2=wa("Slot");function j2(n){const e=E.forwardRef((t,r)=>{const{children:i,...a}=t;if(E.isValidElement(i)){const l=z2(i),u=$2(a,i.props);return i.type!==E.Fragment&&(u.ref=r?lC(r,l):l),E.cloneElement(i,u)}return E.Children.count(i)>1?E.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var cC=Symbol("radix.slottable");function V2(n){const e=({children:t})=>y.jsx(y.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=cC,e}function F2(n){return E.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===cC}function $2(n,e){const t={...e};for(const r in e){const i=n[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?t[r]=(...u)=>{const f=a(...u);return i(...u),f}:i&&(t[r]=i):r==="style"?t[r]={...i,...a}:r==="className"&&(t[r]=[i,a].filter(Boolean).join(" "))}return{...n,...t}}function z2(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function jg(n){const e=n+"CollectionProvider",[t,r]=hi(e),[i,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:b,children:A}=S,D=rt.useRef(null),V=rt.useRef(new Map).current;return y.jsx(i,{scope:b,itemMap:V,collectionRef:D,children:A})};l.displayName=e;const u=n+"CollectionSlot",f=wa(u),h=rt.forwardRef((S,b)=>{const{scope:A,children:D}=S,V=a(u,A),U=at(b,V.collectionRef);return y.jsx(f,{ref:U,children:D})});h.displayName=u;const m=n+"CollectionItemSlot",v="data-radix-collection-item",w=wa(m),T=rt.forwardRef((S,b)=>{const{scope:A,children:D,...V}=S,U=rt.useRef(null),$=at(b,U),G=a(m,A);return rt.useEffect(()=>(G.itemMap.set(U,{ref:U,...V}),()=>void G.itemMap.delete(U))),y.jsx(w,{[v]:"",ref:$,children:D})});T.displayName=m;function C(S){const b=a(n+"CollectionConsumer",S);return rt.useCallback(()=>{const D=b.collectionRef.current;if(!D)return[];const V=Array.from(D.querySelectorAll(`[${v}]`));return Array.from(b.itemMap.values()).sort((G,M)=>V.indexOf(G.ref.current)-V.indexOf(M.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:l,Slot:h,ItemSlot:T},C,r]}var U2=E.createContext(void 0);function Vg(n){const e=E.useContext(U2);return n||e||"ltr"}var B2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$e=B2.reduce((n,e)=>{const t=wa(`Primitive.${e}`),r=E.forwardRef((i,a)=>{const{asChild:l,...u}=i,f=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(f,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function uC(n,e){n&&Sa.flushSync(()=>n.dispatchEvent(e))}function Wn(n){const e=E.useRef(n);return E.useEffect(()=>{e.current=n}),E.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function H2(n,e=globalThis==null?void 0:globalThis.document){const t=Wn(n);E.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var W2="DismissableLayer",om="dismissableLayer.update",q2="dismissableLayer.pointerDownOutside",K2="dismissableLayer.focusOutside",Jw,dC=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pf=E.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...f}=n,h=E.useContext(dC),[m,v]=E.useState(null),w=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=E.useState({}),C=at(e,M=>v(M)),S=Array.from(h.layers),[b]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),A=S.indexOf(b),D=m?S.indexOf(m):-1,V=h.layersWithOutsidePointerEventsDisabled.size>0,U=D>=A,$=G2(M=>{const N=M.target,k=[...h.branches].some(j=>j.contains(N));!U||k||(i==null||i(M),l==null||l(M),M.defaultPrevented||u==null||u())},w),G=Y2(M=>{const N=M.target;[...h.branches].some(j=>j.contains(N))||(a==null||a(M),l==null||l(M),M.defaultPrevented||u==null||u())},w);return H2(M=>{D===h.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&u&&(M.preventDefault(),u()))},w),E.useEffect(()=>{if(m)return t&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Jw=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),Zw(),()=>{t&&h.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=Jw)}},[m,w,t,h]),E.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),Zw())},[m,h]),E.useEffect(()=>{const M=()=>T({});return document.addEventListener(om,M),()=>document.removeEventListener(om,M)},[]),y.jsx($e.div,{...f,ref:C,style:{pointerEvents:V?U?"auto":"none":void 0,...n.style},onFocusCapture:je(n.onFocusCapture,G.onFocusCapture),onBlurCapture:je(n.onBlurCapture,G.onBlurCapture),onPointerDownCapture:je(n.onPointerDownCapture,$.onPointerDownCapture)})});pf.displayName=W2;var Q2="DismissableLayerBranch",fC=E.forwardRef((n,e)=>{const t=E.useContext(dC),r=E.useRef(null),i=at(e,r);return E.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),y.jsx($e.div,{...n,ref:i})});fC.displayName=Q2;function G2(n,e=globalThis==null?void 0:globalThis.document){const t=Wn(n),r=E.useRef(!1),i=E.useRef(()=>{});return E.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let f=function(){hC(q2,t,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}else e.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function Y2(n,e=globalThis==null?void 0:globalThis.document){const t=Wn(n),r=E.useRef(!1);return E.useEffect(()=>{const i=a=>{a.target&&!r.current&&hC(K2,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Zw(){const n=new CustomEvent(om);document.dispatchEvent(n)}function hC(n,e,t,{discrete:r}){const i=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?uC(i,a):i.dispatchEvent(a)}var X2=pf,J2=fC,mp=0;function pC(){E.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??e_()),document.body.insertAdjacentElement("beforeend",n[1]??e_()),mp++,()=>{mp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),mp--}},[])}function e_(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var gp="focusScope.autoFocusOnMount",yp="focusScope.autoFocusOnUnmount",t_={bubbles:!1,cancelable:!0},Z2="FocusScope",Fg=E.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...l}=n,[u,f]=E.useState(null),h=Wn(i),m=Wn(a),v=E.useRef(null),w=at(e,S=>f(S)),T=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let S=function(V){if(T.paused||!u)return;const U=V.target;u.contains(U)?v.current=U:zs(v.current,{select:!0})},b=function(V){if(T.paused||!u)return;const U=V.relatedTarget;U!==null&&(u.contains(U)||zs(v.current,{select:!0}))},A=function(V){if(document.activeElement===document.body)for(const $ of V)$.removedNodes.length>0&&zs(u)};document.addEventListener("focusin",S),document.addEventListener("focusout",b);const D=new MutationObserver(A);return u&&D.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",b),D.disconnect()}}},[r,u,T.paused]),E.useEffect(()=>{if(u){r_.add(T);const S=document.activeElement;if(!u.contains(S)){const A=new CustomEvent(gp,t_);u.addEventListener(gp,h),u.dispatchEvent(A),A.defaultPrevented||(eD(iD(mC(u)),{select:!0}),document.activeElement===S&&zs(u))}return()=>{u.removeEventListener(gp,h),setTimeout(()=>{const A=new CustomEvent(yp,t_);u.addEventListener(yp,m),u.dispatchEvent(A),A.defaultPrevented||zs(S??document.body,{select:!0}),u.removeEventListener(yp,m),r_.remove(T)},0)}}},[u,h,m,T]);const C=E.useCallback(S=>{if(!t&&!r||T.paused)return;const b=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,A=document.activeElement;if(b&&A){const D=S.currentTarget,[V,U]=tD(D);V&&U?!S.shiftKey&&A===U?(S.preventDefault(),t&&zs(V,{select:!0})):S.shiftKey&&A===V&&(S.preventDefault(),t&&zs(U,{select:!0})):A===D&&S.preventDefault()}},[t,r,T.paused]);return y.jsx($e.div,{tabIndex:-1,...l,ref:w,onKeyDown:C})});Fg.displayName=Z2;function eD(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(zs(r,{select:e}),document.activeElement!==t)return}function tD(n){const e=mC(n),t=n_(e,n),r=n_(e.reverse(),n);return[t,r]}function mC(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function n_(n,e){for(const t of n)if(!nD(t,{upTo:e}))return t}function nD(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function rD(n){return n instanceof HTMLInputElement&&"select"in n}function zs(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&rD(n)&&e&&n.select()}}var r_=sD();function sD(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=s_(n,e),n.unshift(e)},remove(e){var t;n=s_(n,e),(t=n[0])==null||t.resume()}}}function s_(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function iD(n){return n.filter(e=>e.tagName!=="A")}var Qt=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},oD=Q_[" useId ".trim().toString()]||(()=>{}),aD=0;function Js(n){const[e,t]=E.useState(oD());return Qt(()=>{t(r=>r??String(aD++))},[n]),e?`radix-${e}`:""}const lD=["top","right","bottom","left"],ai=Math.min,Rn=Math.max,kd=Math.round,Wu=Math.floor,Vr=n=>({x:n,y:n}),cD={left:"right",right:"left",bottom:"top",top:"bottom"},uD={start:"end",end:"start"};function am(n,e,t){return Rn(n,ai(e,t))}function fs(n,e){return typeof n=="function"?n(e):n}function hs(n){return n.split("-")[0]}function Pa(n){return n.split("-")[1]}function $g(n){return n==="x"?"y":"x"}function zg(n){return n==="y"?"height":"width"}function Mr(n){return["top","bottom"].includes(hs(n))?"y":"x"}function Ug(n){return $g(Mr(n))}function dD(n,e,t){t===void 0&&(t=!1);const r=Pa(n),i=Ug(n),a=zg(i);let l=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Dd(l)),[l,Dd(l)]}function fD(n){const e=Dd(n);return[lm(n),e,lm(e)]}function lm(n){return n.replace(/start|end/g,e=>uD[e])}function hD(n,e,t){const r=["left","right"],i=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?a:l;default:return[]}}function pD(n,e,t,r){const i=Pa(n);let a=hD(hs(n),t==="start",r);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(lm)))),a}function Dd(n){return n.replace(/left|right|bottom|top/g,e=>cD[e])}function mD(n){return{top:0,right:0,bottom:0,left:0,...n}}function gC(n){return typeof n!="number"?mD(n):{top:n,right:n,bottom:n,left:n}}function Md(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function i_(n,e,t){let{reference:r,floating:i}=n;const a=Mr(e),l=Ug(e),u=zg(l),f=hs(e),h=a==="y",m=r.x+r.width/2-i.width/2,v=r.y+r.height/2-i.height/2,w=r[u]/2-i[u]/2;let T;switch(f){case"top":T={x:m,y:r.y-i.height};break;case"bottom":T={x:m,y:r.y+r.height};break;case"right":T={x:r.x+r.width,y:v};break;case"left":T={x:r.x-i.width,y:v};break;default:T={x:r.x,y:r.y}}switch(Pa(e)){case"start":T[l]-=w*(t&&h?-1:1);break;case"end":T[l]+=w*(t&&h?-1:1);break}return T}const gD=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:l}=t,u=a.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:n,floating:e,strategy:i}),{x:m,y:v}=i_(h,r,f),w=r,T={},C=0;for(let S=0;S<u.length;S++){const{name:b,fn:A}=u[S],{x:D,y:V,data:U,reset:$}=await A({x:m,y:v,initialPlacement:r,placement:w,strategy:i,middlewareData:T,rects:h,platform:l,elements:{reference:n,floating:e}});m=D??m,v=V??v,T={...T,[b]:{...T[b],...U}},$&&C<=50&&(C++,typeof $=="object"&&($.placement&&(w=$.placement),$.rects&&(h=$.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:i}):$.rects),{x:m,y:v}=i_(h,w,f)),S=-1)}return{x:m,y:v,placement:w,strategy:i,middlewareData:T}};async function lc(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:l,elements:u,strategy:f}=n,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:v="floating",altBoundary:w=!1,padding:T=0}=fs(e,n),C=gC(T),b=u[w?v==="floating"?"reference":"floating":v],A=Md(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(b)))==null||t?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:h,rootBoundary:m,strategy:f})),D=v==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,V=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),U=await(a.isElement==null?void 0:a.isElement(V))?await(a.getScale==null?void 0:a.getScale(V))||{x:1,y:1}:{x:1,y:1},$=Md(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:D,offsetParent:V,strategy:f}):D);return{top:(A.top-$.top+C.top)/U.y,bottom:($.bottom-A.bottom+C.bottom)/U.y,left:(A.left-$.left+C.left)/U.x,right:($.right-A.right+C.right)/U.x}}const yD=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:a,platform:l,elements:u,middlewareData:f}=e,{element:h,padding:m=0}=fs(n,e)||{};if(h==null)return{};const v=gC(m),w={x:t,y:r},T=Ug(i),C=zg(T),S=await l.getDimensions(h),b=T==="y",A=b?"top":"left",D=b?"bottom":"right",V=b?"clientHeight":"clientWidth",U=a.reference[C]+a.reference[T]-w[T]-a.floating[C],$=w[T]-a.reference[T],G=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let M=G?G[V]:0;(!M||!await(l.isElement==null?void 0:l.isElement(G)))&&(M=u.floating[V]||a.floating[C]);const N=U/2-$/2,k=M/2-S[C]/2-1,j=ai(v[A],k),F=ai(v[D],k),P=j,L=M-S[C]-F,ee=M/2-S[C]/2+N,te=am(P,ee,L),re=!f.arrow&&Pa(i)!=null&&ee!==te&&a.reference[C]/2-(ee<P?j:F)-S[C]/2<0,ue=re?ee<P?ee-P:ee-L:0;return{[T]:w[T]+ue,data:{[T]:te,centerOffset:ee-te-ue,...re&&{alignmentOffset:ue}},reset:re}}}),vD=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:a,rects:l,initialPlacement:u,platform:f,elements:h}=e,{mainAxis:m=!0,crossAxis:v=!0,fallbackPlacements:w,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:S=!0,...b}=fs(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const A=hs(i),D=Mr(u),V=hs(u)===u,U=await(f.isRTL==null?void 0:f.isRTL(h.floating)),$=w||(V||!S?[Dd(u)]:fD(u)),G=C!=="none";!w&&G&&$.push(...pD(u,S,C,U));const M=[u,...$],N=await lc(e,b),k=[];let j=((r=a.flip)==null?void 0:r.overflows)||[];if(m&&k.push(N[A]),v){const ee=dD(i,l,U);k.push(N[ee[0]],N[ee[1]])}if(j=[...j,{placement:i,overflows:k}],!k.every(ee=>ee<=0)){var F,P;const ee=(((F=a.flip)==null?void 0:F.index)||0)+1,te=M[ee];if(te&&(!(v==="alignment"?D!==Mr(te):!1)||j.every(Y=>Y.overflows[0]>0&&Mr(Y.placement)===D)))return{data:{index:ee,overflows:j},reset:{placement:te}};let re=(P=j.filter(ue=>ue.overflows[0]<=0).sort((ue,Y)=>ue.overflows[1]-Y.overflows[1])[0])==null?void 0:P.placement;if(!re)switch(T){case"bestFit":{var L;const ue=(L=j.filter(Y=>{if(G){const ne=Mr(Y.placement);return ne===D||ne==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(ne=>ne>0).reduce((ne,le)=>ne+le,0)]).sort((Y,ne)=>Y[1]-ne[1])[0])==null?void 0:L[0];ue&&(re=ue);break}case"initialPlacement":re=u;break}if(i!==re)return{reset:{placement:re}}}return{}}}};function o_(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function a_(n){return lD.some(e=>n[e]>=0)}const wD=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=fs(n,e);switch(r){case"referenceHidden":{const a=await lc(e,{...i,elementContext:"reference"}),l=o_(a,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:a_(l)}}}case"escaped":{const a=await lc(e,{...i,altBoundary:!0}),l=o_(a,t.floating);return{data:{escapedOffsets:l,escaped:a_(l)}}}default:return{}}}}};async function _D(n,e){const{placement:t,platform:r,elements:i}=n,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=hs(t),u=Pa(t),f=Mr(t)==="y",h=["left","top"].includes(l)?-1:1,m=a&&f?-1:1,v=fs(e,n);let{mainAxis:w,crossAxis:T,alignmentAxis:C}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return u&&typeof C=="number"&&(T=u==="end"?C*-1:C),f?{x:T*m,y:w*h}:{x:w*h,y:T*m}}const xD=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:a,placement:l,middlewareData:u}=e,f=await _D(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+f.x,y:a+f.y,data:{...f,placement:l}}}}},ED=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:b=>{let{x:A,y:D}=b;return{x:A,y:D}}},...f}=fs(n,e),h={x:t,y:r},m=await lc(e,f),v=Mr(hs(i)),w=$g(v);let T=h[w],C=h[v];if(a){const b=w==="y"?"top":"left",A=w==="y"?"bottom":"right",D=T+m[b],V=T-m[A];T=am(D,T,V)}if(l){const b=v==="y"?"top":"left",A=v==="y"?"bottom":"right",D=C+m[b],V=C-m[A];C=am(D,C,V)}const S=u.fn({...e,[w]:T,[v]:C});return{...S,data:{x:S.x-t,y:S.y-r,enabled:{[w]:a,[v]:l}}}}}},CD=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:a,middlewareData:l}=e,{offset:u=0,mainAxis:f=!0,crossAxis:h=!0}=fs(n,e),m={x:t,y:r},v=Mr(i),w=$g(v);let T=m[w],C=m[v];const S=fs(u,e),b=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(f){const V=w==="y"?"height":"width",U=a.reference[w]-a.floating[V]+b.mainAxis,$=a.reference[w]+a.reference[V]-b.mainAxis;T<U?T=U:T>$&&(T=$)}if(h){var A,D;const V=w==="y"?"width":"height",U=["top","left"].includes(hs(i)),$=a.reference[v]-a.floating[V]+(U&&((A=l.offset)==null?void 0:A[v])||0)+(U?0:b.crossAxis),G=a.reference[v]+a.reference[V]+(U?0:((D=l.offset)==null?void 0:D[v])||0)-(U?b.crossAxis:0);C<$?C=$:C>G&&(C=G)}return{[w]:T,[v]:C}}}},SD=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:a,platform:l,elements:u}=e,{apply:f=()=>{},...h}=fs(n,e),m=await lc(e,h),v=hs(i),w=Pa(i),T=Mr(i)==="y",{width:C,height:S}=a.floating;let b,A;v==="top"||v==="bottom"?(b=v,A=w===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(A=v,b=w==="end"?"top":"bottom");const D=S-m.top-m.bottom,V=C-m.left-m.right,U=ai(S-m[b],D),$=ai(C-m[A],V),G=!e.middlewareData.shift;let M=U,N=$;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(N=V),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=D),G&&!w){const j=Rn(m.left,0),F=Rn(m.right,0),P=Rn(m.top,0),L=Rn(m.bottom,0);T?N=C-2*(j!==0||F!==0?j+F:Rn(m.left,m.right)):M=S-2*(P!==0||L!==0?P+L:Rn(m.top,m.bottom))}await f({...e,availableWidth:N,availableHeight:M});const k=await l.getDimensions(u.floating);return C!==k.width||S!==k.height?{reset:{rects:!0}}:{}}}};function mf(){return typeof window<"u"}function ka(n){return yC(n)?(n.nodeName||"").toLowerCase():"#document"}function Pn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function zr(n){var e;return(e=(yC(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function yC(n){return mf()?n instanceof Node||n instanceof Pn(n).Node:!1}function pr(n){return mf()?n instanceof Element||n instanceof Pn(n).Element:!1}function $r(n){return mf()?n instanceof HTMLElement||n instanceof Pn(n).HTMLElement:!1}function l_(n){return!mf()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Pn(n).ShadowRoot}function xc(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=mr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function TD(n){return["table","td","th"].includes(ka(n))}function gf(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Bg(n){const e=Hg(),t=pr(n)?mr(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function ID(n){let e=li(n);for(;$r(e)&&!_a(e);){if(Bg(e))return e;if(gf(e))return null;e=li(e)}return null}function Hg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _a(n){return["html","body","#document"].includes(ka(n))}function mr(n){return Pn(n).getComputedStyle(n)}function yf(n){return pr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function li(n){if(ka(n)==="html")return n;const e=n.assignedSlot||n.parentNode||l_(n)&&n.host||zr(n);return l_(e)?e.host:e}function vC(n){const e=li(n);return _a(e)?n.ownerDocument?n.ownerDocument.body:n.body:$r(e)&&xc(e)?e:vC(e)}function cc(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=vC(n),a=i===((r=n.ownerDocument)==null?void 0:r.body),l=Pn(i);if(a){const u=cm(l);return e.concat(l,l.visualViewport||[],xc(i)?i:[],u&&t?cc(u):[])}return e.concat(i,cc(i,[],t))}function cm(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function wC(n){const e=mr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=$r(n),a=i?n.offsetWidth:t,l=i?n.offsetHeight:r,u=kd(t)!==a||kd(r)!==l;return u&&(t=a,r=l),{width:t,height:r,$:u}}function Wg(n){return pr(n)?n:n.contextElement}function la(n){const e=Wg(n);if(!$r(e))return Vr(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:a}=wC(e);let l=(a?kd(t.width):t.width)/r,u=(a?kd(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const bD=Vr(0);function _C(n){const e=Pn(n);return!Hg()||!e.visualViewport?bD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function AD(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Pn(n)?!1:e}function Xi(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=Wg(n);let l=Vr(1);e&&(r?pr(r)&&(l=la(r)):l=la(n));const u=AD(a,t,r)?_C(a):Vr(0);let f=(i.left+u.x)/l.x,h=(i.top+u.y)/l.y,m=i.width/l.x,v=i.height/l.y;if(a){const w=Pn(a),T=r&&pr(r)?Pn(r):r;let C=w,S=cm(C);for(;S&&r&&T!==C;){const b=la(S),A=S.getBoundingClientRect(),D=mr(S),V=A.left+(S.clientLeft+parseFloat(D.paddingLeft))*b.x,U=A.top+(S.clientTop+parseFloat(D.paddingTop))*b.y;f*=b.x,h*=b.y,m*=b.x,v*=b.y,f+=V,h+=U,C=Pn(S),S=cm(C)}}return Md({width:m,height:v,x:f,y:h})}function qg(n,e){const t=yf(n).scrollLeft;return e?e.left+t:Xi(zr(n)).left+t}function xC(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:qg(n,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function RD(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const a=i==="fixed",l=zr(r),u=e?gf(e.floating):!1;if(r===l||u&&a)return t;let f={scrollLeft:0,scrollTop:0},h=Vr(1);const m=Vr(0),v=$r(r);if((v||!v&&!a)&&((ka(r)!=="body"||xc(l))&&(f=yf(r)),$r(r))){const T=Xi(r);h=la(r),m.x=T.x+r.clientLeft,m.y=T.y+r.clientTop}const w=l&&!v&&!a?xC(l,f,!0):Vr(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-f.scrollLeft*h.x+m.x+w.x,y:t.y*h.y-f.scrollTop*h.y+m.y+w.y}}function ND(n){return Array.from(n.getClientRects())}function PD(n){const e=zr(n),t=yf(n),r=n.ownerDocument.body,i=Rn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Rn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+qg(n);const u=-t.scrollTop;return mr(r).direction==="rtl"&&(l+=Rn(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:l,y:u}}function kD(n,e){const t=Pn(n),r=zr(n),i=t.visualViewport;let a=r.clientWidth,l=r.clientHeight,u=0,f=0;if(i){a=i.width,l=i.height;const h=Hg();(!h||h&&e==="fixed")&&(u=i.offsetLeft,f=i.offsetTop)}return{width:a,height:l,x:u,y:f}}function DD(n,e){const t=Xi(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,a=$r(n)?la(n):Vr(1),l=n.clientWidth*a.x,u=n.clientHeight*a.y,f=i*a.x,h=r*a.y;return{width:l,height:u,x:f,y:h}}function c_(n,e,t){let r;if(e==="viewport")r=kD(n,t);else if(e==="document")r=PD(zr(n));else if(pr(e))r=DD(e,t);else{const i=_C(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Md(r)}function EC(n,e){const t=li(n);return t===e||!pr(t)||_a(t)?!1:mr(t).position==="fixed"||EC(t,e)}function MD(n,e){const t=e.get(n);if(t)return t;let r=cc(n,[],!1).filter(u=>pr(u)&&ka(u)!=="body"),i=null;const a=mr(n).position==="fixed";let l=a?li(n):n;for(;pr(l)&&!_a(l);){const u=mr(l),f=Bg(l);!f&&u.position==="fixed"&&(i=null),(a?!f&&!i:!f&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||xc(l)&&!f&&EC(n,l))?r=r.filter(m=>m!==l):i=u,l=li(l)}return e.set(n,r),r}function OD(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const l=[...t==="clippingAncestors"?gf(e)?[]:MD(e,this._c):[].concat(t),r],u=l[0],f=l.reduce((h,m)=>{const v=c_(e,m,i);return h.top=Rn(v.top,h.top),h.right=ai(v.right,h.right),h.bottom=ai(v.bottom,h.bottom),h.left=Rn(v.left,h.left),h},c_(e,u,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function LD(n){const{width:e,height:t}=wC(n);return{width:e,height:t}}function jD(n,e,t){const r=$r(e),i=zr(e),a=t==="fixed",l=Xi(n,!0,a,e);let u={scrollLeft:0,scrollTop:0};const f=Vr(0);function h(){f.x=qg(i)}if(r||!r&&!a)if((ka(e)!=="body"||xc(i))&&(u=yf(e)),r){const T=Xi(e,!0,a,e);f.x=T.x+e.clientLeft,f.y=T.y+e.clientTop}else i&&h();a&&!r&&i&&h();const m=i&&!r&&!a?xC(i,u):Vr(0),v=l.left+u.scrollLeft-f.x-m.x,w=l.top+u.scrollTop-f.y-m.y;return{x:v,y:w,width:l.width,height:l.height}}function vp(n){return mr(n).position==="static"}function u_(n,e){if(!$r(n)||mr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return zr(n)===t&&(t=t.ownerDocument.body),t}function CC(n,e){const t=Pn(n);if(gf(n))return t;if(!$r(n)){let i=li(n);for(;i&&!_a(i);){if(pr(i)&&!vp(i))return i;i=li(i)}return t}let r=u_(n,e);for(;r&&TD(r)&&vp(r);)r=u_(r,e);return r&&_a(r)&&vp(r)&&!Bg(r)?t:r||ID(n)||t}const VD=async function(n){const e=this.getOffsetParent||CC,t=this.getDimensions,r=await t(n.floating);return{reference:jD(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function FD(n){return mr(n).direction==="rtl"}const $D={convertOffsetParentRelativeRectToViewportRelativeRect:RD,getDocumentElement:zr,getClippingRect:OD,getOffsetParent:CC,getElementRects:VD,getClientRects:ND,getDimensions:LD,getScale:la,isElement:pr,isRTL:FD};function SC(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function zD(n,e){let t=null,r;const i=zr(n);function a(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),a();const h=n.getBoundingClientRect(),{left:m,top:v,width:w,height:T}=h;if(u||e(),!w||!T)return;const C=Wu(v),S=Wu(i.clientWidth-(m+w)),b=Wu(i.clientHeight-(v+T)),A=Wu(m),V={rootMargin:-C+"px "+-S+"px "+-b+"px "+-A+"px",threshold:Rn(0,ai(1,f))||1};let U=!0;function $(G){const M=G[0].intersectionRatio;if(M!==f){if(!U)return l();M?l(!1,M):r=setTimeout(()=>{l(!1,1e-7)},1e3)}M===1&&!SC(h,n.getBoundingClientRect())&&l(),U=!1}try{t=new IntersectionObserver($,{...V,root:i.ownerDocument})}catch{t=new IntersectionObserver($,V)}t.observe(n)}return l(!0),a}function UD(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,h=Wg(n),m=i||a?[...h?cc(h):[],...cc(e)]:[];m.forEach(A=>{i&&A.addEventListener("scroll",t,{passive:!0}),a&&A.addEventListener("resize",t)});const v=h&&u?zD(h,t):null;let w=-1,T=null;l&&(T=new ResizeObserver(A=>{let[D]=A;D&&D.target===h&&T&&(T.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var V;(V=T)==null||V.observe(e)})),t()}),h&&!f&&T.observe(h),T.observe(e));let C,S=f?Xi(n):null;f&&b();function b(){const A=Xi(n);S&&!SC(S,A)&&t(),S=A,C=requestAnimationFrame(b)}return t(),()=>{var A;m.forEach(D=>{i&&D.removeEventListener("scroll",t),a&&D.removeEventListener("resize",t)}),v==null||v(),(A=T)==null||A.disconnect(),T=null,f&&cancelAnimationFrame(C)}}const BD=xD,HD=ED,WD=vD,qD=SD,KD=wD,d_=yD,QD=CD,GD=(n,e,t)=>{const r=new Map,i={platform:$D,...t},a={...i.platform,_c:r};return gD(n,e,{...i,platform:a})};var YD=typeof document<"u",XD=function(){},cd=YD?E.useLayoutEffect:XD;function Od(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Od(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const a=i[r];if(!(a==="_owner"&&n.$$typeof)&&!Od(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function TC(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function f_(n,e){const t=TC(n);return Math.round(e*t)/t}function wp(n){const e=E.useRef(n);return cd(()=>{e.current=n}),e}function JD(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:f,open:h}=n,[m,v]=E.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,T]=E.useState(r);Od(w,r)||T(r);const[C,S]=E.useState(null),[b,A]=E.useState(null),D=E.useCallback(Y=>{Y!==G.current&&(G.current=Y,S(Y))},[]),V=E.useCallback(Y=>{Y!==M.current&&(M.current=Y,A(Y))},[]),U=a||C,$=l||b,G=E.useRef(null),M=E.useRef(null),N=E.useRef(m),k=f!=null,j=wp(f),F=wp(i),P=wp(h),L=E.useCallback(()=>{if(!G.current||!M.current)return;const Y={placement:e,strategy:t,middleware:w};F.current&&(Y.platform=F.current),GD(G.current,M.current,Y).then(ne=>{const le={...ne,isPositioned:P.current!==!1};ee.current&&!Od(N.current,le)&&(N.current=le,Sa.flushSync(()=>{v(le)}))})},[w,e,t,F,P]);cd(()=>{h===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,v(Y=>({...Y,isPositioned:!1})))},[h]);const ee=E.useRef(!1);cd(()=>(ee.current=!0,()=>{ee.current=!1}),[]),cd(()=>{if(U&&(G.current=U),$&&(M.current=$),U&&$){if(j.current)return j.current(U,$,L);L()}},[U,$,L,j,k]);const te=E.useMemo(()=>({reference:G,floating:M,setReference:D,setFloating:V}),[D,V]),re=E.useMemo(()=>({reference:U,floating:$}),[U,$]),ue=E.useMemo(()=>{const Y={position:t,left:0,top:0};if(!re.floating)return Y;const ne=f_(re.floating,m.x),le=f_(re.floating,m.y);return u?{...Y,transform:"translate("+ne+"px, "+le+"px)",...TC(re.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ne,top:le}},[t,u,re.floating,m.x,m.y]);return E.useMemo(()=>({...m,update:L,refs:te,elements:re,floatingStyles:ue}),[m,L,te,re,ue])}const ZD=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?d_({element:r.current,padding:i}).fn(t):{}:r?d_({element:r,padding:i}).fn(t):{}}}},eM=(n,e)=>({...BD(n),options:[n,e]}),tM=(n,e)=>({...HD(n),options:[n,e]}),nM=(n,e)=>({...QD(n),options:[n,e]}),rM=(n,e)=>({...WD(n),options:[n,e]}),sM=(n,e)=>({...qD(n),options:[n,e]}),iM=(n,e)=>({...KD(n),options:[n,e]}),oM=(n,e)=>({...ZD(n),options:[n,e]});var aM="Arrow",IC=E.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...a}=n;return y.jsx($e.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});IC.displayName=aM;var lM=IC;function cM(n){const[e,t]=E.useState(void 0);return Qt(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,u;if("borderBoxSize"in a){const f=a.borderBoxSize,h=Array.isArray(f)?f[0]:f;l=h.inlineSize,u=h.blockSize}else l=n.offsetWidth,u=n.offsetHeight;t({width:l,height:u})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Kg="Popper",[bC,AC]=hi(Kg),[uM,RC]=bC(Kg),NC=n=>{const{__scopePopper:e,children:t}=n,[r,i]=E.useState(null);return y.jsx(uM,{scope:e,anchor:r,onAnchorChange:i,children:t})};NC.displayName=Kg;var PC="PopperAnchor",kC=E.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,a=RC(PC,t),l=E.useRef(null),u=at(e,l);return E.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:y.jsx($e.div,{...i,ref:u})});kC.displayName=PC;var Qg="PopperContent",[dM,fM]=bC(Qg),DC=E.forwardRef((n,e)=>{var fe,ve,De,me,Ne,qe;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:v="partial",hideWhenDetached:w=!1,updatePositionStrategy:T="optimized",onPlaced:C,...S}=n,b=RC(Qg,t),[A,D]=E.useState(null),V=at(e,wt=>D(wt)),[U,$]=E.useState(null),G=cM(U),M=(G==null?void 0:G.width)??0,N=(G==null?void 0:G.height)??0,k=r+(a!=="center"?"-"+a:""),j=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},F=Array.isArray(h)?h:[h],P=F.length>0,L={padding:j,boundary:F.filter(pM),altBoundary:P},{refs:ee,floatingStyles:te,placement:re,isPositioned:ue,middlewareData:Y}=JD({strategy:"fixed",placement:k,whileElementsMounted:(...wt)=>UD(...wt,{animationFrame:T==="always"}),elements:{reference:b.anchor},middleware:[eM({mainAxis:i+N,alignmentAxis:l}),f&&tM({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?nM():void 0,...L}),f&&rM({...L}),sM({...L,apply:({elements:wt,rects:Ot,availableWidth:kn,availableHeight:qn})=>{const{width:Kn,height:oo}=Ot.reference,Qn=wt.floating.style;Qn.setProperty("--radix-popper-available-width",`${kn}px`),Qn.setProperty("--radix-popper-available-height",`${qn}px`),Qn.setProperty("--radix-popper-anchor-width",`${Kn}px`),Qn.setProperty("--radix-popper-anchor-height",`${oo}px`)}}),U&&oM({element:U,padding:u}),mM({arrowWidth:M,arrowHeight:N}),w&&iM({strategy:"referenceHidden",...L})]}),[ne,le]=LC(re),B=Wn(C);Qt(()=>{ue&&(B==null||B())},[ue,B]);const Z=(fe=Y.arrow)==null?void 0:fe.x,de=(ve=Y.arrow)==null?void 0:ve.y,ge=((De=Y.arrow)==null?void 0:De.centerOffset)!==0,[Se,Re]=E.useState();return Qt(()=>{A&&Re(window.getComputedStyle(A).zIndex)},[A]),y.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:ue?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(me=Y.transformOrigin)==null?void 0:me.x,(Ne=Y.transformOrigin)==null?void 0:Ne.y].join(" "),...((qe=Y.hide)==null?void 0:qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:y.jsx(dM,{scope:t,placedSide:ne,onArrowChange:$,arrowX:Z,arrowY:de,shouldHideArrow:ge,children:y.jsx($e.div,{"data-side":ne,"data-align":le,...S,ref:V,style:{...S.style,animation:ue?void 0:"none"}})})})});DC.displayName=Qg;var MC="PopperArrow",hM={top:"bottom",right:"left",bottom:"top",left:"right"},OC=E.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,a=fM(MC,r),l=hM[a.placedSide];return y.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:y.jsx(lM,{...i,ref:t,style:{...i.style,display:"block"}})})});OC.displayName=MC;function pM(n){return n!==null}var mM=n=>({name:"transformOrigin",options:n,fn(e){var b,A,D;const{placement:t,rects:r,middlewareData:i}=e,l=((b=i.arrow)==null?void 0:b.centerOffset)!==0,u=l?0:n.arrowWidth,f=l?0:n.arrowHeight,[h,m]=LC(t),v={start:"0%",center:"50%",end:"100%"}[m],w=(((A=i.arrow)==null?void 0:A.x)??0)+u/2,T=(((D=i.arrow)==null?void 0:D.y)??0)+f/2;let C="",S="";return h==="bottom"?(C=l?v:`${w}px`,S=`${-f}px`):h==="top"?(C=l?v:`${w}px`,S=`${r.floating.height+f}px`):h==="right"?(C=`${-f}px`,S=l?v:`${T}px`):h==="left"&&(C=`${r.floating.width+f}px`,S=l?v:`${T}px`),{data:{x:C,y:S}}}});function LC(n){const[e,t="center"]=n.split("-");return[e,t]}var gM=NC,yM=kC,vM=DC,wM=OC,_M="Portal",vf=E.forwardRef((n,e)=>{var u;const{container:t,...r}=n,[i,a]=E.useState(!1);Qt(()=>a(!0),[]);const l=t||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?vA.createPortal(y.jsx($e.div,{...r,ref:e}),l):null});vf.displayName=_M;var xM=Q_[" useInsertionEffect ".trim().toString()]||Qt;function xa({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,a,l]=EM({defaultProp:e,onChange:t}),u=n!==void 0,f=u?n:i;{const m=E.useRef(n!==void 0);E.useEffect(()=>{const v=m.current;v!==u&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,r])}const h=E.useCallback(m=>{var v;if(u){const w=CM(m)?m(n):m;w!==n&&((v=l.current)==null||v.call(l,w))}else a(m)},[u,n,a,l]);return[f,h]}function EM({defaultProp:n,onChange:e}){const[t,r]=E.useState(n),i=E.useRef(t),a=E.useRef(e);return xM(()=>{a.current=e},[e]),E.useEffect(()=>{var l;i.current!==t&&((l=a.current)==null||l.call(a,t),i.current=t)},[t,i]),[t,r,a]}function CM(n){return typeof n=="function"}function SM(n){const e=E.useRef({value:n,previous:n});return E.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var jC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),TM="VisuallyHidden",Gg=E.forwardRef((n,e)=>y.jsx($e.span,{...n,ref:e,style:{...jC,...n.style}}));Gg.displayName=TM;var IM=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Xo=new WeakMap,qu=new WeakMap,Ku={},_p=0,VC=function(n){return n&&(n.host||VC(n.parentNode))},bM=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=VC(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},AM=function(n,e,t,r){var i=bM(e,Array.isArray(n)?n:[n]);Ku[t]||(Ku[t]=new WeakMap);var a=Ku[t],l=[],u=new Set,f=new Set(i),h=function(v){!v||u.has(v)||(u.add(v),h(v.parentNode))};i.forEach(h);var m=function(v){!v||f.has(v)||Array.prototype.forEach.call(v.children,function(w){if(u.has(w))m(w);else try{var T=w.getAttribute(r),C=T!==null&&T!=="false",S=(Xo.get(w)||0)+1,b=(a.get(w)||0)+1;Xo.set(w,S),a.set(w,b),l.push(w),S===1&&C&&qu.set(w,!0),b===1&&w.setAttribute(t,"true"),C||w.setAttribute(r,"true")}catch(A){console.error("aria-hidden: cannot operate on ",w,A)}})};return m(e),u.clear(),_p++,function(){l.forEach(function(v){var w=Xo.get(v)-1,T=a.get(v)-1;Xo.set(v,w),a.set(v,T),w||(qu.has(v)||v.removeAttribute(r),qu.delete(v)),T||v.removeAttribute(t)}),_p--,_p||(Xo=new WeakMap,Xo=new WeakMap,qu=new WeakMap,Ku={})}},FC=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=IM(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),AM(r,i,t,"aria-hidden")):function(){return null}},Dr=function(){return Dr=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Dr.apply(this,arguments)};function $C(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function RM(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}var ud="right-scroll-bar-position",dd="width-before-scroll-bar",NM="with-scroll-bars-hidden",PM="--removed-body-scroll-bar-size";function xp(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function kM(n,e){var t=E.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var DM=typeof window<"u"?E.useLayoutEffect:E.useEffect,h_=new WeakMap;function MM(n,e){var t=kM(null,function(r){return n.forEach(function(i){return xp(i,r)})});return DM(function(){var r=h_.get(t);if(r){var i=new Set(r),a=new Set(n),l=t.current;i.forEach(function(u){a.has(u)||xp(u,null)}),a.forEach(function(u){i.has(u)||xp(u,l)})}h_.set(t,n)},[n]),t}function OM(n){return n}function LM(n,e){e===void 0&&(e=OM);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var l=e(a,r);return t.push(l),function(){t=t.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(r=!0;t.length;){var l=t;t=[],l.forEach(a)}t={push:function(u){return a(u)},filter:function(){return t}}},assignMedium:function(a){r=!0;var l=[];if(t.length){var u=t;t=[],u.forEach(a),l=t}var f=function(){var m=l;l=[],m.forEach(a)},h=function(){return Promise.resolve().then(f)};h(),t={push:function(m){l.push(m),h()},filter:function(m){return l=l.filter(m),t}}}};return i}function jM(n){n===void 0&&(n={});var e=LM(null);return e.options=Dr({async:!0,ssr:!1},n),e}var zC=function(n){var e=n.sideCar,t=$C(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Dr({},t))};zC.isSideCarExport=!0;function VM(n,e){return n.useMedium(e),zC}var UC=jM(),Ep=function(){},wf=E.forwardRef(function(n,e){var t=E.useRef(null),r=E.useState({onScrollCapture:Ep,onWheelCapture:Ep,onTouchMoveCapture:Ep}),i=r[0],a=r[1],l=n.forwardProps,u=n.children,f=n.className,h=n.removeScrollBar,m=n.enabled,v=n.shards,w=n.sideCar,T=n.noRelative,C=n.noIsolation,S=n.inert,b=n.allowPinchZoom,A=n.as,D=A===void 0?"div":A,V=n.gapMode,U=$C(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=w,G=MM([t,e]),M=Dr(Dr({},U),i);return E.createElement(E.Fragment,null,m&&E.createElement($,{sideCar:UC,removeScrollBar:h,shards:v,noRelative:T,noIsolation:C,inert:S,setCallbacks:a,allowPinchZoom:!!b,lockRef:t,gapMode:V}),l?E.cloneElement(E.Children.only(u),Dr(Dr({},M),{ref:G})):E.createElement(D,Dr({},M,{className:f,ref:G}),u))});wf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wf.classNames={fullWidth:dd,zeroRight:ud};var FM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $M(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=FM();return e&&n.setAttribute("nonce",e),n}function zM(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function UM(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var BM=function(){var n=0,e=null;return{add:function(t){n==0&&(e=$M())&&(zM(e,t),UM(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},HM=function(){var n=BM();return function(e,t){E.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},BC=function(){var n=HM(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},WM={left:0,top:0,right:0,gap:0},Cp=function(n){return parseInt(n||"",10)||0},qM=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[Cp(t),Cp(r),Cp(i)]},KM=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return WM;var e=qM(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},QM=BC(),ca="data-scroll-locked",GM=function(n,e,t,r){var i=n.left,a=n.top,l=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(NM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(ca,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ud,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(dd,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(ud," .").concat(ud,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(dd," .").concat(dd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ca,`] {
    `).concat(PM,": ").concat(u,`px;
  }
`)},p_=function(){var n=parseInt(document.body.getAttribute(ca)||"0",10);return isFinite(n)?n:0},YM=function(){E.useEffect(function(){return document.body.setAttribute(ca,(p_()+1).toString()),function(){var n=p_()-1;n<=0?document.body.removeAttribute(ca):document.body.setAttribute(ca,n.toString())}},[])},XM=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;YM();var a=E.useMemo(function(){return KM(i)},[i]);return E.createElement(QM,{styles:GM(a,!e,i,t?"":"!important")})},um=!1;if(typeof window<"u")try{var Qu=Object.defineProperty({},"passive",{get:function(){return um=!0,!0}});window.addEventListener("test",Qu,Qu),window.removeEventListener("test",Qu,Qu)}catch{um=!1}var Jo=um?{passive:!1}:!1,JM=function(n){return n.tagName==="TEXTAREA"},HC=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!JM(n)&&t[e]==="visible")},ZM=function(n){return HC(n,"overflowY")},eO=function(n){return HC(n,"overflowX")},m_=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=WC(n,r);if(i){var a=qC(n,r),l=a[1],u=a[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},tO=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},nO=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},WC=function(n,e){return n==="v"?ZM(e):eO(e)},qC=function(n,e){return n==="v"?tO(e):nO(e)},rO=function(n,e){return n==="h"&&e==="rtl"?-1:1},sO=function(n,e,t,r,i){var a=rO(n,window.getComputedStyle(e).direction),l=a*r,u=t.target,f=e.contains(u),h=!1,m=l>0,v=0,w=0;do{if(!u)break;var T=qC(n,u),C=T[0],S=T[1],b=T[2],A=S-b-a*C;(C||A)&&WC(n,u)&&(v+=A,w+=C);var D=u.parentNode;u=D&&D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?D.host:D}while(!f&&u!==document.body||f&&(e.contains(u)||e===u));return(m&&Math.abs(v)<1||!m&&Math.abs(w)<1)&&(h=!0),h},Gu=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},g_=function(n){return[n.deltaX,n.deltaY]},y_=function(n){return n&&"current"in n?n.current:n},iO=function(n,e){return n[0]===e[0]&&n[1]===e[1]},oO=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},aO=0,Zo=[];function lO(n){var e=E.useRef([]),t=E.useRef([0,0]),r=E.useRef(),i=E.useState(aO++)[0],a=E.useState(BC)[0],l=E.useRef(n);E.useEffect(function(){l.current=n},[n]),E.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var S=RM([n.lockRef.current],(n.shards||[]).map(y_),!0).filter(Boolean);return S.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),S.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var u=E.useCallback(function(S,b){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!l.current.allowPinchZoom;var A=Gu(S),D=t.current,V="deltaX"in S?S.deltaX:D[0]-A[0],U="deltaY"in S?S.deltaY:D[1]-A[1],$,G=S.target,M=Math.abs(V)>Math.abs(U)?"h":"v";if("touches"in S&&M==="h"&&G.type==="range")return!1;var N=m_(M,G);if(!N)return!0;if(N?$=M:($=M==="v"?"h":"v",N=m_(M,G)),!N)return!1;if(!r.current&&"changedTouches"in S&&(V||U)&&(r.current=$),!$)return!0;var k=r.current||$;return sO(k,b,S,k==="h"?V:U)},[]),f=E.useCallback(function(S){var b=S;if(!(!Zo.length||Zo[Zo.length-1]!==a)){var A="deltaY"in b?g_(b):Gu(b),D=e.current.filter(function($){return $.name===b.type&&($.target===b.target||b.target===$.shadowParent)&&iO($.delta,A)})[0];if(D&&D.should){b.cancelable&&b.preventDefault();return}if(!D){var V=(l.current.shards||[]).map(y_).filter(Boolean).filter(function($){return $.contains(b.target)}),U=V.length>0?u(b,V[0]):!l.current.noIsolation;U&&b.cancelable&&b.preventDefault()}}},[]),h=E.useCallback(function(S,b,A,D){var V={name:S,delta:b,target:A,should:D,shadowParent:cO(A)};e.current.push(V),setTimeout(function(){e.current=e.current.filter(function(U){return U!==V})},1)},[]),m=E.useCallback(function(S){t.current=Gu(S),r.current=void 0},[]),v=E.useCallback(function(S){h(S.type,g_(S),S.target,u(S,n.lockRef.current))},[]),w=E.useCallback(function(S){h(S.type,Gu(S),S.target,u(S,n.lockRef.current))},[]);E.useEffect(function(){return Zo.push(a),n.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:w}),document.addEventListener("wheel",f,Jo),document.addEventListener("touchmove",f,Jo),document.addEventListener("touchstart",m,Jo),function(){Zo=Zo.filter(function(S){return S!==a}),document.removeEventListener("wheel",f,Jo),document.removeEventListener("touchmove",f,Jo),document.removeEventListener("touchstart",m,Jo)}},[]);var T=n.removeScrollBar,C=n.inert;return E.createElement(E.Fragment,null,C?E.createElement(a,{styles:oO(i)}):null,T?E.createElement(XM,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function cO(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const uO=VM(UC,lO);var Yg=E.forwardRef(function(n,e){return E.createElement(wf,Dr({},n,{ref:e,sideCar:uO}))});Yg.classNames=wf.classNames;var dO=[" ","Enter","ArrowUp","ArrowDown"],fO=[" ","Enter"],Ji="Select",[_f,xf,hO]=jg(Ji),[Da,u9]=hi(Ji,[hO,AC]),Ef=AC(),[pO,pi]=Da(Ji),[mO,gO]=Da(Ji),KC=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:a,value:l,defaultValue:u,onValueChange:f,dir:h,name:m,autoComplete:v,disabled:w,required:T,form:C}=n,S=Ef(e),[b,A]=E.useState(null),[D,V]=E.useState(null),[U,$]=E.useState(!1),G=Vg(h),[M,N]=xa({prop:r,defaultProp:i??!1,onChange:a,caller:Ji}),[k,j]=xa({prop:l,defaultProp:u,onChange:f,caller:Ji}),F=E.useRef(null),P=b?C||!!b.closest("form"):!0,[L,ee]=E.useState(new Set),te=Array.from(L).map(re=>re.props.value).join(";");return y.jsx(gM,{...S,children:y.jsxs(pO,{required:T,scope:e,trigger:b,onTriggerChange:A,valueNode:D,onValueNodeChange:V,valueNodeHasChildren:U,onValueNodeHasChildrenChange:$,contentId:Js(),value:k,onValueChange:j,open:M,onOpenChange:N,dir:G,triggerPointerDownPosRef:F,disabled:w,children:[y.jsx(_f.Provider,{scope:e,children:y.jsx(mO,{scope:n.__scopeSelect,onNativeOptionAdd:E.useCallback(re=>{ee(ue=>new Set(ue).add(re))},[]),onNativeOptionRemove:E.useCallback(re=>{ee(ue=>{const Y=new Set(ue);return Y.delete(re),Y})},[]),children:t})}),P?y.jsxs(y1,{"aria-hidden":!0,required:T,tabIndex:-1,name:m,autoComplete:v,value:k,onChange:re=>j(re.target.value),disabled:w,form:C,children:[k===void 0?y.jsx("option",{value:""}):null,Array.from(L)]},te):null]})})};KC.displayName=Ji;var QC="SelectTrigger",GC=E.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,a=Ef(t),l=pi(QC,t),u=l.disabled||r,f=at(e,l.onTriggerChange),h=xf(t),m=E.useRef("touch"),[v,w,T]=w1(S=>{const b=h().filter(V=>!V.disabled),A=b.find(V=>V.value===l.value),D=_1(b,S,A);D!==void 0&&l.onValueChange(D.value)}),C=S=>{u||(l.onOpenChange(!0),T()),S&&(l.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return y.jsx(yM,{asChild:!0,...a,children:y.jsx($e.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":v1(l.value)?"":void 0,...i,ref:f,onClick:je(i.onClick,S=>{S.currentTarget.focus(),m.current!=="mouse"&&C(S)}),onPointerDown:je(i.onPointerDown,S=>{m.current=S.pointerType;const b=S.target;b.hasPointerCapture(S.pointerId)&&b.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(C(S),S.preventDefault())}),onKeyDown:je(i.onKeyDown,S=>{const b=v.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&w(S.key),!(b&&S.key===" ")&&dO.includes(S.key)&&(C(),S.preventDefault())})})})});GC.displayName=QC;var YC="SelectValue",XC=E.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:a,placeholder:l="",...u}=n,f=pi(YC,t),{onValueNodeHasChildrenChange:h}=f,m=a!==void 0,v=at(e,f.onValueNodeChange);return Qt(()=>{h(m)},[h,m]),y.jsx($e.span,{...u,ref:v,style:{pointerEvents:"none"},children:v1(f.value)?y.jsx(y.Fragment,{children:l}):a})});XC.displayName=YC;var yO="SelectIcon",JC=E.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return y.jsx($e.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});JC.displayName=yO;var vO="SelectPortal",ZC=n=>y.jsx(vf,{asChild:!0,...n});ZC.displayName=vO;var Zi="SelectContent",e1=E.forwardRef((n,e)=>{const t=pi(Zi,n.__scopeSelect),[r,i]=E.useState();if(Qt(()=>{i(new DocumentFragment)},[]),!t.open){const a=r;return a?Sa.createPortal(y.jsx(t1,{scope:n.__scopeSelect,children:y.jsx(_f.Slot,{scope:n.__scopeSelect,children:y.jsx("div",{children:n.children})})}),a):null}return y.jsx(n1,{...n,ref:e})});e1.displayName=Zi;var dr=10,[t1,mi]=Da(Zi),wO="SelectContentImpl",_O=wa("SelectContent.RemoveScroll"),n1=E.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:l,side:u,sideOffset:f,align:h,alignOffset:m,arrowPadding:v,collisionBoundary:w,collisionPadding:T,sticky:C,hideWhenDetached:S,avoidCollisions:b,...A}=n,D=pi(Zi,t),[V,U]=E.useState(null),[$,G]=E.useState(null),M=at(e,fe=>U(fe)),[N,k]=E.useState(null),[j,F]=E.useState(null),P=xf(t),[L,ee]=E.useState(!1),te=E.useRef(!1);E.useEffect(()=>{if(V)return FC(V)},[V]),pC();const re=E.useCallback(fe=>{const[ve,...De]=P().map(qe=>qe.ref.current),[me]=De.slice(-1),Ne=document.activeElement;for(const qe of fe)if(qe===Ne||(qe==null||qe.scrollIntoView({block:"nearest"}),qe===ve&&$&&($.scrollTop=0),qe===me&&$&&($.scrollTop=$.scrollHeight),qe==null||qe.focus(),document.activeElement!==Ne))return},[P,$]),ue=E.useCallback(()=>re([N,V]),[re,N,V]);E.useEffect(()=>{L&&ue()},[L,ue]);const{onOpenChange:Y,triggerPointerDownPosRef:ne}=D;E.useEffect(()=>{if(V){let fe={x:0,y:0};const ve=me=>{var Ne,qe;fe={x:Math.abs(Math.round(me.pageX)-(((Ne=ne.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(me.pageY)-(((qe=ne.current)==null?void 0:qe.y)??0))}},De=me=>{fe.x<=10&&fe.y<=10?me.preventDefault():V.contains(me.target)||Y(!1),document.removeEventListener("pointermove",ve),ne.current=null};return ne.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",De,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",De,{capture:!0})}}},[V,Y,ne]),E.useEffect(()=>{const fe=()=>Y(!1);return window.addEventListener("blur",fe),window.addEventListener("resize",fe),()=>{window.removeEventListener("blur",fe),window.removeEventListener("resize",fe)}},[Y]);const[le,B]=w1(fe=>{const ve=P().filter(Ne=>!Ne.disabled),De=ve.find(Ne=>Ne.ref.current===document.activeElement),me=_1(ve,fe,De);me&&setTimeout(()=>me.ref.current.focus())}),Z=E.useCallback((fe,ve,De)=>{const me=!te.current&&!De;(D.value!==void 0&&D.value===ve||me)&&(k(fe),me&&(te.current=!0))},[D.value]),de=E.useCallback(()=>V==null?void 0:V.focus(),[V]),ge=E.useCallback((fe,ve,De)=>{const me=!te.current&&!De;(D.value!==void 0&&D.value===ve||me)&&F(fe)},[D.value]),Se=r==="popper"?dm:r1,Re=Se===dm?{side:u,sideOffset:f,align:h,alignOffset:m,arrowPadding:v,collisionBoundary:w,collisionPadding:T,sticky:C,hideWhenDetached:S,avoidCollisions:b}:{};return y.jsx(t1,{scope:t,content:V,viewport:$,onViewportChange:G,itemRefCallback:Z,selectedItem:N,onItemLeave:de,itemTextRefCallback:ge,focusSelectedItem:ue,selectedItemText:j,position:r,isPositioned:L,searchRef:le,children:y.jsx(Yg,{as:_O,allowPinchZoom:!0,children:y.jsx(Fg,{asChild:!0,trapped:D.open,onMountAutoFocus:fe=>{fe.preventDefault()},onUnmountAutoFocus:je(i,fe=>{var ve;(ve=D.trigger)==null||ve.focus({preventScroll:!0}),fe.preventDefault()}),children:y.jsx(pf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:fe=>fe.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:y.jsx(Se,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:fe=>fe.preventDefault(),...A,...Re,onPlaced:()=>ee(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...A.style},onKeyDown:je(A.onKeyDown,fe=>{const ve=fe.ctrlKey||fe.altKey||fe.metaKey;if(fe.key==="Tab"&&fe.preventDefault(),!ve&&fe.key.length===1&&B(fe.key),["ArrowUp","ArrowDown","Home","End"].includes(fe.key)){let me=P().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(fe.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(fe.key)){const Ne=fe.target,qe=me.indexOf(Ne);me=me.slice(qe+1)}setTimeout(()=>re(me)),fe.preventDefault()}})})})})})})});n1.displayName=wO;var xO="SelectItemAlignedPosition",r1=E.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,a=pi(Zi,t),l=mi(Zi,t),[u,f]=E.useState(null),[h,m]=E.useState(null),v=at(e,M=>m(M)),w=xf(t),T=E.useRef(!1),C=E.useRef(!0),{viewport:S,selectedItem:b,selectedItemText:A,focusSelectedItem:D}=l,V=E.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&h&&S&&b&&A){const M=a.trigger.getBoundingClientRect(),N=h.getBoundingClientRect(),k=a.valueNode.getBoundingClientRect(),j=A.getBoundingClientRect();if(a.dir!=="rtl"){const Ne=j.left-N.left,qe=k.left-Ne,wt=M.left-qe,Ot=M.width+wt,kn=Math.max(Ot,N.width),qn=window.innerWidth-dr,Kn=Yw(qe,[dr,Math.max(dr,qn-kn)]);u.style.minWidth=Ot+"px",u.style.left=Kn+"px"}else{const Ne=N.right-j.right,qe=window.innerWidth-k.right-Ne,wt=window.innerWidth-M.right-qe,Ot=M.width+wt,kn=Math.max(Ot,N.width),qn=window.innerWidth-dr,Kn=Yw(qe,[dr,Math.max(dr,qn-kn)]);u.style.minWidth=Ot+"px",u.style.right=Kn+"px"}const F=w(),P=window.innerHeight-dr*2,L=S.scrollHeight,ee=window.getComputedStyle(h),te=parseInt(ee.borderTopWidth,10),re=parseInt(ee.paddingTop,10),ue=parseInt(ee.borderBottomWidth,10),Y=parseInt(ee.paddingBottom,10),ne=te+re+L+Y+ue,le=Math.min(b.offsetHeight*5,ne),B=window.getComputedStyle(S),Z=parseInt(B.paddingTop,10),de=parseInt(B.paddingBottom,10),ge=M.top+M.height/2-dr,Se=P-ge,Re=b.offsetHeight/2,fe=b.offsetTop+Re,ve=te+re+fe,De=ne-ve;if(ve<=ge){const Ne=F.length>0&&b===F[F.length-1].ref.current;u.style.bottom="0px";const qe=h.clientHeight-S.offsetTop-S.offsetHeight,wt=Math.max(Se,Re+(Ne?de:0)+qe+ue),Ot=ve+wt;u.style.height=Ot+"px"}else{const Ne=F.length>0&&b===F[0].ref.current;u.style.top="0px";const wt=Math.max(ge,te+S.offsetTop+(Ne?Z:0)+Re)+De;u.style.height=wt+"px",S.scrollTop=ve-ge+S.offsetTop}u.style.margin=`${dr}px 0`,u.style.minHeight=le+"px",u.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>T.current=!0)}},[w,a.trigger,a.valueNode,u,h,S,b,A,a.dir,r]);Qt(()=>V(),[V]);const[U,$]=E.useState();Qt(()=>{h&&$(window.getComputedStyle(h).zIndex)},[h]);const G=E.useCallback(M=>{M&&C.current===!0&&(V(),D==null||D(),C.current=!1)},[V,D]);return y.jsx(CO,{scope:t,contentWrapper:u,shouldExpandOnScrollRef:T,onScrollButtonChange:G,children:y.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:U},children:y.jsx($e.div,{...i,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});r1.displayName=xO;var EO="SelectPopperPosition",dm=E.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=dr,...a}=n,l=Ef(t);return y.jsx(vM,{...l,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});dm.displayName=EO;var[CO,Xg]=Da(Zi,{}),fm="SelectViewport",s1=E.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,a=mi(fm,t),l=Xg(fm,t),u=at(e,a.onViewportChange),f=E.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),y.jsx(_f.Slot,{scope:t,children:y.jsx($e.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:je(i.onScroll,h=>{const m=h.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:w}=l;if(w!=null&&w.current&&v){const T=Math.abs(f.current-m.scrollTop);if(T>0){const C=window.innerHeight-dr*2,S=parseFloat(v.style.minHeight),b=parseFloat(v.style.height),A=Math.max(S,b);if(A<C){const D=A+T,V=Math.min(C,D),U=D-V;v.style.height=V+"px",v.style.bottom==="0px"&&(m.scrollTop=U>0?U:0,v.style.justifyContent="flex-end")}}}f.current=m.scrollTop})})})]})});s1.displayName=fm;var i1="SelectGroup",[SO,TO]=Da(i1),IO=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Js();return y.jsx(SO,{scope:t,id:i,children:y.jsx($e.div,{role:"group","aria-labelledby":i,...r,ref:e})})});IO.displayName=i1;var o1="SelectLabel",a1=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=TO(o1,t);return y.jsx($e.div,{id:i.id,...r,ref:e})});a1.displayName=o1;var Ld="SelectItem",[bO,l1]=Da(Ld),c1=E.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:a,...l}=n,u=pi(Ld,t),f=mi(Ld,t),h=u.value===r,[m,v]=E.useState(a??""),[w,T]=E.useState(!1),C=at(e,D=>{var V;return(V=f.itemRefCallback)==null?void 0:V.call(f,D,r,i)}),S=Js(),b=E.useRef("touch"),A=()=>{i||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(bO,{scope:t,value:r,disabled:i,textId:S,isSelected:h,onItemTextChange:E.useCallback(D=>{v(V=>V||((D==null?void 0:D.textContent)??"").trim())},[]),children:y.jsx(_f.ItemSlot,{scope:t,value:r,disabled:i,textValue:m,children:y.jsx($e.div,{role:"option","aria-labelledby":S,"data-highlighted":w?"":void 0,"aria-selected":h&&w,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:C,onFocus:je(l.onFocus,()=>T(!0)),onBlur:je(l.onBlur,()=>T(!1)),onClick:je(l.onClick,()=>{b.current!=="mouse"&&A()}),onPointerUp:je(l.onPointerUp,()=>{b.current==="mouse"&&A()}),onPointerDown:je(l.onPointerDown,D=>{b.current=D.pointerType}),onPointerMove:je(l.onPointerMove,D=>{var V;b.current=D.pointerType,i?(V=f.onItemLeave)==null||V.call(f):b.current==="mouse"&&D.currentTarget.focus({preventScroll:!0})}),onPointerLeave:je(l.onPointerLeave,D=>{var V;D.currentTarget===document.activeElement&&((V=f.onItemLeave)==null||V.call(f))}),onKeyDown:je(l.onKeyDown,D=>{var U;((U=f.searchRef)==null?void 0:U.current)!==""&&D.key===" "||(fO.includes(D.key)&&A(),D.key===" "&&D.preventDefault())})})})})});c1.displayName=Ld;var Vl="SelectItemText",u1=E.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...a}=n,l=pi(Vl,t),u=mi(Vl,t),f=l1(Vl,t),h=gO(Vl,t),[m,v]=E.useState(null),w=at(e,A=>v(A),f.onItemTextChange,A=>{var D;return(D=u.itemTextRefCallback)==null?void 0:D.call(u,A,f.value,f.disabled)}),T=m==null?void 0:m.textContent,C=E.useMemo(()=>y.jsx("option",{value:f.value,disabled:f.disabled,children:T},f.value),[f.disabled,f.value,T]),{onNativeOptionAdd:S,onNativeOptionRemove:b}=h;return Qt(()=>(S(C),()=>b(C)),[S,b,C]),y.jsxs(y.Fragment,{children:[y.jsx($e.span,{id:f.textId,...a,ref:w}),f.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Sa.createPortal(a.children,l.valueNode):null]})});u1.displayName=Vl;var d1="SelectItemIndicator",f1=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return l1(d1,t).isSelected?y.jsx($e.span,{"aria-hidden":!0,...r,ref:e}):null});f1.displayName=d1;var hm="SelectScrollUpButton",h1=E.forwardRef((n,e)=>{const t=mi(hm,n.__scopeSelect),r=Xg(hm,n.__scopeSelect),[i,a]=E.useState(!1),l=at(e,r.onScrollButtonChange);return Qt(()=>{if(t.viewport&&t.isPositioned){let u=function(){const h=f.scrollTop>0;a(h)};const f=t.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),i?y.jsx(m1,{...n,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=t;u&&f&&(u.scrollTop=u.scrollTop-f.offsetHeight)}}):null});h1.displayName=hm;var pm="SelectScrollDownButton",p1=E.forwardRef((n,e)=>{const t=mi(pm,n.__scopeSelect),r=Xg(pm,n.__scopeSelect),[i,a]=E.useState(!1),l=at(e,r.onScrollButtonChange);return Qt(()=>{if(t.viewport&&t.isPositioned){let u=function(){const h=f.scrollHeight-f.clientHeight,m=Math.ceil(f.scrollTop)<h;a(m)};const f=t.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),i?y.jsx(m1,{...n,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=t;u&&f&&(u.scrollTop=u.scrollTop+f.offsetHeight)}}):null});p1.displayName=pm;var m1=E.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,a=mi("SelectScrollButton",t),l=E.useRef(null),u=xf(t),f=E.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return E.useEffect(()=>()=>f(),[f]),Qt(()=>{var m;const h=u().find(v=>v.ref.current===document.activeElement);(m=h==null?void 0:h.ref.current)==null||m.scrollIntoView({block:"nearest"})},[u]),y.jsx($e.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:je(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:je(i.onPointerMove,()=>{var h;(h=a.onItemLeave)==null||h.call(a),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:je(i.onPointerLeave,()=>{f()})})}),AO="SelectSeparator",g1=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return y.jsx($e.div,{"aria-hidden":!0,...r,ref:e})});g1.displayName=AO;var mm="SelectArrow",RO=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Ef(t),a=pi(mm,t),l=mi(mm,t);return a.open&&l.position==="popper"?y.jsx(wM,{...i,...r,ref:e}):null});RO.displayName=mm;var NO="SelectBubbleInput",y1=E.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const i=E.useRef(null),a=at(r,i),l=SM(e);return E.useEffect(()=>{const u=i.current;if(!u)return;const f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(l!==e&&m){const v=new Event("change",{bubbles:!0});m.call(u,e),u.dispatchEvent(v)}},[l,e]),y.jsx($e.select,{...t,style:{...jC,...t.style},ref:a,defaultValue:e})});y1.displayName=NO;function v1(n){return n===""||n===void 0}function w1(n){const e=Wn(n),t=E.useRef(""),r=E.useRef(0),i=E.useCallback(l=>{const u=t.current+l;e(u),function f(h){t.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>f(""),1e3))}(u)},[e]),a=E.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,a]}function _1(n,e,t){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let l=PO(n,Math.max(a,0));i.length===1&&(l=l.filter(h=>h!==t));const f=l.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return f!==t?f:void 0}function PO(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var kO=KC,x1=GC,DO=XC,MO=JC,OO=ZC,E1=e1,LO=s1,C1=a1,S1=c1,jO=u1,VO=f1,T1=h1,I1=p1,b1=g1;/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=(n,e)=>{const t=E.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:u="",children:f,...h},m)=>E.createElement("svg",{ref:m,...FO,width:i,height:i,stroke:r,strokeWidth:l?Number(a)*24/Number(i):a,className:["lucide",`lucide-${$O(n)}`,u].join(" "),...h},[...e.map(([v,w])=>E.createElement(v,w)),...Array.isArray(f)?f:[f]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=io("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=io("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=io("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=io("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=io("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=io("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=io("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function N1(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=N1(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function P1(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=N1(n))&&(r&&(r+=" "),r+=e);return r}const Jg="-",BO=n=>{const e=WO(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const u=l.split(Jg);return u[0]===""&&u.length!==1&&u.shift(),k1(u,e)||HO(l)},getConflictingClassGroupIds:(l,u)=>{const f=t[l]||[];return u&&r[l]?[...f,...r[l]]:f}}},k1=(n,e)=>{var l;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?k1(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=n.join(Jg);return(l=e.validators.find(({validator:u})=>u(a)))==null?void 0:l.classGroupId},x_=/^\[(.+)\]$/,HO=n=>{if(x_.test(n)){const e=x_.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},WO=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return KO(Object.entries(n.classGroups),t).forEach(([a,l])=>{gm(l,r,a,e)}),r},gm=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const a=i===""?e:E_(e,i);a.classGroupId=t;return}if(typeof i=="function"){if(qO(i)){gm(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([a,l])=>{gm(l,E_(e,a),t,r)})})},E_=(n,e)=>{let t=n;return e.split(Jg).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},qO=n=>n.isThemeGetter,KO=(n,e)=>e?n.map(([t,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,u])=>[e+l,u])):a);return[t,i]}):n,QO=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(a,l)=>{t.set(a,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let l=t.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return i(a,l),l},set(a,l){t.has(a)?t.set(a,l):i(a,l)}}},D1="!",GO=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],a=e.length,l=u=>{const f=[];let h=0,m=0,v;for(let b=0;b<u.length;b++){let A=u[b];if(h===0){if(A===i&&(r||u.slice(b,b+a)===e)){f.push(u.slice(m,b)),m=b+a;continue}if(A==="/"){v=b;continue}}A==="["?h++:A==="]"&&h--}const w=f.length===0?u:u.substring(m),T=w.startsWith(D1),C=T?w.substring(1):w,S=v&&v>m?v-m:void 0;return{modifiers:f,hasImportantModifier:T,baseClassName:C,maybePostfixModifierPosition:S}};return t?u=>t({className:u,parseClassName:l}):l},YO=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},XO=n=>({cache:QO(n.cacheSize),parseClassName:GO(n),...BO(n)}),JO=/\s+/,ZO=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],l=n.trim().split(JO);let u="";for(let f=l.length-1;f>=0;f-=1){const h=l[f],{modifiers:m,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:T}=t(h);let C=!!T,S=r(C?w.substring(0,T):w);if(!S){if(!C){u=h+(u.length>0?" "+u:u);continue}if(S=r(w),!S){u=h+(u.length>0?" "+u:u);continue}C=!1}const b=YO(m).join(":"),A=v?b+D1:b,D=A+S;if(a.includes(D))continue;a.push(D);const V=i(S,C);for(let U=0;U<V.length;++U){const $=V[U];a.push(A+$)}u=h+(u.length>0?" "+u:u)}return u};function e4(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=M1(e))&&(r&&(r+=" "),r+=t);return r}const M1=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=M1(n[r]))&&(t&&(t+=" "),t+=e);return t};function t4(n,...e){let t,r,i,a=l;function l(f){const h=e.reduce((m,v)=>v(m),n());return t=XO(h),r=t.cache.get,i=t.cache.set,a=u,u(f)}function u(f){const h=r(f);if(h)return h;const m=ZO(f,t);return i(f,m),m}return function(){return a(e4.apply(null,arguments))}}const ut=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},O1=/^\[(?:([a-z-]+):)?(.+)\]$/i,n4=/^\d+\/\d+$/,r4=new Set(["px","full","screen"]),s4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,i4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,o4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,a4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,l4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,is=n=>ua(n)||r4.has(n)||n4.test(n),Fs=n=>Ma(n,"length",g4),ua=n=>!!n&&!Number.isNaN(Number(n)),Sp=n=>Ma(n,"number",ua),Pl=n=>!!n&&Number.isInteger(Number(n)),c4=n=>n.endsWith("%")&&ua(n.slice(0,-1)),Fe=n=>O1.test(n),$s=n=>s4.test(n),u4=new Set(["length","size","percentage"]),d4=n=>Ma(n,u4,L1),f4=n=>Ma(n,"position",L1),h4=new Set(["image","url"]),p4=n=>Ma(n,h4,v4),m4=n=>Ma(n,"",y4),kl=()=>!0,Ma=(n,e,t)=>{const r=O1.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},g4=n=>i4.test(n)&&!o4.test(n),L1=()=>!1,y4=n=>a4.test(n),v4=n=>l4.test(n),w4=()=>{const n=ut("colors"),e=ut("spacing"),t=ut("blur"),r=ut("brightness"),i=ut("borderColor"),a=ut("borderRadius"),l=ut("borderSpacing"),u=ut("borderWidth"),f=ut("contrast"),h=ut("grayscale"),m=ut("hueRotate"),v=ut("invert"),w=ut("gap"),T=ut("gradientColorStops"),C=ut("gradientColorStopPositions"),S=ut("inset"),b=ut("margin"),A=ut("opacity"),D=ut("padding"),V=ut("saturate"),U=ut("scale"),$=ut("sepia"),G=ut("skew"),M=ut("space"),N=ut("translate"),k=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Fe,e],P=()=>[Fe,e],L=()=>["",is,Fs],ee=()=>["auto",ua,Fe],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],re=()=>["solid","dashed","dotted","double","none"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],ne=()=>["","0",Fe],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[ua,Fe];return{cacheSize:500,separator:":",theme:{colors:[kl],spacing:[is,Fs],blur:["none","",$s,Fe],brightness:B(),borderColor:[n],borderRadius:["none","","full",$s,Fe],borderSpacing:P(),borderWidth:L(),contrast:B(),grayscale:ne(),hueRotate:B(),invert:ne(),gap:P(),gradientColorStops:[n],gradientColorStopPositions:[c4,Fs],inset:F(),margin:F(),opacity:B(),padding:P(),saturate:B(),scale:B(),sepia:ne(),skew:B(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Fe]}],container:["container"],columns:[{columns:[$s]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),Fe]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pl,Fe]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Fe]}],grow:[{grow:ne()}],shrink:[{shrink:ne()}],order:[{order:["first","last","none",Pl,Fe]}],"grid-cols":[{"grid-cols":[kl]}],"col-start-end":[{col:["auto",{span:["full",Pl,Fe]},Fe]}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":[kl]}],"row-start-end":[{row:["auto",{span:[Pl,Fe]},Fe]}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Fe]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[D]}],px:[{px:[D]}],py:[{py:[D]}],ps:[{ps:[D]}],pe:[{pe:[D]}],pt:[{pt:[D]}],pr:[{pr:[D]}],pb:[{pb:[D]}],pl:[{pl:[D]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Fe,e]}],"min-w":[{"min-w":[Fe,e,"min","max","fit"]}],"max-w":[{"max-w":[Fe,e,"none","full","min","max","fit","prose",{screen:[$s]},$s]}],h:[{h:[Fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$s,Fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Sp]}],"font-family":[{font:[kl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Fe]}],"line-clamp":[{"line-clamp":["none",ua,Sp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",is,Fe]}],"list-image":[{"list-image":["none",Fe]}],"list-style-type":[{list:["none","disc","decimal",Fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[A]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[A]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",is,Fs]}],"underline-offset":[{"underline-offset":["auto",is,Fe]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[A]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),f4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",d4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},p4]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[T]}],"gradient-via":[{via:[T]}],"gradient-to":[{to:[T]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[A]}],"border-style":[{border:[...re(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[A]}],"divide-style":[{divide:re()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...re()]}],"outline-offset":[{"outline-offset":[is,Fe]}],"outline-w":[{outline:[is,Fs]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[A]}],"ring-offset-w":[{"ring-offset":[is,Fs]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",$s,m4]}],"shadow-color":[{shadow:[kl]}],opacity:[{opacity:[A]}],"mix-blend":[{"mix-blend":[...ue(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ue()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",$s,Fe]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[v]}],saturate:[{saturate:[V]}],sepia:[{sepia:[$]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[A]}],"backdrop-saturate":[{"backdrop-saturate":[V]}],"backdrop-sepia":[{"backdrop-sepia":[$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Fe]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",Fe]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",Fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[U]}],"scale-x":[{"scale-x":[U]}],"scale-y":[{"scale-y":[U]}],rotate:[{rotate:[Pl,Fe]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Fe]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[is,Fs,Sp]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_4=t4(w4);function Pe(...n){return _4(P1(n))}const ym=kO,vm=DO,jd=E.forwardRef(({className:n,children:e,...t},r)=>y.jsxs(x1,{ref:r,className:Pe("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-white placeholder:text-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:border-zinc-800 dark:ring-offset-zinc-950 dark:placeholder:text-zinc-400 dark:focus:ring-zinc-300",n),...t,children:[e,y.jsx(MO,{asChild:!0,children:y.jsx(A1,{className:"h-4 w-4 opacity-50"})})]}));jd.displayName=x1.displayName;const j1=E.forwardRef(({className:n,...e},t)=>y.jsx(T1,{ref:t,className:Pe("flex cursor-default items-center justify-center py-1",n),...e,children:y.jsx(UO,{className:"h-4 w-4"})}));j1.displayName=T1.displayName;const V1=E.forwardRef(({className:n,...e},t)=>y.jsx(I1,{ref:t,className:Pe("flex cursor-default items-center justify-center py-1",n),...e,children:y.jsx(A1,{className:"h-4 w-4"})}));V1.displayName=I1.displayName;const Vd=E.forwardRef(({className:n,children:e,position:t="popper",...r},i)=>y.jsx(OO,{children:y.jsxs(E1,{ref:i,className:Pe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white text-zinc-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[y.jsx(j1,{}),y.jsx(LO,{className:Pe("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),y.jsx(V1,{})]})}));Vd.displayName=E1.displayName;const x4=E.forwardRef(({className:n,...e},t)=>y.jsx(C1,{ref:t,className:Pe("px-2 py-1.5 text-sm font-semibold",n),...e}));x4.displayName=C1.displayName;const Hs=E.forwardRef(({className:n,children:e,...t},r)=>y.jsxs(S1,{ref:r,className:Pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",n),...t,children:[y.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(VO,{children:y.jsx(zO,{className:"h-4 w-4"})})}),y.jsx(jO,{children:e})]}));Hs.displayName=S1.displayName;const E4=E.forwardRef(({className:n,...e},t)=>y.jsx(b1,{ref:t,className:Pe("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",n),...e}));E4.displayName=b1.displayName;const C4=()=>{const{tableId:n}=Qm(),[e,t]=E.useState("all"),[r,i]=E.useState([]),[a,l]=E.useState([]),[u,f]=E.useState([]),{addToCart:h,setTableId:m}=Zm(),{t:v,i18n:w}=hf();E.useEffect(()=>{n&&m(n)},[n,m]),E.useEffect(()=>{(async()=>{const S=await h2();i(S);const b=await p2();l(b)})()},[]),E.useEffect(()=>{f(e==="all"?r:r.filter(C=>C.category===e))},[e,r]);const T=C=>{w.changeLanguage(C)};return y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsxs("div",{className:"bg-amber-100 rounded-lg p-4 mb-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-amber-800",children:v("ourMenu")}),n&&y.jsxs("p",{className:"text-amber-700 mt-2",children:[v("table"),": ",n]})]}),y.jsxs(ym,{onValueChange:T,defaultValue:w.language,children:[y.jsx(jd,{className:"w-[120px]",children:y.jsx(vm,{placeholder:"Dil Seç"})}),y.jsxs(Vd,{children:[y.jsx(Hs,{value:"tr",children:"Türkçe"}),y.jsx(Hs,{value:"en",children:"English"}),y.jsx(Hs,{value:"ru",children:"Русский"}),y.jsx(Hs,{value:"de",children:"Deutsch"}),y.jsx(Hs,{value:"fr",children:"Français"})]})]})]}),n&&y.jsx("div",{className:"max-w-xs",children:y.jsx(k2,{tableId:n})})]}),y.jsx("div",{className:"overflow-x-auto pb-2 mb-6",children:y.jsxs("div",{className:"flex space-x-2 min-w-max",children:[y.jsx("button",{onClick:()=>t("all"),className:`px-4 py-2 rounded-full text-sm font-medium ${e==="all"?"bg-amber-600 text-white":"bg-amber-100 text-amber-800 hover:bg-amber-200"}`,children:v("all")}),a.map(C=>y.jsx("button",{onClick:()=>t(C.id),className:`px-4 py-2 rounded-full text-sm font-medium ${e===C.id?"bg-amber-600 text-white":"bg-amber-100 text-amber-800 hover:bg-amber-200"}`,children:C["name_"+w.language]||C.name_tr},C.id))]})}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(C=>y.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[y.jsx("div",{className:"h-48 overflow-hidden",children:y.jsx("img",{src:C.image,alt:C["name_"+w.language]||C.name_tr,className:"w-full h-full object-cover"})}),y.jsxs("div",{className:"p-4",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:C["name_"+w.language]||C.name_tr}),y.jsxs("span",{className:"text-amber-600 font-bold",children:[C.price," ₺"]})]}),y.jsx("p",{className:"text-gray-600 text-sm mt-1",children:C["description_"+w.language]||C.description_tr}),y.jsx("button",{onClick:()=>h(C),className:"mt-4 w-full bg-amber-500 hover:bg-amber-600 text-white py-2 px-4 rounded-md transition-colors",children:v("addToCart")})]})]},C.id))}),n&&y.jsx(D2,{tableId:n})]})},S4=()=>{const{tableId:n}=Qm(),e=hc(),{items:t,getTotalPrice:r,clearCart:i}=Zm(),a=async()=>{try{const l=document.getElementById("order-note"),u=l?l.value:"",f=crypto.randomUUID(),h=(Array.isArray(t)?t:[]).map(S=>({id:String((S==null?void 0:S.id)??""),name:String((S==null?void 0:S.name)??(S==null?void 0:S.name_tr)??"Tanımsız"),price:Number.isFinite(S==null?void 0:S.price)?Number(S.price):0,quantity:Number.isFinite(S==null?void 0:S.quantity)?Number(S.quantity):0})),m=typeof n=="string"?n:"",v=nn(tt,"orders"),w=Wi(v,qs("tableId","==",m),qs("paymentStatus","==","pending")),T=await oi(w);if(!T.empty){const S=T.docs[0],b=S.data(),A=(Array.isArray(b==null?void 0:b.items)?b.items:[]).filter(N=>N&&typeof N=="object").map(N=>({id:String((N==null?void 0:N.id)??""),name:String((N==null?void 0:N.name)??"Tanımsız"),price:Number.isFinite(N==null?void 0:N.price)?Number(N.price):0,quantity:Number.isFinite(N==null?void 0:N.quantity)?Number(N.quantity):0})),D=new Map;for(const N of A){const k=String(N.id);D.set(k,{...N})}for(const N of h){const k=String(N.id),j=D.get(k);j?D.set(k,{...j,quantity:(j.quantity||0)+(N.quantity||0)}):D.set(k,{...N})}const V=Array.from(D.values()),U=V.reduce((N,k)=>N+Number(k.price)*Number(k.quantity),0),$=typeof(b==null?void 0:b.orderNote)=="string"?b.orderNote.trim():"",G=(u??"").trim(),M=$&&G?`${$} | ${G}`:$||G||"";await Ki(vn(tt,"orders",S.id),{items:V,totalPrice:U,orderNote:M||null,timestamp:st.now()}),alert("Siparişiniz mevcut açık hesaba eklendi. Teşekkür ederiz."),i(),e(`/thank-you/${n}`);return}const C={tableId:m,sessionId:typeof f=="string"?f:"",items:h,totalPrice:Number.isFinite(r())?Number(r()):0,orderNote:u??"",timestamp:st.now(),status:"new",paymentStatus:"pending"};await Pd(nn(tt,"orders"),C),alert("Siparişiniz alındı! Teşekkür ederiz."),i(),e(`/thank-you/${n}`)}catch(l){console.error("Error submitting order:",l);const u=typeof(l==null?void 0:l.message)=="string"?l.message:String(l);alert(`Sipariş gönderilirken bir hata oluştu. Lütfen tekrar deneyin.
Detay: ${u}`)}};return t.length===0?y.jsx("div",{className:"container mx-auto px-4 py-8",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Sepetiniz Boş"}),y.jsx("p",{className:"text-gray-600 mb-4",children:"Sipariş verebilmek için sepetinize ürün eklemelisiniz."}),y.jsx("button",{onClick:()=>e(`/menu/${n}`),className:"bg-amber-500 hover:bg-amber-600 text-white py-2 px-4 rounded-md transition-colors",children:"Menüye Dön"})]})}):y.jsx("div",{className:"container mx-auto px-4 py-8",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Siparişi Tamamla"}),n&&y.jsx("div",{className:"mb-4 p-3 bg-amber-50 rounded-md",children:y.jsxs("p",{className:"text-amber-700 font-medium",children:["Masa: ",n]})}),y.jsxs("div",{className:"mt-6",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Sipariş Özeti"}),y.jsx("div",{className:"border-t border-b border-gray-200 py-4 divide-y divide-gray-200",children:t.map(l=>y.jsxs("div",{className:"py-3 flex justify-between",children:[y.jsx("div",{className:"flex items-center",children:y.jsxs("span",{className:"text-gray-800",children:[l.quantity," x ",l.name]})}),y.jsxs("span",{className:"text-gray-800 font-medium",children:[l.price*l.quantity," ₺"]})]},l.id))}),y.jsxs("div",{className:"mt-4 flex justify-between items-center text-xl font-bold",children:[y.jsx("span",{children:"Toplam:"}),y.jsxs("span",{children:[r()," ₺"]})]})]}),y.jsxs("div",{className:"mt-8",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Sipariş Notu"}),y.jsx("textarea",{id:"order-note",className:"w-full border border-gray-300 rounded-md p-3 h-24 focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Özel istekleriniz varsa buraya yazabilirsiniz..."})]}),y.jsx("button",{onClick:a,className:"mt-6 w-full bg-amber-500 hover:bg-amber-600 text-white py-3 px-4 rounded-md transition-colors text-lg font-medium",children:"Siparişi Onayla"})]})})},T4=()=>{const{tableId:n}=Qm();return y.jsx("div",{className:"container mx-auto px-4 py-16 flex flex-col items-center",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-md w-full text-center",children:[y.jsx("div",{className:"w-16 h-16 mx-auto bg-green-100 rounded-full flex items-center justify-center mb-6",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),y.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Siparişiniz Alındı!"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"Siparişiniz başarıyla alındı ve hazırlanmaya başlandı. Kısa süre içinde masanıza servis edilecektir."}),n&&y.jsx("div",{className:"mb-6 p-3 bg-amber-50 rounded-md",children:y.jsxs("p",{className:"text-amber-700 font-medium",children:["Masa: ",n]})}),y.jsx("p",{className:"text-sm text-gray-500",children:"Bizi tercih ettiğiniz için teşekkür ederiz."})]})})},I4=1,b4=1e6;let Tp=0;function A4(){return Tp=(Tp+1)%Number.MAX_SAFE_INTEGER,Tp.toString()}const Ip=new Map,C_=n=>{if(Ip.has(n))return;const e=setTimeout(()=>{Ip.delete(n),Yl({type:"REMOVE_TOAST",toastId:n})},b4);Ip.set(n,e)},R4=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,I4)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?C_(t):n.toasts.forEach(r=>{C_(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},fd=[];let hd={toasts:[]};function Yl(n){hd=R4(hd,n),fd.forEach(e=>{e(hd)})}function N4({...n}){const e=A4(),t=i=>Yl({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Yl({type:"DISMISS_TOAST",toastId:e});return Yl({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function Zg(){const[n,e]=E.useState(hd);return E.useEffect(()=>(fd.push(e),()=>{const t=fd.indexOf(e);t>-1&&fd.splice(t,1)}),[n]),{...n,toast:N4,dismiss:t=>Yl({type:"DISMISS_TOAST",toastId:t})}}function P4(n,e){return E.useReducer((t,r)=>e[t][r]??t,n)}var Oa=n=>{const{present:e,children:t}=n,r=k4(e),i=typeof t=="function"?t({present:r.isPresent}):E.Children.only(t),a=at(r.ref,D4(i));return typeof t=="function"||r.isPresent?E.cloneElement(i,{ref:a}):null};Oa.displayName="Presence";function k4(n){const[e,t]=E.useState(),r=E.useRef(null),i=E.useRef(n),a=E.useRef("none"),l=n?"mounted":"unmounted",[u,f]=P4(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const h=Yu(r.current);a.current=u==="mounted"?h:"none"},[u]),Qt(()=>{const h=r.current,m=i.current;if(m!==n){const w=a.current,T=Yu(h);n?f("MOUNT"):T==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(m&&w!==T?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,f]),Qt(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,v=T=>{const S=Yu(r.current).includes(T.animationName);if(T.target===e&&S&&(f("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},w=T=>{T.target===e&&(a.current=Yu(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:E.useCallback(h=>{r.current=h?getComputedStyle(h):null,t(h)},[])}}function Yu(n){return(n==null?void 0:n.animationName)||"none"}function D4(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var ey="ToastProvider",[ty,M4,O4]=jg("Toast"),[F1,d9]=hi("Toast",[O4]),[L4,Cf]=F1(ey),$1=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:l}=n,[u,f]=E.useState(null),[h,m]=E.useState(0),v=E.useRef(!1),w=E.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${ey}\`. Expected non-empty \`string\`.`),y.jsx(ty.Provider,{scope:e,children:y.jsx(L4,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:h,viewport:u,onViewportChange:f,onToastAdd:E.useCallback(()=>m(T=>T+1),[]),onToastRemove:E.useCallback(()=>m(T=>T-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:w,children:l})})};$1.displayName=ey;var z1="ToastViewport",j4=["F8"],wm="toast.viewportPause",_m="toast.viewportResume",U1=E.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=j4,label:i="Notifications ({hotkey})",...a}=n,l=Cf(z1,t),u=M4(t),f=E.useRef(null),h=E.useRef(null),m=E.useRef(null),v=E.useRef(null),w=at(e,v,l.onViewportChange),T=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=l.toastCount>0;E.useEffect(()=>{const b=A=>{var V;r.length!==0&&r.every(U=>A[U]||A.code===U)&&((V=v.current)==null||V.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),E.useEffect(()=>{const b=f.current,A=v.current;if(C&&b&&A){const D=()=>{if(!l.isClosePausedRef.current){const G=new CustomEvent(wm);A.dispatchEvent(G),l.isClosePausedRef.current=!0}},V=()=>{if(l.isClosePausedRef.current){const G=new CustomEvent(_m);A.dispatchEvent(G),l.isClosePausedRef.current=!1}},U=G=>{!b.contains(G.relatedTarget)&&V()},$=()=>{b.contains(document.activeElement)||V()};return b.addEventListener("focusin",D),b.addEventListener("focusout",U),b.addEventListener("pointermove",D),b.addEventListener("pointerleave",$),window.addEventListener("blur",D),window.addEventListener("focus",V),()=>{b.removeEventListener("focusin",D),b.removeEventListener("focusout",U),b.removeEventListener("pointermove",D),b.removeEventListener("pointerleave",$),window.removeEventListener("blur",D),window.removeEventListener("focus",V)}}},[C,l.isClosePausedRef]);const S=E.useCallback(({tabbingDirection:b})=>{const D=u().map(V=>{const U=V.ref.current,$=[U,...Y4(U)];return b==="forwards"?$:$.reverse()});return(b==="forwards"?D.reverse():D).flat()},[u]);return E.useEffect(()=>{const b=v.current;if(b){const A=D=>{var $,G,M;const V=D.altKey||D.ctrlKey||D.metaKey;if(D.key==="Tab"&&!V){const N=document.activeElement,k=D.shiftKey;if(D.target===b&&k){($=h.current)==null||$.focus();return}const P=S({tabbingDirection:k?"backwards":"forwards"}),L=P.findIndex(ee=>ee===N);bp(P.slice(L+1))?D.preventDefault():k?(G=h.current)==null||G.focus():(M=m.current)==null||M.focus()}};return b.addEventListener("keydown",A),()=>b.removeEventListener("keydown",A)}},[u,S]),y.jsxs(J2,{ref:f,role:"region","aria-label":i.replace("{hotkey}",T),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&y.jsx(xm,{ref:h,onFocusFromOutsideViewport:()=>{const b=S({tabbingDirection:"forwards"});bp(b)}}),y.jsx(ty.Slot,{scope:t,children:y.jsx($e.ol,{tabIndex:-1,...a,ref:w})}),C&&y.jsx(xm,{ref:m,onFocusFromOutsideViewport:()=>{const b=S({tabbingDirection:"backwards"});bp(b)}})]})});U1.displayName=z1;var B1="ToastFocusProxy",xm=E.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,a=Cf(B1,t);return y.jsx(Gg,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:l=>{var h;const u=l.relatedTarget;!((h=a.viewport)!=null&&h.contains(u))&&r()}})});xm.displayName=B1;var Ec="Toast",V4="toast.swipeStart",F4="toast.swipeMove",$4="toast.swipeCancel",z4="toast.swipeEnd",H1=E.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:a,...l}=n,[u,f]=xa({prop:r,defaultProp:i??!0,onChange:a,caller:Ec});return y.jsx(Oa,{present:t||u,children:y.jsx(H4,{open:u,...l,ref:e,onClose:()=>f(!1),onPause:Wn(n.onPause),onResume:Wn(n.onResume),onSwipeStart:je(n.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:je(n.onSwipeMove,h=>{const{x:m,y:v}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:je(n.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:je(n.onSwipeEnd,h=>{const{x:m,y:v}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),f(!1)})})})});H1.displayName=Ec;var[U4,B4]=F1(Ec,{onClose(){}}),H4=E.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:a,onClose:l,onEscapeKeyDown:u,onPause:f,onResume:h,onSwipeStart:m,onSwipeMove:v,onSwipeCancel:w,onSwipeEnd:T,...C}=n,S=Cf(Ec,t),[b,A]=E.useState(null),D=at(e,ee=>A(ee)),V=E.useRef(null),U=E.useRef(null),$=i||S.duration,G=E.useRef(0),M=E.useRef($),N=E.useRef(0),{onToastAdd:k,onToastRemove:j}=S,F=Wn(()=>{var te;(b==null?void 0:b.contains(document.activeElement))&&((te=S.viewport)==null||te.focus()),l()}),P=E.useCallback(ee=>{!ee||ee===1/0||(window.clearTimeout(N.current),G.current=new Date().getTime(),N.current=window.setTimeout(F,ee))},[F]);E.useEffect(()=>{const ee=S.viewport;if(ee){const te=()=>{P(M.current),h==null||h()},re=()=>{const ue=new Date().getTime()-G.current;M.current=M.current-ue,window.clearTimeout(N.current),f==null||f()};return ee.addEventListener(wm,re),ee.addEventListener(_m,te),()=>{ee.removeEventListener(wm,re),ee.removeEventListener(_m,te)}}},[S.viewport,$,f,h,P]),E.useEffect(()=>{a&&!S.isClosePausedRef.current&&P($)},[a,$,S.isClosePausedRef,P]),E.useEffect(()=>(k(),()=>j()),[k,j]);const L=E.useMemo(()=>b?X1(b):null,[b]);return S.viewport?y.jsxs(y.Fragment,{children:[L&&y.jsx(W4,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),y.jsx(U4,{scope:t,onClose:F,children:Sa.createPortal(y.jsx(ty.ItemSlot,{scope:t,children:y.jsx(X2,{asChild:!0,onEscapeKeyDown:je(u,()=>{S.isFocusedToastEscapeKeyDownRef.current||F(),S.isFocusedToastEscapeKeyDownRef.current=!1}),children:y.jsx($e.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":S.swipeDirection,...C,ref:D,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:je(n.onKeyDown,ee=>{ee.key==="Escape"&&(u==null||u(ee.nativeEvent),ee.nativeEvent.defaultPrevented||(S.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:je(n.onPointerDown,ee=>{ee.button===0&&(V.current={x:ee.clientX,y:ee.clientY})}),onPointerMove:je(n.onPointerMove,ee=>{if(!V.current)return;const te=ee.clientX-V.current.x,re=ee.clientY-V.current.y,ue=!!U.current,Y=["left","right"].includes(S.swipeDirection),ne=["left","up"].includes(S.swipeDirection)?Math.min:Math.max,le=Y?ne(0,te):0,B=Y?0:ne(0,re),Z=ee.pointerType==="touch"?10:2,de={x:le,y:B},ge={originalEvent:ee,delta:de};ue?(U.current=de,Xu(F4,v,ge,{discrete:!1})):S_(de,S.swipeDirection,Z)?(U.current=de,Xu(V4,m,ge,{discrete:!1}),ee.target.setPointerCapture(ee.pointerId)):(Math.abs(te)>Z||Math.abs(re)>Z)&&(V.current=null)}),onPointerUp:je(n.onPointerUp,ee=>{const te=U.current,re=ee.target;if(re.hasPointerCapture(ee.pointerId)&&re.releasePointerCapture(ee.pointerId),U.current=null,V.current=null,te){const ue=ee.currentTarget,Y={originalEvent:ee,delta:te};S_(te,S.swipeDirection,S.swipeThreshold)?Xu(z4,T,Y,{discrete:!0}):Xu($4,w,Y,{discrete:!0}),ue.addEventListener("click",ne=>ne.preventDefault(),{once:!0})}})})})}),S.viewport)})]}):null}),W4=n=>{const{__scopeToast:e,children:t,...r}=n,i=Cf(Ec,e),[a,l]=E.useState(!1),[u,f]=E.useState(!1);return Q4(()=>l(!0)),E.useEffect(()=>{const h=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(h)},[]),u?null:y.jsx(vf,{asChild:!0,children:y.jsx(Gg,{...r,children:a&&y.jsxs(y.Fragment,{children:[i.label," ",t]})})})},q4="ToastTitle",W1=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return y.jsx($e.div,{...r,ref:e})});W1.displayName=q4;var K4="ToastDescription",q1=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return y.jsx($e.div,{...r,ref:e})});q1.displayName=K4;var K1="ToastAction",Q1=E.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?y.jsx(Y1,{altText:t,asChild:!0,children:y.jsx(ny,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${K1}\`. Expected non-empty \`string\`.`),null)});Q1.displayName=K1;var G1="ToastClose",ny=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=B4(G1,t);return y.jsx(Y1,{asChild:!0,children:y.jsx($e.button,{type:"button",...r,ref:e,onClick:je(n.onClick,i.onClose)})})});ny.displayName=G1;var Y1=E.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return y.jsx($e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function X1(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),G4(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...X1(r))}}),e}function Xu(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,a=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?uC(i,a):i.dispatchEvent(a)}var S_=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),a=r>i;return e==="left"||e==="right"?a&&r>t:!a&&i>t};function Q4(n=()=>{}){const e=Wn(n);Qt(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function G4(n){return n.nodeType===n.ELEMENT_NODE}function Y4(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function bp(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var X4=$1,J1=U1,Z1=H1,eS=W1,tS=q1,nS=Q1,rS=ny;const T_=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,I_=P1,ry=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return I_(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(h=>{const m=t==null?void 0:t[h],v=a==null?void 0:a[h];if(m===null)return null;const w=T_(m)||T_(v);return i[h][w]}),u=t&&Object.entries(t).reduce((h,m)=>{let[v,w]=m;return w===void 0||(h[v]=w),h},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:v,className:w,...T}=m;return Object.entries(T).every(C=>{let[S,b]=C;return Array.isArray(b)?b.includes({...a,...u}[S]):{...a,...u}[S]===b})?[...h,v,w]:h},[]);return I_(n,l,f,t==null?void 0:t.class,t==null?void 0:t.className)},J4=X4,sS=E.forwardRef(({className:n,...e},t)=>y.jsx(J1,{ref:t,className:Pe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));sS.displayName=J1.displayName;const Z4=ry("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border border-zinc-200 p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full dark:border-zinc-800",{variants:{variant:{default:"border bg-white text-zinc-950 dark:bg-zinc-950 dark:text-zinc-50",destructive:"destructive group border-red-500 bg-red-500 text-zinc-50 dark:border-red-900 dark:bg-red-900 dark:text-zinc-50"}},defaultVariants:{variant:"default"}}),iS=E.forwardRef(({className:n,variant:e,...t},r)=>y.jsx(Z1,{ref:r,className:Pe(Z4({variant:e}),n),...t}));iS.displayName=Z1.displayName;const eL=E.forwardRef(({className:n,...e},t)=>y.jsx(nS,{ref:t,className:Pe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-zinc-200 bg-transparent px-3 text-sm font-medium transition-colors hover:bg-zinc-100 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-zinc-100/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-zinc-50 group-[.destructive]:focus:ring-red-500 dark:border-zinc-800 dark:hover:bg-zinc-800 dark:focus:ring-zinc-300 dark:group-[.destructive]:border-zinc-800/40 dark:group-[.destructive]:hover:border-red-900/30 dark:group-[.destructive]:hover:bg-red-900 dark:group-[.destructive]:hover:text-zinc-50 dark:group-[.destructive]:focus:ring-red-900",n),...e}));eL.displayName=nS.displayName;const oS=E.forwardRef(({className:n,...e},t)=>y.jsx(rS,{ref:t,className:Pe("absolute right-1 top-1 rounded-md p-1 text-zinc-950/50 opacity-0 transition-opacity hover:text-zinc-950 focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 dark:text-zinc-50/50 dark:hover:text-zinc-50",n),"toast-close":"",...e,children:y.jsx(R1,{className:"h-4 w-4"})}));oS.displayName=rS.displayName;const aS=E.forwardRef(({className:n,...e},t)=>y.jsx(eS,{ref:t,className:Pe("text-sm font-semibold [&+div]:text-xs",n),...e}));aS.displayName=eS.displayName;const lS=E.forwardRef(({className:n,...e},t)=>y.jsx(tS,{ref:t,className:Pe("text-sm opacity-90",n),...e}));lS.displayName=tS.displayName;function cS(){const{toasts:n}=Zg();return y.jsxs(J4,{children:[n.map(function({id:e,title:t,description:r,action:i,...a}){return y.jsxs(iS,{...a,children:[y.jsxs("div",{className:"grid gap-1",children:[t&&y.jsx(aS,{children:t}),r&&y.jsx(lS,{children:r})]}),i,y.jsx(oS,{})]},e)}),y.jsx(sS,{})]})}const tL=()=>{const[n,e]=E.useState(0),{toast:t}=Zg(),{t:r}=hf();return E.useEffect(()=>{(async()=>{try{const a=nn(tt,"orders"),l=Wi(a,qs("status","==","pending")),u=await oi(l);e(u.size)}catch(a){console.error("Error fetching new orders count:",a),t({title:r("error"),description:r("errorFetchingNewOrdersCount"),variant:"destructive"})}})()},[t,r]),y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsx(cS,{}),y.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:r("adminDashboard")}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[y.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:r("orders")}),y.jsxs("div",{className:"bg-blue-100 text-blue-800 rounded-full px-3 py-1 text-xs font-semibold",children:[n," ",r("new")]})]}),y.jsx("p",{className:"text-gray-600 mb-6",children:r("viewActiveOrders")}),y.jsx(qi,{to:"/admin/orders",className:"block w-full bg-amber-500 hover:bg-amber-600 text-white text-center py-2 px-4 rounded-md transition-colors",children:r("manageOrders")})]})}),y.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:y.jsxs("div",{className:"p-6",children:[y.jsx("div",{className:"flex items-center justify-between mb-4",children:y.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:r("menuManagement")})}),y.jsx("p",{className:"text-gray-600 mb-6",children:r("manageMenuDescription")}),y.jsx(qi,{to:"/admin/menu",className:"block w-full bg-amber-500 hover:bg-amber-600 text-white text-center py-2 px-4 rounded-md transition-colors",children:r("manageMenu")})]})}),y.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:y.jsxs("div",{className:"p-6",children:[y.jsx("div",{className:"flex items-center justify-between mb-4",children:y.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:r("qrCodes")})}),y.jsx("p",{className:"text-gray-600 mb-6",children:r("viewPrintQrCodes")}),y.jsx(qi,{to:"/admin/qrcodes",className:"block w-full bg-amber-500 hover:bg-amber-600 text-white text-center py-2 px-4 rounded-md transition-colors",children:r("viewQrCodes")})]})})]})]})},kr=(n=800,e=200)=>{try{const t=new(window.AudioContext||window.webkitAudioContext),r=t.createOscillator(),i=t.createGain();r.connect(i),i.connect(t.destination),r.frequency.value=n,r.type="sine",i.gain.setValueAtTime(.3,t.currentTime),i.gain.exponentialRampToValueAtTime(.01,t.currentTime+e/1e3),r.start(t.currentTime),r.stop(t.currentTime+e/1e3)}catch(t){console.log("Web Audio API desteklenmiyor:",t)}},nL=()=>{try{const n=new Audio("/sounds/new-order.mp3");n.volume=.8,n.play().catch(()=>{kr(800,200),setTimeout(()=>kr(1e3,200),300)})}catch{kr(800,200),setTimeout(()=>kr(1e3,200),300)}},rL=()=>{try{const n=new Audio("/sounds/waiter-call.mp3");n.volume=.7,n.play().catch(()=>{kr(600,150),setTimeout(()=>kr(800,150),200),setTimeout(()=>kr(1e3,150),400)})}catch{kr(600,150),setTimeout(()=>kr(800,150),200),setTimeout(()=>kr(1e3,150),400)}},sL=()=>{const[n,e]=E.useState([]),[t,r]=E.useState(0);E.useEffect(()=>{const h=nn(tt,"waiterCalls"),m=Wi(h,qs("status","in",["pending","acknowledged"]),Nd("status"),Nd("timestamp","desc")),v=nm(m,w=>{const T=w.docs.map(S=>({id:S.id,...S.data()}));T.filter(S=>S.status==="pending").length>0&&t!==0&&(rL(),i()),e(T),r(T.length)});return()=>v()},[t]);const i=()=>{Notification.permission==="granted"&&new Notification("Garson Çağrısı!",{body:"Bir masadan garson çağrısı var.",icon:"/favicon.ico"})},a=async(h,m)=>{try{const v=vn(tt,"waiterCalls",h);await Ki(v,{status:m})}catch(v){console.error("Çağrı durumu güncellenirken hata oluştu:",v)}},l=h=>{const m=h.toDate();return new Intl.DateTimeFormat("tr-TR",{hour:"2-digit",minute:"2-digit"}).format(m)},u=h=>{switch(h){case"pending":return"bg-red-100 text-red-800 border-red-200";case"acknowledged":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},f=h=>{switch(h){case"pending":return"Bekliyor";case"acknowledged":return"Görüldü";case"resolved":return"Çözüldü";default:return h}};return n.length===0?null:y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["🔔 Garson Çağrıları (",n.length,")"]}),n.some(h=>h.status==="pending")&&y.jsx("div",{className:"animate-pulse",children:y.jsx("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:"YENİ"})})]}),y.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:n.map(h=>y.jsx("div",{className:`p-3 rounded-lg border-2 ${u(h.status)}`,children:y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-medium",children:h.tableId.replace("table-","Masa ")}),y.jsx("div",{className:"text-sm opacity-75",children:l(h.timestamp)}),h.message&&y.jsx("div",{className:"text-sm mt-1",children:h.message})]}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-white bg-opacity-50",children:f(h.status)}),y.jsxs("div",{className:"flex gap-1",children:[h.status==="pending"&&y.jsx("button",{onClick:()=>a(h.id,"acknowledged"),className:"text-xs bg-yellow-500 hover:bg-yellow-600 text-white px-2 py-1 rounded",children:"Gördüm"}),h.status!=="resolved"&&y.jsx("button",{onClick:()=>a(h.id,"resolved"),className:"text-xs bg-green-500 hover:bg-green-600 text-white px-2 py-1 rounded",children:"Çözüldü"})]})]})]})},h.id))})]})},Ju=({order:n,onStatusUpdate:e,onOrderSelect:t})=>{const r=l=>{switch(l){case"new":return{color:"bg-green-100 border-green-300 text-green-800",label:"Yeni Sipariş",bgColor:"bg-green-50"};case"preparing":return{color:"bg-yellow-100 border-yellow-300 text-yellow-800",label:"Hazırlanıyor",bgColor:"bg-yellow-50"};case"ready":return{color:"bg-blue-100 border-blue-300 text-blue-800",label:"Hazır",bgColor:"bg-blue-50"};case"delivered":return{color:"bg-gray-100 border-gray-300 text-gray-800",label:"Teslim Edildi",bgColor:"bg-gray-50"}}},i=l=>{const u=l.toDate();return new Intl.DateTimeFormat("tr-TR",{hour:"2-digit",minute:"2-digit"}).format(u)},a=r(n.status);return y.jsxs("div",{className:`${a.bgColor} rounded-lg border-2 ${a.color} p-4 cursor-pointer hover:shadow-lg transition-all duration-200 transform hover:scale-105`,onClick:()=>t(n),children:[y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-gray-800",children:typeof n.tableId=="string"&&n.tableId.length>0?n.tableId.replace("table-","Masa "):"Masa -"}),y.jsx("p",{className:"text-sm text-gray-600",children:i(n.timestamp)}),y.jsx("p",{className:"text-xs text-gray-500",children:(()=>{const l=n==null?void 0:n.sessionId;return typeof l=="string"&&l.length>0?`Session: ${l.slice(-8)}`:"Session: -"})()})]}),y.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-semibold ${a.color}`,children:a.label})]}),y.jsxs("div",{className:"mb-3",children:[y.jsxs("div",{className:"text-sm text-gray-700",children:[y.jsxs("span",{className:"font-medium",children:[n.items.length," ürün"]}),y.jsx("span",{className:"mx-2",children:"•"}),y.jsxs("span",{className:"font-bold text-amber-600",children:[n.totalPrice," ₺"]})]}),y.jsxs("div",{className:"mt-2 space-y-1",children:[(Array.isArray(n.items)?n.items:[]).slice(0,2).map((l,u)=>y.jsxs("div",{className:"text-xs text-gray-600",children:[l==null?void 0:l.quantity,"x ",(l==null?void 0:l.name)??"-"]},u)),Array.isArray(n.items)&&n.items.length>2&&y.jsxs("div",{className:"text-xs text-gray-500 italic",children:["+",n.items.length-2," ürün daha..."]})]})]}),y.jsxs("div",{className:"flex gap-2 mt-3",children:[n.status==="new"&&y.jsx("button",{onClick:l=>{l.stopPropagation(),e(n.id,"preparing")},className:"flex-1 bg-yellow-500 hover:bg-yellow-600 text-white text-xs py-2 px-3 rounded-md transition-colors",children:"Hazırla"}),n.status==="preparing"&&y.jsx("button",{onClick:l=>{l.stopPropagation(),e(n.id,"ready")},className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white text-xs py-2 px-3 rounded-md transition-colors",children:"Hazır"}),n.status==="ready"&&y.jsx("button",{onClick:l=>{l.stopPropagation(),e(n.id,"delivered")},className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white text-xs py-2 px-3 rounded-md transition-colors",children:"Teslim Et"}),y.jsx("button",{onClick:l=>{l.stopPropagation(),t(n)},className:"bg-amber-500 hover:bg-amber-600 text-white text-xs py-2 px-3 rounded-md transition-colors",children:"Detay"})]}),n.orderNote&&y.jsxs("div",{className:"mt-3 p-2 bg-white bg-opacity-50 rounded text-xs text-gray-700",children:[y.jsx("span",{className:"font-medium",children:"Not:"})," ",n.orderNote]})]})},iL=({orders:n,onStatusUpdate:e,onOrderSelect:t})=>{if(!Array.isArray(n))return y.jsx("div",{className:"text-center py-12",children:y.jsx("h3",{className:"text-xl font-semibold text-gray-600",children:"Siparişler yükleniyor..."})});const r=Array.isArray(n)?n.filter(Boolean):[],i={new:r.filter(l=>(l==null?void 0:l.status)==="new"),preparing:r.filter(l=>(l==null?void 0:l.status)==="preparing"),ready:r.filter(l=>(l==null?void 0:l.status)==="ready"),delivered:r.filter(l=>(l==null?void 0:l.status)==="delivered")},a=l=>{switch(l){case"new":return`🆕 Yeni Siparişler (${i.new.length})`;case"preparing":return`👨‍🍳 Hazırlanıyor (${i.preparing.length})`;case"ready":return`✅ Hazır (${i.ready.length})`;case"delivered":return`📦 Teslim Edildi (${i.delivered.length})`}};return n.length===0?y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📋"}),y.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Henüz sipariş yok"}),y.jsx("p",{className:"text-gray-500",children:"Yeni siparişler geldiğinde burada görünecek."})]}):y.jsxs("div",{className:"space-y-8",children:[i.new.length>0&&y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:a("new")}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:i.new.map(l=>y.jsx(Ju,{order:l,onStatusUpdate:e,onOrderSelect:t},l.id))})]}),i.preparing.length>0&&y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:a("preparing")}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:i.preparing.map(l=>y.jsx(Ju,{order:l,onStatusUpdate:e,onOrderSelect:t},l.id))})]}),i.ready.length>0&&y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:a("ready")}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:i.ready.map(l=>y.jsx(Ju,{order:l,onStatusUpdate:e,onOrderSelect:t},l.id))})]}),Array.isArray(i.delivered)&&i.delivered.length>0&&y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:a("delivered")}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:(i.delivered||[]).slice(0,10).map(l=>y.jsx(Ju,{order:l,onStatusUpdate:e,onOrderSelect:t},l.id))}),Array.isArray(i.delivered)&&i.delivered.length>10&&y.jsxs("p",{className:"text-sm text-gray-500 mt-4 text-center",children:["Son 10 teslim edilmiş sipariş gösteriliyor. Toplam: ",i.delivered.length]})]})]})},oL=()=>{const[n,e]=E.useState([]),[t,r]=E.useState(null),[i,a]=E.useState(0),[l,u]=E.useState(!1),[f,h]=E.useState(""),[m,v]=E.useState(!1),[w,T]=E.useState(null),C=$=>{switch($){case"new":return{color:"bg-green-100 text-green-800",label:"Yeni"};case"preparing":return{color:"bg-yellow-100 text-yellow-800",label:"Hazırlanıyor"};case"ready":return{color:"bg-blue-100 text-blue-800",label:"Hazır"};case"delivered":return{color:"bg-gray-100 text-gray-800",label:"Teslim Edildi"}}};E.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]);const S=()=>{try{const $=window.AudioContext||window.webkitAudioContext;if(!$)return;const G=new $,M=300,N=300,k=3e3,j="sine",F=880;let P=0;const L=()=>{const te=G.createOscillator(),re=G.createGain();te.type=j,te.frequency.value=F,te.connect(re),re.connect(G.destination);const ue=G.currentTime;re.gain.setValueAtTime(0,ue),re.gain.linearRampToValueAtTime(.2,ue+.01),re.gain.linearRampToValueAtTime(0,ue+M/1e3),te.start(ue),te.stop(ue+M/1e3),te.onended=()=>{te.disconnect(),re.disconnect()}},ee=setInterval(()=>{G.state==="suspended"&&G.resume().catch(()=>{}),L(),P+=M+N,P>=k&&(clearInterval(ee),setTimeout(()=>G.close().catch(()=>{}),500))},M+N)}catch{}},b=()=>{Notification.permission==="granted"&&new Notification("Yeni Sipariş!",{body:"Yeni bir sipariş geldi.",icon:"/favicon.ico"})},A=$=>{const G=typeof($==null?void 0:$.sessionId)=="string"&&$.sessionId.length>0?$.sessionId:"",N=(Array.isArray($==null?void 0:$.items)?$.items:[]).filter(re=>re&&typeof re=="object").map(re=>({id:String((re==null?void 0:re.id)??""),name:String((re==null?void 0:re.name)??"Tanımsız"),price:Number.isFinite(re==null?void 0:re.price)?Number(re.price):0,quantity:Number.isFinite(re==null?void 0:re.quantity)?Number(re.quantity):0})),j=["new","preparing","ready","delivered"].includes($==null?void 0:$.status)?$.status:"new",F=Number.isFinite($==null?void 0:$.totalPrice)?Number($.totalPrice):0,P=typeof($==null?void 0:$.tableId)=="string"&&$.tableId.length>0?$.tableId:"",L=typeof($==null?void 0:$.orderNote)=="string"&&$.orderNote.length>0?$.orderNote:void 0,ee=$!=null&&$.timestamp&&typeof $.timestamp.toDate=="function"?$.timestamp:st.now(),te=($==null?void 0:$.paymentStatus)==="paid"?"paid":"pending";return{id:String(($==null?void 0:$.id)??""),tableId:P,sessionId:G,items:N,status:j,totalPrice:F,orderNote:L,timestamp:ee,paymentStatus:te}};E.useEffect(()=>{const $=nn(tt,"orders"),G=Wi($,Nd("timestamp","desc")),M=nm(G,N=>{const k=N.docs.map(j=>{const F=j.data();return A({id:j.id,...F})});k.length>i&&i!==0&&(nL(),b()),e(k),a(k.length)},N=>{console.error("onSnapshot error for orders:",N)});return()=>M()},[i]),E.useEffect(()=>{const $={current:new Set},G=nn(tt,"waiterCalls"),M=Wi(G,Nd("timestamp","desc")),N=nm(M,k=>{k.docChanges().filter(j=>j.type==="added").forEach(j=>{const F=j.doc.id;if($.current.has(F))return;$.current.add(F);const P=j.doc.data(),L=typeof(P==null?void 0:P.status)=="string"?P.status:"pending",ee=typeof(P==null?void 0:P.tableId)=="string"?P.tableId:"unknown";if(L==="pending"&&(S(),"Notification"in window&&Notification.permission==="granted"))try{new Notification("Garson çağrısı",{body:`Masa: ${ee}`,icon:"/favicon.ico"})}catch{}})},k=>{console.error("onSnapshot error for waiterCalls:",k)});return()=>N()},[]);const D=async($,G)=>{try{const M=vn(tt,"orders",$);await Ki(M,{status:G})}catch(M){console.error("Error updating order status:",M),alert("Sipariş durumu güncellenirken bir hata oluştu.")}},V=async()=>{var M,N;if(!t)return;const $=t.tableId,G=f.trim();if(!G||G===$){T("Lütfen farklı bir hedef masa seçin.");return}T(null),v(!0);try{const k=Wi(nn(tt,"orders"),qs("tableId","==",$),qs("paymentStatus","==","pending")),F=(await oi(k)).docs;if(F.length===0){T("Taşınacak bekleyen sipariş bulunamadı."),v(!1);return}const P=Wi(nn(tt,"orders"),qs("tableId","==",G),qs("paymentStatus","==","pending")),ee=(await oi(P)).docs[0]||null,te={};let re=[],ue=0;F.forEach(de=>{const ge=de.data();(Array.isArray(ge==null?void 0:ge.items)?ge.items:[]).forEach(fe=>{const ve=String((fe==null?void 0:fe.id)??"");if(!ve)return;const De=String((fe==null?void 0:fe.name)??"Tanımsız"),me=Number.isFinite(fe==null?void 0:fe.price)?Number(fe.price):0,Ne=Number.isFinite(fe==null?void 0:fe.quantity)?Number(fe.quantity):0;te[ve]||(te[ve]={id:ve,name:De,price:me,quantity:0}),te[ve].quantity+=Ne});const Re=typeof(ge==null?void 0:ge.orderNote)=="string"?ge.orderNote:"";Re&&re.push(Re)});const Y=Object.values(te);ue=Y.reduce((de,ge)=>de+ge.price*ge.quantity,0);const ne=((M=ld.find(de=>String(de.id)===$))==null?void 0:M.name)||$,le=((N=ld.find(de=>String(de.id)===G))==null?void 0:N.name)||G,B=`Taşındı: ${ne} → ${le}`,Z=l2(tt);if(ee){const de=ee.data(),ge=Array.isArray(de==null?void 0:de.items)?de.items:[],Se={};ge.forEach(me=>{const Ne=String((me==null?void 0:me.id)??"");Ne&&(Se[Ne]={id:Ne,name:String((me==null?void 0:me.name)??"Tanımsız"),price:Number.isFinite(me==null?void 0:me.price)?Number(me.price):0,quantity:Number.isFinite(me==null?void 0:me.quantity)?Number(me.quantity):0})}),Y.forEach(me=>{Se[me.id]?Se[me.id].quantity+=me.quantity:Se[me.id]={...me}});const Re=Object.values(Se),fe=Re.reduce((me,Ne)=>me+Ne.price*Ne.quantity,0),ve=[],De=typeof(de==null?void 0:de.orderNote)=="string"?de.orderNote:"";De&&ve.push(De),re.length&&ve.push(re.join(" | ")),ve.push(B),Z.update(vn(tt,"orders",ee.id),{items:Re,totalPrice:fe,orderNote:ve.join(" | "),timestamp:st.now()}),F.forEach(me=>{var Ne;Z.update(vn(tt,"orders",me.id),{paymentStatus:"paid",orderNote:`${B} | ${typeof((Ne=me.data())==null?void 0:Ne.orderNote)=="string"&&me.data().orderNote?me.data().orderNote:""}`.trim(),timestamp:st.now()})})}else{const de={tableId:G,sessionId:"",items:Y,status:"new",totalPrice:ue,orderNote:[...re,B].filter(Boolean).join(" | "),timestamp:st.now(),paymentStatus:"pending"},ge=vn(nn(tt,"orders"));Z.set(ge,de),F.forEach(Se=>{var Re;Z.update(vn(tt,"orders",Se.id),{paymentStatus:"paid",orderNote:`${B} | ${typeof((Re=Se.data())==null?void 0:Re.orderNote)=="string"&&Se.data().orderNote?Se.data().orderNote:""}`.trim(),timestamp:st.now()})})}await Z.commit(),u(!1),h(""),v(!1),alert("Masa taşıma işlemi başarıyla tamamlandı.")}catch(k){console.error("Masa taşıma hatası:",k),v(!1),T("Masa taşıma sırasında bir hata oluştu.")}},U=$=>{const G=$.toDate();return new Intl.DateTimeFormat("tr-TR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"}).format(G)};return y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Sipariş Yönetimi"}),y.jsx(sL,{}),y.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[y.jsx("div",{className:"lg:w-2/3",children:y.jsx(iL,{orders:n,onStatusUpdate:D,onOrderSelect:r})}),y.jsx("div",{className:"lg:w-1/3",children:t?y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Sipariş Detayı"}),y.jsx("button",{onClick:()=>r(null),className:"text-gray-400 hover:text-gray-500",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),y.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-md",children:[y.jsxs("div",{className:"flex items-center justify-between gap-2",children:[y.jsxs("div",{children:[y.jsxs("p",{className:"text-blue-700 font-medium",children:["Masa: ",t.tableId]}),y.jsx("p",{className:"text-blue-700 text-sm",children:U(t.timestamp)})]}),y.jsx("button",{onClick:()=>{h(""),T(null),u(!0)},className:"px-3 py-1 rounded-md text-xs font-medium bg-blue-600 text-white hover:bg-blue-700",children:"Masa Taşı"})]}),l&&y.jsxs("div",{className:"mt-3 border border-blue-200 rounded-md p-3 bg-white",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hedef Masa"}),y.jsxs("select",{value:f,onChange:$=>h($.target.value),className:"w-full border border-gray-300 rounded-md p-2 text-sm",children:[y.jsx("option",{value:"",children:"Seçiniz"}),ld.filter($=>String($.id)!==t.tableId).map($=>y.jsx("option",{value:String($.id),children:$.name},$.id))]}),w&&y.jsx("p",{className:"text-rose-600 text-xs mt-2",children:w}),y.jsxs("div",{className:"flex gap-2 mt-3",children:[y.jsx("button",{onClick:V,disabled:m,className:`px-3 py-1 rounded-md text-xs font-medium ${m?"bg-gray-300 text-gray-600":"bg-emerald-600 text-white hover:bg-emerald-700"}`,children:m?"Taşınıyor...":"Onayla"}),y.jsx("button",{onClick:()=>{u(!1),T(null)},disabled:m,className:"px-3 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-800 hover:bg-gray-200",children:"İptal"})]})]})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"Ödeme Durumu"}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${t.paymentStatus==="paid"?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-800"}`,children:t.paymentStatus==="paid"?"Ödendi":"Ödenmedi"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:async()=>{try{await Ki(vn(tt,"orders",t.id),{paymentStatus:"pending"}),r($=>$&&{...$,paymentStatus:"pending"})}catch($){console.error($),alert("Ödeme durumu güncellenemedi.")}},disabled:t.paymentStatus==="pending",className:`px-3 py-1 rounded-md text-xs font-medium border ${t.paymentStatus==="pending"?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-white text-gray-800 border-gray-300 hover:bg-gray-50"}`,children:"Ödenmedi"}),y.jsx("button",{onClick:async()=>{try{await Ki(vn(tt,"orders",t.id),{paymentStatus:"paid"}),r($=>$&&{...$,paymentStatus:"paid"})}catch($){console.error($),alert("Ödeme durumu güncellenemedi.")}},disabled:t.paymentStatus==="paid",className:`px-3 py-1 rounded-md text-xs font-medium border ${t.paymentStatus==="paid"?"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed":"bg-emerald-500 text-white border-emerald-600 hover:bg-emerald-600"}`,children:"Ödendi"})]})]})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"Sipariş Durumu"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:["new","preparing","ready","delivered"].map($=>{const G=t.status===$,M=C($);return y.jsx("button",{onClick:()=>D(t.id,$),className:`px-3 py-1 rounded-full text-xs font-semibold ${G?M.color:"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:M.label},$)})})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"Sipariş Öğeleri"}),y.jsx("div",{className:"border-t border-b border-gray-200 py-2 divide-y divide-gray-200",children:t.items.map($=>y.jsxs("div",{className:"py-2 flex justify-between",children:[y.jsx("div",{children:y.jsxs("span",{className:"text-gray-800",children:[$.quantity," x ",$.name]})}),y.jsxs("span",{className:"text-gray-800 font-medium",children:[$.price*$.quantity," ₺"]})]},$.id))})]}),y.jsxs("div",{className:"flex justify-between items-center text-lg font-bold mb-4",children:[y.jsx("span",{children:"Toplam:"}),y.jsxs("span",{children:[t.totalPrice," ₺"]})]}),t.orderNote&&y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"Sipariş Notu"}),y.jsx("p",{className:"text-gray-600 bg-gray-50 p-3 rounded-md",children:t.orderNote})]})]}):y.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:y.jsx("p",{className:"text-gray-500",children:"Detayları görüntülemek için bir sipariş seçin."})})})]})]})};var aL=Object.defineProperty,Fd=Object.getOwnPropertySymbols,uS=Object.prototype.hasOwnProperty,dS=Object.prototype.propertyIsEnumerable,b_=(n,e,t)=>e in n?aL(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Em=(n,e)=>{for(var t in e||(e={}))uS.call(e,t)&&b_(n,t,e[t]);if(Fd)for(var t of Fd(e))dS.call(e,t)&&b_(n,t,e[t]);return n},Cm=(n,e)=>{var t={};for(var r in n)uS.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Fd)for(var r of Fd(n))e.indexOf(r)<0&&dS.call(n,r)&&(t[r]=n[r]);return t};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var eo;(n=>{const e=class Be{constructor(f,h,m,v){if(this.version=f,this.errorCorrectionLevel=h,this.modules=[],this.isFunction=[],f<Be.MIN_VERSION||f>Be.MAX_VERSION)throw new RangeError("Version value out of range");if(v<-1||v>7)throw new RangeError("Mask value out of range");this.size=f*4+17;let w=[];for(let C=0;C<this.size;C++)w.push(!1);for(let C=0;C<this.size;C++)this.modules.push(w.slice()),this.isFunction.push(w.slice());this.drawFunctionPatterns();const T=this.addEccAndInterleave(m);if(this.drawCodewords(T),v==-1){let C=1e9;for(let S=0;S<8;S++){this.applyMask(S),this.drawFormatBits(S);const b=this.getPenaltyScore();b<C&&(v=S,C=b),this.applyMask(S)}}i(0<=v&&v<=7),this.mask=v,this.applyMask(v),this.drawFormatBits(v),this.isFunction=[]}static encodeText(f,h){const m=n.QrSegment.makeSegments(f);return Be.encodeSegments(m,h)}static encodeBinary(f,h){const m=n.QrSegment.makeBytes(f);return Be.encodeSegments([m],h)}static encodeSegments(f,h,m=1,v=40,w=-1,T=!0){if(!(Be.MIN_VERSION<=m&&m<=v&&v<=Be.MAX_VERSION)||w<-1||w>7)throw new RangeError("Invalid value");let C,S;for(C=m;;C++){const V=Be.getNumDataCodewords(C,h)*8,U=l.getTotalBits(f,C);if(U<=V){S=U;break}if(C>=v)throw new RangeError("Data too long")}for(const V of[Be.Ecc.MEDIUM,Be.Ecc.QUARTILE,Be.Ecc.HIGH])T&&S<=Be.getNumDataCodewords(C,V)*8&&(h=V);let b=[];for(const V of f){t(V.mode.modeBits,4,b),t(V.numChars,V.mode.numCharCountBits(C),b);for(const U of V.getData())b.push(U)}i(b.length==S);const A=Be.getNumDataCodewords(C,h)*8;i(b.length<=A),t(0,Math.min(4,A-b.length),b),t(0,(8-b.length%8)%8,b),i(b.length%8==0);for(let V=236;b.length<A;V^=253)t(V,8,b);let D=[];for(;D.length*8<b.length;)D.push(0);return b.forEach((V,U)=>D[U>>>3]|=V<<7-(U&7)),new Be(C,h,D,w)}getModule(f,h){return 0<=f&&f<this.size&&0<=h&&h<this.size&&this.modules[h][f]}getModules(){return this.modules}drawFunctionPatterns(){for(let m=0;m<this.size;m++)this.setFunctionModule(6,m,m%2==0),this.setFunctionModule(m,6,m%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const f=this.getAlignmentPatternPositions(),h=f.length;for(let m=0;m<h;m++)for(let v=0;v<h;v++)m==0&&v==0||m==0&&v==h-1||m==h-1&&v==0||this.drawAlignmentPattern(f[m],f[v]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(f){const h=this.errorCorrectionLevel.formatBits<<3|f;let m=h;for(let w=0;w<10;w++)m=m<<1^(m>>>9)*1335;const v=(h<<10|m)^21522;i(v>>>15==0);for(let w=0;w<=5;w++)this.setFunctionModule(8,w,r(v,w));this.setFunctionModule(8,7,r(v,6)),this.setFunctionModule(8,8,r(v,7)),this.setFunctionModule(7,8,r(v,8));for(let w=9;w<15;w++)this.setFunctionModule(14-w,8,r(v,w));for(let w=0;w<8;w++)this.setFunctionModule(this.size-1-w,8,r(v,w));for(let w=8;w<15;w++)this.setFunctionModule(8,this.size-15+w,r(v,w));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let f=this.version;for(let m=0;m<12;m++)f=f<<1^(f>>>11)*7973;const h=this.version<<12|f;i(h>>>18==0);for(let m=0;m<18;m++){const v=r(h,m),w=this.size-11+m%3,T=Math.floor(m/3);this.setFunctionModule(w,T,v),this.setFunctionModule(T,w,v)}}drawFinderPattern(f,h){for(let m=-4;m<=4;m++)for(let v=-4;v<=4;v++){const w=Math.max(Math.abs(v),Math.abs(m)),T=f+v,C=h+m;0<=T&&T<this.size&&0<=C&&C<this.size&&this.setFunctionModule(T,C,w!=2&&w!=4)}}drawAlignmentPattern(f,h){for(let m=-2;m<=2;m++)for(let v=-2;v<=2;v++)this.setFunctionModule(f+v,h+m,Math.max(Math.abs(v),Math.abs(m))!=1)}setFunctionModule(f,h,m){this.modules[h][f]=m,this.isFunction[h][f]=!0}addEccAndInterleave(f){const h=this.version,m=this.errorCorrectionLevel;if(f.length!=Be.getNumDataCodewords(h,m))throw new RangeError("Invalid argument");const v=Be.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][h],w=Be.ECC_CODEWORDS_PER_BLOCK[m.ordinal][h],T=Math.floor(Be.getNumRawDataModules(h)/8),C=v-T%v,S=Math.floor(T/v);let b=[];const A=Be.reedSolomonComputeDivisor(w);for(let V=0,U=0;V<v;V++){let $=f.slice(U,U+S-w+(V<C?0:1));U+=$.length;const G=Be.reedSolomonComputeRemainder($,A);V<C&&$.push(0),b.push($.concat(G))}let D=[];for(let V=0;V<b[0].length;V++)b.forEach((U,$)=>{(V!=S-w||$>=C)&&D.push(U[V])});return i(D.length==T),D}drawCodewords(f){if(f.length!=Math.floor(Be.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let h=0;for(let m=this.size-1;m>=1;m-=2){m==6&&(m=5);for(let v=0;v<this.size;v++)for(let w=0;w<2;w++){const T=m-w,S=(m+1&2)==0?this.size-1-v:v;!this.isFunction[S][T]&&h<f.length*8&&(this.modules[S][T]=r(f[h>>>3],7-(h&7)),h++)}}i(h==f.length*8)}applyMask(f){if(f<0||f>7)throw new RangeError("Mask value out of range");for(let h=0;h<this.size;h++)for(let m=0;m<this.size;m++){let v;switch(f){case 0:v=(m+h)%2==0;break;case 1:v=h%2==0;break;case 2:v=m%3==0;break;case 3:v=(m+h)%3==0;break;case 4:v=(Math.floor(m/3)+Math.floor(h/2))%2==0;break;case 5:v=m*h%2+m*h%3==0;break;case 6:v=(m*h%2+m*h%3)%2==0;break;case 7:v=((m+h)%2+m*h%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[h][m]&&v&&(this.modules[h][m]=!this.modules[h][m])}}getPenaltyScore(){let f=0;for(let w=0;w<this.size;w++){let T=!1,C=0,S=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[w][b]==T?(C++,C==5?f+=Be.PENALTY_N1:C>5&&f++):(this.finderPenaltyAddHistory(C,S),T||(f+=this.finderPenaltyCountPatterns(S)*Be.PENALTY_N3),T=this.modules[w][b],C=1);f+=this.finderPenaltyTerminateAndCount(T,C,S)*Be.PENALTY_N3}for(let w=0;w<this.size;w++){let T=!1,C=0,S=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][w]==T?(C++,C==5?f+=Be.PENALTY_N1:C>5&&f++):(this.finderPenaltyAddHistory(C,S),T||(f+=this.finderPenaltyCountPatterns(S)*Be.PENALTY_N3),T=this.modules[b][w],C=1);f+=this.finderPenaltyTerminateAndCount(T,C,S)*Be.PENALTY_N3}for(let w=0;w<this.size-1;w++)for(let T=0;T<this.size-1;T++){const C=this.modules[w][T];C==this.modules[w][T+1]&&C==this.modules[w+1][T]&&C==this.modules[w+1][T+1]&&(f+=Be.PENALTY_N2)}let h=0;for(const w of this.modules)h=w.reduce((T,C)=>T+(C?1:0),h);const m=this.size*this.size,v=Math.ceil(Math.abs(h*20-m*10)/m)-1;return i(0<=v&&v<=9),f+=v*Be.PENALTY_N4,i(0<=f&&f<=2568888),f}getAlignmentPatternPositions(){if(this.version==1)return[];{const f=Math.floor(this.version/7)+2,h=this.version==32?26:Math.ceil((this.version*4+4)/(f*2-2))*2;let m=[6];for(let v=this.size-7;m.length<f;v-=h)m.splice(1,0,v);return m}}static getNumRawDataModules(f){if(f<Be.MIN_VERSION||f>Be.MAX_VERSION)throw new RangeError("Version number out of range");let h=(16*f+128)*f+64;if(f>=2){const m=Math.floor(f/7)+2;h-=(25*m-10)*m-55,f>=7&&(h-=36)}return i(208<=h&&h<=29648),h}static getNumDataCodewords(f,h){return Math.floor(Be.getNumRawDataModules(f)/8)-Be.ECC_CODEWORDS_PER_BLOCK[h.ordinal][f]*Be.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][f]}static reedSolomonComputeDivisor(f){if(f<1||f>255)throw new RangeError("Degree out of range");let h=[];for(let v=0;v<f-1;v++)h.push(0);h.push(1);let m=1;for(let v=0;v<f;v++){for(let w=0;w<h.length;w++)h[w]=Be.reedSolomonMultiply(h[w],m),w+1<h.length&&(h[w]^=h[w+1]);m=Be.reedSolomonMultiply(m,2)}return h}static reedSolomonComputeRemainder(f,h){let m=h.map(v=>0);for(const v of f){const w=v^m.shift();m.push(0),h.forEach((T,C)=>m[C]^=Be.reedSolomonMultiply(T,w))}return m}static reedSolomonMultiply(f,h){if(f>>>8||h>>>8)throw new RangeError("Byte out of range");let m=0;for(let v=7;v>=0;v--)m=m<<1^(m>>>7)*285,m^=(h>>>v&1)*f;return i(m>>>8==0),m}finderPenaltyCountPatterns(f){const h=f[1];i(h<=this.size*3);const m=h>0&&f[2]==h&&f[3]==h*3&&f[4]==h&&f[5]==h;return(m&&f[0]>=h*4&&f[6]>=h?1:0)+(m&&f[6]>=h*4&&f[0]>=h?1:0)}finderPenaltyTerminateAndCount(f,h,m){return f&&(this.finderPenaltyAddHistory(h,m),h=0),h+=this.size,this.finderPenaltyAddHistory(h,m),this.finderPenaltyCountPatterns(m)}finderPenaltyAddHistory(f,h){h[0]==0&&(f+=this.size),h.pop(),h.unshift(f)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=e;function t(u,f,h){if(f<0||f>31||u>>>f)throw new RangeError("Value out of range");for(let m=f-1;m>=0;m--)h.push(u>>>m&1)}function r(u,f){return(u>>>f&1)!=0}function i(u){if(!u)throw new Error("Assertion error")}const a=class xt{constructor(f,h,m){if(this.mode=f,this.numChars=h,this.bitData=m,h<0)throw new RangeError("Invalid argument");this.bitData=m.slice()}static makeBytes(f){let h=[];for(const m of f)t(m,8,h);return new xt(xt.Mode.BYTE,f.length,h)}static makeNumeric(f){if(!xt.isNumeric(f))throw new RangeError("String contains non-numeric characters");let h=[];for(let m=0;m<f.length;){const v=Math.min(f.length-m,3);t(parseInt(f.substring(m,m+v),10),v*3+1,h),m+=v}return new xt(xt.Mode.NUMERIC,f.length,h)}static makeAlphanumeric(f){if(!xt.isAlphanumeric(f))throw new RangeError("String contains unencodable characters in alphanumeric mode");let h=[],m;for(m=0;m+2<=f.length;m+=2){let v=xt.ALPHANUMERIC_CHARSET.indexOf(f.charAt(m))*45;v+=xt.ALPHANUMERIC_CHARSET.indexOf(f.charAt(m+1)),t(v,11,h)}return m<f.length&&t(xt.ALPHANUMERIC_CHARSET.indexOf(f.charAt(m)),6,h),new xt(xt.Mode.ALPHANUMERIC,f.length,h)}static makeSegments(f){return f==""?[]:xt.isNumeric(f)?[xt.makeNumeric(f)]:xt.isAlphanumeric(f)?[xt.makeAlphanumeric(f)]:[xt.makeBytes(xt.toUtf8ByteArray(f))]}static makeEci(f){let h=[];if(f<0)throw new RangeError("ECI assignment value out of range");if(f<128)t(f,8,h);else if(f<16384)t(2,2,h),t(f,14,h);else if(f<1e6)t(6,3,h),t(f,21,h);else throw new RangeError("ECI assignment value out of range");return new xt(xt.Mode.ECI,0,h)}static isNumeric(f){return xt.NUMERIC_REGEX.test(f)}static isAlphanumeric(f){return xt.ALPHANUMERIC_REGEX.test(f)}getData(){return this.bitData.slice()}static getTotalBits(f,h){let m=0;for(const v of f){const w=v.mode.numCharCountBits(h);if(v.numChars>=1<<w)return 1/0;m+=4+w+v.bitData.length}return m}static toUtf8ByteArray(f){f=encodeURI(f);let h=[];for(let m=0;m<f.length;m++)f.charAt(m)!="%"?h.push(f.charCodeAt(m)):(h.push(parseInt(f.substring(m+1,m+3),16)),m+=2);return h}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let l=a;n.QrSegment=a})(eo||(eo={}));(n=>{(e=>{const t=class{constructor(i,a){this.ordinal=i,this.formatBits=a}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(n.QrCode||(n.QrCode={}))})(eo||(eo={}));(n=>{(e=>{const t=class{constructor(i,a){this.modeBits=i,this.numBitsCharCount=a}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(n.QrSegment||(n.QrSegment={}))})(eo||(eo={}));var ia=eo;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var lL={L:ia.QrCode.Ecc.LOW,M:ia.QrCode.Ecc.MEDIUM,Q:ia.QrCode.Ecc.QUARTILE,H:ia.QrCode.Ecc.HIGH},fS=128,hS="L",pS="#FFFFFF",mS="#000000",gS=!1,yS=1,cL=4,uL=0,dL=.1;function vS(n,e=0){const t=[];return n.forEach(function(r,i){let a=null;r.forEach(function(l,u){if(!l&&a!==null){t.push(`M${a+e} ${i+e}h${u-a}v1H${a+e}z`),a=null;return}if(u===r.length-1){if(!l)return;a===null?t.push(`M${u+e},${i+e} h1v1H${u+e}z`):t.push(`M${a+e},${i+e} h${u+1-a}v1H${a+e}z`);return}l&&a===null&&(a=u)})}),t.join("")}function wS(n,e){return n.slice().map((t,r)=>r<e.y||r>=e.y+e.h?t:t.map((i,a)=>a<e.x||a>=e.x+e.w?i:!1))}function fL(n,e,t,r){if(r==null)return null;const i=n.length+t*2,a=Math.floor(e*dL),l=i/e,u=(r.width||a)*l,f=(r.height||a)*l,h=r.x==null?n.length/2-u/2:r.x*l,m=r.y==null?n.length/2-f/2:r.y*l,v=r.opacity==null?1:r.opacity;let w=null;if(r.excavate){let C=Math.floor(h),S=Math.floor(m),b=Math.ceil(u+h-C),A=Math.ceil(f+m-S);w={x:C,y:S,w:b,h:A}}const T=r.crossOrigin;return{x:h,y:m,h:f,w:u,excavation:w,opacity:v,crossOrigin:T}}function hL(n,e){return e!=null?Math.max(Math.floor(e),0):n?cL:uL}function _S({value:n,level:e,minVersion:t,includeMargin:r,marginSize:i,imageSettings:a,size:l,boostLevel:u}){let f=rt.useMemo(()=>{const C=(Array.isArray(n)?n:[n]).reduce((S,b)=>(S.push(...ia.QrSegment.makeSegments(b)),S),[]);return ia.QrCode.encodeSegments(C,lL[e],t,void 0,void 0,u)},[n,e,t,u]);const{cells:h,margin:m,numCells:v,calculatedImageSettings:w}=rt.useMemo(()=>{let T=f.getModules();const C=hL(r,i),S=T.length+C*2,b=fL(T,l,C,a);return{cells:T,margin:C,numCells:S,calculatedImageSettings:b}},[f,l,a,r,i]);return{qrcode:f,margin:m,cells:h,numCells:v,calculatedImageSettings:w}}var pL=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),mL=rt.forwardRef(function(e,t){const r=e,{value:i,size:a=fS,level:l=hS,bgColor:u=pS,fgColor:f=mS,includeMargin:h=gS,minVersion:m=yS,boostLevel:v,marginSize:w,imageSettings:T}=r,S=Cm(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:b}=S,A=Cm(S,["style"]),D=T==null?void 0:T.src,V=rt.useRef(null),U=rt.useRef(null),$=rt.useCallback(ee=>{V.current=ee,typeof t=="function"?t(ee):t&&(t.current=ee)},[t]),[G,M]=rt.useState(!1),{margin:N,cells:k,numCells:j,calculatedImageSettings:F}=_S({value:i,level:l,minVersion:m,boostLevel:v,includeMargin:h,marginSize:w,imageSettings:T,size:a});rt.useEffect(()=>{if(V.current!=null){const ee=V.current,te=ee.getContext("2d");if(!te)return;let re=k;const ue=U.current,Y=F!=null&&ue!==null&&ue.complete&&ue.naturalHeight!==0&&ue.naturalWidth!==0;Y&&F.excavation!=null&&(re=wS(k,F.excavation));const ne=window.devicePixelRatio||1;ee.height=ee.width=a*ne;const le=a/j*ne;te.scale(le,le),te.fillStyle=u,te.fillRect(0,0,j,j),te.fillStyle=f,pL?te.fill(new Path2D(vS(re,N))):k.forEach(function(B,Z){B.forEach(function(de,ge){de&&te.fillRect(ge+N,Z+N,1,1)})}),F&&(te.globalAlpha=F.opacity),Y&&te.drawImage(ue,F.x+N,F.y+N,F.w,F.h)}}),rt.useEffect(()=>{M(!1)},[D]);const P=Em({height:a,width:a},b);let L=null;return D!=null&&(L=rt.createElement("img",{src:D,key:D,style:{display:"none"},onLoad:()=>{M(!0)},ref:U,crossOrigin:F==null?void 0:F.crossOrigin})),rt.createElement(rt.Fragment,null,rt.createElement("canvas",Em({style:P,height:a,width:a,ref:$,role:"img"},A)),L)});mL.displayName="QRCodeCanvas";var xS=rt.forwardRef(function(e,t){const r=e,{value:i,size:a=fS,level:l=hS,bgColor:u=pS,fgColor:f=mS,includeMargin:h=gS,minVersion:m=yS,boostLevel:v,title:w,marginSize:T,imageSettings:C}=r,S=Cm(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:b,cells:A,numCells:D,calculatedImageSettings:V}=_S({value:i,level:l,minVersion:m,boostLevel:v,includeMargin:h,marginSize:T,imageSettings:C,size:a});let U=A,$=null;C!=null&&V!=null&&(V.excavation!=null&&(U=wS(A,V.excavation)),$=rt.createElement("image",{href:C.src,height:V.h,width:V.w,x:V.x+b,y:V.y+b,preserveAspectRatio:"none",opacity:V.opacity,crossOrigin:V.crossOrigin}));const G=vS(U,b);return rt.createElement("svg",Em({height:a,width:a,viewBox:`0 0 ${D} ${D}`,ref:t,role:"img"},S),!!w&&rt.createElement("title",null,w),rt.createElement("path",{fill:u,d:`M0,0 h${D}v${D}H0z`,shapeRendering:"crispEdges"}),rt.createElement("path",{fill:f,d:G,shapeRendering:"crispEdges"}),$)});xS.displayName="QRCodeSVG";const gL=()=>{const n=hc(),e="/nua/",t=e.endsWith("/")?e:`${e}/`,r=`${window.location.origin}${t}#`;return y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-amber-800 mb-6 text-center",children:"Masa QR Kodları"}),y.jsx("p",{className:"text-gray-600 mb-8 text-center",children:"Her masa için QR kodları aşağıda listelenmiştir. Bu kodları yazdırıp masalara yerleştirebilirsiniz."}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:ld.map(i=>y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 flex flex-col items-center",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:i.name}),y.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:y.jsx(xS,{value:`${r}/menu/${i.qrCode}`,size:180,bgColor:"#ffffff",fgColor:"#000000",level:"H",includeMargin:!0})}),y.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["URL: ",`${r}/menu/${i.qrCode}`]}),y.jsx("button",{onClick:()=>n(`/menu/${i.qrCode}`),className:"bg-amber-500 hover:bg-amber-600 text-white py-2 px-4 rounded-md transition-colors",children:"Menüyü Görüntüle"})]},i.id))})]})},Fl=E.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:Pe("rounded-xl border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",n),...e}));Fl.displayName="Card";const $l=E.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:Pe("flex flex-col space-y-1.5 p-6",n),...e}));$l.displayName="CardHeader";const zl=E.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:Pe("font-semibold leading-none tracking-tight",n),...e}));zl.displayName="CardTitle";const Ul=E.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:Pe("text-sm text-zinc-500 dark:text-zinc-400",n),...e}));Ul.displayName="CardDescription";const Bl=E.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:Pe("p-6 pt-0",n),...e}));Bl.displayName="CardContent";const yL=E.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:Pe("flex items-center p-6 pt-0",n),...e}));yL.displayName="CardFooter";const sy=ry("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:focus-visible:ring-zinc-300",{variants:{variant:{default:"bg-zinc-900 text-zinc-50 shadow hover:bg-zinc-900/90 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/90",destructive:"bg-red-500 text-zinc-50 shadow-sm hover:bg-red-500/90 dark:bg-red-900 dark:text-zinc-50 dark:hover:bg-red-900/90",outline:"border border-zinc-200 bg-white shadow-sm hover:bg-zinc-100 hover:text-zinc-900 dark:border-zinc-800 dark:bg-zinc-950 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",secondary:"bg-zinc-100 text-zinc-900 shadow-sm hover:bg-zinc-100/80 dark:bg-zinc-800 dark:text-zinc-50 dark:hover:bg-zinc-800/80",ghost:"hover:bg-zinc-100 hover:text-zinc-900 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",link:"text-zinc-900 underline-offset-4 hover:underline dark:text-zinc-50"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),os=E.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},a)=>{const l=r?L2:"button";return y.jsx(l,{className:Pe(sy({variant:e,size:t,className:n})),ref:a,...i})});os.displayName="Button";var Sf="Dialog",[ES,CS]=hi(Sf),[vL,vr]=ES(Sf),SS=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:a,modal:l=!0}=n,u=E.useRef(null),f=E.useRef(null),[h,m]=xa({prop:r,defaultProp:i??!1,onChange:a,caller:Sf});return y.jsx(vL,{scope:e,triggerRef:u,contentRef:f,contentId:Js(),titleId:Js(),descriptionId:Js(),open:h,onOpenChange:m,onOpenToggle:E.useCallback(()=>m(v=>!v),[m]),modal:l,children:t})};SS.displayName=Sf;var TS="DialogTrigger",IS=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=vr(TS,t),a=at(e,i.triggerRef);return y.jsx($e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ay(i.open),...r,ref:a,onClick:je(n.onClick,i.onOpenToggle)})});IS.displayName=TS;var iy="DialogPortal",[wL,bS]=ES(iy,{forceMount:void 0}),AS=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,a=vr(iy,e);return y.jsx(wL,{scope:e,forceMount:t,children:E.Children.map(r,l=>y.jsx(Oa,{present:t||a.open,children:y.jsx(vf,{asChild:!0,container:i,children:l})}))})};AS.displayName=iy;var $d="DialogOverlay",RS=E.forwardRef((n,e)=>{const t=bS($d,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=vr($d,n.__scopeDialog);return a.modal?y.jsx(Oa,{present:r||a.open,children:y.jsx(xL,{...i,ref:e})}):null});RS.displayName=$d;var _L=wa("DialogOverlay.RemoveScroll"),xL=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=vr($d,t);return y.jsx(Yg,{as:_L,allowPinchZoom:!0,shards:[i.contentRef],children:y.jsx($e.div,{"data-state":ay(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),to="DialogContent",NS=E.forwardRef((n,e)=>{const t=bS(to,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,a=vr(to,n.__scopeDialog);return y.jsx(Oa,{present:r||a.open,children:a.modal?y.jsx(EL,{...i,ref:e}):y.jsx(CL,{...i,ref:e})})});NS.displayName=to;var EL=E.forwardRef((n,e)=>{const t=vr(to,n.__scopeDialog),r=E.useRef(null),i=at(e,t.contentRef,r);return E.useEffect(()=>{const a=r.current;if(a)return FC(a)},[]),y.jsx(PS,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(n.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:je(n.onPointerDownOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&a.preventDefault()}),onFocusOutside:je(n.onFocusOutside,a=>a.preventDefault())})}),CL=E.forwardRef((n,e)=>{const t=vr(to,n.__scopeDialog),r=E.useRef(!1),i=E.useRef(!1);return y.jsx(PS,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,u;(l=n.onCloseAutoFocus)==null||l.call(n,a),a.defaultPrevented||(r.current||(u=t.triggerRef.current)==null||u.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var f,h;(f=n.onInteractOutside)==null||f.call(n,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=a.target;((h=t.triggerRef.current)==null?void 0:h.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),PS=E.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...l}=n,u=vr(to,t),f=E.useRef(null),h=at(e,f);return pC(),y.jsxs(y.Fragment,{children:[y.jsx(Fg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:y.jsx(pf,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":ay(u.open),...l,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(TL,{titleId:u.titleId}),y.jsx(bL,{contentRef:f,descriptionId:u.descriptionId})]})]})}),oy="DialogTitle",kS=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=vr(oy,t);return y.jsx($e.h2,{id:i.titleId,...r,ref:e})});kS.displayName=oy;var DS="DialogDescription",MS=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=vr(DS,t);return y.jsx($e.p,{id:i.descriptionId,...r,ref:e})});MS.displayName=DS;var OS="DialogClose",LS=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=vr(OS,t);return y.jsx($e.button,{type:"button",...r,ref:e,onClick:je(n.onClick,()=>i.onOpenChange(!1))})});LS.displayName=OS;function ay(n){return n?"open":"closed"}var jS="DialogTitleWarning",[SL,VS]=M2(jS,{contentName:to,titleName:oy,docsSlug:"dialog"}),TL=({titleId:n})=>{const e=VS(jS),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},IL="DialogDescriptionWarning",bL=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${VS(IL).contentName}}.`;return E.useEffect(()=>{var a;const i=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},FS=SS,$S=IS,zS=AS,ly=RS,cy=NS,uy=kS,dy=MS,fy=LS;const A_=FS,R_=$S,AL=zS,US=E.forwardRef(({className:n,...e},t)=>y.jsx(ly,{ref:t,className:Pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));US.displayName=ly.displayName;const Sm=E.forwardRef(({className:n,children:e,...t},r)=>y.jsxs(AL,{children:[y.jsx(US,{}),y.jsxs(cy,{ref:r,className:Pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-zinc-800 dark:bg-zinc-950",n),...t,children:[e,y.jsxs(fy,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-zinc-100 data-[state=open]:text-zinc-500 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 dark:data-[state=open]:bg-zinc-800 dark:data-[state=open]:text-zinc-400",children:[y.jsx(R1,{className:"h-4 w-4"}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Sm.displayName=cy.displayName;const Tm=({className:n,...e})=>y.jsx("div",{className:Pe("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});Tm.displayName="DialogHeader";const Im=({className:n,...e})=>y.jsx("div",{className:Pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});Im.displayName="DialogFooter";const bm=E.forwardRef(({className:n,...e},t)=>y.jsx(uy,{ref:t,className:Pe("text-lg font-semibold leading-none tracking-tight",n),...e}));bm.displayName=uy.displayName;const Am=E.forwardRef(({className:n,...e},t)=>y.jsx(dy,{ref:t,className:Pe("text-sm text-zinc-500 dark:text-zinc-400",n),...e}));Am.displayName=dy.displayName;const dt=E.forwardRef(({className:n,type:e,...t},r)=>y.jsx("input",{type:e,className:Pe("flex h-9 w-full rounded-md border border-zinc-200 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-zinc-950 placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:file:text-zinc-50 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",n),ref:r,...t}));dt.displayName="Input";var RL="Label",BS=E.forwardRef((n,e)=>y.jsx($e.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));BS.displayName=RL;var HS=BS;const NL=ry("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),He=E.forwardRef(({className:n,...e},t)=>y.jsx(HS,{ref:t,className:Pe(NL(),n),...e}));He.displayName=HS.displayName;const Rm=E.forwardRef(({className:n,...e},t)=>y.jsx("div",{className:"relative w-full overflow-auto",children:y.jsx("table",{ref:t,className:Pe("w-full caption-bottom text-sm",n),...e})}));Rm.displayName="Table";const Nm=E.forwardRef(({className:n,...e},t)=>y.jsx("thead",{ref:t,className:Pe("[&_tr]:border-b",n),...e}));Nm.displayName="TableHeader";const Pm=E.forwardRef(({className:n,...e},t)=>y.jsx("tbody",{ref:t,className:Pe("[&_tr:last-child]:border-0",n),...e}));Pm.displayName="TableBody";const PL=E.forwardRef(({className:n,...e},t)=>y.jsx("tfoot",{ref:t,className:Pe("border-t bg-zinc-100/50 font-medium [&>tr]:last:border-b-0 dark:bg-zinc-800/50",n),...e}));PL.displayName="TableFooter";const Hl=E.forwardRef(({className:n,...e},t)=>y.jsx("tr",{ref:t,className:Pe("border-b transition-colors hover:bg-zinc-100/50 data-[state=selected]:bg-zinc-100 dark:hover:bg-zinc-800/50 dark:data-[state=selected]:bg-zinc-800",n),...e}));Hl.displayName="TableRow";const Us=E.forwardRef(({className:n,...e},t)=>y.jsx("th",{ref:t,className:Pe("h-10 px-2 text-left align-middle font-medium text-zinc-500 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px] dark:text-zinc-400",n),...e}));Us.displayName="TableHead";const Bs=E.forwardRef(({className:n,...e},t)=>y.jsx("td",{ref:t,className:Pe("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e}));Bs.displayName="TableCell";const kL=E.forwardRef(({className:n,...e},t)=>y.jsx("caption",{ref:t,className:Pe("mt-4 text-sm text-zinc-500 dark:text-zinc-400",n),...e}));kL.displayName="TableCaption";var Ap="rovingFocusGroup.onEntryFocus",DL={bubbles:!1,cancelable:!0},Cc="RovingFocusGroup",[km,WS,ML]=jg(Cc),[OL,qS]=hi(Cc,[ML]),[LL,jL]=OL(Cc),KS=E.forwardRef((n,e)=>y.jsx(km.Provider,{scope:n.__scopeRovingFocusGroup,children:y.jsx(km.Slot,{scope:n.__scopeRovingFocusGroup,children:y.jsx(VL,{...n,ref:e})})}));KS.displayName=Cc;var VL=E.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...v}=n,w=E.useRef(null),T=at(e,w),C=Vg(a),[S,b]=xa({prop:l,defaultProp:u??null,onChange:f,caller:Cc}),[A,D]=E.useState(!1),V=Wn(h),U=WS(t),$=E.useRef(!1),[G,M]=E.useState(0);return E.useEffect(()=>{const N=w.current;if(N)return N.addEventListener(Ap,V),()=>N.removeEventListener(Ap,V)},[V]),y.jsx(LL,{scope:t,orientation:r,dir:C,loop:i,currentTabStopId:S,onItemFocus:E.useCallback(N=>b(N),[b]),onItemShiftTab:E.useCallback(()=>D(!0),[]),onFocusableItemAdd:E.useCallback(()=>M(N=>N+1),[]),onFocusableItemRemove:E.useCallback(()=>M(N=>N-1),[]),children:y.jsx($e.div,{tabIndex:A||G===0?-1:0,"data-orientation":r,...v,ref:T,style:{outline:"none",...n.style},onMouseDown:je(n.onMouseDown,()=>{$.current=!0}),onFocus:je(n.onFocus,N=>{const k=!$.current;if(N.target===N.currentTarget&&k&&!A){const j=new CustomEvent(Ap,DL);if(N.currentTarget.dispatchEvent(j),!j.defaultPrevented){const F=U().filter(re=>re.focusable),P=F.find(re=>re.active),L=F.find(re=>re.id===S),te=[P,L,...F].filter(Boolean).map(re=>re.ref.current);YS(te,m)}}$.current=!1}),onBlur:je(n.onBlur,()=>D(!1))})})}),QS="RovingFocusGroupItem",GS=E.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:a,children:l,...u}=n,f=Js(),h=a||f,m=jL(QS,t),v=m.currentTabStopId===h,w=WS(t),{onFocusableItemAdd:T,onFocusableItemRemove:C,currentTabStopId:S}=m;return E.useEffect(()=>{if(r)return T(),()=>C()},[r,T,C]),y.jsx(km.ItemSlot,{scope:t,id:h,focusable:r,active:i,children:y.jsx($e.span,{tabIndex:v?0:-1,"data-orientation":m.orientation,...u,ref:e,onMouseDown:je(n.onMouseDown,b=>{r?m.onItemFocus(h):b.preventDefault()}),onFocus:je(n.onFocus,()=>m.onItemFocus(h)),onKeyDown:je(n.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){m.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const A=zL(b,m.orientation,m.dir);if(A!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let V=w().filter(U=>U.focusable).map(U=>U.ref.current);if(A==="last")V.reverse();else if(A==="prev"||A==="next"){A==="prev"&&V.reverse();const U=V.indexOf(b.currentTarget);V=m.loop?UL(V,U+1):V.slice(U+1)}setTimeout(()=>YS(V))}}),children:typeof l=="function"?l({isCurrentTabStop:v,hasTabStop:S!=null}):l})})});GS.displayName=QS;var FL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $L(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function zL(n,e,t){const r=$L(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return FL[r]}function YS(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function UL(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var BL=KS,HL=GS,Tf="Tabs",[WL,p9]=hi(Tf,[qS]),XS=qS(),[qL,hy]=WL(Tf),JS=E.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:a,orientation:l="horizontal",dir:u,activationMode:f="automatic",...h}=n,m=Vg(u),[v,w]=xa({prop:r,onChange:i,defaultProp:a??"",caller:Tf});return y.jsx(qL,{scope:t,baseId:Js(),value:v,onValueChange:w,orientation:l,dir:m,activationMode:f,children:y.jsx($e.div,{dir:m,"data-orientation":l,...h,ref:e})})});JS.displayName=Tf;var ZS="TabsList",eT=E.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=n,a=hy(ZS,t),l=XS(t);return y.jsx(BL,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:r,children:y.jsx($e.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});eT.displayName=ZS;var tT="TabsTrigger",nT=E.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...a}=n,l=hy(tT,t),u=XS(t),f=iT(l.baseId,r),h=oT(l.baseId,r),m=r===l.value;return y.jsx(HL,{asChild:!0,...u,focusable:!i,active:m,children:y.jsx($e.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:f,...a,ref:e,onMouseDown:je(n.onMouseDown,v=>{!i&&v.button===0&&v.ctrlKey===!1?l.onValueChange(r):v.preventDefault()}),onKeyDown:je(n.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&l.onValueChange(r)}),onFocus:je(n.onFocus,()=>{const v=l.activationMode!=="manual";!m&&!i&&v&&l.onValueChange(r)})})})});nT.displayName=tT;var rT="TabsContent",sT=E.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:a,...l}=n,u=hy(rT,t),f=iT(u.baseId,r),h=oT(u.baseId,r),m=r===u.value,v=E.useRef(m);return E.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),y.jsx(Oa,{present:i||m,children:({present:w})=>y.jsx($e.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!w,id:h,tabIndex:0,...l,ref:e,style:{...n.style,animationDuration:v.current?"0s":void 0},children:w&&a})})});sT.displayName=rT;function iT(n,e){return`${n}-trigger-${e}`}function oT(n,e){return`${n}-content-${e}`}var KL=JS,aT=eT,lT=nT,cT=sT;const QL=KL,uT=E.forwardRef(({className:n,...e},t)=>y.jsx(aT,{ref:t,className:Pe("inline-flex h-9 items-center justify-center rounded-lg bg-zinc-100 p-1 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400",n),...e}));uT.displayName=aT.displayName;const Dm=E.forwardRef(({className:n,...e},t)=>y.jsx(lT,{ref:t,className:Pe("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-zinc-950 data-[state=active]:shadow dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300 dark:data-[state=active]:bg-zinc-950 dark:data-[state=active]:text-zinc-50",n),...e}));Dm.displayName=lT.displayName;const Mm=E.forwardRef(({className:n,...e},t)=>y.jsx(cT,{ref:t,className:Pe("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300",n),...e}));Mm.displayName=cT.displayName;var GL="Separator",N_="horizontal",YL=["horizontal","vertical"],dT=E.forwardRef((n,e)=>{const{decorative:t,orientation:r=N_,...i}=n,a=XL(r)?r:N_,u=t?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return y.jsx($e.div,{"data-orientation":a,...u,...i,ref:e})});dT.displayName=GL;function XL(n){return YL.includes(n)}var fT=dT;const Om=E.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...r},i)=>y.jsx(fT,{ref:i,decorative:t,orientation:e,className:Pe("shrink-0 bg-zinc-200 dark:bg-zinc-800",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...r}));Om.displayName=fT.displayName;const ur=E.forwardRef(({className:n,...e},t)=>y.jsx("textarea",{className:Pe("flex min-h-[60px] w-full rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",n),ref:t,...e}));ur.displayName="Textarea";var hT="AlertDialog",[JL,m9]=hi(hT,[CS]),ps=CS(),pT=n=>{const{__scopeAlertDialog:e,...t}=n,r=ps(e);return y.jsx(FS,{...r,...t,modal:!0})};pT.displayName=hT;var ZL="AlertDialogTrigger",mT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ps(t);return y.jsx($S,{...i,...r,ref:e})});mT.displayName=ZL;var ej="AlertDialogPortal",gT=n=>{const{__scopeAlertDialog:e,...t}=n,r=ps(e);return y.jsx(zS,{...r,...t})};gT.displayName=ej;var tj="AlertDialogOverlay",yT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ps(t);return y.jsx(ly,{...i,...r,ref:e})});yT.displayName=tj;var da="AlertDialogContent",[nj,rj]=JL(da),sj=V2("AlertDialogContent"),vT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...i}=n,a=ps(t),l=E.useRef(null),u=at(e,l),f=E.useRef(null);return y.jsx(SL,{contentName:da,titleName:wT,docsSlug:"alert-dialog",children:y.jsx(nj,{scope:t,cancelRef:f,children:y.jsxs(cy,{role:"alertdialog",...a,...i,ref:u,onOpenAutoFocus:je(i.onOpenAutoFocus,h=>{var m;h.preventDefault(),(m=f.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[y.jsx(sj,{children:r}),y.jsx(oj,{contentRef:l})]})})})});vT.displayName=da;var wT="AlertDialogTitle",_T=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ps(t);return y.jsx(uy,{...i,...r,ref:e})});_T.displayName=wT;var xT="AlertDialogDescription",ET=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ps(t);return y.jsx(dy,{...i,...r,ref:e})});ET.displayName=xT;var ij="AlertDialogAction",CT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=ps(t);return y.jsx(fy,{...i,...r,ref:e})});CT.displayName=ij;var ST="AlertDialogCancel",TT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:i}=rj(ST,t),a=ps(t),l=at(e,i);return y.jsx(fy,{...a,...r,ref:l})});TT.displayName=ST;var oj=({contentRef:n})=>{const e=`\`${da}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${da}\` by passing a \`${xT}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${da}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return E.useEffect(()=>{var r;document.getElementById((r=n.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},aj=pT,lj=mT,cj=gT,IT=yT,bT=vT,AT=CT,RT=TT,NT=_T,PT=ET;const P_=aj,k_=lj,uj=cj,kT=E.forwardRef(({className:n,...e},t)=>y.jsx(IT,{className:Pe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));kT.displayName=IT.displayName;const Lm=E.forwardRef(({className:n,...e},t)=>y.jsxs(uj,{children:[y.jsx(kT,{}),y.jsx(bT,{ref:t,className:Pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-zinc-800 dark:bg-zinc-950",n),...e})]}));Lm.displayName=bT.displayName;const jm=({className:n,...e})=>y.jsx("div",{className:Pe("flex flex-col space-y-2 text-center sm:text-left",n),...e});jm.displayName="AlertDialogHeader";const Vm=({className:n,...e})=>y.jsx("div",{className:Pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});Vm.displayName="AlertDialogFooter";const Fm=E.forwardRef(({className:n,...e},t)=>y.jsx(NT,{ref:t,className:Pe("text-lg font-semibold",n),...e}));Fm.displayName=NT.displayName;const $m=E.forwardRef(({className:n,...e},t)=>y.jsx(PT,{ref:t,className:Pe("text-sm text-zinc-500 dark:text-zinc-400",n),...e}));$m.displayName=PT.displayName;const zm=E.forwardRef(({className:n,...e},t)=>y.jsx(AT,{ref:t,className:Pe(sy(),n),...e}));zm.displayName=AT.displayName;const Um=E.forwardRef(({className:n,...e},t)=>y.jsx(RT,{ref:t,className:Pe(sy({variant:"outline"}),"mt-2 sm:mt-0",n),...e}));Um.displayName=RT.displayName;const dj=()=>{const[n,e]=E.useState([]),[t,r]=E.useState([]),[i,a]=E.useState({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:"",description_tr:"",description_en:"",description_ru:"",description_de:"",description_fr:"",price:"",image:"",category:""}),[l,u]=E.useState({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:""}),[f,h]=E.useState(null),[m,v]=E.useState(null),[w,T]=E.useState({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:"",description_tr:"",description_en:"",description_ru:"",description_de:"",description_fr:"",price:"",image:"",category:""}),[C,S]=E.useState({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:""}),{toast:b}=Zg(),{t:A,i18n:D}=hf(),V=async()=>{try{const P=nn(tt,"menuItems"),ee=(await oi(P)).docs.map(Y=>{const ne=Y.data();return{id:Y.id,name_tr:ne.name_tr||"",name_en:ne.name_en||"",name_ru:ne.name_ru||"",name_de:ne.name_de||"",name_fr:ne.name_fr||"",description_tr:ne.description_tr||"",description_en:ne.description_en||"",description_ru:ne.description_ru||"",description_de:ne.description_de||"",description_fr:ne.description_fr||"",price:ne.price||0,image:ne.image||"",category:ne.category||""}});e(ee);const te=nn(tt,"categories"),ue=(await oi(te)).docs.map(Y=>{const ne=Y.data();return{id:Y.id,name_tr:ne.name_tr||"",name_en:ne.name_en||"",name_ru:ne.name_ru||"",name_de:ne.name_de||"",name_fr:ne.name_fr||""}});r(ue)}catch(P){console.error("Error fetching menu data:",P),b({title:A("error"),description:A("errorFetchingMenuData"),variant:"destructive"})}};E.useEffect(()=>{V()},[]);const U=async()=>{try{if(!i.name_tr||!i.price||!i.category){b({title:A("warning"),description:A("pleaseFillNamePriceCategory"),variant:"destructive"});return}await Pd(nn(tt,"menuItems"),{name_tr:i.name_tr,name_en:i.name_en,name_ru:i.name_ru,name_de:i.name_de,name_fr:i.name_fr,description_tr:i.description_tr,description_en:i.description_en,description_ru:i.description_ru,description_de:i.description_de,description_fr:i.description_fr,price:parseFloat(i.price),image:i.image,category:i.category}),a({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:"",description_tr:"",description_en:"",description_ru:"",description_de:"",description_fr:"",price:"",image:"",category:""}),await V(),b({title:A("success"),description:A("itemAddedSuccessfully")})}catch(P){console.error("Error adding menu item:",P),b({title:A("error"),description:A("errorAddingMenuItem"),variant:"destructive"})}},$=async()=>{try{if(!l.name_tr){b({title:A("warning"),description:A("pleaseFillCategoryName"),variant:"destructive"});return}await Pd(nn(tt,"categories"),{name_tr:l.name_tr,name_en:l.name_en,name_ru:l.name_ru,name_de:l.name_de,name_fr:l.name_fr}),u({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:""}),await V(),b({title:A("success"),description:A("categoryAddedSuccessfully")})}catch(P){console.error("Error adding category:",P),b({title:A("error"),description:A("errorAddingCategory"),variant:"destructive"})}},G=async P=>{try{await Kw(vn(tt,"menuItems",P)),await V(),b({title:A("success"),description:A("itemDeletedSuccessfully")})}catch(L){console.error("Error deleting menu item:",L),b({title:A("error"),description:A("errorDeletingMenuItem"),variant:"destructive"})}},M=async P=>{try{await Kw(vn(tt,"categories",P)),await V(),b({title:A("success"),description:A("categoryDeletedSuccessfully")})}catch(L){console.error("Error deleting category:",L),b({title:A("error"),description:A("errorDeletingCategory"),variant:"destructive"})}},N=P=>{h(P),T({name_tr:P.name_tr,name_en:P.name_en||"",name_ru:P.name_ru||"",name_de:P.name_de||"",name_fr:P.name_fr||"",description_tr:P.description_tr,description_en:P.description_en||"",description_ru:P.description_ru||"",description_de:P.description_de||"",description_fr:P.description_fr||"",price:P.price.toString(),image:P.image,category:P.category})},k=async()=>{if(f)try{if(!w.name_tr||!w.price||!w.category){b({title:A("warning"),description:A("pleaseFillNamePriceCategory"),variant:"destructive"});return}const P=vn(tt,"menuItems",f.id);await Ki(P,{name_tr:w.name_tr,name_en:w.name_en,name_ru:w.name_ru,name_de:w.name_de,name_fr:w.name_fr,description_tr:w.description_tr,description_en:w.description_en,description_ru:w.description_ru,description_de:w.description_de,description_fr:w.description_fr,price:parseFloat(w.price),image:w.image,category:w.category}),h(null),T({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:"",description_tr:"",description_en:"",description_ru:"",description_de:"",description_fr:"",price:"",image:"",category:""}),await V(),b({title:A("success"),description:A("itemUpdatedSuccessfully")})}catch(P){console.error("Error updating menu item:",P),b({title:A("error"),description:A("errorUpdatingMenuItem"),variant:"destructive"})}},j=P=>{v(P),S({name_tr:P.name_tr,name_en:P.name_en||"",name_ru:P.name_ru||"",name_de:P.name_de||"",name_fr:P.name_fr||""})},F=async()=>{if(m)try{if(!C.name_tr){b({title:A("warning"),description:A("pleaseFillCategoryName"),variant:"destructive"});return}const P=vn(tt,"categories",m.id);await Ki(P,{name_tr:C.name_tr,name_en:C.name_en,name_ru:C.name_ru,name_de:C.name_de,name_fr:C.name_fr}),v(null),S({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:""}),await V(),b({title:A("success"),description:A("categoryUpdatedSuccessfully")})}catch(P){console.error("Error updating category:",P),b({title:A("error"),description:A("errorUpdatingCategory"),variant:"destructive"})}};return y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsx(cS,{}),y.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:A("menuManagement")}),y.jsxs(QL,{defaultValue:"menuItems",className:"w-full",children:[y.jsxs(uT,{className:"grid w-full grid-cols-2",children:[y.jsx(Dm,{value:"menuItems",children:A("menuItems")}),y.jsx(Dm,{value:"categories",children:A("categories")})]}),y.jsxs(Mm,{value:"menuItems",children:[y.jsxs(Fl,{className:"mt-4",children:[y.jsxs($l,{children:[y.jsx(zl,{children:A("addNewMenuItem")}),y.jsx(Ul,{children:A("addNewMenuItemDescription")})]}),y.jsxs(Bl,{className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newItemNameTr",children:[A("name")," (TR)"]}),y.jsx(dt,{id:"newItemNameTr",type:"text",value:i.name_tr,onChange:P=>a({...i,name_tr:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newItemNameEn",children:[A("name")," (EN)"]}),y.jsx(dt,{id:"newItemNameEn",type:"text",value:i.name_en,onChange:P=>a({...i,name_en:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newItemNameRu",children:[A("name")," (RU)"]}),y.jsx(dt,{id:"newItemNameRu",type:"text",value:i.name_ru,onChange:P=>a({...i,name_ru:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newItemNameDe",children:[A("name")," (DE)"]}),y.jsx(dt,{id:"newItemNameDe",type:"text",value:i.name_de,onChange:P=>a({...i,name_de:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newItemNameFr",children:[A("name")," (FR)"]}),y.jsx(dt,{id:"newItemNameFr",type:"text",value:i.name_fr,onChange:P=>a({...i,name_fr:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newItemDescriptionTr",children:[A("description")," (TR)"]}),y.jsx(ur,{id:"newItemDescriptionTr",value:i.description_tr,onChange:P=>a({...i,description_tr:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newItemDescriptionEn",children:[A("description")," (EN)"]}),y.jsx(ur,{id:"newItemDescriptionEn",value:i.description_en,onChange:P=>a({...i,description_en:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newItemDescriptionRu",children:[A("description")," (RU)"]}),y.jsx(ur,{id:"newItemDescriptionRu",value:i.description_ru,onChange:P=>a({...i,description_ru:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newItemDescriptionDe",children:[A("description")," (DE)"]}),y.jsx(ur,{id:"newItemDescriptionDe",value:i.description_de,onChange:P=>a({...i,description_de:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newItemDescriptionFr",children:[A("description")," (FR)"]}),y.jsx(ur,{id:"newItemDescriptionFr",value:i.description_fr,onChange:P=>a({...i,description_fr:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(He,{htmlFor:"newItemPrice",children:A("price")}),y.jsx(dt,{id:"newItemPrice",type:"number",value:i.price,onChange:P=>a({...i,price:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(He,{htmlFor:"newItemImage",children:A("imageUrl")}),y.jsx(dt,{id:"newItemImage",type:"text",value:i.image,onChange:P=>a({...i,image:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(He,{htmlFor:"newItemCategory",children:A("category")}),y.jsxs(ym,{value:i.category,onValueChange:P=>a({...i,category:P}),children:[y.jsx(jd,{id:"newItemCategory",children:y.jsx(vm,{placeholder:A("selectCategory")})}),y.jsx(Vd,{children:t.map(P=>y.jsx(Hs,{value:P.id,children:P[`name_${D.language}`]||P.name_tr},P.id))})]})]})]}),y.jsxs(os,{onClick:U,className:"w-full",children:[y.jsx(v_,{className:"mr-2 h-4 w-4"})," ",A("addItem")]})]})]}),y.jsx(Om,{className:"my-8"}),y.jsxs(Fl,{children:[y.jsxs($l,{children:[y.jsx(zl,{children:A("existingMenuItems")}),y.jsx(Ul,{children:A("existingMenuItemsDescription")})]}),y.jsx(Bl,{children:y.jsxs(Rm,{children:[y.jsx(Nm,{children:y.jsxs(Hl,{children:[y.jsx(Us,{children:A("name")}),y.jsx(Us,{children:A("description")}),y.jsx(Us,{children:A("price")}),y.jsx(Us,{children:A("category")}),y.jsx(Us,{className:"text-right",children:A("actions")})]})}),y.jsx(Pm,{children:n.map(P=>{var L,ee;return y.jsxs(Hl,{children:[y.jsx(Bs,{className:"font-medium",children:P["name_"+D.language]||P.name_tr}),y.jsx(Bs,{children:P["description_"+D.language]||P.description_tr}),y.jsxs(Bs,{children:[P.price," ₺"]}),y.jsx(Bs,{children:((L=t.find(te=>te.id===P.category))==null?void 0:L["name_"+D.language])||((ee=t.find(te=>te.id===P.category))==null?void 0:ee.name_tr)||"Bilinmiyor"}),y.jsxs(Bs,{className:"text-right",children:[y.jsxs(A_,{children:[y.jsx(R_,{asChild:!0,children:y.jsx(os,{variant:"ghost",size:"sm",onClick:()=>N(P),children:y.jsx(w_,{className:"h-4 w-4"})})}),y.jsxs(Sm,{className:"sm:max-w-[425px]",children:[y.jsxs(Tm,{children:[y.jsx(bm,{children:A("editMenuItem")}),y.jsx(Am,{children:A("updateMenuItemInfo")})]}),y.jsxs("div",{className:"grid gap-4 py-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedItemNameTr",children:[A("name")," (TR)"]}),y.jsx(dt,{id:"editedItemNameTr",value:w.name_tr,onChange:te=>T({...w,name_tr:te.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedItemNameEn",children:[A("name")," (EN)"]}),y.jsx(dt,{id:"editedItemNameEn",value:w.name_en,onChange:te=>T({...w,name_en:te.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedItemNameRu",children:[A("name")," (RU)"]}),y.jsx(dt,{id:"editedItemNameRu",value:w.name_ru,onChange:te=>T({...w,name_ru:te.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedItemNameDe",children:[A("name")," (DE)"]}),y.jsx(dt,{id:"editedItemNameDe",value:w.name_de,onChange:te=>T({...w,name_de:te.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedItemNameFr",children:[A("name")," (FR)"]}),y.jsx(dt,{id:"editedItemNameFr",value:w.name_fr,onChange:te=>T({...w,name_fr:te.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedItemDescriptionTr",children:[A("description")," (TR)"]}),y.jsx(ur,{id:"editedItemDescriptionTr",value:w.description_tr,onChange:te=>T({...w,description_tr:te.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedItemDescriptionEn",children:[A("description")," (EN)"]}),y.jsx(ur,{id:"editedItemDescriptionEn",value:w.description_en,onChange:te=>T({...w,description_en:te.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedItemDescriptionRu",children:[A("description")," (RU)"]}),y.jsx(ur,{id:"editedItemDescriptionRu",value:w.description_ru,onChange:te=>T({...w,description_ru:te.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedItemDescriptionDe",children:[A("description")," (DE)"]}),y.jsx(ur,{id:"editedItemDescriptionDe",value:w.description_de,onChange:te=>T({...w,description_de:te.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedItemDescriptionFr",children:[A("description")," (FR)"]}),y.jsx(ur,{id:"editedItemDescriptionFr",value:w.description_fr,onChange:te=>T({...w,description_fr:te.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(He,{htmlFor:"editedItemPrice",children:A("price")}),y.jsx(dt,{id:"editedItemPrice",type:"number",value:w.price,onChange:te=>T({...w,price:te.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(He,{htmlFor:"editedItemImage",children:A("imageUrl")}),y.jsx(dt,{id:"editedItemImage",value:w.image,onChange:te=>T({...w,image:te.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(He,{htmlFor:"editedItemCategory",children:A("category")}),y.jsxs(ym,{value:w.category,onValueChange:te=>T({...w,category:te}),children:[y.jsx(jd,{id:"editedItemCategory",children:y.jsx(vm,{placeholder:A("selectCategory")})}),y.jsx(Vd,{children:t.map(te=>y.jsx(Hs,{value:te.id,children:te[`name_${D.language}`]||te.name_tr},te.id))})]})]})]}),y.jsx(Im,{children:y.jsx(os,{type:"submit",onClick:k,children:A("save")})})]})]}),y.jsxs(P_,{children:[y.jsx(k_,{asChild:!0,children:y.jsx(os,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-900",children:y.jsx(__,{className:"h-4 w-4"})})}),y.jsxs(Lm,{children:[y.jsxs(jm,{children:[y.jsx(Fm,{children:A("confirmDelete")}),y.jsx($m,{children:A("confirmDeleteItem")})]}),y.jsxs(Vm,{children:[y.jsx(Um,{children:A("cancel")}),y.jsx(zm,{onClick:()=>G(P.id),children:A("delete")})]})]})]})]})]},P.id)})})]})})]})]}),y.jsxs(Mm,{value:"categories",children:[y.jsxs(Fl,{className:"mt-4",children:[y.jsxs($l,{children:[y.jsx(zl,{children:A("addNewCategory")}),y.jsx(Ul,{children:A("addNewCategoryDescription")})]}),y.jsxs(Bl,{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newCategoryNameTr",children:[A("categoryName")," (TR)"]}),y.jsx(dt,{id:"newCategoryNameTr",type:"text",value:l.name_tr,onChange:P=>u({...l,name_tr:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newCategoryNameEn",children:[A("categoryName")," (EN)"]}),y.jsx(dt,{id:"newCategoryNameEn",type:"text",value:l.name_en,onChange:P=>u({...l,name_en:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newCategoryNameRu",children:[A("categoryName")," (RU)"]}),y.jsx(dt,{id:"newCategoryNameRu",type:"text",value:l.name_ru,onChange:P=>u({...l,name_ru:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newCategoryNameDe",children:[A("categoryName")," (DE)"]}),y.jsx(dt,{id:"newCategoryNameDe",type:"text",value:l.name_de,onChange:P=>u({...l,name_de:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newCategoryNameFr",children:[A("categoryName")," (FR)"]}),y.jsx(dt,{id:"newCategoryNameFr",type:"text",value:l.name_fr,onChange:P=>u({...l,name_fr:P.target.value})})]}),y.jsxs(os,{onClick:$,className:"w-full",children:[y.jsx(v_,{className:"mr-2 h-4 w-4"})," ",A("addCategory")]})]})]}),y.jsx(Om,{className:"my-8"}),y.jsxs(Fl,{children:[y.jsxs($l,{children:[y.jsx(zl,{children:A("existingCategories")}),y.jsx(Ul,{children:A("existingCategoriesDescription")})]}),y.jsx(Bl,{children:y.jsxs(Rm,{children:[y.jsx(Nm,{children:y.jsxs(Hl,{children:[y.jsx(Us,{children:A("categoryName")}),y.jsx(Us,{className:"text-right",children:A("actions")})]})}),y.jsx(Pm,{children:t.map(P=>y.jsxs(Hl,{children:[y.jsx(Bs,{className:"font-medium",children:P["name_"+D.language]||P.name_tr}),y.jsxs(Bs,{className:"text-right",children:[y.jsxs(A_,{children:[y.jsx(R_,{asChild:!0,children:y.jsx(os,{variant:"ghost",size:"sm",onClick:()=>j(P),children:y.jsx(w_,{className:"h-4 w-4"})})}),y.jsxs(Sm,{className:"sm:max-w-[425px]",children:[y.jsxs(Tm,{children:[y.jsx(bm,{children:A("editCategory")}),y.jsx(Am,{children:A("updateCategoryName")})]}),y.jsxs("div",{className:"grid gap-4 py-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedCategoryNameTr",children:[A("categoryName")," (TR)"]}),y.jsx(dt,{id:"editedCategoryNameTr",value:C.name_tr,onChange:L=>S({...C,name_tr:L.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedCategoryNameEn",children:[A("categoryName")," (EN)"]}),y.jsx(dt,{id:"editedCategoryNameEn",value:C.name_en,onChange:L=>S({...C,name_en:L.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedCategoryNameRu",children:[A("categoryName")," (RU)"]}),y.jsx(dt,{id:"editedCategoryNameRu",value:C.name_ru,onChange:L=>S({...C,name_ru:L.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedCategoryNameDe",children:[A("categoryName")," (DE)"]}),y.jsx(dt,{id:"editedCategoryNameDe",value:C.name_de,onChange:L=>S({...C,name_de:L.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedCategoryNameFr",children:[A("categoryName")," (FR)"]}),y.jsx(dt,{id:"editedCategoryNameFr",value:C.name_fr,onChange:L=>S({...C,name_fr:L.target.value})})]})]}),y.jsx(Im,{children:y.jsx(os,{type:"submit",onClick:F,children:A("save")})})]})]}),y.jsxs(P_,{children:[y.jsx(k_,{asChild:!0,children:y.jsx(os,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-900",children:y.jsx(__,{className:"h-4 w-4"})})}),y.jsxs(Lm,{children:[y.jsxs(jm,{children:[y.jsx(Fm,{children:A("confirmDelete")}),y.jsx($m,{children:A("confirmDeleteCategory")})]}),y.jsxs(Vm,{children:[y.jsx(Um,{children:A("cancel")}),y.jsx(zm,{onClick:()=>M(P.id),children:A("delete")})]})]})]})]})]},P.id))})]})})]})]})]})]})},fj=()=>y.jsx("div",{className:"container mx-auto px-4 py-16 flex flex-col items-center",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-md w-full text-center",children:[y.jsx("h1",{className:"text-3xl font-bold text-amber-800 mb-6",children:"Kafe QR Sipariş Sistemi"}),y.jsxs("div",{className:"space-y-4",children:[y.jsx(qi,{to:"/admin",className:"block w-full bg-amber-500 hover:bg-amber-600 text-white py-3 px-4 rounded-md transition-colors",children:"Yönetim Paneli"}),y.jsx(qi,{to:"/admin/qrcodes",className:"block w-full bg-gray-100 hover:bg-gray-200 text-gray-800 py-3 px-4 rounded-md transition-colors",children:"QR Kodları Görüntüle"})]})]})});function hj(){return y.jsx(lA,{children:y.jsx(wA,{children:y.jsx("div",{className:"min-h-screen bg-amber-50",children:y.jsxs(Vb,{children:[y.jsx(Nr,{path:"/",element:y.jsx(fj,{})}),y.jsx(Nr,{path:"/menu/:tableId",element:y.jsx(C4,{})}),y.jsx(Nr,{path:"/checkout/:tableId",element:y.jsx(S4,{})}),y.jsx(Nr,{path:"/thank-you/:tableId",element:y.jsx(T4,{})}),y.jsx(Nr,{path:"/admin",element:y.jsx(tL,{})}),y.jsx(Nr,{path:"/admin/orders",element:y.jsx(oL,{})}),y.jsx(Nr,{path:"/admin/qrcodes",element:y.jsx(gL,{})}),y.jsx(Nr,{path:"/admin/menu",element:y.jsx(dj,{})})," ",y.jsx(Nr,{path:"*",element:y.jsx(Lb,{to:"/",replace:!0})})]})})})})}const Oe=n=>typeof n=="string",Dl=()=>{let n,e;const t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t},D_=n=>n==null?"":""+n,pj=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},mj=/###/g,M_=n=>n&&n.indexOf("###")>-1?n.replace(mj,"."):n,O_=n=>!n||Oe(n),Xl=(n,e,t)=>{const r=Oe(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(O_(n))return{};const a=M_(r[i]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++i}return O_(n)?{}:{obj:n,k:M_(r[i])}},L_=(n,e,t)=>{const{obj:r,k:i}=Xl(n,e,Object);if(r!==void 0||e.length===1){r[i]=t;return}let a=e[e.length-1],l=e.slice(0,e.length-1),u=Xl(n,l,Object);for(;u.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),u=Xl(n,l,Object),u!=null&&u.obj&&typeof u.obj[`${u.k}.${a}`]<"u"&&(u.obj=void 0);u.obj[`${u.k}.${a}`]=t},gj=(n,e,t,r)=>{const{obj:i,k:a}=Xl(n,e,Object);i[a]=i[a]||[],i[a].push(t)},zd=(n,e)=>{const{obj:t,k:r}=Xl(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},yj=(n,e,t)=>{const r=zd(n,t);return r!==void 0?r:zd(e,t)},DT=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?Oe(n[r])||n[r]instanceof String||Oe(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):DT(n[r],e[r],t):n[r]=e[r]);return n},ea=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var vj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const wj=n=>Oe(n)?n.replace(/[&<>"'\/]/g,e=>vj[e]):n;class _j{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const xj=[" ",",","?","!",";"],Ej=new _j(20),Cj=(n,e,t)=>{e=e||"",t=t||"";const r=xj.filter(l=>e.indexOf(l)<0&&t.indexOf(l)<0);if(r.length===0)return!0;const i=Ej.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`);let a=!i.test(n);if(!a){const l=n.indexOf(t);l>0&&!i.test(n.substring(0,l))&&(a=!0)}return a},Bm=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let i=n;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let l,u="";for(let f=a;f<r.length;++f)if(f!==a&&(u+=t),u+=r[f],l=i[u],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&f<r.length-1)continue;a+=f-a+1;break}i=l}return i},uc=n=>n==null?void 0:n.replace("_","-"),Sj={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,r;(r=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||r.call(t,console,e)}};class Ud{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||Sj,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,i){return i&&!this.debug?null:(Oe(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Ud(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Ud(this.logger,e)}}var Or=new Ud;class If{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(t)||0;this.observers[r].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i.apply(i,[e,...t])})}}class j_ extends If{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,i={}){var h,m;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,l=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let u;e.indexOf(".")>-1?u=e.split("."):(u=[e,t],r&&(Array.isArray(r)?u.push(...r):Oe(r)&&a?u.push(...r.split(a)):u.push(r)));const f=zd(this.data,u);return!f&&!t&&!r&&e.indexOf(".")>-1&&(e=u[0],t=u[1],r=u.slice(2).join(".")),f||!l||!Oe(r)?f:Bm((m=(h=this.data)==null?void 0:h[e])==null?void 0:m[t],r,a)}addResource(e,t,r,i,a={silent:!1}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let u=[e,t];r&&(u=u.concat(l?r.split(l):r)),e.indexOf(".")>-1&&(u=e.split("."),i=t,t=u[1]),this.addNamespaces(t),L_(this.data,u,i),a.silent||this.emit("added",e,t,r,i)}addResources(e,t,r,i={silent:!1}){for(const a in r)(Oe(r[a])||Array.isArray(r[a]))&&this.addResource(e,t,a,r[a],{silent:!0});i.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,i,a,l={silent:!1,skipCopy:!1}){let u=[e,t];e.indexOf(".")>-1&&(u=e.split("."),i=r,r=t,t=u[1]),this.addNamespaces(t);let f=zd(this.data,u)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?DT(f,r,a):f={...f,...r},L_(this.data,u,f),l.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var MT={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,i){return n.forEach(a=>{var l;e=((l=this.processors[a])==null?void 0:l.process(e,t,r,i))??e}),e}};const V_={},F_=n=>!Oe(n)&&typeof n!="boolean"&&typeof n!="number";class Bd extends If{constructor(e,t={}){super(),pj(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Or.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const i=this.resolve(e,r);return(i==null?void 0:i.res)!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const l=r&&e.indexOf(r)>-1,u=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!Cj(e,r,i);if(l&&!u){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:Oe(a)?[a]:a};const h=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(h[0])>-1)&&(a=h.shift()),e=h.join(i)}return{key:e,namespaces:Oe(a)?[a]:a}}translate(e,t,r){let i=typeof t=="object"?{...t}:t;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:u,namespaces:f}=this.extractFromKey(e[e.length-1],i),h=f[f.length-1];let m=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;m===void 0&&(m=":");const v=i.lng||this.language,w=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((v==null?void 0:v.toLowerCase())==="cimode")return w?a?{res:`${h}${m}${u}`,usedKey:u,exactUsedKey:u,usedLng:v,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:`${h}${m}${u}`:a?{res:u,usedKey:u,exactUsedKey:u,usedLng:v,usedNS:h,usedParams:this.getUsedParamsDetails(i)}:u;const T=this.resolve(e,i);let C=T==null?void 0:T.res;const S=(T==null?void 0:T.usedKey)||u,b=(T==null?void 0:T.exactUsedKey)||u,A=["[object Number]","[object Function]","[object RegExp]"],D=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,V=!this.i18nFormat||this.i18nFormat.handleAsObject,U=i.count!==void 0&&!Oe(i.count),$=Bd.hasDefaultValue(i),G=U?this.pluralResolver.getSuffix(v,i.count,i):"",M=i.ordinal&&U?this.pluralResolver.getSuffix(v,i.count,{ordinal:!1}):"",N=U&&!i.ordinal&&i.count===0,k=N&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${G}`]||i[`defaultValue${M}`]||i.defaultValue;let j=C;V&&!C&&$&&(j=k);const F=F_(j),P=Object.prototype.toString.apply(j);if(V&&j&&F&&A.indexOf(P)<0&&!(Oe(D)&&Array.isArray(j))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const L=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,j,{...i,ns:f}):`key '${u} (${this.language})' returned an object instead of string.`;return a?(T.res=L,T.usedParams=this.getUsedParamsDetails(i),T):L}if(l){const L=Array.isArray(j),ee=L?[]:{},te=L?b:S;for(const re in j)if(Object.prototype.hasOwnProperty.call(j,re)){const ue=`${te}${l}${re}`;$&&!C?ee[re]=this.translate(ue,{...i,defaultValue:F_(k)?k[re]:void 0,joinArrays:!1,ns:f}):ee[re]=this.translate(ue,{...i,joinArrays:!1,ns:f}),ee[re]===ue&&(ee[re]=j[re])}C=ee}}else if(V&&Oe(D)&&Array.isArray(C))C=C.join(D),C&&(C=this.extendTranslation(C,e,i,r));else{let L=!1,ee=!1;!this.isValidLookup(C)&&$&&(L=!0,C=k),this.isValidLookup(C)||(ee=!0,C=u);const re=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ee?void 0:C,ue=$&&k!==C&&this.options.updateMissing;if(ee||L||ue){if(this.logger.log(ue?"updateKey":"missingKey",v,h,u,ue?k:C),l){const B=this.resolve(u,{...i,keySeparator:!1});B&&B.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Y=[];const ne=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ne&&ne[0])for(let B=0;B<ne.length;B++)Y.push(ne[B]);else this.options.saveMissingTo==="all"?Y=this.languageUtils.toResolveHierarchy(i.lng||this.language):Y.push(i.lng||this.language);const le=(B,Z,de)=>{var Se;const ge=$&&de!==C?de:re;this.options.missingKeyHandler?this.options.missingKeyHandler(B,h,Z,ge,ue,i):(Se=this.backendConnector)!=null&&Se.saveMissing&&this.backendConnector.saveMissing(B,h,Z,ge,ue,i),this.emit("missingKey",B,h,Z,C)};this.options.saveMissing&&(this.options.saveMissingPlurals&&U?Y.forEach(B=>{const Z=this.pluralResolver.getSuffixes(B,i);N&&i[`defaultValue${this.options.pluralSeparator}zero`]&&Z.indexOf(`${this.options.pluralSeparator}zero`)<0&&Z.push(`${this.options.pluralSeparator}zero`),Z.forEach(de=>{le([B],u+de,i[`defaultValue${de}`]||k)})}):le(Y,u,k))}C=this.extendTranslation(C,e,i,T,r),ee&&C===u&&this.options.appendNamespaceToMissingKey&&(C=`${h}${m}${u}`),(ee||L)&&this.options.parseMissingKeyHandler&&(C=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${m}${u}`:u,L?C:void 0,i))}return a?(T.res=C,T.usedParams=this.getUsedParamsDetails(i),T):C}extendTranslation(e,t,r,i,a){var f,h;if((f=this.i18nFormat)!=null&&f.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const m=Oe(e)&&(((h=r==null?void 0:r.interpolation)==null?void 0:h.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let v;if(m){const T=e.match(this.interpolator.nestingRegexp);v=T&&T.length}let w=r.replace&&!Oe(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(w={...this.options.interpolation.defaultVariables,...w}),e=this.interpolator.interpolate(e,w,r.lng||this.language||i.usedLng,r),m){const T=e.match(this.interpolator.nestingRegexp),C=T&&T.length;v<C&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...T)=>(a==null?void 0:a[0])===T[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${t[0]}`),null):this.translate(...T,t),r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,u=Oe(l)?[l]:l;return e!=null&&(u!=null&&u.length)&&r.applyPostProcessor!==!1&&(e=MT.handle(u,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,i,a,l,u;return Oe(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(r))return;const h=this.extractFromKey(f,t),m=h.key;i=m;let v=h.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const w=t.count!==void 0&&!Oe(t.count),T=w&&!t.ordinal&&t.count===0,C=t.context!==void 0&&(Oe(t.context)||typeof t.context=="number")&&t.context!=="",S=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);v.forEach(b=>{var A,D;this.isValidLookup(r)||(u=b,!V_[`${S[0]}-${b}`]&&((A=this.utils)!=null&&A.hasLoadedNamespace)&&!((D=this.utils)!=null&&D.hasLoadedNamespace(u))&&(V_[`${S[0]}-${b}`]=!0,this.logger.warn(`key "${i}" for languages "${S.join(", ")}" won't get resolved as namespace "${u}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(V=>{var G;if(this.isValidLookup(r))return;l=V;const U=[m];if((G=this.i18nFormat)!=null&&G.addLookupKeys)this.i18nFormat.addLookupKeys(U,m,V,b,t);else{let M;w&&(M=this.pluralResolver.getSuffix(V,t.count,t));const N=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(w&&(U.push(m+M),t.ordinal&&M.indexOf(k)===0&&U.push(m+M.replace(k,this.options.pluralSeparator)),T&&U.push(m+N)),C){const j=`${m}${this.options.contextSeparator}${t.context}`;U.push(j),w&&(U.push(j+M),t.ordinal&&M.indexOf(k)===0&&U.push(j+M.replace(k,this.options.pluralSeparator)),T&&U.push(j+N))}}let $;for(;$=U.pop();)this.isValidLookup(r)||(a=$,r=this.getResource(V,b,$,t))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:l,usedNS:u}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,t,r,i):this.resourceStore.getResource(e,t,r,i)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Oe(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const a of t)delete i[a]}return i}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class $_{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Or.create("languageUtils")}getScriptPartFromCode(e){if(e=uc(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=uc(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Oe(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return t=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Oe(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),i=[],a=l=>{l&&(this.isSupportedCode(l)?i.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return Oe(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Oe(e)&&a(this.formatLanguageCode(e)),r.forEach(l=>{i.indexOf(l)<0&&a(this.formatLanguageCode(l))}),i}}const z_={zero:0,one:1,two:2,few:3,many:4,other:5},U_={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Tj{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Or.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=uc(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),U_;if(!e.match(/-|_/))return U_;const f=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(f,t)}return this.pluralRulesCache[a]=l,l}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(i=>`${t}${i}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>z_[i]-z_[a]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,t,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const B_=(n,e,t,r=".",i=!0)=>{let a=yj(n,e,t);return!a&&i&&Oe(t)&&(a=Bm(n,t,r),a===void 0&&(a=Bm(e,t,r))),a},Rp=n=>n.replace(/\$/g,"$$$$");class Ij{constructor(e={}){var t;this.logger=Or.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:l,suffix:u,suffixEscaped:f,formatSeparator:h,unescapeSuffix:m,unescapePrefix:v,nestingPrefix:w,nestingPrefixEscaped:T,nestingSuffix:C,nestingSuffixEscaped:S,nestingOptionsSeparator:b,maxReplaces:A,alwaysFormat:D}=e.interpolation;this.escape=t!==void 0?t:wj,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?ea(a):l||"{{",this.suffix=u?ea(u):f||"}}",this.formatSeparator=h||",",this.unescapePrefix=m?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=w?ea(w):T||ea("$t("),this.nestingSuffix=C?ea(C):S||ea(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=A||1e3,this.alwaysFormat=D!==void 0?D:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,i){var T;let a,l,u;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=C=>{if(C.indexOf(this.formatSeparator)<0){const D=B_(t,f,C,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(D,void 0,r,{...i,...t,interpolationkey:C}):D}const S=C.split(this.formatSeparator),b=S.shift().trim(),A=S.join(this.formatSeparator).trim();return this.format(B_(t,f,b,this.options.keySeparator,this.options.ignoreJSONStructure),A,r,{...i,...t,interpolationkey:b})};this.resetRegExp();const m=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,v=((T=i==null?void 0:i.interpolation)==null?void 0:T.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:C=>Rp(C)},{regex:this.regexp,safeValue:C=>this.escapeValue?Rp(this.escape(C)):Rp(C)}].forEach(C=>{for(u=0;a=C.regex.exec(e);){const S=a[1].trim();if(l=h(S),l===void 0)if(typeof m=="function"){const A=m(e,a,i);l=Oe(A)?A:""}else if(i&&Object.prototype.hasOwnProperty.call(i,S))l="";else if(v){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${e}`),l="";else!Oe(l)&&!this.useRawValueToEscape&&(l=D_(l));const b=C.safeValue(l);if(e=e.replace(a[0],b),v?(C.regex.lastIndex+=l.length,C.regex.lastIndex-=a[0].length):C.regex.lastIndex=0,u++,u>=this.maxReplaces)break}}),e}nest(e,t,r={}){let i,a,l;const u=(f,h)=>{const m=this.nestingOptionsSeparator;if(f.indexOf(m)<0)return f;const v=f.split(new RegExp(`${m}[ ]*{`));let w=`{${v[1]}`;f=v[0],w=this.interpolate(w,l);const T=w.match(/'/g),C=w.match(/"/g);(((T==null?void 0:T.length)??0)%2===0&&!C||C.length%2!==0)&&(w=w.replace(/'/g,'"'));try{l=JSON.parse(w),h&&(l={...h,...l})}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,S),`${f}${m}${w}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,f};for(;i=this.nestingRegexp.exec(e);){let f=[];l={...r},l=l.replace&&!Oe(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;let h=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const m=i[1].split(this.formatSeparator).map(v=>v.trim());i[1]=m.shift(),f=m,h=!0}if(a=t(u.call(this,i[1].trim(),l),l),a&&i[0]===e&&!Oe(a))return a;Oe(a)||(a=D_(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),h&&(a=f.reduce((m,v)=>this.format(m,v,r.lng,{...r,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const bj=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(l=>{if(l){const[u,...f]=l.split(":"),h=f.join(":").trim().replace(/^'+|'+$/g,""),m=u.trim();t[m]||(t[m]=h),h==="false"&&(t[m]=!1),h==="true"&&(t[m]=!0),isNaN(h)||(t[m]=parseInt(h,10))}})}return{formatName:e,formatOptions:t}},H_=n=>{const e={};return(t,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const l=r+JSON.stringify(a);let u=e[l];return u||(u=n(uc(r),i),e[l]=u),u(t)}},Aj=n=>(e,t,r)=>n(uc(t),r)(e);class Rj{constructor(e={}){this.logger=Or.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?H_:Aj;this.formats={number:r((i,a)=>{const l=new Intl.NumberFormat(i,{...a});return u=>l.format(u)}),currency:r((i,a)=>{const l=new Intl.NumberFormat(i,{...a,style:"currency"});return u=>l.format(u)}),datetime:r((i,a)=>{const l=new Intl.DateTimeFormat(i,{...a});return u=>l.format(u)}),relativetime:r((i,a)=>{const l=new Intl.RelativeTimeFormat(i,{...a});return u=>l.format(u,a.range||"day")}),list:r((i,a)=>{const l=new Intl.ListFormat(i,{...a});return u=>l.format(u)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=H_(t)}format(e,t,r,i={}){const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(u=>u.indexOf(")")>-1)){const u=a.findIndex(f=>f.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,u)].join(this.formatSeparator)}return a.reduce((u,f)=>{var v;const{formatName:h,formatOptions:m}=bj(f);if(this.formats[h]){let w=u;try{const T=((v=i==null?void 0:i.formatParams)==null?void 0:v[i.interpolationkey])||{},C=T.locale||T.lng||i.locale||i.lng||r;w=this.formats[h](u,C,{...m,...i,...T})}catch(T){this.logger.warn(T)}return w}else this.logger.warn(`there was no format function for ${h}`);return u},e)}}const Nj=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class Pj extends If{constructor(e,t,r,i={}){var a,l;super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Or.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(l=(a=this.backend)==null?void 0:a.init)==null||l.call(a,r,i.backend,i)}queueLoad(e,t,r,i){const a={},l={},u={},f={};return e.forEach(h=>{let m=!0;t.forEach(v=>{const w=`${h}|${v}`;!r.reload&&this.store.hasResourceBundle(h,v)?this.state[w]=2:this.state[w]<0||(this.state[w]===1?l[w]===void 0&&(l[w]=!0):(this.state[w]=1,m=!1,l[w]===void 0&&(l[w]=!0),a[w]===void 0&&(a[w]=!0),f[v]===void 0&&(f[v]=!0)))}),m||(u[h]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(f)}}loaded(e,t,r){const i=e.split("|"),a=i[0],l=i[1];t&&this.emit("failedLoading",a,l,t),!t&&r&&this.store.addResourceBundle(a,l,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const u={};this.queue.forEach(f=>{gj(f.loaded,[a],l),Nj(f,e),t&&f.errors.push(t),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(h=>{u[h]||(u[h]={});const m=f.loaded[h];m.length&&m.forEach(v=>{u[h][v]===void 0&&(u[h][v]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(f=>!f.done)}read(e,t,r,i=0,a=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:i,wait:a,callback:l});return}this.readingCalls++;const u=(h,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(h&&m&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,i+1,a*2,l)},a);return}l(h,m)},f=this.backend[r].bind(this.backend);if(f.length===2){try{const h=f(e,t);h&&typeof h.then=="function"?h.then(m=>u(null,m)).catch(u):u(null,h)}catch(h){u(h)}return}return f(e,t,u)}prepareLoading(e,t,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Oe(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Oe(t)&&(t=[t]);const a=this.queueLoad(e,t,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(l,u)=>{l&&this.logger.warn(`${t}loading namespace ${a} for language ${i} failed`,l),!l&&u&&this.logger.log(`${t}loaded namespace ${a} for language ${i}`,u),this.loaded(e,l,u)})}saveMissing(e,t,r,i,a,l={},u=()=>{}){var f,h,m,v,w;if((h=(f=this.services)==null?void 0:f.utils)!=null&&h.hasLoadedNamespace&&!((v=(m=this.services)==null?void 0:m.utils)!=null&&v.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((w=this.backend)!=null&&w.create){const T={...l,isUpdate:a},C=this.backend.create.bind(this.backend);if(C.length<6)try{let S;C.length===5?S=C(e,t,r,i,T):S=C(e,t,r,i),S&&typeof S.then=="function"?S.then(b=>u(null,b)).catch(u):u(null,S)}catch(S){u(S)}else C(e,t,r,i,u,T)}!e||!e[0]||this.store.addResource(e[0],t,r,i)}}}const W_=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Oe(n[1])&&(e.defaultValue=n[1]),Oe(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),q_=n=>{var e,t;return Oe(n.ns)&&(n.ns=[n.ns]),Oe(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Oe(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},Zu=()=>{},kj=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class dc extends If{constructor(e={},t){if(super(),this.options=q_(e),this.services={},this.logger=Or,this.modules={external:[]},kj(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Oe(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=W_();this.options={...r,...this.options,...q_(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Or.init(i(this.modules.logger),this.options):Or.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=Rj;const m=new $_(this.options);this.store=new j_(this.options.resources,this.options);const v=this.services;v.logger=Or,v.resourceStore=this.store,v.languageUtils=m,v.pluralResolver=new Tj(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(v.formatter=i(h),v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new Ij(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new Pj(i(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(w,...T)=>{this.emit(w,...T)}),this.modules.languageDetector&&(v.languageDetector=i(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=i(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new Bd(this.services,this.options),this.translator.on("*",(w,...T)=>{this.emit(w,...T)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Zu),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...m)=>this.store[h](...m)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...m)=>(this.store[h](...m),this)});const u=Dl(),f=()=>{const h=(m,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(v),t(m,v)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),u}loadResources(e,t=Zu){var a,l;let r=t;const i=Oe(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const u=[],f=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(v=>{v!=="cimode"&&u.indexOf(v)<0&&u.push(v)})};i?f(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(m=>f(m)),(l=(a=this.options.preload)==null?void 0:a.forEach)==null||l.call(a,h=>f(h)),this.services.backendConnector.load(u,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(h)})}else r(null)}reloadResources(e,t,r){const i=Dl();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Zu),this.services.backendConnector.reload(e,t,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&MT.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=Dl();this.emit("languageChanging",e);const i=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},a=(u,f)=>{f?this.isLanguageChangingTo===e&&(i(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,r.resolve((...h)=>this.t(...h)),t&&t(u,(...h)=>this.t(...h))},l=u=>{var m,v;!e&&!u&&this.services.languageDetector&&(u=[]);const f=Oe(u)?u:u&&u[0],h=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(Oe(u)?[u]:u);h&&(this.language||i(h),this.translator.language||this.translator.changeLanguage(h),(v=(m=this.services.languageDetector)==null?void 0:m.cacheUserLanguage)==null||v.call(m,h)),this.loadResources(h,w=>{a(w,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),r}getFixedT(e,t,r){const i=(a,l,...u)=>{let f;typeof l!="object"?f=this.options.overloadTranslationOptionHandler([a,l].concat(u)):f={...l},f.lng=f.lng||i.lng,f.lngs=f.lngs||i.lngs,f.ns=f.ns||i.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||r||i.keyPrefix);const h=this.options.keySeparator||".";let m;return f.keyPrefix&&Array.isArray(a)?m=a.map(v=>`${f.keyPrefix}${h}${v}`):m=f.keyPrefix?`${f.keyPrefix}${h}${a}`:a,this.t(m,f)};return Oe(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const l=(u,f)=>{const h=this.services.backendConnector.state[`${u}|${f}`];return h===-1||h===0||h===2};if(t.precheck){const u=t.precheck(this,l);if(u!==void 0)return u}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,e)&&(!i||l(a,e)))}loadNamespaces(e,t){const r=Dl();return this.options.ns?(Oe(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),t&&t(i)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Dl();Oe(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(l=>i.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=i.concat(a),this.loadResources(l=>{r.resolve(),t&&t(l)}),r):(t&&t(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new $_(W_());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new dc(e,t)}cloneInstance(e={},t=Zu){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new dc(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(u=>{a[u]=this[u]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const u=Object.keys(this.store.data).reduce((f,h)=>(f[h]={...this.store.data[h]},f[h]=Object.keys(f[h]).reduce((m,v)=>(m[v]={...f[h][v]},m),f[h]),f),{});a.store=new j_(u,i),a.services.resourceStore=a.store}return a.translator=new Bd(a.services,i),a.translator.on("*",(u,...f)=>{a.emit(u,...f)}),a.init(i,t),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const rn=dc.createInstance();rn.createInstance=dc.createInstance;rn.createInstance;rn.dir;rn.init;rn.loadResources;rn.reloadResources;rn.use;rn.changeLanguage;rn.getFixedT;rn.t;rn.exists;rn.setDefaultNamespace;rn.hasLoadedNamespace;rn.loadNamespaces;rn.loadLanguages;const Dj={button:"Call Waiter",sending:"Sending...",try_again_in_seconds:"Please try again in {{count}} seconds.",message_default:"Customer called a waiter",sent_success:"Waiter call sent! Someone will come shortly.",sent_error:"An error occurred while sending the waiter call. Please try again."},Mj="Menu Management",Oj="Add New Menu Item",Lj="Add a new item to the menu.",jj="Add New Category",Vj="Add a new category to the menu.",Fj="Name",$j="Description",zj="Price",Uj="Image URL",Bj="Category",Hj="Select Category",Wj="Add Item",qj="Category Name",Kj="Add Category",Qj="Menu Items",Gj="Existing Menu Items",Yj="Edit or delete items in the menu.",Xj="Categories",Jj="Existing Categories",Zj="Edit or delete categories.",eV="Actions",tV="Edit Menu Item",nV="Update menu item information.",rV="Save",sV="Edit Category",iV="Update category name.",oV="Are you sure?",aV="Are you sure you want to permanently delete this menu item? This action cannot be undone.",lV="Are you sure you want to permanently delete this category? This action cannot be undone.",cV="Cancel",uV="Warning",dV="Please fill in all required fields.",fV="Success",hV="Menu item added successfully!",pV="Category added successfully!",mV="Menu item deleted successfully!",gV="Category deleted successfully!",yV="Menu item updated successfully!",vV="Category updated successfully!",wV="Error",_V="Error fetching menu data.",xV="Error adding menu item.",EV="Error adding category.",CV="Error deleting menu item.",SV="Error deleting category.",TV="Error updating menu item.",IV="Error updating category.",bV="Admin Dashboard",AV="Orders",RV="View active orders and update their status.",NV="Manage Orders",PV="Manage Menu",kV="Add, edit, or remove menu items.",DV="QR Codes",MV="View and print table QR codes.",OV="View QR Codes",LV="Please fill in name, price, and category.",jV="Please fill in category name.",VV="Error fetching new orders count.",FV="Our Menu",$V="Add to Cart",zV="Total",UV="Checkout",BV="Your Cart",HV="Your cart is empty.",WV="Continue Shopping",qV="Order Summary",KV="Delivery Information",QV="Address",GV="Phone",YV="Notes",XV="Place Order",JV="Thank You!",ZV="Your order has been placed successfully.",eF="Order ID",tF="You can track your order status on the orders page.",nF="Back to Menu",rF="Table",sF="All",iF={waiter_call:Dj,menuManagement:Mj,addNewMenuItem:Oj,addNewMenuItemDescription:Lj,addNewCategory:jj,addNewCategoryDescription:Vj,name:Fj,description:$j,price:zj,imageUrl:Uj,category:Bj,selectCategory:Hj,addItem:Wj,categoryName:qj,addCategory:Kj,menuItems:Qj,existingMenuItems:Gj,existingMenuItemsDescription:Yj,categories:Xj,existingCategories:Jj,existingCategoriesDescription:Zj,actions:eV,editMenuItem:tV,updateMenuItemInfo:nV,save:rV,editCategory:sV,updateCategoryName:iV,confirmDelete:oV,confirmDeleteItem:aV,confirmDeleteCategory:lV,cancel:cV,delete:"Delete",warning:uV,fillAllFields:dV,success:fV,itemAddedSuccessfully:hV,categoryAddedSuccessfully:pV,itemDeletedSuccessfully:mV,categoryDeletedSuccessfully:gV,itemUpdatedSuccessfully:yV,categoryUpdatedSuccessfully:vV,error:wV,errorFetchingMenuData:_V,errorAddingMenuItem:xV,errorAddingCategory:EV,errorDeletingMenuItem:CV,errorDeletingCategory:SV,errorUpdatingMenuItem:TV,errorUpdatingCategory:IV,adminDashboard:bV,orders:AV,new:"New",viewActiveOrders:RV,manageOrders:NV,manageMenu:PV,manageMenuDescription:kV,qrCodes:DV,viewPrintQrCodes:MV,viewQrCodes:OV,pleaseFillNamePriceCategory:LV,pleaseFillCategoryName:jV,errorFetchingNewOrdersCount:VV,ourMenu:FV,addToCart:$V,total:zV,checkout:UV,yourCart:BV,emptyCart:HV,continueShopping:WV,orderSummary:qV,deliveryInfo:KV,address:QV,phone:GV,notes:YV,placeOrder:XV,thankYou:JV,orderPlaced:ZV,orderId:eF,trackOrder:tF,backToMenu:nF,table:rF,all:sF},oF={button:"Позвать официанта",sending:"Отправка...",try_again_in_seconds:"Пожалуйста, попробуйте снова через {{count}} сек.",message_default:"Клиент вызвал официанта",sent_success:"Вызов официанта отправлен! Скоро подойдут.",sent_error:"Произошла ошибка при отправке вызова. Пожалуйста, попробуйте снова."},aF="Управление меню",lF="Добавить новый пункт меню",cF="Добавить новый пункт в меню.",uF="Добавить новую категорию",dF="Добавить новую категорию в меню.",fF="Название",hF="Описание",pF="Цена",mF="URL изображения",gF="Категория",yF="Выбрать категорию",vF="Добавить пункт",wF="Название категории",_F="Добавить категорию",xF="Пункты меню",EF="Существующие пункты меню",CF="Редактировать или удалять пункты в меню.",SF="Категории",TF="Существующие категории",IF="Редактировать или удалять категории.",bF="Действия",AF="Редактировать пункт меню",RF="Обновить информацию о пункте меню.",NF="Сохранить",PF="Редактировать категорию",kF="Обновить название категории.",DF="Вы уверены?",MF="Вы уверены, что хотите безвозвратно удалить этот пункт меню? Это действие нельзя отменить.",OF="Вы уверены, что хотите безвозвратно удалить эту категорию? Это действие нельзя отменить.",LF="Отмена",jF="Предупреждение",VF="Пожалуйста, заполните все обязательные поля.",FF="Успешно",$F="Пункт меню успешно добавлен!",zF="Категория успешно добавлена!",UF="Пункт меню успешно удален!",BF="Категория успешно удалена!",HF="Пункт меню успешно обновлен!",WF="Категория успешно обновлена!",qF="Ошибка",KF="Ошибка при получении данных меню.",QF="Ошибка при добавлении пункта меню.",GF="Ошибка при добавлении категории.",YF="Ошибка при удалении пункта меню.",XF="Ошибка при удалении категории.",JF="Ошибка при обновлении пункта меню.",ZF="Ошибка при обновлении категории.",e3="Панель администратора",t3="Заказы",n3="Просмотр активных заказов и обновление их статуса.",r3="Управление заказами",s3="Управление меню",i3="Добавлять, редактировать или удалять пункты меню.",o3="QR-коды",a3="Просмотр и печать QR-кодов столов.",l3="Просмотр QR-кодов",c3="Пожалуйста, заполните название, цену и категорию.",u3="Пожалуйста, заполните название категории.",d3="Ошибка при получении количества новых заказов.",f3="Наше меню",h3="Добавить в корзину",p3="Итого",m3="Оформить заказ",g3="Ваша корзина",y3="Ваша корзина пуста.",v3="Продолжить покупки",w3="Сводка заказа",_3="Информация о доставке",x3="Адрес",E3="Телефон",C3="Примечания",S3="Разместить заказ",T3="Спасибо!",I3="Ваш заказ успешно размещен.",b3="ID заказа",A3="Вы можете отслеживать статус вашего заказа на странице заказов.",R3="Вернуться в меню",N3="Стол",P3="Все",k3={waiter_call:oF,menuManagement:aF,addNewMenuItem:lF,addNewMenuItemDescription:cF,addNewCategory:uF,addNewCategoryDescription:dF,name:fF,description:hF,price:pF,imageUrl:mF,category:gF,selectCategory:yF,addItem:vF,categoryName:wF,addCategory:_F,menuItems:xF,existingMenuItems:EF,existingMenuItemsDescription:CF,categories:SF,existingCategories:TF,existingCategoriesDescription:IF,actions:bF,editMenuItem:AF,updateMenuItemInfo:RF,save:NF,editCategory:PF,updateCategoryName:kF,confirmDelete:DF,confirmDeleteItem:MF,confirmDeleteCategory:OF,cancel:LF,delete:"Удалить",warning:jF,fillAllFields:VF,success:FF,itemAddedSuccessfully:$F,categoryAddedSuccessfully:zF,itemDeletedSuccessfully:UF,categoryDeletedSuccessfully:BF,itemUpdatedSuccessfully:HF,categoryUpdatedSuccessfully:WF,error:qF,errorFetchingMenuData:KF,errorAddingMenuItem:QF,errorAddingCategory:GF,errorDeletingMenuItem:YF,errorDeletingCategory:XF,errorUpdatingMenuItem:JF,errorUpdatingCategory:ZF,adminDashboard:e3,orders:t3,new:"Новые",viewActiveOrders:n3,manageOrders:r3,manageMenu:s3,manageMenuDescription:i3,qrCodes:o3,viewPrintQrCodes:a3,viewQrCodes:l3,pleaseFillNamePriceCategory:c3,pleaseFillCategoryName:u3,errorFetchingNewOrdersCount:d3,ourMenu:f3,addToCart:h3,total:p3,checkout:m3,yourCart:g3,emptyCart:y3,continueShopping:v3,orderSummary:w3,deliveryInfo:_3,address:x3,phone:E3,notes:C3,placeOrder:S3,thankYou:T3,orderPlaced:I3,orderId:b3,trackOrder:A3,backToMenu:R3,table:N3,all:P3},D3={button:"Kellner rufen",sending:"Senden...",try_again_in_seconds:"Bitte versuche es in {{count}} Sekunden erneut.",message_default:"Kunde hat einen Kellner gerufen",sent_success:"Kellnerruf gesendet! Jemand wird gleich kommen.",sent_error:"Beim Senden des Kellnerrufs ist ein Fehler aufgetreten. Bitte versuche es erneut."},M3="Menüverwaltung",O3="Neuen Menüpunkt hinzufügen",L3="Einen neuen Menüpunkt hinzufügen.",j3="Neue Kategorie hinzufügen",V3="Eine neue Kategorie zum Menü hinzufügen.",F3="Name",$3="Beschreibung",z3="Preis",U3="Bild-URL",B3="Kategorie",H3="Kategorie auswählen",W3="Artikel hinzufügen",q3="Kategoriename",K3="Kategorie hinzufügen",Q3="Menüpunkte",G3="Bestehende Menüpunkte",Y3="Menüpunkte bearbeiten oder löschen.",X3="Kategorien",J3="Bestehende Kategorien",Z3="Kategorien bearbeiten oder löschen.",e$="Aktionen",t$="Menüpunkt bearbeiten",n$="Menüpunktinformationen aktualisieren.",r$="Speichern",s$="Kategorie bearbeiten",i$="Kategoriename aktualisieren.",o$="Sind Sie sicher?",a$="Möchten Sie diesen Menüpunkt wirklich dauerhaft löschen? Diese Aktion kann nicht rückgängig gemacht werden.",l$="Möchten Sie diese Kategorie wirklich dauerhaft löschen? Diese Aktion kann nicht rückgängig gemacht werden.",c$="Abbrechen",u$="Warnung",d$="Bitte füllen Sie alle Pflichtfelder aus.",f$="Erfolg",h$="Menüpunkt erfolgreich hinzugefügt!",p$="Kategorie erfolgreich hinzugefügt!",m$="Menüpunkt erfolgreich gelöscht!",g$="Kategorie erfolgreich gelöscht!",y$="Menüpunkt erfolgreich aktualisiert!",v$="Kategorie erfolgreich aktualisiert!",w$="Fehler",_$="Fehler beim Abrufen der Menüdaten.",x$="Fehler beim Hinzufügen des Menüpunkts.",E$="Fehler beim Hinzufügen der Kategorie.",C$="Fehler beim Löschen des Menüpunkts.",S$="Fehler beim Löschen der Kategorie.",T$="Fehler beim Aktualisieren des Menüpunkts.",I$="Fehler beim Aktualisieren der Kategorie.",b$="Admin-Dashboard",A$="Bestellungen",R$="Aktive Bestellungen anzeigen und deren Status aktualisieren.",N$="Bestellungen verwalten",P$="Menü verwalten",k$="Menüpunkte hinzufügen, bearbeiten oder entfernen.",D$="QR-Codes",M$="Tisch-QR-Codes anzeigen und drucken.",O$="QR-Codes anzeigen",L$="Bitte geben Sie Name, Preis und Kategorie ein.",j$="Bitte geben Sie den Kategorienamen ein.",V$="Fehler beim Abrufen der Anzahl neuer Bestellungen.",F$="Unsere Speisekarte",$$="In den Warenkorb",z$="Gesamt",U$="Zur Kasse",B$="Ihr Warenkorb",H$="Ihr Warenkorb ist leer.",W$="Weiter einkaufen",q$="Bestellübersicht",K$="Lieferinformationen",Q$="Adresse",G$="Telefon",Y$="Notizen",X$="Bestellung aufgeben",J$="Vielen Dank!",Z$="Ihre Bestellung wurde erfolgreich aufgegeben.",e6="Bestell-ID",t6="Sie können den Status Ihrer Bestellung auf der Bestellseite verfolgen.",n6="Zurück zum Menü",r6="Tisch",s6="Alle",i6={waiter_call:D3,menuManagement:M3,addNewMenuItem:O3,addNewMenuItemDescription:L3,addNewCategory:j3,addNewCategoryDescription:V3,name:F3,description:$3,price:z3,imageUrl:U3,category:B3,selectCategory:H3,addItem:W3,categoryName:q3,addCategory:K3,menuItems:Q3,existingMenuItems:G3,existingMenuItemsDescription:Y3,categories:X3,existingCategories:J3,existingCategoriesDescription:Z3,actions:e$,editMenuItem:t$,updateMenuItemInfo:n$,save:r$,editCategory:s$,updateCategoryName:i$,confirmDelete:o$,confirmDeleteItem:a$,confirmDeleteCategory:l$,cancel:c$,delete:"Löschen",warning:u$,fillAllFields:d$,success:f$,itemAddedSuccessfully:h$,categoryAddedSuccessfully:p$,itemDeletedSuccessfully:m$,categoryDeletedSuccessfully:g$,itemUpdatedSuccessfully:y$,categoryUpdatedSuccessfully:v$,error:w$,errorFetchingMenuData:_$,errorAddingMenuItem:x$,errorAddingCategory:E$,errorDeletingMenuItem:C$,errorDeletingCategory:S$,errorUpdatingMenuItem:T$,errorUpdatingCategory:I$,adminDashboard:b$,orders:A$,new:"Neu",viewActiveOrders:R$,manageOrders:N$,manageMenu:P$,manageMenuDescription:k$,qrCodes:D$,viewPrintQrCodes:M$,viewQrCodes:O$,pleaseFillNamePriceCategory:L$,pleaseFillCategoryName:j$,errorFetchingNewOrdersCount:V$,ourMenu:F$,addToCart:$$,total:z$,checkout:U$,yourCart:B$,emptyCart:H$,continueShopping:W$,orderSummary:q$,deliveryInfo:K$,address:Q$,phone:G$,notes:Y$,placeOrder:X$,thankYou:J$,orderPlaced:Z$,orderId:e6,trackOrder:t6,backToMenu:n6,table:r6,all:s6},o6={button:"Appeler le serveur",sending:"Envoi...",try_again_in_seconds:"Veuillez réessayer dans {{count}} secondes.",message_default:"Le client a appelé un serveur",sent_success:"Appel du serveur envoyé ! Quelqu’un va arriver sous peu.",sent_error:"Une erreur s’est produite lors de l’envoi de l’appel. Veuillez réessayer."},a6="Gestion du menu",l6="Ajouter un nouvel élément de menu",c6="Ajouter un nouvel élément au menu.",u6="Ajouter une nouvelle catégorie",d6="Ajouter une nouvelle catégorie au menu.",f6="Nom",h6="Description",p6="Prix",m6="URL de l'image",g6="Catégorie",y6="Sélectionner une catégorie",v6="Ajouter un élément",w6="Nom de la catégorie",_6="Ajouter une catégorie",x6="Éléments du menu",E6="Éléments de menu existants",C6="Modifier ou supprimer des éléments dans le menu.",S6="Catégories",T6="Catégories existantes",I6="Modifier ou supprimer des catégories.",b6="Actions",A6="Modifier l'élément de menu",R6="Mettre à jour les informations de l'élément de menu.",N6="Enregistrer",P6="Modifier la catégorie",k6="Mettre à jour le nom de la catégorie.",D6="Êtes-vous sûr(e) ?",M6="Êtes-vous sûr(e) de vouloir supprimer définitivement cet élément de menu ? Cette action est irréversible.",O6="Êtes-vous sûr(e) de vouloir supprimer définitivement cette catégorie ? Cette action est irréversible.",L6="Annuler",j6="Avertissement",V6="Veuillez remplir tous les champs obligatoires.",F6="Succès",$6="Élément de menu ajouté avec succès !",z6="Catégorie ajoutée avec succès !",U6="Élément de menu supprimé avec succès !",B6="Catégorie supprimée avec succès !",H6="Élément de menu mis à jour avec succès !",W6="Catégorie mise à jour avec succès !",q6="Erreur",K6="Erreur lors de la récupération des données du menu.",Q6="Erreur lors de l'ajout de l'élément de menu.",G6="Erreur lors de l'ajout de la catégorie.",Y6="Erreur lors de la suppression de l'élément de menu.",X6="Erreur lors de la suppression de la catégorie.",J6="Erreur lors de la mise à jour de l'élément de menu.",Z6="Erreur lors de la mise à jour de la catégorie.",e5="Tableau de bord administrateur",t5="Commandes",n5="Afficher les commandes actives et mettre à jour leur statut.",r5="Gérer les commandes",s5="Gérer le menu",i5="Ajouter, modifier ou supprimer des éléments de menu.",o5="Codes QR",a5="Afficher et imprimer les codes QR de table.",l5="Afficher les codes QR",c5="Veuillez remplir le nom, le prix et la catégorie.",u5="Veuillez remplir le nom de la catégorie.",d5="Erreur lors de la récupération du nombre de nouvelles commandes.",f5="Notre menu",h5="Ajouter au panier",p5="Total",m5="Commander",g5="Votre panier",y5="Votre panier est vide.",v5="Continuer vos achats",w5="Récapitulatif de la commande",_5="Informations de livraison",x5="Adresse",E5="Téléphone",C5="Notes",S5="Passer la commande",T5="Merci !",I5="Votre commande a été passée avec succès.",b5="ID de commande",A5="Vous pouvez suivre le statut de votre commande sur la page des commandes.",R5="Retour au menu",N5="Table",P5="Tout",k5={waiter_call:o6,menuManagement:a6,addNewMenuItem:l6,addNewMenuItemDescription:c6,addNewCategory:u6,addNewCategoryDescription:d6,name:f6,description:h6,price:p6,imageUrl:m6,category:g6,selectCategory:y6,addItem:v6,categoryName:w6,addCategory:_6,menuItems:x6,existingMenuItems:E6,existingMenuItemsDescription:C6,categories:S6,existingCategories:T6,existingCategoriesDescription:I6,actions:b6,editMenuItem:A6,updateMenuItemInfo:R6,save:N6,editCategory:P6,updateCategoryName:k6,confirmDelete:D6,confirmDeleteItem:M6,confirmDeleteCategory:O6,cancel:L6,delete:"Supprimer",warning:j6,fillAllFields:V6,success:F6,itemAddedSuccessfully:$6,categoryAddedSuccessfully:z6,itemDeletedSuccessfully:U6,categoryDeletedSuccessfully:B6,itemUpdatedSuccessfully:H6,categoryUpdatedSuccessfully:W6,error:q6,errorFetchingMenuData:K6,errorAddingMenuItem:Q6,errorAddingCategory:G6,errorDeletingMenuItem:Y6,errorDeletingCategory:X6,errorUpdatingMenuItem:J6,errorUpdatingCategory:Z6,adminDashboard:e5,orders:t5,new:"Nouveau",viewActiveOrders:n5,manageOrders:r5,manageMenu:s5,manageMenuDescription:i5,qrCodes:o5,viewPrintQrCodes:a5,viewQrCodes:l5,pleaseFillNamePriceCategory:c5,pleaseFillCategoryName:u5,errorFetchingNewOrdersCount:d5,ourMenu:f5,addToCart:h5,total:p5,checkout:m5,yourCart:g5,emptyCart:y5,continueShopping:v5,orderSummary:w5,deliveryInfo:_5,address:x5,phone:E5,notes:C5,placeOrder:S5,thankYou:T5,orderPlaced:I5,orderId:b5,trackOrder:A5,backToMenu:R5,table:N5,all:P5},D5={button:"Garson Çağır",sending:"Gönderiliyor...",try_again_in_seconds:"Lütfen {{count}} saniye sonra tekrar deneyin.",message_default:"Müşteri garson çağırdı",sent_success:"Garson çağrısı gönderildi! Garson en kısa sürede gelecektir.",sent_error:"Garson çağrısı gönderilirken bir hata oluştu. Lütfen tekrar deneyin."},M5="Menü Yönetimi",O5="Yeni Menü Öğesi Ekle",L5="Menüye yeni bir öğe ekleyin.",j5="Yeni Kategori Ekle",V5="Menüye yeni bir kategori ekleyin.",F5="Adı",$5="Açıklama",z5="Fiyat",U5="Resim URL",B5="Kategori",H5="Kategori Seçin",W5="Öğe Ekle",q5="Kategori Adı",K5="Kategori Ekle",Q5="Menü Öğeleri",G5="Mevcut Menü Öğeleri",Y5="Menüdeki öğeleri düzenleyin veya silin.",X5="Kategoriler",J5="Mevcut Kategoriler",Z5="Kategorileri düzenleyin veya silin.",ez="İşlemler",tz="Menü Öğesini Düzenle",nz="Menü öğesinin bilgilerini güncelleyin.",rz="Kaydet",sz="Kategoriyi Düzenle",iz="Kategori adını güncelleyin.",oz="Emin misiniz?",az="Bu menü öğesini kalıcı olarak silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.",lz="Bu kategoriyi kalıcı olarak silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.",cz="İptal",uz="Uyarı",dz="Lütfen tüm gerekli alanları doldurun.",fz="Başarılı",hz="Menü öğesi başarıyla eklendi!",pz="Kategori başarıyla eklendi!",mz="Menü öğesi başarıyla silindi!",gz="Kategori başarıyla silindi!",yz="Menü öğesi başarıyla güncellendi!",vz="Kategori başarıyla güncellendi!",wz="Hata",_z="Menü verileri çekilirken bir hata oluştu.",xz="Menü öğesi eklenirken bir hata oluştu.",Ez="Kategori eklenirken bir hata oluştu.",Cz="Menü öğesi silinirken bir hata oluştu.",Sz="Kategori silinirken bir hata oluştu.",Tz="Menü öğesi güncellenirken bir hata oluştu.",Iz="Menü öğesi güncellenirken bir hata oluştu.",bz="Yönetim Paneli",Az="Siparişler",Rz="Aktif siparişleri görüntüleyin ve durumlarını güncelleyin.",Nz="Siparişleri Yönet",Pz="Menüyü Yönet",kz="Menü öğelerini ekleyin, düzenleyin veya kaldırın.",Dz="QR Kodlar",Mz="Masa QR kodlarını görüntüleyin ve yazdırın.",Oz="QR Kodları Görüntüle",Lz="Lütfen ad, fiyat ve kategori alanlarını doldurun.",jz="Lütfen kategori adını doldurun.",Vz="Yeni sipariş sayısı çekilirken bir hata oluştu.",Fz="Menümüz",$z="Sepete Ekle",zz="Toplam",Uz="Ödeme Yap",Bz="Sepetiniz",Hz="Sepetiniz boş.",Wz="Alışverişe Devam Et",qz="Sipariş Özeti",Kz="Teslimat Bilgileri",Qz="Adres",Gz="Telefon",Yz="Notlar",Xz="Sipariş Ver",Jz="Teşekkür Ederiz!",Zz="Siparişiniz başarıyla alındı.",e9="Sipariş ID",t9="Siparişinizin durumunu siparişler sayfasından takip edebilirsiniz.",n9="Menüye Geri Dön",r9="Masa",s9="Tümü",i9={waiter_call:D5,menuManagement:M5,addNewMenuItem:O5,addNewMenuItemDescription:L5,addNewCategory:j5,addNewCategoryDescription:V5,name:F5,description:$5,price:z5,imageUrl:U5,category:B5,selectCategory:H5,addItem:W5,categoryName:q5,addCategory:K5,menuItems:Q5,existingMenuItems:G5,existingMenuItemsDescription:Y5,categories:X5,existingCategories:J5,existingCategoriesDescription:Z5,actions:ez,editMenuItem:tz,updateMenuItemInfo:nz,save:rz,editCategory:sz,updateCategoryName:iz,confirmDelete:oz,confirmDeleteItem:az,confirmDeleteCategory:lz,cancel:cz,delete:"Sil",warning:uz,fillAllFields:dz,success:fz,itemAddedSuccessfully:hz,categoryAddedSuccessfully:pz,itemDeletedSuccessfully:mz,categoryDeletedSuccessfully:gz,itemUpdatedSuccessfully:yz,categoryUpdatedSuccessfully:vz,error:wz,errorFetchingMenuData:_z,errorAddingMenuItem:xz,errorAddingCategory:Ez,errorDeletingMenuItem:Cz,errorDeletingCategory:Sz,errorUpdatingMenuItem:Tz,errorUpdatingCategory:Iz,adminDashboard:bz,orders:Az,new:"Yeni",viewActiveOrders:Rz,manageOrders:Nz,manageMenu:Pz,manageMenuDescription:kz,qrCodes:Dz,viewPrintQrCodes:Mz,viewQrCodes:Oz,pleaseFillNamePriceCategory:Lz,pleaseFillCategoryName:jz,errorFetchingNewOrdersCount:Vz,ourMenu:Fz,addToCart:$z,total:zz,checkout:Uz,yourCart:Bz,emptyCart:Hz,continueShopping:Wz,orderSummary:qz,deliveryInfo:Kz,address:Qz,phone:Gz,notes:Yz,placeOrder:Xz,thankYou:Jz,orderPlaced:Zz,orderId:e9,trackOrder:t9,backToMenu:n9,table:r9,all:s9};rn.use(b2).init({resources:{en:{translation:iF},ru:{translation:k3},de:{translation:i6},fr:{translation:k5},tr:{translation:i9}},lng:"tr",fallbackLng:"en",interpolation:{escapeValue:!1}});qI.createRoot(document.getElementById("root")).render(y.jsx(E.StrictMode,{children:y.jsx(hj,{})}));
